(self.webpackChunkpopuplive_attendy_app=self.webpackChunkpopuplive_attendy_app||[]).push([[179],{7423:(Ve,Ce,$)=>{"use strict";$.d(Ce,{Uw:()=>he,fo:()=>it});var B=$(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var W=(()=>{return(se=W||(W={})).Unimplemented="UNIMPLEMENTED",se.Unavailable="UNAVAILABLE",W;var se})();class ie extends Error{constructor(ne,re){super(ne),this.message=ne,this.code=re}}const rt=se=>{var ne,re,fe,we,ae;const ct=se.CapacitorCustomPlatform||null,Fe=se.Capacitor||{},Je=Fe.Plugins=Fe.Plugins||{},Te=se.CapacitorPlatforms,Pt=(null===(ne=null==Te?void 0:Te.currentPlatform)||void 0===ne?void 0:ne.getPlatform)||(()=>null!==ct?ct.name:(se=>{var ne,re;return(null==se?void 0:se.androidBridge)?"android":(null===(re=null===(ne=null==se?void 0:se.webkit)||void 0===ne?void 0:ne.messageHandlers)||void 0===re?void 0:re.bridge)?"ios":"web"})(se)),Mt=(null===(re=null==Te?void 0:Te.currentPlatform)||void 0===re?void 0:re.isNativePlatform)||(()=>"web"!==Pt()),xt=(null===(fe=null==Te?void 0:Te.currentPlatform)||void 0===fe?void 0:fe.isPluginAvailable)||(fn=>{const Pn=_n.get(fn);return!(!(null==Pn?void 0:Pn.platforms.has(Pt()))&&!Re(fn))}),Re=(null===(we=null==Te?void 0:Te.currentPlatform)||void 0===we?void 0:we.getPluginHeader)||(fn=>{var Pn;return null===(Pn=Fe.PluginHeaders)||void 0===Pn?void 0:Pn.find(Sn=>Sn.name===fn)}),_n=new Map,Qn=(null===(ae=null==Te?void 0:Te.currentPlatform)||void 0===ae?void 0:ae.registerPlugin)||((fn,Pn={})=>{const Sn=_n.get(fn);if(Sn)return console.warn(`Capacitor plugin "${fn}" already registered. Cannot register plugins twice.`),Sn.proxy;const On=Pt(),wn=Re(fn);let Xr;const Li=function(){var De=(0,B.Z)(function*(){return!Xr&&On in Pn?Xr=Xr="function"==typeof Pn[On]?yield Pn[On]():Pn[On]:null!==ct&&!Xr&&"web"in Pn&&(Xr=Xr="function"==typeof Pn.web?yield Pn.web():Pn.web),Xr});return function(){return De.apply(this,arguments)}}(),oi=De=>{let Ze;const _t=(...zt)=>{const sn=Li().then(Kt=>{const Ut=((De,Ze)=>{var _t,zt;if(!wn){if(De)return null===(zt=De[Ze])||void 0===zt?void 0:zt.bind(De);throw new ie(`"${fn}" plugin is not implemented on ${On}`,W.Unimplemented)}{const sn=null==wn?void 0:wn.methods.find(Kt=>Ze===Kt.name);if(sn)return"promise"===sn.rtype?Kt=>Fe.nativePromise(fn,Ze.toString(),Kt):(Kt,Ut)=>Fe.nativeCallback(fn,Ze.toString(),Kt,Ut);if(De)return null===(_t=De[Ze])||void 0===_t?void 0:_t.bind(De)}})(Kt,De);if(Ut){const qn=Ut(...zt);return Ze=null==qn?void 0:qn.remove,qn}throw new ie(`"${fn}.${De}()" is not implemented on ${On}`,W.Unimplemented)});return"addListener"===De&&(sn.remove=(0,B.Z)(function*(){return Ze()})),sn};return _t.toString=()=>`${De.toString()}() { [capacitor code] }`,Object.defineProperty(_t,"name",{value:De,writable:!1,configurable:!1}),_t},Zi=oi("addListener"),Lt=oi("removeListener"),Oe=(De,Ze)=>{const _t=Zi({eventName:De},Ze),zt=function(){var Kt=(0,B.Z)(function*(){const Ut=yield _t;Lt({eventName:De,callbackId:Ut},Ze)});return function(){return Kt.apply(this,arguments)}}(),sn=new Promise(Kt=>_t.then(()=>Kt({remove:zt})));return sn.remove=(0,B.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield zt()}),sn},ke=new Proxy({},{get(De,Ze){switch(Ze){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return wn?Oe:Zi;case"removeListener":return Lt;default:return oi(Ze)}}});return Je[fn]=ke,_n.set(fn,{name:fn,proxy:ke,platforms:new Set([...Object.keys(Pn),...wn?[On]:[]])}),ke});return Fe.convertFileSrc||(Fe.convertFileSrc=fn=>fn),Fe.getPlatform=Pt,Fe.handleError=fn=>se.console.error(fn),Fe.isNativePlatform=Mt,Fe.isPluginAvailable=xt,Fe.pluginMethodNoop=(fn,Pn,Sn)=>Promise.reject(`${Sn} does not have an implementation of "${Pn}".`),Fe.registerPlugin=Qn,Fe.Exception=ie,Fe.DEBUG=!!Fe.DEBUG,Fe.isLoggingEnabled=!!Fe.isLoggingEnabled,Fe.platform=Fe.getPlatform(),Fe.isNative=Fe.isNativePlatform(),Fe},Ee=(se=>se.Capacitor=rt(se))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),it=Ee.registerPlugin;class he{constructor(ne){this.listeners={},this.windowListeners={},ne&&(console.warn(`Capacitor WebPlugin "${ne.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=ne)}addListener(ne,re){var fe=this;this.listeners[ne]||(this.listeners[ne]=[]),this.listeners[ne].push(re);const ae=this.windowListeners[ne];ae&&!ae.registered&&this.addWindowListener(ae);const ct=function(){var Je=(0,B.Z)(function*(){return fe.removeListener(ne,re)});return function(){return Je.apply(this,arguments)}}(),Fe=Promise.resolve({remove:ct});return Object.defineProperty(Fe,"remove",{value:(Je=(0,B.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield ct()}),function(){return Je.apply(this,arguments)})}),Fe;var Je}removeAllListeners(){var ne=this;return(0,B.Z)(function*(){ne.listeners={};for(const re in ne.windowListeners)ne.removeWindowListener(ne.windowListeners[re]);ne.windowListeners={}})()}notifyListeners(ne,re){const fe=this.listeners[ne];fe&&fe.forEach(we=>we(re))}hasListeners(ne){return!!this.listeners[ne].length}registerWindowListener(ne,re){this.windowListeners[re]={registered:!1,windowEventName:ne,pluginEventName:re,handler:fe=>{this.notifyListeners(re,fe)}}}unimplemented(ne="not implemented"){return new Ee.Exception(ne,W.Unimplemented)}unavailable(ne="not available"){return new Ee.Exception(ne,W.Unavailable)}removeListener(ne,re){var fe=this;return(0,B.Z)(function*(){const we=fe.listeners[ne];if(!we)return;const ae=we.indexOf(re);fe.listeners[ne].splice(ae,1),fe.listeners[ne].length||fe.removeWindowListener(fe.windowListeners[ne])})()}addWindowListener(ne){window.addEventListener(ne.windowEventName,ne.handler),ne.registered=!0}removeWindowListener(ne){!ne||(window.removeEventListener(ne.windowEventName,ne.handler),ne.registered=!1)}}},6089:(Ve,Ce,$)=>{"use strict";var B=$(9095),I=$(4703),F="value",d="\n  ",O={};function H(Q){var ve=Array.isArray(Q);return function(se){var ne=q(O.plainArray,se);if(ne)return ne;if(ve&&se.length!==Q.length)return"an array with "+Q.length+" items";for(var re=0;re<se.length;re++)if(ne=q(ve?Q[re]:Q,se[re]))return[re].concat(ne)}}function q(Q,ve){if(null!=ve||Q.hasOwnProperty("__required")){var he=Q(ve);if(he)return Array.isArray(he)?he:[he]}}function W(Q,ve){var he=Q.length,xe=Q[he-1],se=Q.slice(0,he-1);return 0===se.length&&(se=[F]),ve=I(ve,{path:se}),"function"==typeof xe?xe(ve):qe(ve,function Le(Q){return"must be "+function rt(Q){return/^an? /.test(Q)?Q:/^[aeiou]/i.test(Q)?"an "+Q:/^[a-z]/i.test(Q)?"a "+Q:Q}(Q)+"."}(xe))}function ie(Q){return Q.length<2?Q[0]:2===Q.length?Q.join(" or "):Q.slice(0,-1).join(", ")+", or "+Q.slice(-1)}function qe(Q,ve){return(Ee(Q.path)?"Item at position ":"")+Q.path.join(".")+" "+ve}function Ee(Q){return"number"==typeof Q[Q.length-1]||"number"==typeof Q[0]}O.assert=function(Q,ve){return ve=ve||{},function(he){var xe=q(Q,he);if(xe){var se=W(xe,ve);throw ve.apiName&&(se=ve.apiName+": "+se),new Error(se)}}},O.shape=function(ve){var he=function it(Q){return Object.keys(Q||{}).map(function(ve){return{key:ve,value:Q[ve]}})}(ve);return function(se){var ne=q(O.plainObject,se);if(ne)return ne;for(var re,we=[],ae=0;ae<he.length;ae++)(ne=q(he[ae].value,se[re=he[ae].key]))&&we.push([re].concat(ne));return we.length<2?we[0]:function(ct){we=we.map(function(Te){return"- "+Te[0]+": "+W(Te,ct).split("\n").join(d)});var Fe=ct.path.join(".");return"The following properties"+(Fe===F?"":" of "+Fe)+" have invalid values:"+d+we.join(d)}}},O.strictShape=function(ve){var he=O.shape(ve);return function(se){var ne=he(se);if(ne)return ne;var re=Object.keys(se).reduce(function(fe,we){return void 0===ve[we]&&fe.push(we),fe},[]);return 0!==re.length?function(){return"The following keys are invalid: "+re.join(", ")}:void 0}},O.arrayOf=function(ve){return H(ve)},O.tuple=function(){var ve=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return H(ve)},O.required=function(ve){function he(xe){return null==xe?function(se){return qe(se,Ee(se.path)?"cannot be undefined/null.":"is required.")}:ve.apply(this,arguments)}return he.__required=!0,he},O.oneOfType=function(){var ve=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(xe){var se=ve.map(function(ne){return q(ne,xe)}).filter(Boolean);if(se.length===ve.length)return se.every(function(ne){return 1===ne.length&&"string"==typeof ne[0]})?ie(se.map(function(ne){return ne[0]})):se.reduce(function(ne,re){return re.length>ne.length?re:ne})}},O.equal=function(ve){return function(xe){if(xe!==ve)return JSON.stringify(ve)}},O.oneOf=function(){var ve=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),he=ve.map(function(xe){return O.equal(xe)});return O.oneOfType.apply(this,he)},O.range=function(ve){var he=ve[0],xe=ve[1];return function(ne){if(q(O.number,ne)||ne<he||ne>xe)return"number between "+he+" & "+xe+" (inclusive)"}},O.any=function(){},O.boolean=function(ve){if("boolean"!=typeof ve)return"boolean"},O.number=function(ve){if("number"!=typeof ve)return"number"},O.plainArray=function(ve){if(!Array.isArray(ve))return"array"},O.plainObject=function(ve){if(!B(ve))return"object"},O.string=function(ve){if("string"!=typeof ve)return"string"},O.func=function(ve){if("function"!=typeof ve)return"function"},O.validate=q,O.processMessage=W,Ve.exports=O},9095:Ve=>{"use strict";var Ce=Object.prototype.toString;Ve.exports=function($){var B;return"[object Object]"===Ce.call($)&&(null===(B=Object.getPrototypeOf($))||B===Object.getPrototypeOf({}))}},2564:(Ve,Ce,$)=>{"use strict";var B=$(6734);function I(F){this.origin=F.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=F.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=F,this.send=this.send.bind(this),this.countries=F.countries?F.countries.split(","):null,this.types=F.types?F.types.split(","):null,this.bbox=F.bbox?F.bbox:null,this.language=F.language?F.language.split(","):null,this.limit=F.limit?+F.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(F),this.eventQueue=new Array,this.flushInterval=F.flushInterval||1e3,this.maxQueueSize=F.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}I.prototype={select:function(F,d){var O=this.getSelectedIndex(F,d),H=this.getEventPayload("search.select",d);if(H.resultIndex=O,H.resultPlaceName=F.place_name,H.resultId=F.id,(O!==this.lastSentIndex||H.queryString!==this.lastSentInput)&&-1!=O&&(this.lastSentIndex=O,this.lastSentInput=H.queryString,H.queryString))return this.push(H)},start:function(F){var d=this.getEventPayload("search.start",F);if(d.queryString)return this.push(d)},keyevent:function(F,d){if(F.key&&!F.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(F.keyCode)){var O=this.getEventPayload("search.keystroke",d);if(O.lastAction=F.key,O.queryString)return this.push(O)}},send:function(F,d){if(!this.enableEventLogging)return d?d():void 0;var O=this.getRequestOptions(F);this.request(O,function(H){return H?this.handleError(H,d):d?d():void 0}.bind(this))},getRequestOptions:function(F){return Array.isArray(F)||(F=[F]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}},getEventPayload:function(F,d){var O;O=d.options.proximity?[d.options.proximity.longitude,d.options.proximity.latitude]:null;var H=d._map?d._map.getZoom():void 0,q={event:F,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:d.options.autocomplete,fuzzyMatch:d.options.fuzzyMatch,proximity:O,limit:d.options.limit,routing:d.options.routing,worldview:d.options.worldview,mapZoom:H,keyboardLocale:this.locale};return q.queryString="search.select"===F?d.inputString:"search.select"!=F&&d._inputEl?d._inputEl.value:d.inputString,q},request:function(F,d){var O=new XMLHttpRequest;for(var H in O.onreadystatechange=function(){if(4==this.readyState)return d(204==this.status?null:this.statusText)},O.open(F.method,F.host+"/"+F.path,!0),F.headers)O.setRequestHeader(H,F.headers[H]);O.send(F.body)},handleError:function(F,d){if(d)return d(F)},generateSessionID:function(){return B()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(F,d){if(d._typeahead){var H=F.id;return d._typeahead.data.map(function(ie){return ie.id}).indexOf(H)}},shouldEnableLogging:function(F){return!(!1===F.enableEventLogging||F.origin&&-1==F.origin.indexOf("api.mapbox.com")||F.localGeocoder||F.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(F,d){this.eventQueue.push(F),(this.eventQueue.length>=this.maxQueueSize||d)&&this.flush()},remove:function(){this.flush()}},Ve.exports=I},3424:Ve=>{Ve.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},8545:(Ve,Ce,$)=>{"use strict";var B=$(5562),I=$(3082),F=$(4703),d=$(9069).EventEmitter,O=$(3424),H=$(9471),q=$(7075),W=$(2564),ie=$(1753),Le=$(6775);function qe(Ee){this._eventEmitter=new d,this.options=F({},this.options,Ee),this.inputString="",this.fresh=!0,this.lastSelected=null}qe.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(Ee){return Ee.place_name},render:function(Ee){var it=Ee.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+it[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+it.splice(1,it.length).join(",")+"</div></div>"}},addTo:function(Ee){function it(Q,ve){if(!document.body.contains(ve))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const he=Q.onAdd();ve.appendChild(he)}if(Ee._controlContainer)Ee.addControl(this);else if(Ee instanceof HTMLElement)it(this,Ee);else{if("string"!=typeof Ee)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");{const Q=document.querySelectorAll(Ee);if(0===Q.length)throw new Error("Element ",Ee,"not found.");if(Q.length>1)throw new Error("Geocoder can only be added to a single html element");it(this,Q[0])}}},onAdd:function(Ee){if(Ee&&"string"!=typeof Ee&&(this._map=Ee),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=q(H({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new W(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var it=this.container=document.createElement("div");it.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var Q=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",I(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(xe){this.eventManager.keyevent(xe,this)}.bind(this));var ve=document.createElement("div");ve.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var he=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(he),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),ve.appendChild(this._clearEl),ve.appendChild(this._loadingEl),it.appendChild(Q),it.appendChild(this._inputEl),it.appendChild(ve),this._typeahead=new B(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),it},createIcon:function(Ee,it){var Q=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Q.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+Ee),Q.setAttribute("viewBox","0 0 18 18"),Q.setAttribute("xml:space","preserve"),Q.setAttribute("width",18),Q.setAttribute("height",18),"innerHTML"in Q)Q.innerHTML=it;else{var ve=document.createElement("div");ve.innerHTML="<svg>"+it.valueOf().toString()+"</svg>",Q.appendChild(ve.firstChild.firstChild)}return Q},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(Ee){var it=(Ee.clipboardData||window.clipboardData).getData("text");it.length>=this.options.minLength&&this._geocode(it)},_onKeyDown:function(Ee){var it=27,Q=9;if(Ee.keyCode===it&&this.options.clearAndBlurOnEsc)return this._clear(Ee),this._inputEl.blur();var ve=Ee.target&&Ee.target.shadowRoot?Ee.target.shadowRoot.activeElement:Ee.target;if(!ve||!ve.value)return this.fresh=!0,Ee.keyCode!==Q&&this.clear(Ee),this._clearEl.style.display="none";Ee.metaKey||-1!==[Q,it,37,39,13,38,40].indexOf(Ee.keyCode)||ve.value.length>=this.options.minLength&&this._geocode(ve.value)},_showButton:function(){this._typeahead.selected&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(Ee){this.options.clearOnBlur&&this._clearOnBlur(Ee),this.options.collapsed&&this._collapse()},_onChange:function(){var Ee=this._typeahead.selected;if(Ee&&JSON.stringify(Ee)!==this.lastSelected){var it;if(this._clearEl.style.display="none",this.options.flyTo)if(Ee.properties&&O[Ee.properties.short_code])it=F({},this.options.flyTo),this._map&&this._map.fitBounds(O[Ee.properties.short_code].bbox,it);else if(Ee.bbox){var Q=Ee.bbox;it=F({},this.options.flyTo),this._map&&this._map.fitBounds([[Q[0],Q[1]],[Q[2],Q[3]]],it)}else it=F({},{zoom:this.options.zoom},this.options.flyTo),Ee.center?it.center=Ee.center:Ee.geometry&&Ee.geometry.type&&"Point"===Ee.geometry.type&&Ee.geometry.coordinates&&(it.center=Ee.geometry.coordinates),this._map&&this._map.flyTo(it);this.options.marker&&this._mapboxgl&&this._handleMarker(Ee),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(Ee),this._eventEmitter.emit("result",{result:Ee}),this.eventManager.select(Ee,this)}},_requestType:function(Ee,it){return Ee.localGeocoderOnly?1:Ee.reverseGeocode&&/^[ ]*(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(it)?2:0},_setupConfig:function(Ee,it){const ve=/[\s,]+/;var he=this,xe=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"].reduce(function(ne,re){return null==he.options[re]||(ne[re]=["countries","types","language"].indexOf(re)>-1?he.options[re].split(ve):he.options[re],"proximity"===re&&"number"==typeof he.options[re].longitude&&"number"==typeof he.options[re].latitude&&(ne[re]=[he.options[re].longitude,he.options[re].latitude])),ne},{});switch(Ee){case 2:var se=it.split(ve).map(function(ne){return parseFloat(ne,10)}).reverse();xe=F(xe,{query:se,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(ne){ne in xe&&delete xe[ne]});break;case 0:/^[ ]*(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)*[ ]*$/.test(it)&&(it=it.replace(/,/g," ")),xe=F(xe,{query:it})}return xe},_geocode:function(Ee){this.inputString=Ee,this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:Ee});const it=this._requestType(this.options,Ee),Q=this._setupConfig(it,Ee);var ve;switch(it){case 1:ve=Promise.resolve();break;case 0:ve=this.geocoderService.forwardGeocode(Q).send();break;case 2:ve=this.geocoderService.reverseGeocode(Q).send()}var he=this.options.localGeocoder&&this.options.localGeocoder(Ee)||[],xe=[],se=null;return ve.catch(function(ne){se=ne}.bind(this)).then(function(ne){this._loadingEl.style.display="none";var re={};return ne?"200"==ne.statusCode&&((re=ne.body).request=ne.request,re.headers=ne.headers):re={type:"FeatureCollection",features:[]},re.config=Q,this.fresh&&(this.eventManager.start(this),this.fresh=!1),re.features=re.features?he.concat(re.features):he,this.options.externalGeocoder?(xe=this.options.externalGeocoder(Ee,re.features)||[]).then(function(fe){return re.features=re.features?fe.concat(re.features):fe,re},function(){return re}):re}.bind(this)).then(function(ne){if(se)throw se;this.options.filter&&ne.features.length&&(ne.features=ne.features.filter(this.options.filter)),ne.features.length?(this._clearEl.style.display="block",this._eventEmitter.emit("results",ne),this._typeahead.update(ne.features)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",ne))}.bind(this)).catch(function(ne){this._loadingEl.style.display="none",he.length&&this.options.localGeocoder||xe.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(he)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:he}),this._eventEmitter.emit("error",{error:ne})}.bind(this)),ve},_clear:function(Ee){Ee&&Ee.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(Ee){this._clear(Ee),this._inputEl.focus()},_clearOnBlur:function(Ee){Ee.relatedTarget&&this._clear(Ee)},_onQueryResult:function(Ee){var it=Ee.body;if(it.features.length){var Q=it.features[0];this._typeahead.selected=Q,this._inputEl.value=Q.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var Ee=this._map.getCenter().wrap();this.setProximity({longitude:Ee.lng,latitude:Ee.lat})}else this.setProximity(null)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(Ee){return this._geocode(Ee).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(Ee){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(Ee)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var Ee=this.options.language.split(",")[0],it=Le.language(Ee),Q=ie.placeholder[it];if(Q)return Q}return"Search"},setInput:function(Ee){return this._inputEl.value=Ee,this._typeahead.selected=null,this._typeahead.clear(),Ee.length>=this.options.minLength&&this._geocode(Ee),this},setProximity:function(Ee){return this.options.proximity=Ee,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(Ee){return Ee&&"function"==typeof Ee&&(this._typeahead.render=Ee),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(Ee){var it=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=Ee||this.options.language||it,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(Ee){return this.options.zoom=Ee,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(Ee){return this.options.flyTo=Ee,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(Ee){return this.placeholder=Ee||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(Ee){return this.options.bbox=Ee,this},getCountries:function(){return this.options.countries},setCountries:function(Ee){return this.options.countries=Ee,this},getTypes:function(){return this.options.types},setTypes:function(Ee){return this.options.types=Ee,this},getMinLength:function(){return this.options.minLength},setMinLength:function(Ee){return this.options.minLength=Ee,this._typeahead&&(this._typeahead.options.minLength=Ee),this},getLimit:function(){return this.options.limit},setLimit:function(Ee){return this.options.limit=Ee,this._typeahead&&(this._typeahead.options.limit=Ee),this},getFilter:function(){return this.options.filter},setFilter:function(Ee){return this.options.filter=Ee,this},setOrigin:function(Ee){return this.options.origin=Ee,this.geocoderService=q(H({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAutocomplete:function(Ee){return this.options.autocomplete=Ee,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(Ee){return this.options.fuzzyMatch=Ee,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(Ee){return this.options.routing=Ee,this},getRouting:function(){return this.options.routing},setWorldview:function(Ee){return this.options.worldview=Ee,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(Ee){if(this._map){this._removeMarker();var Q=F({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(Q),Ee.center?this.mapMarker.setLngLat(Ee.center).addTo(this._map):Ee.geometry&&Ee.geometry.type&&"Point"===Ee.geometry.type&&Ee.geometry.coordinates&&this.mapMarker.setLngLat(Ee.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(Ee,it){return this._eventEmitter.on(Ee,it),this},off:function(Ee,it){return this._eventEmitter.removeListener(Ee,it),this.eventManager.remove(),this}},Ve.exports=qe},1753:Ve=>{"use strict";Ve.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"\u05dc\u05d7\u05e4\u05e9",ja:"\u30b5\u30fc\u30c1",lv:"Mekl\u0113t",pt:"Procurar",sr:"\u041f\u0440\u0435\u0442\u0440\u0430\u0433\u0430",zh:"\u641c\u7d22",cs:"Vyhled\xe1v\xe1n\xed",hu:"Keres\xe9s",ka:"\u10eb\u10d8\u10d4\u10d1\u10d0",nb:"S\xf8ke",sk:"Vyh\u013ead\xe1vanie",th:"\u0e04\u0e49\u0e19\u0e2b\u0e32",fi:"Hae",is:"Leita",ko:"\uc218\uc0c9",pl:"Szukaj",sl:"Iskanje",fa:"\u062c\u0633\u062a\u062c\u0648",ru:"\u041f\u043e\u0438\u0441\u043a"}}},6734:Ve=>{for(var Ce=self.crypto||self.msCrypto,$="-_",B=36;B--;)$+=B.toString(36);for(B=36;B---10;)$+=B.toString(36).toUpperCase();Ve.exports=function(I){var F="",d=Ce.getRandomValues(new Uint8Array(I||21));for(B=I||21;B--;)F+=$[63&d[B]];return F}},9471:(Ve,Ce,$)=>{"use strict";var B=$(7454);Ve.exports=B},7454:(Ve,Ce,$)=>{"use strict";var B=$(753),I=$(4176);function F(O){I.call(this,O)}(F.prototype=Object.create(I.prototype)).constructor=F,F.prototype.sendRequest=B.browserSend,F.prototype.abortRequest=B.browserAbort,Ve.exports=function d(O){return new F(O)}},753:(Ve,Ce,$)=>{"use strict";var B=$(4332),I=$(6158),F=$(9719),d=$(8829),O={};function W(qe){var Ee=qe.total,it=qe.loaded;return{total:Ee,transferred:it,percent:100*it/Ee}}function ie(qe,Ee){return new Promise(function(it,Q){Ee.onprogress=function(xe){qe.emitter.emit(F.EVENT_PROGRESS_DOWNLOAD,W(xe))};var ve=qe.file;ve&&(Ee.upload.onprogress=function(xe){qe.emitter.emit(F.EVENT_PROGRESS_UPLOAD,W(xe))}),Ee.onerror=function(xe){Q(xe)},Ee.onabort=function(){var xe=new I({request:qe,type:F.ERROR_REQUEST_ABORTED});Q(xe)},Ee.onload=function(){if(delete O[qe.id],Ee.status<200||Ee.status>=400){var xe=new I({request:qe,body:Ee.response,statusCode:Ee.status});Q(xe)}else it(Ee)};var he=qe.body;"string"==typeof he?Ee.send(he):he?Ee.send(JSON.stringify(he)):ve?Ee.send(ve):Ee.send(),O[qe.id]=Ee}).then(function(it){return function q(qe,Ee){return new B(qe,{body:Ee.response,headers:d(Ee.getAllResponseHeaders()),statusCode:Ee.status})}(qe,it)})}function Le(qe,Ee){var it=qe.url(Ee),Q=new window.XMLHttpRequest;return Q.open(qe.method,it),Object.keys(qe.headers).forEach(function(ve){Q.setRequestHeader(ve,qe.headers[ve])}),Q}Ve.exports={browserAbort:function H(qe){var Ee=O[qe.id];!Ee||(Ee.abort(),delete O[qe.id])},sendRequestXhr:ie,browserSend:function rt(qe){return Promise.resolve().then(function(){var Ee=Le(qe,qe.client.accessToken);return ie(qe,Ee)})},createRequestXhr:Le}},4176:(Ve,Ce,$)=>{"use strict";var B=$(8129),I=$(4538),F=$(9719);function d(O){if(!O||!O.accessToken)throw new Error("Cannot create a client without an access token");B(O.accessToken),this.accessToken=O.accessToken,this.origin=O.origin||F.API_ORIGIN}d.prototype.createRequest=function(H){return new I(this,H)},Ve.exports=d},6158:(Ve,Ce,$)=>{"use strict";var B=$(9719);Ve.exports=function I(F){var O,d=F.type||B.ERROR_HTTP;if(F.body)try{O=JSON.parse(F.body)}catch(q){O=F.body}else O=null;var H=F.message||null;H||("string"==typeof O?H=O:O&&"string"==typeof O.message?H=O.message:d===B.ERROR_REQUEST_ABORTED&&(H="Request aborted")),this.message=H,this.type=d,this.statusCode=F.statusCode||null,this.request=F.request,this.body=O}},4538:(Ve,Ce,$)=>{"use strict";var B=$(8129),I=$(4703),F=$(6661),d=$(3449),O=$(9719),H=1;function q(W,ie){if(!W)throw new Error("MapiRequest requires a client");if(!ie||!ie.path||!ie.method)throw new Error("MapiRequest requires an options object with path and method properties");var Le={};ie.body&&(Le["content-type"]="application/json");var rt=I(Le,ie.headers),qe=Object.keys(rt).reduce(function(Ee,it){return Ee[it.toLowerCase()]=rt[it],Ee},{});this.id=H++,this._options=ie,this.emitter=new F,this.client=W,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=ie.path,this.method=ie.method,this.origin=ie.origin||W.origin,this.query=ie.query||{},this.params=ie.params||{},this.body=ie.body||null,this.file=ie.file||null,this.encoding=ie.encoding||"utf8",this.sendFileAs=ie.sendFileAs||null,this.headers=qe}q.prototype.url=function(ie){var Le=d.prependOrigin(this.path,this.origin);Le=d.appendQueryObject(Le,this.query);var rt=this.params,qe=null==ie?this.client.accessToken:ie;if(qe){Le=d.appendQueryParam(Le,"access_token",qe);var Ee=B(qe).user;rt=I({ownerId:Ee},rt)}return d.interpolateRouteParams(Le,rt)},q.prototype.send=function(){var ie=this;if(ie.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return ie.sent=!0,ie.client.sendRequest(ie).then(function(Le){return ie.response=Le,ie.emitter.emit(O.EVENT_RESPONSE,Le),Le},function(Le){throw ie.error=Le,ie.emitter.emit(O.EVENT_ERROR,Le),Le})},q.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))},q.prototype.eachPage=function(ie){var Le=this;function rt(it){ie(null,it,function Q(){delete Le._nextPageRequest;var ve=it.nextPage();ve&&(Le._nextPageRequest=ve,Ee(ve))})}function qe(it){ie(it,null,function(){})}function Ee(it){it.send().then(rt,qe)}Ee(this)},q.prototype.clone=function(){return this._extend()},q.prototype._extend=function(ie){var Le=I(this._options,ie);return new q(this.client,Le)},Ve.exports=q},4332:(Ve,Ce,$)=>{"use strict";var B=$(5699);function I(F,d){this.request=F,this.headers=d.headers,this.rawBody=d.body,this.statusCode=d.statusCode;try{this.body=JSON.parse(d.body||"{}")}catch(O){this.body=d.body}this.links=B(this.headers.link)}I.prototype.hasNextPage=function(){return!!this.links.next},I.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},Ve.exports=I},9719:Ve=>{"use strict";Ve.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},8829:Ve=>{"use strict";Ve.exports=function $(B){var I={};return B&&B.trim().split(/[\r|\n]+/).forEach(function(F){var d=function Ce(B){var I=B.indexOf(":");return{name:B.substring(0,I).trim().toLowerCase(),value:B.substring(I+1).trim()}}(F);I[d.name]=d.value}),I}},5699:Ve=>{"use strict";Ve.exports=function B(I){return I?I.split(/,\s*</).reduce(function(F,d){var O=function $(I){var F=I.match(/<?([^>]*)>(.*)/);if(!F)return null;var d=F[1],O=F[2].split(";"),H=null,q=O.reduce(function(W,ie){var Le=function Ce(I){var F=I.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return F?{key:F[1],value:F[2]}:null}(ie);return Le?"rel"===Le.key?(H||(H=Le.value),W):(W[Le.key]=Le.value,W):W},{});return H?{url:d,rel:H,params:q}:null}(d);return O?(O.rel.split(/\s+/).forEach(function(q){F[q]||(F[q]={url:O.url,params:O.params})}),F):F},{}):{}}},3449:Ve=>{"use strict";function $(O){return Array.isArray(O)?function Ce(O){return O.map(encodeURIComponent).join(",")}(O):encodeURIComponent(String(O))}function B(O,H,q){if(!1===q||null===q)return O;var W=/\?/.test(O)?"&":"?",ie=encodeURIComponent(H);return void 0!==q&&""!==q&&!0!==q&&(ie+="="+$(q)),""+O+W+ie}Ve.exports={appendQueryObject:function I(O,H){if(!H)return O;var q=O;return Object.keys(H).forEach(function(W){var ie=H[W];void 0!==ie&&(Array.isArray(ie)&&(ie=ie.filter(function(Le){return null!=Le}).join(",")),q=B(q,W,ie))}),q},appendQueryParam:B,prependOrigin:function F(O,H){if(!H||"http"===O.slice(0,4))return O;var q="/"===O[0]?"":"/";return""+H.replace(/\/$/,"")+q+O},interpolateRouteParams:function d(O,H){return H?O.replace(/\/:([a-zA-Z0-9]+)/g,function(q,W){var ie=H[W];if(void 0===ie)throw new Error("Unspecified route parameter "+W);return"/"+$(ie)}):O}}},6661:Ve=>{"use strict";var Ce=Object.prototype.hasOwnProperty,$="~";function B(){}function I(H,q,W){this.fn=H,this.context=q,this.once=W||!1}function F(H,q,W,ie,Le){if("function"!=typeof W)throw new TypeError("The listener must be a function");var rt=new I(W,ie||H,Le),qe=$?$+q:q;return H._events[qe]?H._events[qe].fn?H._events[qe]=[H._events[qe],rt]:H._events[qe].push(rt):(H._events[qe]=rt,H._eventsCount++),H}function d(H,q){0==--H._eventsCount?H._events=new B:delete H._events[q]}function O(){this._events=new B,this._eventsCount=0}Object.create&&(B.prototype=Object.create(null),(new B).__proto__||($=!1)),O.prototype.eventNames=function(){var W,ie,q=[];if(0===this._eventsCount)return q;for(ie in W=this._events)Ce.call(W,ie)&&q.push($?ie.slice(1):ie);return Object.getOwnPropertySymbols?q.concat(Object.getOwnPropertySymbols(W)):q},O.prototype.listeners=function(q){var ie=this._events[$?$+q:q];if(!ie)return[];if(ie.fn)return[ie.fn];for(var Le=0,rt=ie.length,qe=new Array(rt);Le<rt;Le++)qe[Le]=ie[Le].fn;return qe},O.prototype.listenerCount=function(q){var ie=this._events[$?$+q:q];return ie?ie.fn?1:ie.length:0},O.prototype.emit=function(q,W,ie,Le,rt,qe){var Ee=$?$+q:q;if(!this._events[Ee])return!1;var ve,he,it=this._events[Ee],Q=arguments.length;if(it.fn){switch(it.once&&this.removeListener(q,it.fn,void 0,!0),Q){case 1:return it.fn.call(it.context),!0;case 2:return it.fn.call(it.context,W),!0;case 3:return it.fn.call(it.context,W,ie),!0;case 4:return it.fn.call(it.context,W,ie,Le),!0;case 5:return it.fn.call(it.context,W,ie,Le,rt),!0;case 6:return it.fn.call(it.context,W,ie,Le,rt,qe),!0}for(he=1,ve=new Array(Q-1);he<Q;he++)ve[he-1]=arguments[he];it.fn.apply(it.context,ve)}else{var se,xe=it.length;for(he=0;he<xe;he++)switch(it[he].once&&this.removeListener(q,it[he].fn,void 0,!0),Q){case 1:it[he].fn.call(it[he].context);break;case 2:it[he].fn.call(it[he].context,W);break;case 3:it[he].fn.call(it[he].context,W,ie);break;case 4:it[he].fn.call(it[he].context,W,ie,Le);break;default:if(!ve)for(se=1,ve=new Array(Q-1);se<Q;se++)ve[se-1]=arguments[se];it[he].fn.apply(it[he].context,ve)}}return!0},O.prototype.on=function(q,W,ie){return F(this,q,W,ie,!1)},O.prototype.once=function(q,W,ie){return F(this,q,W,ie,!0)},O.prototype.removeListener=function(q,W,ie,Le){var rt=$?$+q:q;if(!this._events[rt])return this;if(!W)return d(this,rt),this;var qe=this._events[rt];if(qe.fn)qe.fn===W&&(!Le||qe.once)&&(!ie||qe.context===ie)&&d(this,rt);else{for(var Ee=0,it=[],Q=qe.length;Ee<Q;Ee++)(qe[Ee].fn!==W||Le&&!qe[Ee].once||ie&&qe[Ee].context!==ie)&&it.push(qe[Ee]);it.length?this._events[rt]=1===it.length?it[0]:it:d(this,rt)}return this},O.prototype.removeAllListeners=function(q){var W;return q?this._events[W=$?$+q:q]&&d(this,W):(this._events=new B,this._eventsCount=0),this},O.prototype.off=O.prototype.removeListener,O.prototype.addListener=O.prototype.on,O.prefixed=$,O.EventEmitter=O,Ve.exports=O},7075:(Ve,Ce,$)=>{"use strict";var B=$(4703),I=$(9801),F=$(4313),d=$(1836),O=$(497),H={},q=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];H.forwardGeocode=function(W){I.assertShape({query:I.required(I.string),mode:I.oneOf("mapbox.places","mapbox.places-permanent"),countries:I.arrayOf(I.string),proximity:I.coordinates,types:I.arrayOf(I.oneOf(q)),autocomplete:I.boolean,bbox:I.arrayOf(I.number),limit:I.number,language:I.arrayOf(I.string),routing:I.boolean,fuzzyMatch:I.boolean,worldview:I.string})(W),W.mode=W.mode||"mapbox.places";var ie=d(B({country:W.countries},F(W,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:F(W,["mode","query"]),query:ie})},H.reverseGeocode=function(W){I.assertShape({query:I.required(I.coordinates),mode:I.oneOf("mapbox.places","mapbox.places-permanent"),countries:I.arrayOf(I.string),types:I.arrayOf(I.oneOf(q)),bbox:I.arrayOf(I.number),limit:I.number,language:I.arrayOf(I.string),reverseMode:I.oneOf("distance","score"),routing:I.boolean,worldview:I.string})(W),W.mode=W.mode||"mapbox.places";var ie=d(B({country:W.countries},F(W,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:F(W,["mode","query"]),query:ie})},Ve.exports=O(H)},497:(Ve,Ce,$)=>{"use strict";var B=$(4176),I=$(7454);Ve.exports=function F(d){return function(O){var H;H=B.prototype.isPrototypeOf(O)?O:I(O);var q=Object.create(d);return q.client=H,q}}},5621:Ve=>{"use strict";Ve.exports=function Ce($,B){return Object.keys($).reduce(function(I,F){return I[F]=B(F,$[F]),I},{})}},4313:Ve=>{"use strict";Ve.exports=function Ce($,B){var I=function(F,d){return-1!==B.indexOf(F)&&void 0!==d};return"function"==typeof B&&(I=B),Object.keys($).filter(function(F){return I(F,$[F])}).reduce(function(F,d){return F[d]=$[d],F},{})}},1836:(Ve,Ce,$)=>{"use strict";var B=$(5621);Ve.exports=function I(F){return B(F,function(d,O){return"boolean"==typeof O?JSON.stringify(O):O})}},9801:(Ve,Ce,$)=>{"use strict";var B=$(4703),I=$(6089);Ve.exports=B(I,{file:function F(q){return"undefined"!=typeof window?q instanceof global.Blob||q instanceof global.ArrayBuffer?void 0:"Blob or ArrayBuffer":"string"!=typeof q&&void 0===q.pipe?"Filename or Readable stream":void 0},date:function O(q){var W="date";if("boolean"==typeof q)return W;try{var ie=new Date(q);if(ie.getTime&&isNaN(ie.getTime()))return W}catch(Le){return W}},coordinates:function H(q){return I.tuple(I.number,I.number)(q)},assertShape:function d(q,W){return I.assert(I.strictShape(q),W)}})},8129:(Ve,Ce,$)=>{"use strict";var B=$(2049),I={};function O(H,q){return Object.prototype.hasOwnProperty.call(H,q)}Ve.exports=function F(H){if(I[H])return I[H];var q=H.split("."),W=q[0],ie=q[1];if(!ie)throw new Error("Invalid token");var Le=function d(H){try{return JSON.parse(B.decode(H))}catch(q){throw new Error("Invalid token")}}(ie),rt={usage:W,user:Le.u};return O(Le,"a")&&(rt.authorization=Le.a),O(Le,"exp")&&(rt.expires=1e3*Le.exp),O(Le,"iat")&&(rt.created=1e3*Le.iat),O(Le,"scopes")&&(rt.scopes=Le.scopes),O(Le,"client")&&(rt.client=Le.client),O(Le,"ll")&&(rt.lastLogin=Le.ll),O(Le,"iu")&&(rt.impersonator=Le.iu),I[H]=rt,rt}},9184:(Ve,Ce,$)=>{"use strict";function B(e){return"function"==typeof e}function I(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const F=I(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function d(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class O{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(B(r))try{r()}catch(o){t=o instanceof F?o.errors:[o]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const o of i)try{W(o)}catch(f){t=null!=t?t:[],f instanceof F?t=[...t,...f.errors]:t.push(f)}}if(t)throw new F(t)}}add(t){var n;if(t&&t!==this)if(this.closed)W(t);else{if(t instanceof O){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&d(n,t)}remove(t){const{_teardowns:n}=this;n&&d(n,t),t instanceof O&&t._removeParent(this)}}O.EMPTY=(()=>{const e=new O;return e.closed=!0,e})();const H=O.EMPTY;function q(e){return e instanceof O||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function W(e){B(e)?e():e.unsubscribe()}const ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Le={setTimeout(...e){const{delegate:t}=Le;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=Le;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function rt(e){Le.setTimeout(()=>{const{onUnhandledError:t}=ie;if(!t)throw e;t(e)})}function qe(){}const Ee=ve("C",void 0,void 0);function ve(e,t,n){return{kind:e,value:t,error:n}}let he=null;function xe(e){if(ie.useDeprecatedSynchronousErrorHandling){const t=!he;if(t&&(he={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=he;if(he=null,n)throw r}}else e()}class ne extends O{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,q(t)&&t.add(this)):this.destination=ct}static create(t,n,r){return new re(t,n,r)}next(t){this.isStopped?ae(function Q(e){return ve("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ae(function it(e){return ve("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ae(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class re extends ne{constructor(t,n,r){let i;if(super(),B(t))i=t;else if(t){let o;({next:i,error:n,complete:r}=t),this&&ie.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe()):o=t,i=null==i?void 0:i.bind(o),n=null==n?void 0:n.bind(o),r=null==r?void 0:r.bind(o)}this.destination={next:i?fe(i):qe,error:fe(null!=n?n:we),complete:r?fe(r):qe}}}function fe(e,t){return(...n)=>{try{e(...n)}catch(r){ie.useDeprecatedSynchronousErrorHandling?function se(e){ie.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=e)}(r):rt(r)}}}function we(e){throw e}function ae(e,t){const{onStoppedNotification:n}=ie;n&&Le.setTimeout(()=>n(e,t))}const ct={closed:!0,next:qe,error:we,complete:qe},Fe="function"==typeof Symbol&&Symbol.observable||"@@observable";function Je(e){return e}let Pt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function tt(e){return e&&e instanceof ne||function Mt(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}(e)&&q(e)}(n)?n:new re(n,r,i);return xe(()=>{const{operator:f,source:_}=this;o.add(f?f.call(o,_):_?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ge(r))((i,o)=>{let f;f=this.subscribe(_=>{try{n(_)}catch(x){o(x),null==f||f.unsubscribe()}},o,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Fe](){return this}pipe(...n){return function Xt(e){return 0===e.length?Je:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Ge(n))((r,i)=>{let o;this.subscribe(f=>o=f,f=>i(f),()=>r(o))})}}return e.create=t=>new e(t),e})();function Ge(e){var t;return null!==(t=null!=e?e:ie.Promise)&&void 0!==t?t:Promise}const xt=I(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let gt=(()=>{class e extends Pt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Re(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xt}next(n){xe(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?H:(o.push(n),new O(()=>d(o,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Pt;return n.source=this,n}}return e.create=(t,n)=>new Re(t,n),e})();class Re extends gt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:H}}function Yt(e){return B(null==e?void 0:e.lift)}function Ht(e){return t=>{if(Yt(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class _n extends ne{constructor(t,n,r,i,o){super(t),this.onFinalize=o,this._next=n?function(f){try{n(f)}catch(_){t.error(_)}}:super._next,this._error=i?function(f){try{i(f)}catch(_){t.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function bt(e,t){return Ht((n,r)=>{let i=0;n.subscribe(new _n(r,o=>{r.next(e.call(t,o,i++))}))})}function _t(e){return this instanceof _t?(this.v=e,this):new _t(e)}function zt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},f("next"),f("throw"),f("return"),i[Symbol.asyncIterator]=function(){return this},i;function f(R){r[R]&&(i[R]=function(Y){return new Promise(function(ue,ge){o.push([R,Y,ue,ge])>1||_(R,Y)})})}function _(R,Y){try{!function x(R){R.value instanceof _t?Promise.resolve(R.value.v).then(b,T):A(o[0][2],R)}(r[R](Y))}catch(ue){A(o[0][3],ue)}}function b(R){_("next",R)}function T(R){_("throw",R)}function A(R,Y){R(Y),o.shift(),o.length&&_(o[0][0],o[0][1])}}function Kt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Lt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(f){return new Promise(function(_,x){!function i(o,f,_,x){Promise.resolve(x).then(function(b){o({value:b,done:_})},f)}(_,x,(f=e[o](f)).done,f.value)})}}}const $r=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function vi(e){return B(null==e?void 0:e.then)}function Ss(e){return B(e[Fe])}function Js(e){return Symbol.asyncIterator&&B(null==e?void 0:e[Symbol.asyncIterator])}function xi(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const es=function qs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wi(e){return B(null==e?void 0:e[es])}function ai(e){return zt(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield _t(n.read());if(i)return yield _t(void 0);yield yield _t(r)}}finally{n.releaseLock()}})}function Ys(e){return B(null==e?void 0:e.getReader)}function mn(e){if(e instanceof Pt)return e;if(null!=e){if(Ss(e))return function rl(e){return new Pt(t=>{const n=e[Fe]();if(B(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if($r(e))return function oa(e){return new Pt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(vi(e))return function xr(e){return new Pt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,rt)})}(e);if(Js(e))return We(e);if(wi(e))return function Fo(e){return new Pt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ys(e))return function de(e){return We(ai(e))}(e)}throw xi(e)}function We(e){return new Pt(t=>{(function be(e,t){var n,r,i,o;return function Li(e,t,n,r){return new(n||(n=Promise))(function(o,f){function _(T){try{b(r.next(T))}catch(A){f(A)}}function x(T){try{b(r.throw(T))}catch(A){f(A)}}function b(T){T.done?o(T.value):function i(o){return o instanceof n?o:new n(function(f){f(o)})}(T.value).then(_,x)}b((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Kt(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(f){i={error:f}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Qe(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function yt(e,t,n=1/0){return B(t)?yt((r,i)=>bt((o,f)=>t(r,o,i,f))(mn(e(r,i))),n):("number"==typeof t&&(n=t),Ht((r,i)=>function ot(e,t,n,r,i,o,f,_){const x=[];let b=0,T=0,A=!1;const R=()=>{A&&!x.length&&!b&&t.complete()},Y=ge=>b<r?ue(ge):x.push(ge),ue=ge=>{o&&t.next(ge),b++;let He=!1;mn(n(ge,T++)).subscribe(new _n(t,Se=>{null==i||i(Se),o?Y(Se):t.next(Se)},()=>{He=!0},void 0,()=>{if(He)try{for(b--;x.length&&b<r;){const Se=x.shift();f?Qe(t,f,()=>ue(Se)):ue(Se)}R()}catch(Se){t.error(Se)}}))};return e.subscribe(new _n(t,Y,()=>{A=!0,R()})),()=>{null==_||_()}}(r,i,e,n)))}function ht(e=1/0){return yt(Je,e)}const kt=new Pt(e=>e.complete());function ln(e){return e[e.length-1]}function nn(e){return B(ln(e))?e.pop():void 0}function Un(e){return function jt(e){return e&&B(e.schedule)}(ln(e))?e.pop():void 0}function Ct(e,t=0){return Ht((n,r)=>{n.subscribe(new _n(r,i=>Qe(r,e,()=>r.next(i),t),()=>Qe(r,e,()=>r.complete(),t),i=>Qe(r,e,()=>r.error(i),t)))})}function qt(e,t=0){return Ht((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function pr(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pt(n=>{Qe(n,t,()=>{const r=e[Symbol.asyncIterator]();Qe(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rn(e,t){return t?function co(e,t){if(null!=e){if(Ss(e))return function fr(e,t){return mn(e).pipe(qt(t),Ct(t))}(e,t);if($r(e))return function gr(e,t){return new Pt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(vi(e))return function Mr(e,t){return mn(e).pipe(qt(t),Ct(t))}(e,t);if(Js(e))return pr(e,t);if(wi(e))return function nr(e,t){return new Pt(n=>{let r;return Qe(n,t,()=>{r=e[es](),Qe(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(f){return void n.error(f)}o?n.complete():n.next(i)},0,!0)}),()=>B(null==r?void 0:r.return)&&r.return()})}(e,t);if(Ys(e))return function ou(e,t){return pr(ai(e),t)}(e,t)}throw xi(e)}(e,t):mn(e)}function Fr(e){return e<=0?()=>kt:Ht((t,n)=>{let r=0;t.subscribe(new _n(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Jo(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Fr(1)).subscribe(()=>e())}function Vn(e){for(let t in e)if(e[t]===Vn)return t;throw Error("Could not find renamed property on target object.")}function Ou(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Di(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Di).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ul(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Oa=Vn({__forward_ref__:Vn});function Wn(e){return e.__forward_ref__=Wn,e.toString=function(){return Di(this())},e}function ti(e){return Ko(e)?e():e}function Ko(e){return"function"==typeof e&&e.hasOwnProperty(Oa)&&e.__forward_ref__===Wn}class Jr extends Error{constructor(t,n){super(function li(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function wr(e){return"string"==typeof e?e:null==e?"":String(e)}function ar(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():wr(e)}function aa(e,t){const n=t?` in ${t}`:"";throw new Jr(-201,`No provider for ${ar(e)} found${n}`)}function Ci(e,t){null==e&&function hi(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function _r(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ea(e){return{providers:e.providers||[],imports:e.imports||[]}}function mo(e){return hc(e,Ru)||hc(e,Ll)}function hc(e,t){return e.hasOwnProperty(t)?e[t]:null}function va(e){return e&&(e.hasOwnProperty(ro)||e.hasOwnProperty(au))?e[ro]:null}const Ru=Vn({\u0275prov:Vn}),ro=Vn({\u0275inj:Vn}),Ll=Vn({ngInjectableDef:Vn}),au=Vn({ngInjectorDef:Vn});var Tr=(()=>((Tr=Tr||{})[Tr.Default=0]="Default",Tr[Tr.Host=1]="Host",Tr[Tr.Self=2]="Self",Tr[Tr.SkipSelf=4]="SkipSelf",Tr[Tr.Optional=8]="Optional",Tr))();let Ki;function io(e){const t=Ki;return Ki=e,t}function zs(e,t,n){const r=mo(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Tr.Optional?null:void 0!==t?t:void aa(Di(e),"Injector")}function gl(e){return{toString:e}.toString()}var _l=(()=>((_l=_l||{})[_l.OnPush=0]="OnPush",_l[_l.Default=1]="Default",_l))(),Ti=(()=>{return(e=Ti||(Ti={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ti;var e})();const kr="undefined"!=typeof globalThis&&globalThis,Na="undefined"!=typeof window&&window,Bo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bi=kr||"undefined"!=typeof global&&global||Na||Bo,Kn={},Bs=[],xa=Vn({\u0275cmp:Vn}),jo=Vn({\u0275dir:Vn}),la=Vn({\u0275pipe:Vn}),Hl=Vn({\u0275mod:Vn}),sl=Vn({\u0275fac:Vn}),Ju=Vn({__NG_ELEMENT_ID__:Vn});let kc=0;function vr(e){return gl(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===_l.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Bs,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ti.Emulated,id:"c",styles:e.styles||Bs,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,f=e.pipes;return r.id+=kc++,r.inputs=Du(e.inputs,n),r.outputs=Du(e.outputs),o&&o.forEach(_=>_(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ws):null,r.pipeDefs=f?()=>("function"==typeof f?f():f).map(wa):null,r})}function Ws(e){return Pi(e)||function Fa(e){return e[jo]||null}(e)}function wa(e){return function Wa(e){return e[la]||null}(e)}const ua={};function ca(e){return gl(()=>{const t={type:e.type,bootstrap:e.bootstrap||Bs,declarations:e.declarations||Bs,imports:e.imports||Bs,exports:e.exports||Bs,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ua[e.id]=e.type),t})}function Du(e,t){if(null==e)return Kn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const Hn=vr;function Pi(e){return e[xa]||null}function Uo(e,t){const n=e[Hl]||null;if(!n&&!0===t)throw new Error(`Type ${Di(e)} does not have '\u0275mod' property.`);return n}function Is(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ni(e){return Array.isArray(e)&&!0===e[1]}function al(e){return 0!=(8&e.flags)}function go(e){return 2==(2&e.flags)}function ll(e){return 1==(1&e.flags)}function Co(e){return null!==e.template}function Cu(e){return 0!=(512&e[2])}function Lo(e,t){return e.hasOwnProperty(sl)?e[sl]:null}class $l{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function qi(){return Ba}function Ba(e){return e.type.prototype.ngOnChanges&&(e.setInput=Da),Zl}function Zl(){const e=Ps(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Kn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Da(e,t,n,r){const i=Ps(e)||function jc(e,t){return e[Pl]=t}(e,{previous:Kn,current:null}),o=i.current||(i.current={}),f=i.previous,_=this.declaredInputs[n],x=f[_];o[_]=new $l(x&&x.currentValue,t,f===Kn),e[r]=t}qi.ngInherit=!0;const Pl="__ngSimpleChanges__";function Ps(e){return e[Pl]||null}const ch="http://www.w3.org/2000/svg";let Xl;function mi(e){return!!e.listen}const Tu={createRenderer:(e,t)=>function Qs(){return void 0!==Xl?Xl:"undefined"!=typeof document?document:void 0}()};function ri(e){for(;Array.isArray(e);)e=e[0];return e}function zu(e,t){return ri(t[e])}function Ca(e,t){return ri(t[e.index])}function Gn(e,t){return e.data[t]}function ra(e,t){const n=t[e];return Is(n)?n:n[0]}function fu(e){return 4==(4&e[2])}function Bu(e){return 128==(128&e[2])}function Za(e,t){return null==t?null:e[t]}function gc(e){e[18]=0}function ju(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Pr={lFrame:k(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ma(){return Pr.bindingsEnabled}function un(){return Pr.lFrame.lView}function ki(){return Pr.lFrame.tView}function gi(e){return Pr.lFrame.contextLView=e,e[8]}function a(){let e=h();for(;null!==e&&64===e.type;)e=e.parent;return e}function h(){return Pr.lFrame.currentTNode}function v(e,t){const n=Pr.lFrame;n.currentTNode=e,n.isParent=t}function C(){return Pr.lFrame.isParent}function V(){Pr.lFrame.isParent=!1}function Ue(){return Pr.isInCheckNoChangesMode}function vt(e){Pr.isInCheckNoChangesMode=e}function Bt(){const e=Pr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Cn(){return Pr.lFrame.bindingIndex++}function Yn(e){const t=Pr.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function so(e,t){const n=Pr.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ol(t)}function Ol(e){Pr.lFrame.currentDirectiveIndex=e}function ku(){return Pr.lFrame.currentQueryIndex}function M(e){Pr.lFrame.currentQueryIndex=e}function l(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function m(e,t,n){if(n&Tr.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Tr.Host||(i=l(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Pr.lFrame=S();return r.currentTNode=t,r.lView=e,!0}function w(e){const t=S(),n=e[1];Pr.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function S(){const e=Pr.lFrame,t=null===e?null:e.child;return null===t?k(e):t}function k(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function z(){const e=Pr.lFrame;return Pr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const G=z;function K(){const e=z();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ce(){return Pr.lFrame.selectedIndex}function Pe(e){Pr.lFrame.selectedIndex=e}function je(){const e=Pr.lFrame;return Gn(e.tView,e.selectedIndex)}function et(){Pr.lFrame.currentNamespace=ch}function Ke(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:_,ngAfterViewInit:x,ngAfterViewChecked:b,ngOnDestroy:T}=o;f&&(e.contentHooks||(e.contentHooks=[])).push(-n,f),_&&((e.contentHooks||(e.contentHooks=[])).push(n,_),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,_)),x&&(e.viewHooks||(e.viewHooks=[])).push(-n,x),b&&((e.viewHooks||(e.viewHooks=[])).push(n,b),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,b)),null!=T&&(e.destroyHooks||(e.destroyHooks=[])).push(n,T)}}function ft(e,t,n){Zt(e,t,3,n)}function Dt(e,t,n,r){(3&e[2])===n&&Zt(e,t,n,r)}function Jt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Zt(e,t,n,r){const o=null!=r?r:-1,f=t.length-1;let _=0;for(let x=void 0!==r?65535&e[18]:0;x<f;x++)if("number"==typeof t[x+1]){if(_=t[x],null!=r&&_>=r)break}else t[x]<0&&(e[18]+=65536),(_<o||-1==o)&&(an(e,n,t,x),e[18]=(4294901760&e[18])+x+2),x++}function an(e,t,n,r){const i=n[r]<0,o=n[r+1],_=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(_)}finally{}}}else try{o.call(_)}finally{}}class xn{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nr(e,t,n){const r=mi(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const f=n[i++],_=n[i++],x=n[i++];r?e.setAttribute(t,_,x,f):t.setAttributeNS(f,_,x)}else{const f=o,_=n[++i];Wr(f)?r&&e.setProperty(t,f,_):r?e.setAttribute(t,f,_):t.setAttribute(f,_),i++}}return i}function yr(e){return 3===e||4===e||6===e}function Wr(e){return 64===e.charCodeAt(0)}function _i(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||ga(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function ga(e,t,n,r,i){let o=0,f=e.length;if(-1===t)f=-1;else for(;o<e.length;){const _=e[o++];if("number"==typeof _){if(_===t){f=-1;break}if(_>t){f=o-1;break}}}for(;o<e.length;){const _=e[o];if("number"==typeof _)break;if(_===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==f&&(e.splice(f,0,t),o=f+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Ja(e){return-1!==e}function _a(e){return 32767&e}function Io(e,t){let n=function Rl(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Uu=!0;function pu(e){const t=Uu;return Uu=e,t}let vo=0;function Us(e,t){const n=Gc(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Nl(r.data,e),Nl(t,null),Nl(r.blueprint,null));const i=Va(e,t),o=e.injectorIndex;if(Ja(i)){const f=_a(i),_=Io(i,t),x=_[1].data;for(let b=0;b<8;b++)t[o+b]=_[f+b]|x[f+b]}return t[o+8]=i,o}function Nl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Gc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Va(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const o=i[1],f=o.type;if(r=2===f?o.declTNode:1===f?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function wl(e,t,n){!function ul(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ju)&&(r=n[Ju]),null==r&&(r=n[Ju]=vo++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ai(e,t,n){if(n&Tr.Optional)return e;aa(t,"NodeInjector")}function L(e,t,n,r){if(n&Tr.Optional&&void 0===r&&(r=null),0==(n&(Tr.Self|Tr.Host))){const i=e[9],o=io(void 0);try{return i?i.get(t,r,n&Tr.Optional):zs(t,r,n&Tr.Optional)}finally{io(o)}}return Ai(r,t,n)}function U(e,t,n,r=Tr.Default,i){if(null!==e){const o=function Ur(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ju)?e[Ju]:void 0;return"number"==typeof t?t>=0?255&t:pe:t}(n);if("function"==typeof o){if(!m(t,e,r))return r&Tr.Host?Ai(i,n,r):L(t,n,r,i);try{const f=o(r);if(null!=f||r&Tr.Optional)return f;aa(n)}finally{G()}}else if("number"==typeof o){let f=null,_=Gc(e,t),x=-1,b=r&Tr.Host?t[16][6]:null;for((-1===_||r&Tr.SkipSelf)&&(x=-1===_?Va(e,t):t[_+8],-1!==x&&xo(r,!1)?(f=t[1],_=_a(x),t=Io(x,t)):_=-1);-1!==_;){const T=t[1];if(ji(o,_,T.data)){const A=Ne(_,t,n,f,r,b);if(A!==te)return A}x=t[_+8],-1!==x&&xo(r,t[1].data[_+8]===b)&&ji(o,_,t)?(f=T,_=_a(x),t=Io(x,t)):_=-1}}}return L(t,n,r,i)}const te={};function pe(){return new mu(a(),un())}function Ne(e,t,n,r,i,o){const f=t[1],_=f.data[e+8],T=St(_,f,n,null==r?go(_)&&Uu:r!=f&&0!=(3&_.type),i&Tr.Host&&o===_);return null!==T?hn(t,f,T,_):te}function St(e,t,n,r,i){const o=e.providerIndexes,f=t.data,_=1048575&o,x=e.directiveStart,T=o>>20,R=i?_+T:e.directiveEnd;for(let Y=r?_:_+T;Y<R;Y++){const ue=f[Y];if(Y<x&&n===ue||Y>=x&&ue.type===n)return Y}if(i){const Y=f[x];if(Y&&Co(Y)&&Y.type===n)return x}return null}function hn(e,t,n,r){let i=e[n];const o=t.data;if(function on(e){return e instanceof xn}(i)){const f=i;f.resolving&&function uc(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Jr(-200,`Circular dependency in DI detected for ${e}${n}`)}(ar(o[n]));const _=pu(f.canSeeViewProviders);f.resolving=!0;const x=f.injectImpl?io(f.injectImpl):null;m(e,r,Tr.Default);try{i=e[n]=f.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ut(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const f=Ba(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,f)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==x&&io(x),pu(_),f.resolving=!1,G()}}return i}function ji(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function xo(e,t){return!(e&Tr.Self||e&Tr.Host&&t)}class mu{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return U(this._tNode,this._lView,t,r,n)}}function Oo(e){return gl(()=>{const t=e.prototype.constructor,n=t[sl]||Ic(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[sl]||Ic(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ic(e){return Ko(e)?()=>{const t=Ic(ti(e));return t&&t()}:Lo(e)}const Xh="__parameters__",Ph="__prop__metadata__";function rf(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}function Ld(e,t,n){return gl(()=>{const r=rf(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const f=new i(...o);return _.annotation=f,_;function _(x,b,T){const A=x.hasOwnProperty(Xh)?x[Xh]:Object.defineProperty(x,Xh,{value:[]})[Xh];for(;A.length<=T;)A.push(null);return(A[T]=A[T]||[]).push(f),x}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function sf(e,t,n,r){return gl(()=>{const i=rf(t);function o(...f){if(this instanceof o)return i.apply(this,f),this;const _=new o(...f);return function x(b,T){const A=b.constructor,R=A.hasOwnProperty(Ph)?A[Ph]:Object.defineProperty(A,Ph,{value:{}})[Ph];R[T]=R.hasOwnProperty(T)&&R[T]||[],R[T].unshift(_),r&&r(b,T,...f)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Oi{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_r({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lx=new Oi("AnalyzeForEntryComponents");class Xf{}const Kh=sf("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Xf);function Hu(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Hu(r,t)):t!==e&&t.push(r)}return t}function bl(e,t){e.forEach(n=>Array.isArray(n)?bl(n,t):t(n))}function Wy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Gp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gu(e,t,n){let r=Qh(e,t);return r>=0?e[1|r]=n:(r=~r,function $y(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Qf(e,t){const n=Qh(e,t);if(n>=0)return e[1|n]}function Qh(e,t){return function qc(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),f=e[o<<n];if(t===f)return o<<n;f>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Wc={},lf="__NG_DI_FLAG__",uf="ngTempTokenPath",hx=/\n/gm,Jy="__source",Ig=Vn({provide:String,useValue:Vn});let ep;function Xp(e){const t=ep;return ep=e,t}function Ky(e,t=Tr.Default){if(void 0===ep)throw new Jr(203,"");return null===ep?zs(e,void 0,t):ep.get(e,t&Tr.Optional?null:void 0,t)}function Er(e,t=Tr.Default){return(function Nu(){return Ki}()||Ky)(ti(e),t)}function Pg(e){const t=[];for(let n=0;n<e.length;n++){const r=ti(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Jr(900,"");let i,o=Tr.Default;for(let f=0;f<r.length;f++){const _=r[f],x=Jp(_);"number"==typeof x?-1===x?i=_.token:o|=x:i=_}t.push(Er(i,o))}else t.push(Er(r))}return t}function ph(e,t){return e[lf]=t,e.prototype[lf]=t,e}function Jp(e){return e[lf]}const cf=ph(Ld("Inject",e=>({token:e})),-1),mh=ph(Ld("Optional"),8),Pd=ph(Ld("SkipSelf"),4);class tm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function rd(e){return e instanceof tm?e.changingThisBreaksApplicationSecurity:e}const Dx=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ex=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ml=(()=>((Ml=Ml||{})[Ml.NONE=0]="NONE",Ml[Ml.HTML=1]="HTML",Ml[Ml.STYLE=2]="STYLE",Ml[Ml.SCRIPT=3]="SCRIPT",Ml[Ml.URL=4]="URL",Ml[Ml.RESOURCE_URL=5]="RESOURCE_URL",Ml))();function Yd(e){const t=function $c(){const e=un();return e&&e[12]}();return t?t.sanitize(Ml.URL,e)||"":function rp(e,t){const n=function nm(e){return e instanceof tm&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?rd(e):function pf(e){return(e=String(e)).match(Dx)||e.match(Ex)?e:"unsafe:"+e}(wr(e))}const Xg="__ngContext__";function Jl(e,t){e[Xg]=t}function Jg(e){const t=function ap(e){return e[Xg]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function lm(e){return e.ngOriginalError}function _v(e,...t){e.error(...t)}class vf{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function gv(e){return e&&e.ngErrorLogger||_v}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&lm(t);for(;n&&lm(n);)n=lm(n);return n||null}}const vv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bi))();function wf(e){return e.ownerDocument}function Zc(e){return e instanceof Function?e():e}var Ku=(()=>((Ku=Ku||{})[Ku.Important=1]="Important",Ku[Ku.DashCase=2]="DashCase",Ku))();function Xc(e,t){return undefined(e,t)}function up(e){const t=e[3];return Ni(t)?t[3]:t}function n_(e){return Mv(e[13])}function r_(e){return Mv(e[4])}function Mv(e){for(;null!==e&&!Ni(e);)e=e[4];return e}function Df(e,t,n,r,i){if(null!=r){let o,f=!1;Ni(r)?o=r:Is(r)&&(f=!0,r=r[0]);const _=ri(r);0===e&&null!==n?null==i?u_(t,n,_):jd(t,n,_,i||null,!0):1===e&&null!==n?jd(t,n,_,i||null,!0):2===e?function m_(e,t,n){const r=Cf(e,t);r&&function h_(e,t,n,r){mi(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,_,f):3===e&&t.destroyNode(_),null!=o&&function __(e,t,n,r,i){const o=n[7];o!==ri(n)&&Df(t,e,r,o,i);for(let _=10;_<n.length;_++){const x=n[_];Oh(x[1],x,e,t,r,o)}}(t,e,o,n,i)}}function dm(e,t,n){return mi(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Qu(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,ju(i,-1)),n.splice(r,1)}function zd(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Qu(i,r),t>0&&(e[n-1][4]=r[4]);const o=Gp(e,10+t);!function Hx(e,t){Oh(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const f=o[19];null!==f&&f.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Bd(e,t){if(!(256&t[2])){const n=t[11];mi(n)&&n.destroyNode&&Oh(e,t,n,3,null,null),function s_(e){let t=e[13];if(!t)return hp(e[1],e);for(;t;){let n=null;if(Is(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Is(t)&&hp(t[1],t),t=t[3];null===t&&(t=e),Is(t)&&hp(t[1],t),n=t&&t[4]}t=n}}(t)}}function hp(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Wx(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof xn)){const o=n[r+1];if(Array.isArray(o))for(let f=0;f<o.length;f+=2){const _=i[o[f]],x=o[f+1];try{x.call(_)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function fm(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const f=n[o+1],_="function"==typeof f?f(t):ri(t[f]),x=r[i=n[o+2]],b=n[o+3];"boolean"==typeof b?_.removeEventListener(n[o],x,b):b>=0?r[i=b]():r[i=-b].unsubscribe(),o+=2}else{const f=r[i=n[o+1]];n[o].call(f)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(e,t),1===t[1].type&&mi(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Ni(t[3])){n!==t[3]&&Qu(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function a_(e,t,n){return function l_(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Ti.None||i===Ti.Emulated)return null}return Ca(r,n)}(e,t.parent,n)}function jd(e,t,n,r,i){mi(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function u_(e,t,n){mi(e)?e.appendChild(t,n):t.appendChild(n)}function c_(e,t,n,r,i){null!==r?jd(e,t,n,r,i):u_(e,t,n)}function Cf(e,t){return mi(e)?e.parentNode(t):t.parentNode}let Ah=function d_(e,t,n){return 40&e.type?Ca(e,n):null};function dp(e,t,n,r){const i=a_(e,r,t),o=t[11],_=function Cv(e,t,n){return Ah(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let x=0;x<n.length;x++)c_(o,i,n[x],_,!1);else c_(o,i,n,_,!1)}function fp(e,t){if(null!==t){const n=t.type;if(3&n)return Ca(t,e);if(4&n)return p_(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return fp(e,r);{const i=e[t.index];return Ni(i)?p_(-1,i):ri(i)}}if(32&n)return Xc(t,e)()||ri(e[t.index]);{const r=Tv(e,t);return null!==r?Array.isArray(r)?r[0]:fp(up(e[16]),r):fp(e,t.next)}}return null}function Tv(e,t){return null!==t?e[16][6].projection[t.projection]:null}function p_(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return fp(r,i)}return t[7]}function mm(e,t,n,r,i,o,f){for(;null!=n;){const _=r[n.index],x=n.type;if(f&&0===t&&(_&&Jl(ri(_),r),n.flags|=4),64!=(64&n.flags))if(8&x)mm(e,t,n.child,r,i,o,!1),Df(t,e,i,_,o);else if(32&x){const b=Xc(n,r);let T;for(;T=b();)Df(t,e,i,T,o);Df(t,e,i,_,o)}else 16&x?g_(e,t,r,n,i,o):Df(t,e,i,_,o);n=f?n.projectionNext:n.next}}function Oh(e,t,n,r,i,o){mm(n,r,e.firstChild,t,i,o,!1)}function g_(e,t,n,r,i,o){const f=n[16],x=f[6].projection[r.projection];if(Array.isArray(x))for(let b=0;b<x.length;b++)Df(t,e,i,x[b],o);else mm(e,t,x,f[3],i,o,!0)}function y_(e,t,n){mi(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Sf(e,t,n){mi(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function v_(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const pp="ng-template";function $x(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==v_(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Lv(e){return 4===e.type&&e.value!==pp}function Zx(e,t,n){return t===(4!==e.type||n?e.value:pp)}function Xx(e,t,n){let r=4;const i=e.attrs||[],o=function kv(e){for(let t=0;t<e.length;t++)if(yr(e[t]))return t;return e.length}(i);let f=!1;for(let _=0;_<t.length;_++){const x=t[_];if("number"!=typeof x){if(!f)if(4&r){if(r=2|1&r,""!==x&&!Zx(e,x,n)||""===x&&1===t.length){if(Jc(r))return!1;f=!0}}else{const b=8&r?x:t[++_];if(8&r&&null!==e.attrs){if(!$x(e.attrs,b,n)){if(Jc(r))return!1;f=!0}continue}const A=Lf(8&r?"class":x,i,Lv(e),n);if(-1===A){if(Jc(r))return!1;f=!0;continue}if(""!==b){let R;R=A>o?"":i[A+1].toLowerCase();const Y=8&r?R:null;if(Y&&-1!==v_(Y,b,0)||2&r&&b!==R){if(Jc(r))return!1;f=!0}}}}else{if(!f&&!Jc(r)&&!Jc(x))return!1;if(f&&Jc(x))continue;f=!1,r=x|1&r}}return Jc(r)||f}function Jc(e){return 0==(1&e)}function Lf(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const f=t[i];if(f===e)return i;if(3===f||6===f)o=!0;else{if(1===f||2===f){let _=t[++i];for(;"string"==typeof _;)_=t[++i];continue}if(4===f)break;if(0===f){i+=4;continue}}i+=o?1:2}return-1}return function Kx(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function gm(e,t,n=!1){for(let r=0;r<t.length;r++)if(Xx(e,t[r],n))return!0;return!1}function Iv(e,t){return e?":not("+t.trim()+")":t}function id(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&r){const _=e[++n];i+="["+f+(_.length>0?'="'+_+'"':"")+"]"}else 8&r?i+="."+f:4&r&&(i+=" "+f);else""!==i&&!Jc(f)&&(t+=Iv(o,i),i=""),r=f,o=o||!Jc(r);n++}return""!==i&&(t+=Iv(o,i)),t}const di={};function $t(e){Ov(ki(),un(),ce()+e,Ue())}function Ov(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&ft(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Dt(t,o,0,n)}Pe(n)}function _m(e,t){return e<<17|t<<2}function ec(e){return e>>17&32767}function mp(e){return 2|e}function Kc(e){return(131068&e)>>2}function _h(e,t){return-131069&e|t<<2}function gp(e){return 1|e}function S_(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const f=e.data[o];M(i),f.contentQueries(2,t[o],o)}}}function kf(e,t,n,r,i,o,f,_,x,b){const T=t.blueprint.slice();return T[0]=i,T[2]=140|r,gc(T),T[3]=T[15]=e,T[8]=n,T[10]=f||e&&e[10],T[11]=_||e&&e[11],T[12]=x||e&&e[12]||null,T[9]=b||e&&e[9]||null,T[6]=o,T[16]=2==t.type?e[16]:T,T}function Fh(e,t,n,r,i){let o=e.data[t];if(null===o)o=function L_(e,t,n,r,i){const o=h(),f=C(),x=e.data[t]=function lw(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=x),null!==o&&(f?null==o.child&&null!==x.parent&&(o.child=x):null===o.next&&(o.next=x)),x}(e,t,n,r,i),function sr(){return Pr.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const f=function g(){const e=Pr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===f?-1:f.injectorIndex}return v(o,!0),o}function eh(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ud(e,t,n){w(t);try{const r=e.viewQuery;null!==r&&Nn(1,r,n);const i=e.template;null!==i&&Sm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&S_(e,t),e.staticViewQueries&&Nn(2,e.viewQuery,n);const o=e.components;null!==o&&function sd(e,t){for(let n=0;n<t.length;n++)Ye(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,K()}}function od(e,t,n,r){const i=t[2];if(256==(256&i))return;w(t);const o=Ue();try{gc(t),function Ln(e){return Pr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Sm(e,t,n,2,r);const f=3==(3&i);if(!o)if(f){const b=e.preOrderCheckHooks;null!==b&&ft(t,b,null)}else{const b=e.preOrderHooks;null!==b&&Dt(t,b,0,null),Jt(t,0)}if(function ee(e){for(let t=n_(e);null!==t;t=r_(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&ju(o,1),i[2]|=1024}}}(t),function J(e){for(let t=n_(e);null!==t;t=r_(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Bu(r)&&od(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&S_(e,t),!o)if(f){const b=e.contentCheckHooks;null!==b&&ft(t,b)}else{const b=e.contentHooks;null!==b&&Dt(t,b,1),Jt(t,1)}!function Hv(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Pe(~i);else{const o=i,f=n[++r],_=n[++r];so(f,o),_(2,t[o])}}}finally{Pe(-1)}}(e,t);const _=e.components;null!==_&&function Gv(e,t){for(let n=0;n<t.length;n++)me(e,t[n])}(t,_);const x=e.viewQuery;if(null!==x&&Nn(2,x,r),!o)if(f){const b=e.viewCheckHooks;null!==b&&ft(t,b)}else{const b=e.viewHooks;null!==b&&Dt(t,b,2),Jt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ju(t[3],-1))}finally{K()}}function vh(e,t,n,r){const i=t[10],o=!Ue(),f=fu(t);try{o&&!f&&i.begin&&i.begin(),f&&Ud(e,t,r),od(e,t,n,r)}finally{o&&!f&&i.end&&i.end()}}function Sm(e,t,n,r,i){const o=ce(),f=2&r;try{Pe(-1),f&&t.length>20&&Ov(e,t,20,Ue()),n(r,i)}finally{Pe(o)}}function Lm(e,t,n){if(al(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const f=e.data[o];f.contentQueries&&f.contentQueries(1,n[o],o)}}}function vc(e,t,n){!ma()||(function hw(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Us(n,t),Jl(r,t);const f=n.initialInputs;for(let _=i;_<o;_++){const x=e.data[_],b=Co(x);b&&y(t,n,x);const T=hn(t,e,_,n);Jl(T,t),null!==f&&P(0,_-i,T,x,0,f),b&&(ra(n.index,t)[8]=T)}}(e,t,n,Ca(n,t)),128==(128&n.flags)&&function Zv(e,t,n){const r=n.directiveStart,i=n.directiveEnd,f=n.index,_=function ko(){return Pr.lFrame.currentDirectiveIndex}();try{Pe(f);for(let x=r;x<i;x++){const b=e.data[x],T=t[x];Ol(x),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Xv(b,T)}}finally{Pe(-1),Ol(_)}}(e,t,n))}function Yh(e,t,n=Ca){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const f=r[o+1],_=-1===f?n(t,e):e[f];e[i++]=_}}}function k_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=wp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function wp(e,t,n,r,i,o,f,_,x,b){const T=20+r,A=T+i,R=function km(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:di);return n}(T,A),Y="function"==typeof b?b():b;return R[1]={type:e,blueprint:R,template:n,queries:null,viewQuery:_,declTNode:t,data:R.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:x,consts:Y,incompleteFirstPass:!1}}function P_(e,t,n,r){const i=Dn(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Tn(e).push(r,i.length-1))}function Im(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function xc(e,t,n,r,i,o,f,_){const x=Ca(t,n);let T,b=t.inputs;!_&&null!=b&&(T=b[r])?($n(e,n,T,r,i),go(t)&&function bp(e,t){const n=ra(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function $v(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=f?f(i,t.value||"",r):i,mi(o)?o.setProperty(x,r,i):Wr(r)||(x.setProperty?x.setProperty(r,i):x[r]=i))}function ad(e,t,n,r){let i=!1;if(ma()){const o=function Jv(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const f=r[o];gm(n,f.selectors,!1)&&(i||(i=[]),wl(Us(n,t),e,f.type),Co(f)?(A_(e,n),i.unshift(f)):i.push(f))}return i}(e,t,n),f=null===r?null:{"":-1};if(null!==o){i=!0,c(n,e.data.length,o.length);for(let T=0;T<o.length;T++){const A=o[T];A.providersResolver&&A.providersResolver(A)}let _=!1,x=!1,b=eh(e,t,o.length,null);for(let T=0;T<o.length;T++){const A=o[T];n.mergedAttrs=_i(n.mergedAttrs,A.hostAttrs),p(e,n,t,b,A),s(b,A,f),null!==A.contentQueries&&(n.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=128);const R=A.type.prototype;!_&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),_=!0),!x&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),x=!0),b++}!function Wv(e,t){const r=t.directiveEnd,i=e.data,o=t.attrs,f=[];let _=null,x=null;for(let b=t.directiveStart;b<r;b++){const T=i[b],A=T.inputs,R=null===o||Lv(t)?null:N(A,o);f.push(R),_=Im(A,b,_),x=Im(T.outputs,b,x)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=16),_.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=f,t.inputs=_,t.outputs=x}(e,n)}f&&function u(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Jr(-301,`Export of name '${t[i+1]}' not found!`);r.push(t[i],o)}}}(n,r,f)}return n.mergedAttrs=_i(n.mergedAttrs,n.attrs),i}function Ep(e,t,n,r,i,o){const f=o.hostBindings;if(f){let _=e.hostBindingOpCodes;null===_&&(_=e.hostBindingOpCodes=[]);const x=~t.index;(function cw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(_)!=x&&_.push(x),_.push(r,i,f)}}function Xv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function A_(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function s(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Co(t)&&(n[""]=e)}}function c(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function p(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Lo(i.type)),f=new xn(o,Co(i),null);e.blueprint[r]=f,n[r]=f,Ep(e,t,0,r,eh(e,n,i.hostVars,di),i)}function y(e,t,n){const r=Ca(t,e),i=k_(n),o=e[10],f=lt(e,kf(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=f}function D(e,t,n,r,i,o){const f=Ca(e,t);!function E(e,t,n,r,i,o,f){if(null==o)mi(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const _=null==f?wr(o):f(o,r||"",i);mi(e)?e.setAttribute(t,i,_,n):n?t.setAttributeNS(n,i,_):t.setAttribute(i,_)}}(t[11],f,o,e.value,n,r,i)}function P(e,t,n,r,i,o){const f=o[t];if(null!==f){const _=r.setInput;for(let x=0;x<f.length;){const b=f[x++],T=f[x++],A=f[x++];null!==_?r.setInput(n,A,b,T):n[T]=A}}}function N(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Z(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function me(e,t){const n=ra(t,e);if(Bu(n)){const r=n[1];80&n[2]?od(r,n,r.template,n[8]):n[5]>0&&Me(n)}}function Me(e){for(let r=n_(e);null!==r;r=r_(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const f=o[1];od(f,o,f.template,o[8])}else o[5]>0&&Me(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ra(n[r],e);Bu(i)&&i[5]>0&&Me(i)}}function Ye(e,t){const n=ra(t,e),r=n[1];(function nt(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Ud(r,n,n[8])}function lt(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function wt(e){for(;e;){e[2]|=64;const t=up(e);if(Cu(e)&&!t)return e;e=t}return null}function At(e,t,n){const r=t[10];r.begin&&r.begin();try{od(e,t,e.template,n)}catch(i){throw zn(t,i),i}finally{r.end&&r.end()}}function Nt(e){!function Ot(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Jg(n),i=r[1];vh(i,r,i.template,n)}}(e[8])}function Nn(e,t,n){M(0),t(e,n)}const dn=(()=>Promise.resolve(null))();function Dn(e){return e[7]||(e[7]=[])}function Tn(e){return e.cleanup||(e.cleanup=[])}function zn(e,t){const n=e[9],r=n?n.get(vf,null):null;r&&r.handleError(t)}function $n(e,t,n,r,i){for(let o=0;o<n.length;){const f=n[o++],_=n[o++],x=t[f],b=e.data[f];null!==b.setInput?b.setInput(x,i,r,_):x[_]=i}}function Yr(e,t,n){const r=zu(t,e);!function cp(e,t,n){mi(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function eo(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let f=0;f<t.length;f++){const _=t[f];"number"==typeof _?o=_:1==o?i=Ul(i,_):2==o&&(r=Ul(r,_+": "+t[++f]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ao=new Oi("INJECTOR",-1);class ns{get(t,n=Wc){if(n===Wc){const r=new Error(`NullInjectorError: No provider for ${Di(t)}!`);throw r.name="NullInjectorError",r}return n}}const La=new Oi("Set Injector scope."),ia={},cl={};let hl;function to(){return void 0===hl&&(hl=new ns),hl}function As(e,t=null,n=null,r){const i=Ro(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Ro(e,t=null,n=null,r){return new Kl(e,n,t||to(),r)}class Kl{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&bl(n,_=>this.processProvider(_,t,n)),bl([t],_=>this.processInjectorType(_,[],o)),this.records.set(ao,El(void 0,this));const f=this.records.get(La);this.scope=null!=f?f.value:null,this.source=i||("object"==typeof t?null:Di(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Wc,r=Tr.Default){this.assertNotDestroyed();const i=Xp(this),o=io(void 0);try{if(!(r&Tr.SkipSelf)){let _=this.records.get(t);if(void 0===_){const x=function yu(e){return"function"==typeof e||"object"==typeof e&&e instanceof Oi}(t)&&mo(t);_=x&&this.injectableDefInScope(x)?El(ka(t),ia):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(r&Tr.Self?to():this.parent).get(t,n=r&Tr.Optional&&n===Wc?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[uf]=f[uf]||[]).unshift(Di(t)),i)throw f;return function Qy(e,t,n,r){const i=e[uf];throw t[Jy]&&i.unshift(t[Jy]),e.message=function ev(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=Di(t);if(Array.isArray(t))i=t.map(Di).join(" -> ");else if("object"==typeof t){let o=[];for(let f in t)if(t.hasOwnProperty(f)){let _=t[f];o.push(f+":"+("string"==typeof _?JSON.stringify(_):Di(_)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(hx,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[uf]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{io(o),Xp(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Di(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Jr(205,"")}processInjectorType(t,n,r){if(!(t=ti(t)))return!1;let i=va(t);const o=null==i&&t.ngModule||void 0,f=void 0===o?t:o,_=-1!==r.indexOf(f);if(void 0!==o&&(i=va(o)),null==i)return!1;if(null!=i.imports&&!_){let T;r.push(f);try{bl(i.imports,A=>{this.processInjectorType(A,n,r)&&(void 0===T&&(T=[]),T.push(A))})}finally{}if(void 0!==T)for(let A=0;A<T.length;A++){const{ngModule:R,providers:Y}=T[A];bl(Y,ue=>this.processProvider(ue,R,Y||Bs))}}this.injectorDefTypes.add(f);const x=Lo(f)||(()=>new f);this.records.set(f,El(x,ia));const b=i.providers;if(null!=b&&!_){const T=t;bl(b,A=>this.processProvider(A,T,b))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,r){let i=No(t=ti(t))?t:ti(t&&t.provide);const o=function Ql(e,t,n){return po(e)?El(void 0,e.useValue):El(sa(e),ia)}(t);if(No(t)||!0!==t.multi)this.records.get(i);else{let f=this.records.get(i);f||(f=El(void 0,ia,!0),f.factory=()=>Pg(f.multi),this.records.set(i,f)),i=t,f.multi.push(t)}this.records.set(i,o)}hydrate(t,n){return n.value===ia&&(n.value=cl,n.value=n.factory()),"object"==typeof n.value&&n.value&&function wo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ti(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function ka(e){const t=mo(e),n=null!==t?t.factory:Lo(e);if(null!==n)return n;if(e instanceof Oi)throw new Jr(204,"");if(e instanceof Function)return function Dl(e){const t=e.length;if(t>0)throw function Ua(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Jr(204,"");const n=function dc(e){const t=e&&(e[Ru]||e[Ll]);if(t){const n=function Ks(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Jr(204,"")}function sa(e,t,n){let r;if(No(e)){const i=ti(e);return Lo(i)||ka(i)}if(po(e))r=()=>ti(e.useValue);else if(function Qa(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Pg(e.deps||[]));else if(function Ka(e){return!(!e||!e.useExisting)}(e))r=()=>Er(ti(e.useExisting));else{const i=ti(e&&(e.useClass||e.provide));if(!function dl(e){return!!e.deps}(e))return Lo(i)||ka(i);r=()=>new i(...Pg(e.deps))}return r}function El(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function po(e){return null!==e&&"object"==typeof e&&Ig in e}function No(e){return"function"==typeof e}let Xo=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return As({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return As({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Wc,e.NULL=new ns,e.\u0275prov=_r({token:e,providedIn:"any",factory:()=>Er(ao)}),e.__NG_ELEMENT_ID__=-1,e})();function uA(e,t){Ke(Jg(e)[1],a())}function Zs(e){let t=function aE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Co(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Jr(903,"");i=t.\u0275dir}if(i){if(n){r.push(i);const f=e;f.inputs=dw(e.inputs),f.declaredInputs=dw(e.declaredInputs),f.outputs=dw(e.outputs);const _=i.hostBindings;_&&fA(e,_);const x=i.viewQuery,b=i.contentQueries;if(x&&hA(e,x),b&&dA(e,b),Ou(e.inputs,i.inputs),Ou(e.declaredInputs,i.declaredInputs),Ou(e.outputs,i.outputs),Co(i)&&i.data.animation){const T=e.data;T.animation=(T.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let f=0;f<o.length;f++){const _=o[f];_&&_.ngInherit&&_(e),_===Zs&&(n=!1)}}t=Object.getPrototypeOf(t)}!function cA(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=_i(i.hostAttrs,n=_i(n,i.hostAttrs))}}(r)}function dw(e){return e===Kn?{}:e===Bs?[]:e}function hA(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function dA(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function fA(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let Qv=null;function Nm(){if(!Qv){const e=bi.Symbol;if(e&&e.iterator)Qv=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Qv=r)}}}return Qv}function F_(e){return!!fw(e)&&(Array.isArray(e)||!(e instanceof Map)&&Nm()in e)}function fw(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ud(e,t,n){return e[t]=n}function Y_(e,t){return e[t]}function rc(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Tp(e,t,n,r){const i=rc(e,t,n);return rc(e,t+1,r)||i}function cd(e,t,n,r){const i=un();return rc(i,Cn(),t)&&(ki(),D(je(),i,e,t,n,r)),cd}function Ym(e,t,n,r){return rc(e,Cn(),n)?t+wr(n)+r:di}function zm(e,t,n,r,i,o){const _=Tp(e,function Gt(){return Pr.lFrame.bindingIndex}(),n,i);return Yn(2),_?t+wr(n)+r+wr(i)+o:di}function cr(e,t,n,r,i,o,f,_){const x=un(),b=ki(),T=e+20,A=b.firstCreatePass?function xA(e,t,n,r,i,o,f,_,x){const b=t.consts,T=Fh(t,e,4,f||null,Za(b,_));ad(t,n,T,Za(b,x)),Ke(t,T);const A=T.tViews=wp(2,T,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,b);return null!==t.queries&&(t.queries.template(t,T),A.queries=t.queries.embeddedTView(T)),T}(T,b,x,t,n,r,i,o,f):b.data[T];v(A,!1);const R=x[11].createComment("");dp(b,x,R,A),Jl(R,x),lt(x,x[T]=Z(R,x,R,A)),ll(A)&&vc(b,x,A),null!=f&&Yh(x,A,_)}function yn(e,t=Tr.Default){const n=un();return null===n?Er(e,t):U(a(),n,ti(e),t)}function yw(){throw new Error("invalid")}function bn(e,t,n){const r=un();return rc(r,Cn(),t)&&xc(ki(),je(),r,e,t,r[11],n,!1),bn}function vw(e,t,n,r,i){const f=i?"class":"style";$n(e,n,t.inputs[f],f,r)}function ze(e,t,n,r){const i=un(),o=ki(),f=20+e,_=i[11],x=i[f]=dm(_,t,function at(){return Pr.lFrame.currentNamespace}()),b=o.firstCreatePass?function VA(e,t,n,r,i,o,f){const _=t.consts,b=Fh(t,e,2,i,Za(_,o));return ad(t,n,b,Za(_,f)),null!==b.attrs&&eo(b,b.attrs,!1),null!==b.mergedAttrs&&eo(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(f,o,i,0,t,n,r):o.data[f];v(b,!0);const T=b.mergedAttrs;null!==T&&Nr(_,x,T);const A=b.classes;null!==A&&Sf(_,x,A);const R=b.styles;null!==R&&y_(_,x,R),64!=(64&b.flags)&&dp(o,i,x,b),0===function Lu(){return Pr.lFrame.elementDepthCount}()&&Jl(x,i),function Vu(){Pr.lFrame.elementDepthCount++}(),ll(b)&&(vc(o,i,b),Lm(o,b,i)),null!==r&&Yh(i,b)}function Be(){let e=a();C()?V():(e=e.parent,v(e,!1));const t=e;!function Al(){Pr.lFrame.elementDepthCount--}();const n=ki();n.firstCreatePass&&(Ke(n,e),al(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Zn(e){return 0!=(16&e.flags)}(t)&&vw(n,t,un(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Rr(e){return 0!=(32&e.flags)}(t)&&vw(n,t,un(),t.stylesWithoutHost,!1)}function er(e,t,n,r){ze(e,t,n,r),Be()}function Pc(e,t,n){const r=un(),i=ki(),o=e+20,f=i.firstCreatePass?function UA(e,t,n,r,i){const o=t.consts,f=Za(o,r),_=Fh(t,e,8,"ng-container",f);return null!==f&&eo(_,f,!0),ad(t,n,_,Za(o,i)),null!==t.queries&&t.queries.elementStart(t,_),_}(o,i,r,t,n):i.data[o];v(f,!0);const _=r[o]=r[11].createComment("");dp(i,r,_,f),Jl(_,r),ll(f)&&(vc(i,r,f),Lm(i,f,r)),null!=n&&Yh(r,f)}function Ac(){let e=a();const t=ki();C()?V():(e=e.parent,v(e,!1)),t.firstCreatePass&&(Ke(t,e),al(e)&&t.queries.elementEnd(e))}function tu(){return un()}function z_(e){return!!e&&"function"==typeof e.then}const xw=function TE(e){return!!e&&"function"==typeof e.subscribe};function Cr(e,t,n,r){const i=un(),o=ki(),f=a();return function LE(e,t,n,r,i,o,f,_){const x=ll(r),T=e.firstCreatePass&&Tn(e),A=t[8],R=Dn(t);let Y=!0;if(3&r.type||_){const He=Ca(r,t),Se=_?_(He):He,_e=R.length,Ae=_?dt=>_(ri(dt[r.index])):r.index;if(mi(n)){let dt=null;if(!_&&x&&(dt=function GA(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const f=i[o];if(f===n&&i[o+1]===r){const _=t[7],x=i[o+2];return _.length>x?_[x]:null}"string"==typeof f&&(o+=2)}return null}(e,t,i,r.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=o,dt.__ngLastListenerFn__=o,Y=!1;else{o=ww(r,t,A,o,!1);const pt=n.listen(Se,i,o);R.push(o,pt),T&&T.push(i,Ae,_e,_e+1)}}else o=ww(r,t,A,o,!0),Se.addEventListener(i,o,f),R.push(o),T&&T.push(i,Ae,_e,f)}else o=ww(r,t,A,o,!1);const ue=r.outputs;let ge;if(Y&&null!==ue&&(ge=ue[i])){const He=ge.length;if(He)for(let Se=0;Se<He;Se+=2){const Rt=t[ge[Se]][ge[Se+1]].subscribe(o),Ft=R.length;R.push(o,Rt),T&&T.push(i,r.index,Ft,-(Ft+1))}}}(o,i,i[11],f,e,t,!!n,r),Cr}function kE(e,t,n,r){try{return!1!==n(r)}catch(i){return zn(e,i),!1}}function ww(e,t,n,r,i){return function o(f){if(f===Function)return r;const _=2&e.flags?ra(e.index,t):t;0==(32&t[2])&&wt(_);let x=kE(t,0,r,f),b=o.__ngNextListenerFn__;for(;b;)x=kE(t,0,b,f)&&x,b=b.__ngNextListenerFn__;return i&&!1===x&&(f.preventDefault(),f.returnValue=!1),x}}function Fn(e=1){return function oe(e){return(Pr.lFrame.contextLView=function le(e,t){for(;e>0;)t=t[15],e--;return t}(e,Pr.lFrame.contextLView))[8]}(e)}function bw(e,t,n){return Mw(e,"",t,"",n),bw}function Mw(e,t,n,r,i){const o=un(),f=Ym(o,t,n,r);return f!==di&&xc(ki(),je(),o,e,f,o[11],i,!1),Mw}function zE(e,t,n,r,i){const o=e[n+1],f=null===t;let _=r?ec(o):Kc(o),x=!1;for(;0!==_&&(!1===x||f);){const T=e[_+1];JA(e[_],t)&&(x=!0,e[_+1]=r?gp(T):mp(T)),_=r?ec(T):Kc(T)}x&&(e[n+1]=r?mp(o):gp(o))}function JA(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Qh(e,t)>=0}const vu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BE(e){return e.substring(vu.key,vu.keyEnd)}function jE(e,t){const n=vu.textEnd;return n===t?-1:(t=vu.keyEnd=function tO(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,vu.key=t,n),Wm(e,t,n))}function Wm(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function n0(e,t){return function Bh(e,t,n,r){const i=un(),o=ki(),f=Yn(2);o.firstUpdatePass&&$E(o,e,f,r),t!==di&&rc(i,f,t)&&XE(o,o.data[ce()],i,i[11],e,i[f+1]=function hO(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Di(rd(e)))),e}(t,n),r,f)}(e,t,null,!0),n0}function ic(e){!function jh(e,t,n,r){const i=ki(),o=Yn(2);i.firstUpdatePass&&$E(i,null,o,r);const f=un();if(n!==di&&rc(f,o,n)){const _=i.data[ce()];if(KE(_,r)&&!WE(i,o)){let x=r?_.classesWithoutHost:_.stylesWithoutHost;null!==x&&(n=Ul(x,n||"")),vw(i,_,f,n,r)}else!function cO(e,t,n,r,i,o,f,_){i===di&&(i=Bs);let x=0,b=0,T=0<i.length?i[0]:null,A=0<o.length?o[0]:null;for(;null!==T||null!==A;){const R=x<i.length?i[x+1]:void 0,Y=b<o.length?o[b+1]:void 0;let ge,ue=null;T===A?(x+=2,b+=2,R!==Y&&(ue=A,ge=Y)):null===A||null!==T&&T<A?(x+=2,ue=T):(b+=2,ue=A,ge=Y),null!==ue&&XE(e,t,n,r,ue,ge,f,_),T=x<i.length?i[x]:null,A=b<o.length?o[b]:null}}(i,_,f,f[11],f[o+1],f[o+1]=function uO(e,t,n){if(null==n||""===n)return Bs;const r=[],i=rd(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(Gu,dd,e,!0)}function dd(e,t){for(let n=function QA(e){return function UE(e){vu.key=0,vu.keyEnd=0,vu.value=0,vu.valueEnd=0,vu.textEnd=e.length}(e),jE(e,Wm(e,0,vu.textEnd))}(t);n>=0;n=jE(t,n))Gu(e,BE(t),!0)}function WE(e,t){return t>=e.expandoStartIndex}function $E(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[ce()],f=WE(e,n);KE(o,r)&&null===t&&!f&&(t=!1),t=function sO(e,t,n,r){const i=function Ta(e){const t=Pr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=B_(n=Dw(null,e,t,n,r),t.attrs,r),o=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==i)if(n=Dw(i,e,t,n,r),null===o){let x=function oO(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Kc(r))return e[ec(r)]}(e,t,r);void 0!==x&&Array.isArray(x)&&(x=Dw(null,e,t,x[1],r),x=B_(x,t.attrs,r),function aO(e,t,n,r){e[ec(n?t.classBindings:t.styleBindings)]=r}(e,t,r,x))}else o=function lO(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=B_(r,e[o].hostAttrs,n);return B_(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function ZA(e,t,n,r,i,o){let f=o?t.classBindings:t.styleBindings,_=ec(f),x=Kc(f);e[r]=n;let T,b=!1;if(Array.isArray(n)){const A=n;T=A[1],(null===T||Qh(A,T)>0)&&(b=!0)}else T=n;if(i)if(0!==x){const R=ec(e[_+1]);e[r+1]=_m(R,_),0!==R&&(e[R+1]=_h(e[R+1],r)),e[_+1]=function Qx(e,t){return 131071&e|t<<17}(e[_+1],r)}else e[r+1]=_m(_,0),0!==_&&(e[_+1]=_h(e[_+1],r)),_=r;else e[r+1]=_m(x,0),0===_?_=r:e[x+1]=_h(e[x+1],r),x=r;b&&(e[r+1]=mp(e[r+1])),zE(e,T,r,!0),zE(e,T,r,!1),function XA(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Qh(o,t)>=0&&(n[r+1]=gp(n[r+1]))}(t,T,e,r,o),f=_m(_,x),o?t.classBindings=f:t.styleBindings=f}(i,o,t,n,f,r)}}function Dw(e,t,n,r,i){let o=null;const f=n.directiveEnd;let _=n.directiveStylingLast;for(-1===_?_=n.directiveStart:_++;_<f&&(o=t[_],r=B_(r,o.hostAttrs,i),o!==e);)_++;return null!==e&&(n.directiveStylingLast=_),r}function B_(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const f=t[o];"number"==typeof f?i=f:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gu(e,f,!!n||t[++o]))}return void 0===e?null:e}function XE(e,t,n,r,i,o,f,_){if(!(3&t.type))return;const x=e.data,b=x[_+1];r0(function Nv(e){return 1==(1&e)}(b)?JE(x,t,n,i,Kc(b),f):void 0)||(r0(o)||function ym(e){return 2==(2&e)}(b)&&(o=JE(x,null,n,i,_,f)),function Tf(e,t,n,r,i){const o=mi(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let f=-1===r.indexOf("-")?void 0:Ku.DashCase;if(null==i)o?e.removeStyle(n,r,f):n.style.removeProperty(r);else{const _="string"==typeof i&&i.endsWith("!important");_&&(i=i.slice(0,-10),f|=Ku.Important),o?e.setStyle(n,r,i,f):n.style.setProperty(r,i,_?"important":"")}}}(r,f,zu(ce(),n),i,o))}function JE(e,t,n,r,i,o){const f=null===t;let _;for(;i>0;){const x=e[i],b=Array.isArray(x),T=b?x[1]:x,A=null===T;let R=n[i+1];R===di&&(R=A?Bs:void 0);let Y=A?Qf(R,r):T===r?R:void 0;if(b&&!r0(Y)&&(Y=Qf(x,r)),r0(Y)&&(_=Y,f))return _;const ue=e[i+1];i=f?ec(ue):Kc(ue)}if(null!==t){let x=o?t.residualClasses:t.residualStyles;null!=x&&(_=Qf(x,r))}return _}function r0(e){return void 0!==e}function KE(e,t){return 0!=(e.flags&(t?16:32))}function Mn(e,t=""){const n=un(),r=ki(),i=e+20,o=r.firstCreatePass?Fh(r,i,1,t,null):r.data[i],f=n[i]=function i_(e,t){return mi(e)?e.createText(t):e.createTextNode(t)}(n[11],t);dp(r,n,f,o),v(o,!1)}function Os(e){return zl("",e,""),Os}function zl(e,t,n){const r=un(),i=Ym(r,e,t,n);return i!==di&&Yr(r,ce(),i),zl}function $m(e,t,n,r,i){const o=un(),f=zm(o,e,t,n,r,i);return f!==di&&Yr(o,ce(),f),$m}function Ew(e,t,n){const r=un();return rc(r,Cn(),t)&&xc(ki(),je(),r,e,t,r[11],n,!0),Ew}const Sp=void 0;var IO=["en",[["a","p"],["AM","PM"],Sp],[["AM","PM"],Sp,Sp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sp,"{1} 'at' {0}",Sp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kO(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Zm={};function _C(e){return e in Zm||(Zm[e]=bi.ng&&bi.ng.common&&bi.ng.common.locales&&bi.ng.common.locales[e]),Zm[e]}var lr=(()=>((lr=lr||{})[lr.LocaleId=0]="LocaleId",lr[lr.DayPeriodsFormat=1]="DayPeriodsFormat",lr[lr.DayPeriodsStandalone=2]="DayPeriodsStandalone",lr[lr.DaysFormat=3]="DaysFormat",lr[lr.DaysStandalone=4]="DaysStandalone",lr[lr.MonthsFormat=5]="MonthsFormat",lr[lr.MonthsStandalone=6]="MonthsStandalone",lr[lr.Eras=7]="Eras",lr[lr.FirstDayOfWeek=8]="FirstDayOfWeek",lr[lr.WeekendRange=9]="WeekendRange",lr[lr.DateFormat=10]="DateFormat",lr[lr.TimeFormat=11]="TimeFormat",lr[lr.DateTimeFormat=12]="DateTimeFormat",lr[lr.NumberSymbols=13]="NumberSymbols",lr[lr.NumberFormats=14]="NumberFormats",lr[lr.CurrencyCode=15]="CurrencyCode",lr[lr.CurrencySymbol=16]="CurrencySymbol",lr[lr.CurrencyName=17]="CurrencyName",lr[lr.Currencies=18]="Currencies",lr[lr.Directionality=19]="Directionality",lr[lr.PluralCase=20]="PluralCase",lr[lr.ExtraData=21]="ExtraData",lr))();const s0="en-US";let yC=s0;function Sw(e,t,n,r,i){if(e=ti(e),Array.isArray(e))for(let o=0;o<e.length;o++)Sw(e[o],t,n,r,i);else{const o=ki(),f=un();let _=No(e)?e:ti(e.provide),x=sa(e);const b=a(),T=1048575&b.providerIndexes,A=b.directiveStart,R=b.providerIndexes>>20;if(No(e)||!e.multi){const Y=new xn(x,i,yn),ue=kw(_,t,i?T:T+R,A);-1===ue?(wl(Us(b,f),o,_),Lw(o,e,t.length),t.push(_),b.directiveStart++,b.directiveEnd++,i&&(b.providerIndexes+=1048576),n.push(Y),f.push(Y)):(n[ue]=Y,f[ue]=Y)}else{const Y=kw(_,t,T+R,A),ue=kw(_,t,T,T+R),ge=Y>=0&&n[Y],He=ue>=0&&n[ue];if(i&&!He||!i&&!ge){wl(Us(b,f),o,_);const Se=function kR(e,t,n,r,i){const o=new xn(e,n,yn);return o.multi=[],o.index=t,o.componentProviders=0,VC(o,i,r&&!n),o}(i?LR:SR,n.length,i,r,x);!i&&He&&(n[ue].providerFactory=Se),Lw(o,e,t.length,0),t.push(_),b.directiveStart++,b.directiveEnd++,i&&(b.providerIndexes+=1048576),n.push(Se),f.push(Se)}else Lw(o,e,Y>-1?Y:ue,VC(n[i?ue:Y],x,!i&&r));!i&&r&&He&&n[ue].componentProviders++}}}function Lw(e,t,n,r){const i=No(t),o=function Ia(e){return!!e.useClass}(t);if(i||o){const x=(o?ti(t.useClass):t).prototype.ngOnDestroy;if(x){const b=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const T=b.indexOf(n);-1===T?b.push(n,[r,x]):b[T+1].push(r,x)}else b.push(n,x)}}}function VC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function kw(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function SR(e,t,n,r){return Iw(this.multi,[])}function LR(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const f=this.providerFactory.componentProviders,_=hn(n,n[1],this.providerFactory.index,r);o=_.slice(0,f),Iw(i,o);for(let x=f;x<_.length;x++)o.push(_[x])}else o=[],Iw(i,o);return o}function Iw(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Pa(e,t=[]){return n=>{n.providersResolver=(r,i)=>function TR(e,t,n){const r=ki();if(r.firstCreatePass){const i=Co(e);Sw(n,r.data,r.blueprint,i,!0),Sw(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class UC{}class AR{resolveComponentFactory(t){throw function PR(e){const t=Error(`No component factory found for ${Di(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Rf=(()=>{class e{}return e.NULL=new AR,e})();function OR(){return Jm(a(),un())}function Jm(e,t){return new xu(Ca(e,t))}let xu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=OR,e})();function RR(e){return e instanceof xu?e.nativeElement:e}class GC{}let Vh=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function FR(){const e=un(),n=ra(a().index,e);return function NR(e){return e[11]}(Is(n)?n:e)}(),e})(),YR=(()=>{class e{}return e.\u0275prov=_r({token:e,providedIn:"root",factory:()=>null}),e})();class G_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zR=new G_("13.1.3"),Pw={};function c0(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(ri(o)),Ni(o))for(let _=10;_<o.length;_++){const x=o[_],b=x[1].firstChild;null!==b&&c0(x[1],x,b,r)}const f=n.type;if(8&f)c0(e,t,n.child,r);else if(32&f){const _=Xc(n,t);let x;for(;x=_();)r.push(x)}else if(16&f){const _=Tv(t,n);if(Array.isArray(_))r.push(..._);else{const x=up(t[16]);c0(x[1],x,_,r,!0)}}n=i?n.projectionNext:n.next}return r}class q_{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return c0(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ni(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(zd(t,r),Gp(n,r))}this._attachedToViewContainer=!1}Bd(this._lView[1],this._lView)}onDestroy(t){P_(this._lView[1],this._lView,null,t)}markForCheck(){wt(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){At(this._lView[1],this._lView,this.context)}checkNoChanges(){!function cn(e,t,n){vt(!0);try{At(e,t,n)}finally{vt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Jr(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qx(e,t){Oh(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Jr(902,"");this._appRef=t}}class BR extends q_{constructor(t){super(t),this._view=t}detectChanges(){Nt(this._view)}checkNoChanges(){!function en(e){vt(!0);try{Nt(e)}finally{vt(!1)}}(this._view)}get context(){return null}}class qC extends Rf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Pi(t);return new Aw(n,this.ngModule)}}function WC(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const VR=new Oi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vv});class Aw extends UC{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Pv(e){return e.map(id).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return WC(this.componentDef.inputs)}get outputs(){return WC(this.componentDef.outputs)}create(t,n,r,i){const o=(i=i||this.ngModule)?function UR(e,t){return{get:(n,r,i)=>{const o=e.get(n,Pw,i);return o!==Pw||r===Pw?o:t.get(n,r,i)}}}(t,i.injector):t,f=o.get(GC,Tu),_=o.get(YR,null),x=f.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",T=r?function qv(e,t,n){if(mi(e))return e.selectRootElement(t,n===Ti.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(x,r,this.componentDef.encapsulation):dm(f.createRenderer(null,this.componentDef),b,function jR(e){const t=e.toLowerCase();return"svg"===t?ch:"math"===t?"http://www.w3.org/1998/MathML/":null}(b)),A=this.componentDef.onPush?576:528,R=function oE(e,t){return{components:[],scheduler:e||vv,clean:dn,playerHandler:t||null,flags:0}}(),Y=wp(0,null,null,1,0,null,null,null,null,null),ue=kf(null,Y,R,A,null,null,f,x,_,o);let ge,He;w(ue);try{const Se=function iE(e,t,n,r,i,o){const f=n[1];n[20]=e;const x=Fh(f,20,2,"#host",null),b=x.mergedAttrs=t.hostAttrs;null!==b&&(eo(x,b,!0),null!==e&&(Nr(i,e,b),null!==x.classes&&Sf(i,e,x.classes),null!==x.styles&&y_(i,e,x.styles)));const T=r.createRenderer(e,t),A=kf(n,k_(t),null,t.onPush?64:16,n[20],x,r,T,o||null,null);return f.firstCreatePass&&(wl(Us(x,n),f,t.type),A_(f,x),c(x,n.length,1)),lt(n,A),n[20]=A}(T,this.componentDef,ue,f,x);if(T)if(r)Nr(x,T,["ng-version",zR.full]);else{const{attrs:_e,classes:Ae}=function Av(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Jc(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);_e&&Nr(x,T,_e),Ae&&Ae.length>0&&Sf(x,T,Ae.join(" "))}if(He=Gn(Y,20),void 0!==n){const _e=He.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const dt=n[Ae];_e.push(null!=dt?Array.from(dt):null)}}ge=function sE(e,t,n,r,i){const o=n[1],f=function uw(e,t,n){const r=a();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),p(e,r,t,eh(e,t,1,null),n));const i=hn(t,e,r.directiveStart,r);Jl(i,t);const o=Ca(r,t);return o&&Jl(o,t),i}(o,n,t);if(r.components.push(f),e[8]=f,i&&i.forEach(x=>x(f,t)),t.contentQueries){const x=a();t.contentQueries(1,f,x.directiveStart)}const _=a();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Pe(_.index),Ep(n[1],_,0,_.directiveStart,_.directiveEnd,t),Xv(t,f)),f}(Se,this.componentDef,ue,R,[uA]),Ud(Y,ue,null)}finally{K()}return new GR(this.componentType,ge,Jm(He,ue),ue,He)}}class GR extends class IR{}{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new BR(i),this.componentType=t}get injector(){return new mu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Hd{}class $C{}const Km=new Map;class JC extends Hd{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qC(this);const r=Uo(t);this._bootstrapComponents=Zc(r.bootstrap),this._r3Injector=Ro(t,n,[{provide:Hd,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],Di(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Xo.THROW_IF_NOT_FOUND,r=Tr.Default){return t===Xo||t===Hd||t===ao?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ow extends $C{constructor(t){super(),this.moduleType=t,null!==Uo(t)&&function WR(e){const t=new Set;!function n(r){const i=Uo(r,!0),o=i.id;null!==o&&(function ZC(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Di(t)} vs ${Di(t.name)}`)}(o,Km.get(o),r),Km.set(o,r));const f=Zc(i.imports);for(const _ of f)t.has(_)||(t.add(_),n(_))}(e)}(t)}create(t){return new JC(this.moduleType,t)}}function h0(e,t,n,r){return function tT(e,t,n,r,i,o){const f=t+n;return rc(e,f,i)?ud(e,f+1,o?r.call(o,i):r(i)):W_(e,f+1)}(un(),Bt(),e,t,n,r)}function QC(e,t,n,r,i){return function nT(e,t,n,r,i,o,f){const _=t+n;return Tp(e,_,i,o)?ud(e,_+2,f?r.call(f,i,o):r(i,o)):W_(e,_+2)}(un(),Bt(),e,t,n,r,i)}function eT(e,t,n,r,i,o,f,_,x,b){const T=Bt()+e,A=un();let R=function bh(e,t,n,r,i,o){const f=Tp(e,t,n,r);return Tp(e,t+2,i,o)||f}(A,T,n,r,i,o);return function e0(e,t,n,r,i){const o=Tp(e,t,n,r);return rc(e,t+2,i)||o}(A,T+4,f,_,x)||R?ud(A,T+7,b?t.call(b,n,r,i,o,f,_,x):t(n,r,i,o,f,_,x)):Y_(A,T+7)}function W_(e,t){const n=e[t];return n===di?void 0:n}function Rw(e){return t=>{setTimeout(e,void 0,t)}}const bo=class aN extends gt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,o,f;let _=t,x=n||(()=>null),b=r;if(t&&"object"==typeof t){const A=t;_=null===(i=A.next)||void 0===i?void 0:i.bind(A),x=null===(o=A.error)||void 0===o?void 0:o.bind(A),b=null===(f=A.complete)||void 0===f?void 0:f.bind(A)}this.__isAsync&&(x=Rw(x),_&&(_=Rw(_)),b&&(b=Rw(b)));const T=super.subscribe({next:_,error:x,complete:b});return t instanceof O&&t.add(T),T}};function lN(){return this._results[Nm()]()}class Nw{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Nm(),r=Nw.prototype;r[n]||(r[n]=lN)}get changes(){return this._changes||(this._changes=new bo)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Hu(t);(this._changesDetected=!function qy(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Gd=(()=>{class e{}return e.__NG_ELEMENT_ID__=hN,e})();const uN=Gd,cN=class extends uN{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=kf(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),Ud(n,r,t),new q_(r)}};function hN(){return d0(a(),un())}function d0(e,t){return 4&e.type?new cN(t,e,Jm(e,t)):null}let th=(()=>{class e{}return e.__NG_ELEMENT_ID__=dN,e})();function dN(){return lT(a(),un())}const fN=th,oT=class extends fN{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Jm(this._hostTNode,this._hostLView)}get injector(){return new mu(this._hostTNode,this._hostLView)}get parentInjector(){const t=Va(this._hostTNode,this._hostLView);if(Ja(t)){const n=Io(t,this._hostLView),r=_a(t);return new mu(n[1].data[r+8],n)}return new mu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=aT(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,o){const f=t&&!function Kf(e){return"function"==typeof e}(t);let _;if(f)_=n;else{const A=n||{};_=A.index,r=A.injector,i=A.projectableNodes,o=A.ngModuleRef}const x=f?t:new Aw(Pi(t)),b=r||this.parentInjector;if(!o&&null==x.ngModule&&b){const A=b.get(Hd,null);A&&(o=A)}const T=x.create(b,i,void 0,o);return this.insert(T.hostView,_),T}insert(t,n){const r=t._lView,i=r[1];if(function mc(e){return Ni(e[3])}(r)){const T=this.indexOf(t);if(-1!==T)this.detach(T);else{const A=r[3],R=new oT(A,A[6],A[3]);R.detach(R.indexOf(t))}}const o=this._adjustIndex(n),f=this._lContainer;!function o_(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],Wy(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const f=t[17];null!==f&&n!==f&&function Dv(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(f,t);const _=t[19];null!==_&&_.insertView(e),t[2]|=128}(i,r,f,o);const _=p_(o,f),x=r[11],b=Cf(x,f[7]);return null!==b&&function Gx(e,t,n,r,i,o){r[0]=i,r[6]=t,Oh(e,r,n,1,i,o)}(i,f[6],x,r,b,_),t.attachToViewContainerRef(),Wy(Fw(f),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=aT(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);r&&(Gp(Fw(this._lContainer),n),Bd(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);return r&&null!=Gp(Fw(this._lContainer),n)?new q_(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function aT(e){return e[8]}function Fw(e){return e[8]||(e[8]=[])}function lT(e,t){let n;const r=t[e.index];if(Ni(r))n=r;else{let i;if(8&e.type)i=ri(r);else{const o=t[11];i=o.createComment("");const f=Ca(e,t);jd(o,Cf(o,f),i,function Ev(e,t){return mi(e)?e.nextSibling(t):t.nextSibling}(o,f),!1)}t[e.index]=n=Z(r,t,i,e),lt(t,n)}return new oT(n,e,t)}class Yw{constructor(t){this.queryList=t,this.matches=null}clone(){return new Yw(this.queryList)}setDirty(){this.queryList.setDirty()}}class zw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const f=n.getByIndex(o);i.push(this.queries[f.indexInDeclarationView].clone())}return new zw(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==pT(t,n).matches&&this.queries[n].setDirty()}}class uT{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Bw{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Bw(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jw{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new jw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,gN(n,o)),this.matchTNodeWithReadOption(t,n,St(n,t,o,!1,!1))}else r===Gd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,St(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xu||i===th||i===Gd&&4&n.type)this.addMatch(n.index,-2);else{const o=St(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function gN(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function yN(e,t,n,r){return-1===n?function _N(e,t){return 11&e.type?Jm(e,t):4&e.type?d0(e,t):null}(t,e):-2===n?function vN(e,t,n){return n===xu?Jm(t,e):n===Gd?d0(t,e):n===th?lT(t,e):void 0}(e,t,r):hn(e,e[1],n,t)}function cT(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,f=n.matches,_=[];for(let x=0;x<f.length;x+=2){const b=f[x];_.push(b<0?null:yN(t,o[b],f[x+1],n.metadata.read))}i.matches=_}return i.matches}function Vw(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const f=cT(e,t,i,n);for(let _=0;_<o.length;_+=2){const x=o[_];if(x>0)r.push(f[_/2]);else{const b=o[_+1],T=t[-x];for(let A=10;A<T.length;A++){const R=T[A];R[17]===R[3]&&Vw(R[1],R,b,r)}if(null!==T[9]){const A=T[9];for(let R=0;R<A.length;R++){const Y=A[R];Vw(Y[1],Y,b,r)}}}}}return r}function f0(e){const t=un(),n=ki(),r=ku();M(r+1);const i=pT(n,r);if(e.dirty&&fu(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Vw(n,t,r,[]):cT(n,t,i,r);e.reset(o,RR),e.notifyOnChanges()}return!0}return!1}function hT(e,t,n){const r=ki();r.firstCreatePass&&(function fT(e,t,n){null===e.queries&&(e.queries=new Bw),e.queries.track(new jw(t,n))}(r,new uT(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function dT(e,t,n){const r=new Nw(4==(4&n));P_(e,t,r,r.destroy),null===t[19]&&(t[19]=new zw),t[19].queries.push(new Yw(r))}(r,un(),t)}function pT(e,t){return e.queries.getByIndex(t)}const tr=sf("Input",e=>({bindingPropertyName:e})),fd=sf("Output",e=>({bindingPropertyName:e})),zN=sf("HostBinding",e=>({hostPropertyName:e})),BN=sf("HostListener",(e,t)=>({eventName:e,args:t}));function _0(...e){}const y0=new Oi("Application Initializer");let eg=(()=>{class e{constructor(n){this.appInits=n,this.resolve=_0,this.reject=_0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(z_(o))n.push(o);else if(xw(o)){const f=new Promise((_,x)=>{o.subscribe({complete:_,error:x})});n.push(f)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Er(y0,8))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const X_=new Oi("AppId"),VN={provide:X_,useFactory:function jN(){return`${Zw()}${Zw()}${Zw()}`},deps:[]};function Zw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IT=new Oi("Platform Initializer"),v0=new Oi("Platform ID"),PT=new Oi("appBootstrapListener");let AT=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const Nf=new Oi("LocaleId"),OT=new Oi("DefaultCurrencyCode");class UN{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let x0=(()=>{class e{compileModuleSync(n){return new Ow(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Zc(Uo(n).declarations).reduce((f,_)=>{const x=Pi(_);return x&&f.push(new Aw(x)),f},[]);return new UN(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const GN=(()=>Promise.resolve(0))();function Xw(e){"undefined"==typeof Zone?GN.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class wu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function qN(){let e=bi.requestAnimationFrame,t=bi.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ZN(e){const t=()=>{!function $N(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(bi,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Kw(e),e.isCheckStableRunning=!0,Jw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Kw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,f,_)=>{try{return RT(e),n.invokeTask(i,o,f,_)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),NT(e)}},onInvoke:(n,r,i,o,f,_,x)=>{try{return RT(e),n.invoke(i,o,f,_,x)}finally{e.shouldCoalesceRunChangeDetection&&t(),NT(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Kw(e),Jw(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,f=o.scheduleEventTask("NgZoneEvent: "+i,t,WN,_0,_0);try{return o.runTask(f,n,r)}finally{o.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const WN={};function Jw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Kw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function RT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function NT(e){e._nesting--,Jw(e)}class XN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let Qw=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wu.assertNotInAngularZone(),Xw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xw(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Er(wu))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),FT=(()=>{class e{constructor(){this._applications=new Map,eb.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return eb.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();class JN{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Uh,eb=new JN;const YT=new Oi("AllowMultipleToken");class zT{constructor(t,n){this.name=t,this.token=n}}function BT(e,t,n=[]){const r=`Platform: ${t}`,i=new Oi(r);return(o=[])=>{let f=jT();if(!f||f.injector.get(YT,!1))if(e)e(n.concat(o).concat({provide:i,useValue:!0}));else{const _=n.concat(o).concat({provide:i,useValue:!0},{provide:La,useValue:"platform"});!function tF(e){if(Uh&&!Uh.destroyed&&!Uh.injector.get(YT,!1))throw new Jr(400,"");Uh=e.get(VT);const t=e.get(IT,null);t&&t.forEach(n=>n())}(Xo.create({providers:_,name:r}))}return function nF(e){const t=jT();if(!t)throw new Jr(401,"");return t}()}}function jT(){return Uh&&!Uh.destroyed?Uh:null}let VT=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const _=function rF(e,t){let n;return n="noop"===e?new XN:("zone.js"===e?void 0:e)||new wu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),x=[{provide:wu,useValue:_}];return _.run(()=>{const b=Xo.create({providers:x,parent:this.injector,name:n.moduleType.name}),T=n.create(b),A=T.injector.get(vf,null);if(!A)throw new Jr(402,"");return _.runOutsideAngular(()=>{const R=_.onError.subscribe({next:Y=>{A.handleError(Y)}});T.onDestroy(()=>{tb(this._modules,T),R.unsubscribe()})}),function iF(e,t,n){try{const r=n();return z_(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(A,_,()=>{const R=T.injector.get(eg);return R.runInitializers(),R.donePromise.then(()=>(function NO(e){Ci(e,"Expected localeId to be defined"),"string"==typeof e&&(yC=e.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Nf,s0)||s0),this._moduleDoBootstrap(T),T))})})}bootstrapModule(n,r=[]){const i=UT({},r);return function QN(e,t,n){const r=new Ow(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(J_);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Jr(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Jr(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Er(Xo))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();function UT(e,t){return Array.isArray(t)?t.reduce(UT,e):Object.assign(Object.assign({},e),t)}let J_=(()=>{class e{constructor(n,r,i,o,f){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new Pt(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),x=new Pt(b=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{wu.assertNotInAngularZone(),Xw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{wu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=function rr(...e){const t=Un(e),n=function pn(e,t){return"number"==typeof ln(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?mn(r[0]):ht(n)(rn(r,t)):kt}(_,x.pipe(function Xi(e={}){const{connector:t=(()=>new gt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let f=null,_=null,x=null,b=0,T=!1,A=!1;const R=()=>{null==_||_.unsubscribe(),_=null},Y=()=>{R(),f=x=null,T=A=!1},ue=()=>{const ge=f;Y(),null==ge||ge.unsubscribe()};return Ht((ge,He)=>{b++,!A&&!T&&R();const Se=x=null!=x?x:t();He.add(()=>{b--,0===b&&!A&&!T&&(_=Jo(ue,i))}),Se.subscribe(He),f||(f=new re({next:_e=>Se.next(_e),error:_e=>{A=!0,R(),_=Jo(Y,n,_e),Se.error(_e)},complete:()=>{T=!0,R(),_=Jo(Y,r),Se.complete()}}),rn(ge).subscribe(f))})(o)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Jr(405,"");let i;i=n instanceof UC?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function eF(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Hd),_=i.create(Xo.NULL,[],r||i.selector,o),x=_.location.nativeElement,b=_.injector.get(Qw,null),T=b&&_.injector.get(FT);return b&&T&&T.registerApplication(x,b),_.onDestroy(()=>{this.detachView(_.hostView),tb(this.components,_),T&&T.unregisterApplication(x)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Jr(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;tb(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(PT,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Er(wu),Er(Xo),Er(vf),Er(Rf),Er(eg))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();function tb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let GT=!0,Lp=(()=>{class e{}return e.__NG_ELEMENT_ID__=aF,e})();function aF(e){return function lF(e,t,n){if(go(e)&&!n){const r=ra(e.index,t);return new q_(r,r)}return 47&e.type?new q_(t[16],t):null}(a(),un(),16==(16&e))}class KT{constructor(){}supports(t){return F_(t)}create(t){return new pF(t)}}const fF=(e,t)=>t;class pF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fF}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const f=!r||n&&n.currentIndex<eS(r,i,o)?n:r,_=eS(f,i,o),x=f.currentIndex;if(f===r)i--,r=r._nextRemoved;else if(n=n._next,null==f.previousIndex)i++;else{o||(o=[]);const b=_-i,T=x-i;if(b!=T){for(let R=0;R<b;R++){const Y=R<o.length?o[R]:o[R]=0,ue=Y+R;T<=ue&&ue<b&&(o[R]=Y+1)}o[f.previousIndex]=T-b}}_!==x&&t(f,_,x)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!F_(t))throw new Jr(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,f,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)o=t[_],f=this._trackByFn(_,o),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,o,f,_)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,f,_),r=!0),n=n._next}else i=0,function vA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Nm()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,_=>{f=this._trackByFn(i,_),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,_,f,i)),Object.is(n.item,_)||this._addIdentityChange(n,_)):(n=this._mismatch(n,_,f,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new mF(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new QT),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QT),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mF{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class QT{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new gF,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eS(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class tS{constructor(){}supports(t){return t instanceof Map||fw(t)}create(){return new _F}}class _F{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||fw(t)))throw new Jr(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,f=i._next;return o&&(o._next=f),f&&(f._prev=o),i._next=null,i._prev=null,i}const r=new yF(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class yF{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nS(){return new K_([new KT])}let K_=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||nS()),deps:[[e,new Pd,new mh]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Jr(901,"")}}return e.\u0275prov=_r({token:e,providedIn:"root",factory:nS}),e})();function rS(){return new Ff([new tS])}let Ff=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||rS()),deps:[[e,new Pd,new mh]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Jr(901,"")}}return e.\u0275prov=_r({token:e,providedIn:"root",factory:rS}),e})();const vF=[new tS],wF=new K_([new KT]),bF=new Ff(vF),MF=BT(null,"core",[{provide:v0,useValue:"unknown"},{provide:VT,deps:[Xo]},{provide:FT,deps:[]},{provide:AT,deps:[]}]),SF=[{provide:J_,useClass:J_,deps:[wu,Xo,vf,Rf,eg]},{provide:VR,deps:[wu],useFactory:function LF(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:eg,useClass:eg,deps:[[new mh,y0]]},{provide:x0,useClass:x0,deps:[]},VN,{provide:K_,useFactory:function DF(){return wF},deps:[]},{provide:Ff,useFactory:function EF(){return bF},deps:[]},{provide:Nf,useFactory:function CF(e){return e||function TF(){return"undefined"!=typeof $localize&&$localize.locale||s0}()},deps:[[new cf(Nf),new mh,new Pd]]},{provide:OT,useValue:"USD"}];let kF=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Er(J_))},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({providers:SF}),e})(),b0=null;function pd(){return b0}const Oc=new Oi("DocumentToken");let Ip=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:function(){return function OF(){return Er(iS)}()},providedIn:"platform"}),e})();const RF=new Oi("Location Initialized");let iS=(()=>{class e extends Ip{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pd().getBaseHref(this._doc)}onPopState(n){const r=pd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=pd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){sS()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){sS()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Er(Oc))},e.\u0275prov=_r({token:e,factory:function(){return function NF(){return new iS(Er(Oc))}()},providedIn:"platform"}),e})();function sS(){return!!window.history.pushState}function ob(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function oS(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function qd(e){return e&&"?"!==e[0]?"?"+e:e}let tg=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:function(){return function FF(e){const t=Er(Oc).location;return new aS(Er(Ip),t&&t.origin||"")}()},providedIn:"root"}),e})();const ab=new Oi("appBaseHref");let aS=(()=>{class e extends tg{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ob(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+qd(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const f=this.prepareExternalUrl(i+qd(o));this._platformLocation.pushState(n,r,f)}replaceState(n,r,i,o){const f=this.prepareExternalUrl(i+qd(o));this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Er(Ip),Er(ab,8))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),YF=(()=>{class e extends tg{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ob(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let f=this.prepareExternalUrl(i+qd(o));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,r,f)}replaceState(n,r,i,o){let f=this.prepareExternalUrl(i+qd(o));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Er(Ip),Er(ab,8))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),lb=(()=>{class e{constructor(n,r){this._subject=new bo,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=oS(lS(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qd(r))}normalize(n){return e.stripTrailingSlash(function BF(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,lS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qd(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qd(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=qd,e.joinWithSlash=ob,e.stripTrailingSlash=oS,e.\u0275fac=function(n){return new(n||e)(Er(tg),Er(Ip))},e.\u0275prov=_r({token:e,factory:function(){return function zF(){return new lb(Er(tg),Er(Ip))}()},providedIn:"root"}),e})();function lS(e){return e.replace(/\/index.html$/,"")}var nu=(()=>((nu=nu||{})[nu.Zero=0]="Zero",nu[nu.One=1]="One",nu[nu.Two=2]="Two",nu[nu.Few=3]="Few",nu[nu.Many=4]="Many",nu[nu.Other=5]="Other",nu))();const WF=function gC(e){return function Mc(e){const t=function PO(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=_C(t);if(n)return n;const r=t.split("-")[0];if(n=_C(r),n)return n;if("en"===r)return IO;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[lr.PluralCase]};class P0{}let b3=(()=>{class e extends P0{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(WF(r||this.locale)(n)){case nu.Zero:return"zero";case nu.One:return"one";case nu.Two:return"two";case nu.Few:return"few";case nu.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(Er(Nf))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();function _S(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let yS=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(F_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Di(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(n){return new(n||e)(yn(K_),yn(Ff),yn(xu),yn(Vh))},e.\u0275dir=Hn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class D3{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ng=(()=>{class e{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,f)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new D3(i.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===o?void 0:o);else if(null!==o){const _=r.get(o);r.move(_,f),vS(_,i)}});for(let i=0,o=r.length;i<o;i++){const _=r.get(i).context;_.index=i,_.count=o,_.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{vS(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(yn(th),yn(Gd),yn(K_))},e.\u0275dir=Hn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function vS(e,t){e.context.$implicit=t.item}let md=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new E3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xS("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xS("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(yn(th),yn(Gd))},e.\u0275dir=Hn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class E3{constructor(){this.$implicit=null,this.ngIf=null}}function xS(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Di(t)}'.`)}let wb=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({providers:[{provide:P0,useClass:b3}]}),e})();let tY=(()=>{class e{}return e.\u0275prov=_r({token:e,providedIn:"root",factory:()=>new nY(Er(Oc),window)}),e})();class nY{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function rY(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const f=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(f)return f}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=DS(this.window.history)||DS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function DS(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class ES{}class bb extends class iY extends class AF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function PF(e){b0||(b0=e)}(new bb)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function sY(){return ty=ty||document.querySelector("base"),ty?ty.getAttribute("href"):null}();return null==n?null:function oY(e){A0=A0||document.createElement("a"),A0.setAttribute("href",e);const t=A0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ty=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _S(document.cookie,t)}}let A0,ty=null;const CS=new Oi("TRANSITION_ID"),lY=[{provide:y0,useFactory:function aY(e,t,n){return()=>{n.get(eg).donePromise.then(()=>{const r=pd(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[CS,Oc,Xo],multi:!0}];class Mb{static init(){!function KN(e){eb=e}(new Mb)}addToWindow(t){bi.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},bi.getAllAngularTestabilities=()=>t.getAllTestabilities(),bi.getAllAngularRootElements=()=>t.getAllRootElements(),bi.frameworkStabilizers||(bi.frameworkStabilizers=[]),bi.frameworkStabilizers.push(r=>{const i=bi.getAllAngularTestabilities();let o=i.length,f=!1;const _=function(x){f=f||x,o--,0==o&&r(f)};i.forEach(function(x){x.whenStable(_)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?pd().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let uY=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const O0=new Oi("EventManagerPlugins");let R0=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const f=i[o];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Er(O0),Er(wu))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();class TS{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=pd().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let SS=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),ny=(()=>{class e extends SS{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const f=this._doc.createElement("style");f.textContent=o,i.push(r.appendChild(f))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(LS),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(LS))}}return e.\u0275fac=function(n){return new(n||e)(Er(Oc))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();function LS(e){pd().remove(e)}const Db={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Eb=/%COMP%/g;function N0(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?N0(e,i,n):(i=i.replace(Eb,e),n.push(i))}return n}function PS(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Cb=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Tb(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ti.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new mY(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ti.ShadowDom:return new gY(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=N0(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Er(R0),Er(ny),Er(X_))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();class Tb{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Db[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Db[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Db[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ku.DashCase|Ku.Important)?t.style.setProperty(n,r,i&Ku.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ku.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,PS(r)):this.eventManager.addEventListener(t,n,PS(r))}}class mY extends Tb{constructor(t,n,r,i){super(t),this.component=r;const o=N0(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function dY(e){return"_ngcontent-%COMP%".replace(Eb,e)}(i+"-"+r.id),this.hostAttr=function fY(e){return"_nghost-%COMP%".replace(Eb,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class gY extends Tb{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=N0(i.id,i.styles,[]);for(let f=0;f<o.length;f++){const _=document.createElement("style");_.textContent=o[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _Y=(()=>{class e extends TS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Er(Oc))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const OS=["alt","control","meta","shift"],vY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RS={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xY={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let wY=(()=>{class e extends TS{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),f=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pd().onAndCancel(n,o.domEventName,f))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let f="";if(OS.forEach(x=>{const b=r.indexOf(x);b>-1&&(r.splice(b,1),f+=x+".")}),f+=o,0!=r.length||0===o.length)return null;const _={};return _.domEventName=i,_.fullKey=f,_}static getEventFullKey(n){let r="",i=function bY(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&RS.hasOwnProperty(t)&&(t=RS[t]))}return vY[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),OS.forEach(o=>{o!=i&&xY[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{e.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Er(Oc))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const CY=BT(MF,"browser",[{provide:v0,useValue:"browser"},{provide:IT,useValue:function MY(){bb.makeCurrent(),Mb.init()},multi:!0},{provide:Oc,useFactory:function EY(){return function js(e){Xl=e}(document),document},deps:[]}]),TY=[{provide:La,useValue:"root"},{provide:vf,useFactory:function DY(){return new vf},deps:[]},{provide:O0,useClass:_Y,multi:!0,deps:[Oc,wu,v0]},{provide:O0,useClass:wY,multi:!0,deps:[Oc]},{provide:Cb,useClass:Cb,deps:[R0,ny,X_]},{provide:GC,useExisting:Cb},{provide:SS,useExisting:ny},{provide:ny,useClass:ny,deps:[Oc]},{provide:Qw,useClass:Qw,deps:[wu]},{provide:R0,useClass:R0,deps:[O0,wu]},{provide:ES,useClass:uY,deps:[]}];let SY=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:X_,useValue:n.appId},{provide:CS,useExisting:X_},lY]}}}return e.\u0275fac=function(n){return new(n||e)(Er(e,12))},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({providers:TY,imports:[wb,kF]}),e})();"undefined"!=typeof window&&window;const{isArray:zY}=Array,{getPrototypeOf:BY,prototype:jY,keys:VY}=Object;function YS(e){if(1===e.length){const t=e[0];if(zY(t))return{args:t,keys:null};if(function UY(e){return e&&"object"==typeof e&&BY(e)===jY}(t)){const n=VY(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:HY}=Array;function zS(e){return bt(t=>function GY(e,t){return HY(t)?e(...t):e(t)}(e,t))}function BS(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}let jS=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(yn(Vh),yn(xu))},e.\u0275dir=Hn({type:e}),e})(),Pp=(()=>{class e extends jS{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Oo(e)))(r||e)}}(),e.\u0275dir=Hn({type:e,features:[Zs]}),e})();const Eh=new Oi("NgValueAccessor"),$Y={provide:Eh,useExisting:Wn(()=>$d),multi:!0},XY=new Oi("CompositionEventMode");let $d=(()=>{class e extends jS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZY(){const e=pd()?pd().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(yn(Vh),yn(xu),yn(XY,8))},e.\u0275dir=Hn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Cr("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Pa([$Y]),Zs]}),e})();const sc=new Oi("NgValidators"),Bf=new Oi("NgAsyncValidators");function ry(e){return null}function KS(e){return null!=e}function QS(e){const t=z_(e)?rn(e):e;return xw(t),t}function eL(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function tL(e,t){return t.map(n=>n(e))}function nL(e){return e.map(t=>function KY(e){return!e.validate}(t)?t:n=>t.validate(n))}function Lb(e){return null!=e?function rL(e){if(!e)return null;const t=e.filter(KS);return 0==t.length?null:function(n){return eL(tL(n,t))}}(nL(e)):null}function kb(e){return null!=e?function iL(e){if(!e)return null;const t=e.filter(KS);return 0==t.length?null:function(n){return function qY(...e){const t=nn(e),{args:n,keys:r}=YS(e),i=new Pt(o=>{const{length:f}=n;if(!f)return void o.complete();const _=new Array(f);let x=f,b=f;for(let T=0;T<f;T++){let A=!1;mn(n[T]).subscribe(new _n(o,R=>{A||(A=!0,b--),_[T]=R},()=>x--,void 0,()=>{(!x||!A)&&(b||o.next(r?BS(r,_):_),o.complete())}))}});return t?i.pipe(zS(t)):i}(tL(n,t).map(QS)).pipe(bt(eL))}}(nL(e)):null}function sL(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Ib(e){return e?Array.isArray(e)?e:[e]:[]}function F0(e,t){return Array.isArray(e)?e.includes(t):e===t}function lL(e,t){const n=Ib(t);return Ib(e).forEach(i=>{F0(n,i)||n.push(i)}),n}function uL(e,t){return Ib(t).filter(n=>!F0(e,n))}class cL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Lb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class jf extends cL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ec extends cL{get formDirective(){return null}get path(){return null}}class hL{constructor(t){this._cd=t}is(t){var n,r,i;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let Vf=(()=>{class e extends hL{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(yn(jf,2))},e.\u0275dir=Hn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&n0("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Zs]}),e})(),rg=(()=>{class e extends hL{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(yn(Ec,10))},e.\u0275dir=Hn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&n0("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Zs]}),e})();function iy(e,t){Ob(e,t),t.valueAccessor.writeValue(e.value),function o4(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&fL(e,t)})}(e,t),function l4(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function a4(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&fL(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function s4(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function j0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Ob(e,t){const n=function oL(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(sL(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function aL(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(sL(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();j0(t._rawValidators,i),j0(t._rawAsyncValidators,i)}function fL(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function U0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const sy="VALID",H0="INVALID",ig="PENDING",oy="DISABLED";function Yb(e){return(Bb(e)?e.validators:e)||null}function gL(e){return Array.isArray(e)?Lb(e):e||null}function zb(e,t){return(Bb(t)?t.asyncValidators:e)||null}function _L(e){return Array.isArray(e)?kb(e):e||null}function Bb(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const jb=e=>e instanceof Ub;function vL(e){return(e=>e instanceof G0)(e)?e.value:e.getRawValue()}function xL(e,t){const n=jb(e),r=e.controls;if(!(n?Object.keys(r):r).length)throw new Jr(1e3,"");if(!r[t])throw new Jr(1001,"")}function wL(e,t){jb(e),e._forEachChild((r,i)=>{if(void 0===t[i])throw new Jr(1002,"")})}class Vb{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=gL(this._rawValidators),this._composedAsyncValidatorFn=_L(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sy}get invalid(){return this.status===H0}get pending(){return this.status==ig}get disabled(){return this.status===oy}get enabled(){return this.status!==oy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_L(t)}addValidators(t){this.setValidators(lL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(lL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(uL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(uL(t,this._rawAsyncValidators))}hasValidator(t){return F0(this._rawValidators,t)}hasAsyncValidator(t){return F0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ig,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=oy,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=sy,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sy||this.status===ig)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oy:sy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ig,this._hasOwnPendingAsyncValidator=!0;const n=QS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function d4(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(n)),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(i=>{r=jb(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(e=>e instanceof p4)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new bo,this.statusChanges=new bo}_calculateStatus(){return this._allControlsDisabled()?oy:this.errors?H0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ig)?ig:this._anyControlsHaveStatus(H0)?H0:sy}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class G0 extends Vb{constructor(t=null,n,r){super(Yb(n),zb(r,n)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=null,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){U0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){U0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ub extends Vb{constructor(t,n,r){super(Yb(n),zb(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){wL(this,t),Object.keys(t).forEach(r=>{xL(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=vL(n),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class p4 extends Vb{constructor(t,n,r){super(Yb(n),zb(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){wL(this,t),t.forEach((r,i)=>{xL(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>vL(t))}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const m4={provide:Ec,useExisting:Wn(()=>Uf)},ay=(()=>Promise.resolve(null))();let Uf=(()=>{class e extends Ec{constructor(n,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new bo,this.form=new Ub({},Lb(n),kb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ay.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),iy(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ay.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),U0(this._directives,n)})}addFormGroup(n){ay.then(()=>{const r=this._findContainer(n.path),i=new Ub({});(function pL(e,t){Ob(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ay.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ay.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function mL(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(yn(sc,10),yn(Bf,10))},e.\u0275dir=Hn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Cr("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pa([m4]),Zs]}),e})();const _4={provide:jf,useExisting:Wn(()=>Zd)},DL=(()=>Promise.resolve(null))();let Zd=(()=>{class e extends jf{constructor(n,r,i,o){super(),this.control=new G0,this._registered=!1,this.update=new bo,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Nb(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===$d?n=o:function h4(e){return Object.getPrototypeOf(e.constructor)===Pp}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function Rb(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function z0(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){iy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){DL.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;DL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(n){return new(n||e)(yn(Ec,9),yn(sc,10),yn(Bf,10),yn(Eh,10))},e.\u0275dir=Hn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pa([_4]),Zs,qi]}),e})(),sg=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Hn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),CL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({}),e})();const Hb=new Oi("NgModelWithFormControlWarning"),T4={provide:Eh,useExisting:Wn(()=>ly),multi:!0};function PL(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let ly=(()=>{class e extends Pp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const r=this._getOptionId(n);null==r&&this.setProperty("selectedIndex",-1);const i=PL(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function S4(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Oo(e)))(r||e)}}(),e.\u0275dir=Hn({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Cr("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pa([T4]),Zs]}),e})(),$b=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(PL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(yn(xu),yn(Vh),yn(ly,9))},e.\u0275dir=Hn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const L4={provide:Eh,useExisting:Wn(()=>Zb),multi:!0};function AL(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Zb=(()=>{class e extends Pp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,f)=>{o._setSelected(i.indexOf(f.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const f=o;for(let _=0;_<f.length;_++){const b=this._getOptionValue(f[_].value);i.push(b)}}else{const f=r.options;for(let _=0;_<f.length;_++){const x=f[_];if(x.selected){const b=this._getOptionValue(x.value);i.push(b)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function k4(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Oo(e)))(r||e)}}(),e.\u0275dir=Hn({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Cr("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pa([L4]),Zs]}),e})(),Xb=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(AL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(AL(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(yn(xu),yn(Vh),yn(Zb,9))},e.\u0275dir=Hn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();let uy=(()=>{class e{constructor(){this._validator=ry}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ry,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Hn({type:e,features:[qi]}),e})();const F4={provide:sc,useExisting:Wn(()=>Kb),multi:!0};let Kb=(()=>{class e extends uy{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function OL(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>function XS(e){return t=>function US(e){return null!=e&&"number"==typeof e.length}(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Oo(e)))(r||e)}}(),e.\u0275dir=Hn({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&cd("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Pa([F4]),Zs]}),e})(),VL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({imports:[[CL]]}),e})(),UL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({imports:[VL]}),e})(),z4=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Hb,useValue:n.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({imports:[VL]}),e})();function Vi(...e){return rn(e,Un(e))}function og(e,t){return B(t)?yt(e,t,1):yt(e,1)}function Ap(e,t){return Ht((n,r)=>{let i=0;n.subscribe(new _n(r,o=>e.call(t,o,i++)&&r.next(o)))})}class HL{}class GL{}class gd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),f=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(f):this.headers.set(o,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof gd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new gd;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof gd?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let f=this.headers.get(n);if(!f)return;f=f.filter(_=>-1===o.indexOf(_)),0===f.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class B4{encodeKey(t){return qL(t)}encodeValue(t){return qL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const V4=/%(\d[a-f0-9])/gi,U4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function qL(e){return encodeURIComponent(e).replace(V4,(t,n)=>{var r;return null!==(r=U4[n])&&void 0!==r?r:t})}function WL(e){return`${e}`}class Hf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new B4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function j4(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[f,_]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],x=n.get(f)||[];x.push(_),n.set(f,x)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Hf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(WL(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(WL(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class H4{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $L(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ZL(e){return"undefined"!=typeof Blob&&e instanceof Blob}function XL(e){return"undefined"!=typeof FormData&&e instanceof FormData}class cy{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function G4(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new gd),this.context||(this.context=new H4),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=n;else{const _=n.indexOf("?");this.urlWithParams=n+(-1===_?"?":_<n.length-1?"&":"")+f}}else this.params=new Hf,this.urlWithParams=n}serializeBody(){return null===this.body?null:$L(this.body)||ZL(this.body)||XL(this.body)||function q4(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XL(this.body)?null:ZL(this.body)?this.body.type||null:$L(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var n;const r=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,_=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,x=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,T=t.params||this.params;const A=null!==(n=t.context)&&void 0!==n?n:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((R,Y)=>R.set(Y,t.setHeaders[Y]),b)),t.setParams&&(T=Object.keys(t.setParams).reduce((R,Y)=>R.set(Y,t.setParams[Y]),T)),new cy(r,i,f,{params:T,headers:b,context:A,reportProgress:x,responseType:o,withCredentials:_})}}var iu=(()=>((iu=iu||{})[iu.Sent=0]="Sent",iu[iu.UploadProgress=1]="UploadProgress",iu[iu.ResponseHeader=2]="ResponseHeader",iu[iu.DownloadProgress=3]="DownloadProgress",iu[iu.Response=4]="Response",iu[iu.User=5]="User",iu))();class Qb{constructor(t,n=200,r="OK"){this.headers=t.headers||new gd,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class eM extends Qb{constructor(t={}){super(t),this.type=iu.ResponseHeader}clone(t={}){return new eM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class q0 extends Qb{constructor(t={}){super(t),this.type=iu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new q0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class JL extends Qb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function tM(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let nM=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof cy)o=n;else{let x,b;x=i.headers instanceof gd?i.headers:new gd(i.headers),i.params&&(b=i.params instanceof Hf?i.params:new Hf({fromObject:i.params})),o=new cy(n,r,void 0!==i.body?i.body:null,{headers:x,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const f=Vi(o).pipe(og(x=>this.handler.handle(x)));if(n instanceof cy||"events"===i.observe)return f;const _=f.pipe(Ap(x=>x instanceof q0));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return _.pipe(bt(x=>{if(null!==x.body&&!(x.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return x.body}));case"blob":return _.pipe(bt(x=>{if(null!==x.body&&!(x.body instanceof Blob))throw new Error("Response is not a Blob.");return x.body}));case"text":return _.pipe(bt(x=>{if(null!==x.body&&"string"!=typeof x.body)throw new Error("Response is not a string.");return x.body}));default:return _.pipe(bt(x=>x.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Hf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,tM(i,r))}post(n,r,i={}){return this.request("POST",n,tM(i,r))}put(n,r,i={}){return this.request("PUT",n,tM(i,r))}}return e.\u0275fac=function(n){return new(n||e)(Er(HL))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();class KL{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const rM=new Oi("HTTP_INTERCEPTORS");let W4=(()=>{class e{intercept(n,r){return r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const $4=/^\)\]\}',?\n/;let QL=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pt(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((Y,ue)=>i.setRequestHeader(Y,ue.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const Y=n.detectContentTypeHeader();null!==Y&&i.setRequestHeader("Content-Type",Y)}if(n.responseType){const Y=n.responseType.toLowerCase();i.responseType="json"!==Y?Y:"text"}const o=n.serializeBody();let f=null;const _=()=>{if(null!==f)return f;const Y=1223===i.status?204:i.status,ue=i.statusText||"OK",ge=new gd(i.getAllResponseHeaders()),He=function Z4(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return f=new eM({headers:ge,status:Y,statusText:ue,url:He}),f},x=()=>{let{headers:Y,status:ue,statusText:ge,url:He}=_(),Se=null;204!==ue&&(Se=void 0===i.response?i.responseText:i.response),0===ue&&(ue=Se?200:0);let _e=ue>=200&&ue<300;if("json"===n.responseType&&"string"==typeof Se){const Ae=Se;Se=Se.replace($4,"");try{Se=""!==Se?JSON.parse(Se):null}catch(dt){Se=Ae,_e&&(_e=!1,Se={error:dt,text:Se})}}_e?(r.next(new q0({body:Se,headers:Y,status:ue,statusText:ge,url:He||void 0})),r.complete()):r.error(new JL({error:Se,headers:Y,status:ue,statusText:ge,url:He||void 0}))},b=Y=>{const{url:ue}=_(),ge=new JL({error:Y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ue||void 0});r.error(ge)};let T=!1;const A=Y=>{T||(r.next(_()),T=!0);let ue={type:iu.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(ue.total=Y.total),"text"===n.responseType&&!!i.responseText&&(ue.partialText=i.responseText),r.next(ue)},R=Y=>{let ue={type:iu.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(ue.total=Y.total),r.next(ue)};return i.addEventListener("load",x),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),n.reportProgress&&(i.addEventListener("progress",A),null!==o&&i.upload&&i.upload.addEventListener("progress",R)),i.send(o),r.next({type:iu.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",x),i.removeEventListener("timeout",b),n.reportProgress&&(i.removeEventListener("progress",A),null!==o&&i.upload&&i.upload.removeEventListener("progress",R)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Er(ES))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const iM=new Oi("XSRF_COOKIE_NAME"),sM=new Oi("XSRF_HEADER_NAME");class e2{}let X4=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_S(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Er(Oc),Er(v0),Er(iM))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),oM=(()=>{class e{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Er(e2),Er(sM))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),J4=(()=>{class e{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(rM,[]);this.chain=r.reduceRight((i,o)=>new KL(i,o),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Er(GL),Er(Xo))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),K4=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:oM,useClass:W4}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:iM,useValue:n.cookieName}:[],n.headerName?{provide:sM,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({providers:[oM,{provide:rM,useExisting:oM,multi:!0},{provide:e2,useClass:X4},{provide:iM,useValue:"XSRF-TOKEN"},{provide:sM,useValue:"X-XSRF-TOKEN"}]}),e})(),Q4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({providers:[nM,{provide:HL,useClass:J4},QL,{provide:GL,useExisting:QL}],imports:[[K4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();class qh extends gt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function t2(e,t,n){e?Qe(n,e,t):t()}const W0=I(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function aM(...e){return function nz(){return ht(1)}()(rn(e,Un(e)))}function n2(e){return new Pt(t=>{mn(e()).subscribe(t)})}function r2(){return Ht((e,t)=>{let n=null;e._refCount++;const r=new _n(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class rz extends Pt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new O;const n=this.getSubject();t.add(this.source.subscribe(new _n(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=O.EMPTY)}return t}refCount(){return r2()(this)}}function Op(e,t){return Ht((n,r)=>{let i=null,o=0,f=!1;const _=()=>f&&!i&&r.complete();n.subscribe(new _n(r,x=>{null==i||i.unsubscribe();let b=0;const T=o++;mn(e(x,T)).subscribe(i=new _n(r,A=>r.next(t?t(x,A,T,b++):A),()=>{i=null,_()}))},()=>{f=!0,_()}))})}function sz(e,t,n,r,i){return(o,f)=>{let _=n,x=t,b=0;o.subscribe(new _n(f,T=>{const A=b++;x=_?e(x,T,A):(_=!0,T),r&&f.next(x)},i&&(()=>{_&&f.next(x),f.complete()})))}}function i2(e,t){return Ht(sz(e,t,arguments.length>=2,!0))}function Gf(e){return Ht((t,n)=>{let o,r=null,i=!1;r=t.subscribe(new _n(n,void 0,void 0,f=>{o=mn(e(f,Gf(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function lM(e){return e<=0?()=>kt:Ht((t,n)=>{let r=[];t.subscribe(new _n(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function s2(e=oz){return Ht((t,n)=>{let r=!1;t.subscribe(new _n(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function oz(){return new W0}function o2(e){return Ht((t,n)=>{let r=!1;t.subscribe(new _n(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function ag(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ap((i,o)=>e(i,o,r)):Je,Fr(1),n?o2(t):s2(()=>new W0))}function nh(e,t,n){const r=B(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ht((i,o)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let _=!0;i.subscribe(new _n(o,x=>{var b;null===(b=r.next)||void 0===b||b.call(r,x),o.next(x)},()=>{var x;_=!1,null===(x=r.complete)||void 0===x||x.call(r),o.complete()},x=>{var b;_=!1,null===(b=r.error)||void 0===b||b.call(r,x),o.error(x)},()=>{var x,b;_&&(null===(x=r.unsubscribe)||void 0===x||x.call(r)),null===(b=r.finalize)||void 0===b||b.call(r)}))}):Je}class Xd{constructor(t,n){this.id=t,this.url=n}}class uM extends Xd{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hy extends Xd{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class a2 extends Xd{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uz extends Xd{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cz extends Xd{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hz extends Xd{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dz extends Xd{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fz extends Xd{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pz extends Xd{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l2{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class u2{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mz{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gz{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _z{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yz{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c2{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rs="primary";class vz{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function lg(e){return new vz(e)}const h2="ngNavigationCancelingError";function cM(e){const t=Error("NavigationCancelingError: "+e);return t[h2]=!0,t}function wz(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const f=r[o],_=e[o];if(f.startsWith(":"))i[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function _d(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!d2(e[i],t[i]))return!1;return!0}function d2(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function f2(e){return Array.prototype.concat.apply([],e)}function p2(e){return e.length>0?e[e.length-1]:null}function Zu(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function yd(e){return xw(e)?e:z_(e)?rn(Promise.resolve(e)):Vi(e)}const Dz={exact:function _2(e,t,n){if(!Np(e.segments,t.segments)||!$0(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!_2(e.children[r],t.children[r],n))return!1;return!0},subset:y2},m2={exact:function Ez(e,t){return _d(e,t)},subset:function Cz(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>d2(e[n],t[n]))},ignored:()=>!0};function g2(e,t,n){return Dz[n.paths](e.root,t.root,n.matrixParams)&&m2[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function y2(e,t,n){return v2(e,t,t.segments,n)}function v2(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Np(i,n)||t.hasChildren()||!$0(i,n,r))}if(e.segments.length===n.length){if(!Np(e.segments,n)||!$0(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!y2(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Np(e.segments,i)&&$0(e.segments,i,r)&&e.children[Rs])&&v2(e.children[Rs],t,o,r)}}function $0(e,t,n){return t.every((r,i)=>m2[n](e[i].parameters,r.parameters))}class Rp{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lg(this.queryParams)),this._queryParamMap}toString(){return Lz.serialize(this)}}class Xs{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Zu(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Z0(this)}}class dy{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=lg(this.parameters)),this._parameterMap}toString(){return D2(this)}}function Np(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class x2{}class w2{parse(t){const n=new Yz(t);return new Rp(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${fy(t.root,!0)}`,r=function Pz(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${X0(n)}=${X0(i)}`).join("&"):`${X0(n)}=${X0(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function kz(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Lz=new w2;function Z0(e){return e.segments.map(t=>D2(t)).join("/")}function fy(e,t){if(!e.hasChildren())return Z0(e);if(t){const n=e.children[Rs]?fy(e.children[Rs],!1):"",r=[];return Zu(e.children,(i,o)=>{o!==Rs&&r.push(`${o}:${fy(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Sz(e,t){let n=[];return Zu(e.children,(r,i)=>{i===Rs&&(n=n.concat(t(r,i)))}),Zu(e.children,(r,i)=>{i!==Rs&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Rs?[fy(e.children[Rs],!1)]:[`${i}:${fy(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Rs]?`${Z0(e)}/${n[0]}`:`${Z0(e)}/(${n.join("//")})`}}function b2(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function X0(e){return b2(e).replace(/%3B/gi,";")}function hM(e){return b2(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function J0(e){return decodeURIComponent(e)}function M2(e){return J0(e.replace(/\+/g,"%20"))}function D2(e){return`${hM(e.path)}${function Iz(e){return Object.keys(e).map(t=>`;${hM(t)}=${hM(e[t])}`).join("")}(e.parameters)}`}const Az=/^[^\/()?;=#]+/;function K0(e){const t=e.match(Az);return t?t[0]:""}const Oz=/^[^=?&#]+/,Nz=/^[^&#]+/;class Yz{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xs([],{}):new Xs([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Rs]=new Xs(t,n)),r}parseSegment(){const t=K0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dy(J0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=K0(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=K0(this.remaining);i&&(r=i,this.capture(r))}t[J0(n)]=J0(r)}parseQueryParam(t){const n=function Rz(e){const t=e.match(Oz);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const f=function Fz(e){const t=e.match(Nz);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const i=M2(n),o=M2(r);if(t.hasOwnProperty(i)){let f=t[i];Array.isArray(f)||(f=[f],t[i]=f),f.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=K0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Rs);const f=this.parseChildren();n[o]=1===Object.keys(f).length?f[Rs]:new Xs([],f),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class E2{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=dM(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=dM(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=fM(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return fM(t,this._root).map(n=>n.value)}}function dM(e,t){if(e===t.value)return t;for(const n of t.children){const r=dM(e,n);if(r)return r}return null}function fM(e,t){if(e===t.value)return[t];for(const n of t.children){const r=fM(e,n);if(r.length)return r.unshift(t),r}return[]}class Jd{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function ug(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class C2 extends E2{constructor(t,n){super(t),this.snapshot=n,pM(this,t)}toString(){return this.snapshot.toString()}}function T2(e,t){const n=function zz(e,t){const f=new Q0([],{},{},"",{},Rs,t,null,e.root,-1,{});return new L2("",new Jd(f,[]))}(e,t),r=new qh([new dy("",{})]),i=new qh({}),o=new qh({}),f=new qh({}),_=new qh(""),x=new cg(r,i,f,_,o,Rs,t,n.root);return x.snapshot=n.root,new C2(new Jd(x,[]),n)}class cg{constructor(t,n,r,i,o,f,_,x){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=f,this.component=_,this._futureSnapshot=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(bt(t=>lg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(bt(t=>lg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function S2(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Bz(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Q0{constructor(t,n,r,i,o,f,_,x,b,T,A){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=f,this.component=_,this.routeConfig=x,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class L2 extends E2{constructor(t,n){super(n),this.url=t,pM(this,n)}toString(){return k2(this._root)}}function pM(e,t){t.value._routerState=e,t.children.forEach(n=>pM(e,n))}function k2(e){const t=e.children.length>0?` { ${e.children.map(k2).join(", ")} } `:"";return`${e.value}${t}`}function mM(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,_d(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),_d(t.params,n.params)||e.params.next(n.params),function bz(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!_d(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),_d(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function gM(e,t){const n=_d(e.params,t.params)&&function Tz(e,t){return Np(e,t)&&e.every((n,r)=>_d(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||gM(e.parent,t.parent))}function py(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function Vz(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return py(e,r,i);return py(e,r)})}(e,t,n);return new Jd(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const f=o.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(_=>py(e,_)),f}}const r=function Uz(e){return new cg(new qh(e.url),new qh(e.params),new qh(e.queryParams),new qh(e.fragment),new qh(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>py(e,o));return new Jd(r,i)}}function e1(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function my(e){return"object"==typeof e&&null!=e&&e.outlets}function _M(e,t,n,r,i){let o={};return r&&Zu(r,(f,_)=>{o[_]=Array.isArray(f)?f.map(x=>`${x}`):`${f}`}),new Rp(n.root===e?t:I2(n.root,e,t),o,i)}function I2(e,t,n){const r={};return Zu(e.children,(i,o)=>{r[o]=i===t?n:I2(i,t,n)}),new Xs(e.segments,r)}class P2{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&e1(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(my);if(i&&i!==p2(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yM{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function A2(e,t,n){if(e||(e=new Xs([],{})),0===e.segments.length&&e.hasChildren())return t1(e,t,n);const r=function Zz(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const f=e.segments[i],_=n[r];if(my(_))break;const x=`${_}`,b=r<n.length-1?n[r+1]:null;if(i>0&&void 0===x)break;if(x&&b&&"object"==typeof b&&void 0===b.outlets){if(!R2(x,b,f))return o;r+=2}else{if(!R2(x,{},f))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Xs(e.segments.slice(0,r.pathIndex),{});return o.children[Rs]=new Xs(e.segments.slice(r.pathIndex),e.children),t1(o,0,i)}return r.match&&0===i.length?new Xs(e.segments,{}):r.match&&!e.hasChildren()?vM(e,t,n):r.match?t1(e,0,i):vM(e,t,n)}function t1(e,t,n){if(0===n.length)return new Xs(e.segments,{});{const r=function $z(e){return my(e[0])?e[0].outlets:{[Rs]:e}}(n),i={};return Zu(r,(o,f)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[f]=A2(e.children[f],t,o))}),Zu(e.children,(o,f)=>{void 0===r[f]&&(i[f]=o)}),new Xs(e.segments,i)}}function vM(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(my(o)){const x=Xz(o.outlets);return new Xs(r,x)}if(0===i&&e1(n[0])){r.push(new dy(e.segments[t].path,O2(n[0]))),i++;continue}const f=my(o)?o.outlets[Rs]:`${o}`,_=i<n.length-1?n[i+1]:null;f&&_&&e1(_)?(r.push(new dy(f,O2(_))),i+=2):(r.push(new dy(f,{})),i++)}return new Xs(r,{})}function Xz(e){const t={};return Zu(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=vM(new Xs([],{}),0,n))}),t}function O2(e){const t={};return Zu(e,(n,r)=>t[r]=`${n}`),t}function R2(e,t,n){return e==n.path&&_d(t,n.parameters)}class Kz{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),mM(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=ug(n);t.children.forEach(o=>{const f=o.value.outlet;this.deactivateRoutes(o,i[f],r),delete i[f]}),Zu(i,(o,f)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const f=r.getContext(i.outlet);f&&this.deactivateChildRoutes(t,n,f.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ug(t);for(const f of Object.keys(o))this.deactivateRouteAndItsChildren(o[f],i);if(r&&r.outlet){const f=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:_})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ug(t);for(const f of Object.keys(o))this.deactivateRouteAndItsChildren(o[f],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=ug(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yz(o.value.snapshot))}),t.children.length&&this.forwardEvent(new gz(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(mM(i),i===o)if(i.component){const f=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,f.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const f=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const _=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),mM(_.route.value),this.activateChildRoutes(t,null,f.children)}else{const _=function Qz(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),x=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=i,f.resolver=x,f.outlet&&f.outlet.activateWith(i,x),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class xM{constructor(t,n){this.routes=t,this.module=n}}function qf(e){return"function"==typeof e}function Fp(e){return e instanceof Rp}const gy=Symbol("INITIAL_VALUE");function _y(){return Op(e=>function ez(...e){const t=Un(e),n=nn(e),{args:r,keys:i}=YS(e);if(0===r.length)return rn([],t);const o=new Pt(function tz(e,t,n=Je){return r=>{t2(t,()=>{const{length:i}=e,o=new Array(i);let f=i,_=i;for(let x=0;x<i;x++)t2(t,()=>{const b=rn(e[x],t);let T=!1;b.subscribe(new _n(r,A=>{o[x]=A,T||(T=!0,_--),_||r.next(n(o.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,i?f=>BS(i,f):Je));return n?o.pipe(zS(n)):o}(e.map(t=>t.pipe(Fr(1),function iz(...e){const t=Un(e);return Ht((n,r)=>{(t?aM(e,n,t):aM(e,n)).subscribe(r)})}(gy)))).pipe(i2((t,n)=>{let r=!1;return n.reduce((i,o,f)=>i!==gy?i:(o===gy&&(r=!0),r||!1!==o&&f!==n.length-1&&!Fp(o)?i:o),t)},gy),Ap(t=>t!==gy),bt(t=>Fp(t)?t:!0===t),Fr(1)))}class sB{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yy,this.attachRef=null}}class yy{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new sB,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let wM=(()=>{class e{constructor(n,r,i,o,f){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new bo,this.deactivateEvents=new bo,this.attachEvents=new bo,this.detachEvents=new bo,this.name=o||Rs,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const f=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,x=new oB(n,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,x),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(yn(yy),yn(th),yn(Rf),function Zh(e){return function Ih(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(yr(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(a(),e)}("name"),yn(Lp))},e.\u0275dir=Hn({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class oB{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===cg?this.route:t===yy?this.childContexts:this.parent.get(t,n)}}let N2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=vr({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&er(0,"router-outlet")},directives:[wM],encapsulation:2}),e})();function F2(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];aB(r,lB(t,r))}}function aB(e,t){e.children&&F2(e.children,t)}function lB(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function bM(e){const t=e.children&&e.children.map(bM),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Rs&&(n.component=N2),n}function Ch(e){return e.outlet||Rs}function Y2(e,t){const n=e.filter(r=>Ch(r)===t);return n.push(...e.filter(r=>Ch(r)!==t)),n}const z2={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function n1(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},z2):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||wz)(n,e,t);if(!o)return Object.assign({},z2);const f={};Zu(o.posParams,(x,b)=>{f[b]=x.path});const _=o.consumed.length>0?Object.assign(Object.assign({},f),o.consumed[o.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:_,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function r1(e,t,n,r,i="corrected"){if(n.length>0&&function hB(e,t,n){return n.some(r=>i1(e,t,r)&&Ch(r)!==Rs)}(e,n,r)){const f=new Xs(t,function cB(e,t,n,r){const i={};i[Rs]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Ch(o)!==Rs){const f=new Xs([],{});f._sourceSegment=e,f._segmentIndexShift=t.length,i[Ch(o)]=f}return i}(e,t,r,new Xs(n,e.children)));return f._sourceSegment=e,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===n.length&&function dB(e,t,n){return n.some(r=>i1(e,t,r))}(e,n,r)){const f=new Xs(e.segments,function uB(e,t,n,r,i,o){const f={};for(const _ of r)if(i1(e,n,_)&&!i[Ch(_)]){const x=new Xs([],{});x._sourceSegment=e,x._segmentIndexShift="legacy"===o?e.segments.length:t.length,f[Ch(_)]=x}return Object.assign(Object.assign({},i),f)}(e,t,n,r,e.children,i));return f._sourceSegment=e,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:n}}const o=new Xs(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function i1(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function B2(e,t,n,r){return!!(Ch(e)===r||r!==Rs&&i1(t,n,e))&&("**"===e.path||n1(t,e,n).matched)}function j2(e,t,n){return 0===t.length&&!e.children[n]}class vy{constructor(t){this.segmentGroup=t||null}}class V2{constructor(t){this.urlTree=t}}function s1(e){return new Pt(t=>t.error(new vy(e)))}function U2(e){return new Pt(t=>t.error(new V2(e)))}function fB(e){return new Pt(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class gB{constructor(t,n,r,i,o){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Hd)}apply(){const t=r1(this.urlTree.root,[],[],this.config).segmentGroup,n=new Xs(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Rs).pipe(bt(o=>this.createUrlTree(MM(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gf(o=>{if(o instanceof V2)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof vy?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rs).pipe(bt(i=>this.createUrlTree(MM(i),t.queryParams,t.fragment))).pipe(Gf(i=>{throw i instanceof vy?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new Xs([],{[Rs]:t}):t;return new Rp(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(bt(o=>new Xs([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return rn(i).pipe(og(o=>{const f=r.children[o],_=Y2(n,o);return this.expandSegmentGroup(t,_,f,o).pipe(bt(x=>({segment:x,outlet:o})))}),i2((o,f)=>(o[f.outlet]=f.segment,o),{}),function az(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ap((i,o)=>e(i,o,r)):Je,lM(1),n?o2(t):s2(()=>new W0))}())}expandSegment(t,n,r,i,o,f){return rn(r).pipe(og(_=>this.expandSegmentAgainstRoute(t,n,r,_,i,o,f).pipe(Gf(b=>{if(b instanceof vy)return Vi(null);throw b}))),ag(_=>!!_),Gf((_,x)=>{if(_ instanceof W0||"EmptyError"===_.name){if(j2(n,i,o))return Vi(new Xs([],{}));throw new vy(n)}throw _}))}expandSegmentAgainstRoute(t,n,r,i,o,f,_){return B2(i,n,o,f)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,f):s1(n):s1(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,f){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U2(o):this.lineralizeSegments(r,o).pipe(yt(f=>{const _=new Xs(f,{});return this.expandSegment(t,_,n,f,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,f){const{matched:_,consumedSegments:x,lastChild:b,positionalParamSegments:T}=n1(n,i,o);if(!_)return s1(n);const A=this.applyRedirectCommands(x,i.redirectTo,T);return i.redirectTo.startsWith("/")?U2(A):this.lineralizeSegments(i,A).pipe(yt(R=>this.expandSegment(t,n,r,R.concat(o.slice(b)),f,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Vi(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(bt(R=>(r._loadedConfig=R,new Xs(i,{})))):Vi(new Xs(i,{}));const{matched:f,consumedSegments:_,lastChild:x}=n1(n,r,i);if(!f)return s1(n);const b=i.slice(x);return this.getChildConfig(t,r,i).pipe(yt(A=>{const R=A.module,Y=A.routes,{segmentGroup:ue,slicedSegments:ge}=r1(n,_,b,Y),He=new Xs(ue.segments,ue.children);if(0===ge.length&&He.hasChildren())return this.expandChildren(R,Y,He).pipe(bt(dt=>new Xs(_,dt)));if(0===Y.length&&0===ge.length)return Vi(new Xs(_,{}));const Se=Ch(r)===o;return this.expandSegment(R,He,Y,ge,Se?Rs:o,!0).pipe(bt(Ae=>new Xs(_.concat(Ae.segments),Ae.children)))}))}getChildConfig(t,n,r){return n.children?Vi(new xM(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?Vi(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(yt(i=>i?this.configLoader.load(t.injector,n).pipe(bt(o=>(n._loadedConfig=o,o))):function pB(e){return new Pt(t=>t.error(cM(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(n))):Vi(new xM([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?Vi(i.map(f=>{const _=t.get(f);let x;if(function tB(e){return e&&qf(e.canLoad)}(_))x=_.canLoad(n,r);else{if(!qf(_))throw new Error("Invalid CanLoad guard");x=_(n,r)}return yd(x)})).pipe(_y(),nh(f=>{if(!Fp(f))return;const _=cM(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),bt(f=>!0===f)):Vi(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Vi(r);if(i.numberOfChildren>1||!i.children[Rs])return fB(t.redirectTo);i=i.children[Rs]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Rp(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Zu(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const _=i.substring(1);r[o]=n[_]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let f={};return Zu(n.children,(_,x)=>{f[x]=this.createSegmentGroup(t,_,r,i)}),new Xs(o,f)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function MM(e){const t={};for(const r of Object.keys(e.children)){const o=MM(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function _B(e){if(1===e.numberOfChildren&&e.children[Rs]){const t=e.children[Rs];return new Xs(e.segments.concat(t.segments),t.children)}return e}(new Xs(e.segments,t))}class H2{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class o1{constructor(t,n){this.component=t,this.route=n}}function vB(e,t,n){const r=e._root;return xy(r,t?t._root:null,n,[r.value])}function a1(e,t,n){const r=function wB(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function xy(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ug(t);return e.children.forEach(f=>{(function bB(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,f=t?t.value:null,_=n?n.getContext(e.value.outlet):null;if(f&&o.routeConfig===f.routeConfig){const x=function MB(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Np(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Np(e.url,t.url)||!_d(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gM(e,t)||!_d(e.queryParams,t.queryParams);default:return!gM(e,t)}}(f,o,o.routeConfig.runGuardsAndResolvers);x?i.canActivateChecks.push(new H2(r)):(o.data=f.data,o._resolvedData=f._resolvedData),xy(e,t,o.component?_?_.children:null:n,r,i),x&&_&&_.outlet&&_.outlet.isActivated&&i.canDeactivateChecks.push(new o1(_.outlet.component,f))}else f&&wy(t,_,i),i.canActivateChecks.push(new H2(r)),xy(e,null,o.component?_?_.children:null:n,r,i)})(f,o[f.value.outlet],n,r.concat([f.value]),i),delete o[f.value.outlet]}),Zu(o,(f,_)=>wy(f,n.getContext(_),i)),i}function wy(e,t,n){const r=ug(e),i=e.value;Zu(r,(o,f)=>{wy(o,i.component?t?t.children.getContext(f):null:t,n)}),n.canDeactivateChecks.push(new o1(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class PB{}function G2(e){return new Pt(t=>t.error(e))}class OB{constructor(t,n,r,i,o,f){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=f}recognize(){const t=r1(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Rs);if(null===n)return null;const r=new Q0([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rs,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jd(r,n),o=new L2(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const n=t.value,r=S2(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const o of Object.keys(n.children)){const f=n.children[o],_=Y2(t,o),x=this.processSegmentGroup(_,f,o);if(null===x)return null;r.push(...x)}const i=q2(r);return function RB(e){e.sort((t,n)=>t.value.outlet===Rs?-1:n.value.outlet===Rs?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(t,n,r,i){for(const o of t){const f=this.processSegmentAgainstRoute(o,n,r,i);if(null!==f)return f}return j2(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!B2(t,n,r,i))return null;let o,f=[],_=[];if("**"===t.path){const Y=r.length>0?p2(r).parameters:{};o=new Q0(r,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Z2(t),Ch(t),t.component,t,W2(n),$2(n)+r.length,X2(t))}else{const Y=n1(n,t,r);if(!Y.matched)return null;f=Y.consumedSegments,_=r.slice(Y.lastChild),o=new Q0(f,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Z2(t),Ch(t),t.component,t,W2(n),$2(n)+f.length,X2(t))}const x=function NB(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:T}=r1(n,f,_,x.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const Y=this.processChildren(x,b);return null===Y?null:[new Jd(o,Y)]}if(0===x.length&&0===T.length)return[new Jd(o,[])];const A=Ch(t)===i,R=this.processSegment(x,b,T,A?Rs:i);return null===R?null:[new Jd(o,R)]}}function YB(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function q2(e){const t=[],n=new Set;for(const r of e){if(!YB(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=q2(r.children);t.push(new Jd(r.value,i))}return t.filter(r=>!n.has(r))}function W2(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $2(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Z2(e){return e.data||{}}function X2(e){return e.resolve||{}}function DM(e){return Op(t=>{const n=e(t);return n?rn(n).pipe(bt(()=>t)):Vi(t)})}class qB extends class GB{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const EM=new Oi("ROUTES");class J2{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n);const f=o.create(t);return new xM(f2(f.injector.get(EM,void 0,Tr.Self|Tr.Optional)).map(bM),f)}),Gf(o=>{throw n._loader$=void 0,o}));return n._loader$=new rz(i,()=>new gt).pipe(r2()),n._loader$}loadModuleFactory(t){return yd(t()).pipe(yt(n=>n instanceof $C?Vi(n):rn(this.compiler.compileModuleAsync(n))))}}class $B{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function ZB(e){throw e}function XB(e,t,n){return t.parse("/")}function K2(e,t){return Vi(null)}const JB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jl=(()=>{class e{constructor(n,r,i,o,f,_,x){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gt,this.errorHandler=ZB,this.malformedUriErrorHandler=XB,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:K2,afterPreactivation:K2},this.urlHandlingStrategy=new $B,this.routeReuseStrategy=new qB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(Hd),this.console=f.get(AT);const A=f.get(wu);this.isNgZoneEnabled=A instanceof wu&&wu.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=function Mz(){return new Rp(new Xs([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new J2(f,_,R=>this.triggerEvent(new l2(R)),R=>this.triggerEvent(new u2(R))),this.routerState=T2(this.currentUrlTree,this.rootComponentType),this.transitions=new qh({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Ap(i=>0!==i.id),bt(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Op(i=>{let o=!1,f=!1;return Vi(i).pipe(nh(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Op(_=>{const x=this.browserUrlTree.toString(),b=!this.navigated||_.extractedUrl.toString()!==x||x!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return l1(_.source)&&(this.browserUrlTree=_.extractedUrl),Vi(_).pipe(Op(A=>{const R=this.transitions.getValue();return r.next(new uM(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),R!==this.transitions.getValue()?kt:Promise.resolve(A)}),function yB(e,t,n,r){return Op(i=>function mB(e,t,n,r,i){return new gB(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(bt(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),nh(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function zB(e,t,n,r,i){return yt(o=>function AB(e,t,n,r,i="emptyOnly",o="legacy"){try{const f=new OB(e,t,n,r,i,o).recognize();return null===f?G2(new PB):Vi(f)}catch(f){return G2(f)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(bt(f=>Object.assign(Object.assign({},o),{targetSnapshot:f}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),nh(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(Y,A)}this.browserUrlTree=A.urlAfterRedirects}const R=new cz(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(R)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:Y,source:ue,restoredState:ge,extras:He}=_,Se=new uM(R,this.serializeUrl(Y),ue,ge);r.next(Se);const _e=T2(Y,this.rootComponentType).snapshot;return Vi(Object.assign(Object.assign({},_),{targetSnapshot:_e,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},He),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,_.resolve(null),kt}),DM(_=>{const{targetSnapshot:x,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:Y}}=_;return this.hooks.beforePreactivation(x,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!Y})}),nh(_=>{const x=new hz(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(x)}),bt(_=>Object.assign(Object.assign({},_),{guards:vB(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function DB(e,t){return yt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:f}}=n;return 0===f.length&&0===o.length?Vi(Object.assign(Object.assign({},n),{guardsResult:!0})):function EB(e,t,n,r){return rn(e).pipe(yt(i=>function IB(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Vi(o.map(_=>{const x=a1(_,t,i);let b;if(function iB(e){return e&&qf(e.canDeactivate)}(x))b=yd(x.canDeactivate(e,t,n,r));else{if(!qf(x))throw new Error("Invalid CanDeactivate guard");b=yd(x(e,t,n,r))}return b.pipe(ag())})).pipe(_y()):Vi(!0)}(i.component,i.route,n,t,r)),ag(i=>!0!==i,!0))}(f,r,i,e).pipe(yt(_=>_&&function eB(e){return"boolean"==typeof e}(_)?function CB(e,t,n,r){return rn(t).pipe(og(i=>aM(function SB(e,t){return null!==e&&t&&t(new mz(e)),Vi(!0)}(i.route.parent,r),function TB(e,t){return null!==e&&t&&t(new _z(e)),Vi(!0)}(i.route,r),function kB(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(f=>function xB(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(f)).filter(f=>null!==f).map(f=>n2(()=>Vi(f.guards.map(x=>{const b=a1(x,f.node,n);let T;if(function rB(e){return e&&qf(e.canActivateChild)}(b))T=yd(b.canActivateChild(r,e));else{if(!qf(b))throw new Error("Invalid CanActivateChild guard");T=yd(b(r,e))}return T.pipe(ag())})).pipe(_y())));return Vi(o).pipe(_y())}(e,i.path,n),function LB(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Vi(!0);const i=r.map(o=>n2(()=>{const f=a1(o,t,n);let _;if(function nB(e){return e&&qf(e.canActivate)}(f))_=yd(f.canActivate(t,e));else{if(!qf(f))throw new Error("Invalid CanActivate guard");_=yd(f(t,e))}return _.pipe(ag())}));return Vi(i).pipe(_y())}(e,i.route,n))),ag(i=>!0!==i,!0))}(r,o,e,t):Vi(_)),bt(_=>Object.assign(Object.assign({},n),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),nh(_=>{if(Fp(_.guardsResult)){const b=cM(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw b.url=_.guardsResult,b}const x=new dz(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(x)}),Ap(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),DM(_=>{if(_.guards.canActivateChecks.length)return Vi(_).pipe(nh(x=>{const b=new fz(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(b)}),Op(x=>{let b=!1;return Vi(x).pipe(function BB(e,t){return yt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Vi(n);let o=0;return rn(i).pipe(og(f=>function jB(e,t,n,r){return function VB(e,t,n,r){const i=Object.keys(e);if(0===i.length)return Vi({});const o={};return rn(i).pipe(yt(f=>function UB(e,t,n,r){const i=a1(e,t,r);return yd(i.resolve?i.resolve(t,n):i(t,n))}(e[f],t,n,r).pipe(nh(_=>{o[f]=_}))),lM(1),yt(()=>Object.keys(o).length===i.length?Vi(o):kt))}(e._resolve,e,t,r).pipe(bt(o=>(e._resolvedData=o,e.data=Object.assign(Object.assign({},e.data),S2(e,n).resolve),null)))}(f.route,r,e,t)),nh(()=>o++),lM(1),yt(f=>o===i.length?Vi(n):kt))})}(this.paramsInheritanceStrategy,this.ngModule.injector),nh({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(x),this.cancelNavigationTransition(x,"At least one route resolver didn't emit any value."))}}))}),nh(x=>{const b=new pz(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(b)}))}),DM(_=>{const{targetSnapshot:x,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:R,replaceUrl:Y}}=_;return this.hooks.afterPreactivation(x,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!R,replaceUrl:!!Y})}),bt(_=>{const x=function jz(e,t,n){const r=py(e,t._root,n?n._root:void 0);return new C2(r,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:x})}),nh(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((e,t,n)=>bt(r=>(new Kz(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),nh({next(){o=!0},complete(){o=!0}}),function lz(e){return Ht((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var _;o||f||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===i.id&&(this.currentNavigation=null)}),Gf(_=>{if(f=!0,function xz(e){return e&&e[h2]}(_)){const x=Fp(_.url);x||(this.navigated=!0,this.restoreHistory(i,!0));const b=new a2(i.id,this.serializeUrl(i.extractedUrl),_.message);r.next(b),x?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||l1(i.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const x=new uz(i.id,this.serializeUrl(i.extractedUrl),_);r.next(x);try{i.resolve(this.errorHandler(_))}catch(b){i.reject(b)}}return kt}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},f=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(f){const x=Object.assign({},f);delete x.navigationId,delete x.\u0275routerPageId,0!==Object.keys(x).length&&(o.state=x)}const _=this.parseUrl(n.url);this.scheduleNavigation(_,r,f,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){F2(n),this.config=n.map(bM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:f,queryParamsHandling:_,preserveFragment:x}=r,b=i||this.routerState.root,T=x?this.currentUrlTree.fragment:f;let A=null;switch(_){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}return null!==A&&(A=this.removeEmptyProps(A)),function Hz(e,t,n,r,i){if(0===n.length)return _M(t.root,t.root,t,r,i);const o=function Gz(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new P2(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,f)=>{if("object"==typeof o&&null!=o){if(o.outlets){const _={};return Zu(o.outlets,(x,b)=>{_[b]="string"==typeof x?x.split("/"):x}),[...i,{outlets:_}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===f?(o.split("/").forEach((_,x)=>{0==x&&"."===_||(0==x&&""===_?n=!0:".."===_?t++:""!=_&&i.push(_))}),i):[...i,o]},[]);return new P2(n,t,r)}(n);if(o.toRoot())return _M(t.root,new Xs([],{}),t,r,i);const f=function qz(e,t,n){if(e.isAbsolute)return new yM(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const o=n.snapshot._urlSegment;return new yM(o,o===t.root,0)}const r=e1(e.commands[0])?0:1;return function Wz(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new yM(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),_=f.processChildren?t1(f.segmentGroup,f.index,o.commands):A2(f.segmentGroup,f.index,o.commands);return _M(f.segmentGroup,_,t,r,i)}(b,this.currentUrlTree,n,A,null!=T?T:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Fp(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function QB(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},JB):!1===r?Object.assign({},KB):r,Fp(n))return g2(this.currentUrlTree,n,i);const o=this.parseUrl(n);return g2(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new hy(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,o,f){var _,x,b;if(this.disposed)return Promise.resolve(!1);const T=this.transitions.value,A=l1(r)&&T&&!l1(T.source),R=T.rawUrl.toString()===n.toString(),Y=T.id===(null===(_=this.currentNavigation)||void 0===_?void 0:_.id);if(A&&R&&Y)return Promise.resolve(!0);let ge,He,Se;f?(ge=f.resolve,He=f.reject,Se=f.promise):Se=new Promise((dt,pt)=>{ge=dt,He=pt});const _e=++this.navigationId;let Ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Ae=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(x=this.browserPageId)&&void 0!==x?x:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Ae=0,this.setTransition({id:_e,targetPageId:Ae,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:ge,reject:He,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(dt=>Promise.reject(dt))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===f?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===f&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new a2(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){yw()},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();function l1(e){return"imperative"!==e}let vd=(()=>{class e{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new gt,this.subscription=n.events.subscribe(o=>{o instanceof hy&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,o,f){if(0!==n||r||i||o||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const _={skipLocationChange:hg(this.skipLocationChange),replaceUrl:hg(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hg(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)(yn(jl),yn(cg),yn(tg))},e.\u0275dir=Hn({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Cr("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&cd("target",r.target)("href",r.href,Yd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[qi]}),e})();function hg(e){return""===e||!!e}class Q2{}class ek{preload(t,n){return Vi(null)}}let tk=(()=>{class e{constructor(n,r,i,o){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=new J2(i,r,x=>n.triggerEvent(new l2(x)),x=>n.triggerEvent(new u2(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ap(n=>n instanceof hy),og(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Hd);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const f=o._loadedConfig;i.push(this.processRoutes(f.module,f.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(n,o)):o.children&&i.push(this.processRoutes(n,o.children));return rn(i).pipe(ht(),bt(o=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Vi(r._loadedConfig):this.loader.load(n.injector,r)).pipe(yt(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(Er(jl),Er(x0),Er(Xo),Er(Q2))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),TM=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof uM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof hy&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof c2&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new c2(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){yw()},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();const Yp=new Oi("ROUTER_CONFIGURATION"),nk=new Oi("ROUTER_FORROOT_GUARD"),r5=[lb,{provide:x2,useClass:w2},{provide:jl,useFactory:function l5(e,t,n,r,i,o,f={},_,x){const b=new jl(null,e,t,n,r,i,f2(o));return _&&(b.urlHandlingStrategy=_),x&&(b.routeReuseStrategy=x),function u5(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(f,b),f.enableTracing&&b.events.subscribe(T=>{var A,R;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(R=console.groupEnd)||void 0===R||R.call(console)}),b},deps:[x2,yy,lb,Xo,x0,EM,Yp,[class WB{},new mh],[class HB{},new mh]]},yy,{provide:cg,useFactory:function c5(e){return e.routerState.root},deps:[jl]},tk,ek,class n5{preload(t,n){return n().pipe(Gf(()=>Vi(null)))}},{provide:Yp,useValue:{enableTracing:!1}}];function i5(){return new zT("Router",jl)}let rk=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[r5,ik(n),{provide:nk,useFactory:a5,deps:[[jl,new mh,new Pd]]},{provide:Yp,useValue:r||{}},{provide:tg,useFactory:o5,deps:[Ip,[new cf(ab),new mh],Yp]},{provide:TM,useFactory:s5,deps:[jl,tY,Yp]},{provide:Q2,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ek},{provide:zT,multi:!0,useFactory:i5},[SM,{provide:y0,multi:!0,useFactory:h5,deps:[SM]},{provide:sk,useFactory:d5,deps:[SM]},{provide:PT,multi:!0,useExisting:sk}]]}}static forChild(n){return{ngModule:e,providers:[ik(n)]}}}return e.\u0275fac=function(n){return new(n||e)(Er(nk,8),Er(jl,8))},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({}),e})();function s5(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new TM(e,t,n)}function o5(e,t,n={}){return n.useHash?new YF(e,t):new aS(e,t)}function a5(e){return"guarded"}function ik(e){return[{provide:lx,multi:!0,useValue:e},{provide:EM,multi:!0,useValue:e}]}let SM=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gt}appInitializer(){return this.injector.get(RF,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(_=>r=_),o=this.injector.get(jl),f=this.injector.get(Yp);return"disabled"===f.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Vi(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Yp),i=this.injector.get(tk),o=this.injector.get(TM),f=this.injector.get(jl),_=this.injector.get(J_);n===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),i.setUpPreloading(),o.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(Er(Xo))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})();function h5(e){return e.appInitializer.bind(e)}function d5(e){return e.bootstrapListener.bind(e)}const sk=new Oi("Router Initializer");class p5{}class Kd{constructor(){this.errors={},this.busy=!1}setBusy(){this.busy=!0}clearBusy(){this.busy=!1}handleException(t){422==t.status&&(this.errors=t.error.errors),402==t.status&&(this.errors=t.error)}}const ok={now:()=>(ok.delegate||Date).now(),delegate:void 0};class m5 extends gt{constructor(t=1/0,n=1/0,r=ok){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:f}=this;n||(r.push(t),!i&&r.push(o.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let f=0;f<o.length&&!t.closed;f+=r?1:2)t.next(o[f]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const f=n.now();let _=0;for(let x=1;x<r.length&&r[x]<=f;x+=2)_=x;_&&r.splice(0,_+1)}}}class g5 extends gt{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(t){const{hasError:n,_hasValue:r,_value:i,thrownError:o,isStopped:f,_isComplete:_}=this;n?t.error(o):(f||_)&&(r&&t.next(i),t.complete())}next(t){this.isStopped||(this._value=t,this._hasValue=!0)}complete(){const{_hasValue:t,_value:n,_isComplete:r}=this;r||(this._isComplete=!0,t&&super.next(n),super.complete())}}class ak{constructor(){}loadScript(t,n,r,i=null){if("undefined"!=typeof document&&!document.getElementById(t)){let o=document.createElement("script");o.async=!0,o.src=n,o.onload=r,i||(i=document.head),i.appendChild(o)}}}class u1{}let by=(()=>{class e extends ak{constructor(n,r={scope:"email"}){super(),this.clientId=n,this.initOptions=r}initialize(){return new Promise((n,r)=>{try{this.loadScript(e.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})),this.auth2.then(()=>{n()}).catch(i=>{r(i)})})})}catch(i){r(i)}})}getLoginStatus(n){const r=Object.assign(Object.assign({},this.initOptions),n);return new Promise((i,o)=>{if(this.auth2.isSignedIn.get()){let f=new u1;const _=this.auth2.currentUser.get().getBasicProfile(),x=this.auth2.currentUser.get().getAuthResponse(!0);f.id=_.getId(),f.name=_.getName(),f.email=_.getEmail(),f.photoUrl=_.getImageUrl(),f.firstName=_.getGivenName(),f.lastName=_.getFamilyName(),f.response=x;const b=T=>{f.authToken=T.access_token,f.idToken=T.id_token,i(f)};r.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(b):b(this.auth2.currentUser.get().getAuthResponse(!0))}else o(`No user is currently logged in with ${e.PROVIDER_ID}`)})}signIn(n){const r=Object.assign(Object.assign({},this.initOptions),n);return new Promise((i,o)=>{(r&&r.offline_access?this.auth2.grantOfflineAccess(n):this.auth2.signIn(n)).then(x=>{let b=new u1;if(x&&x.code)b.authorizationCode=x.code;else{let T=this.auth2.currentUser.get().getBasicProfile(),A=this.auth2.currentUser.get().getAuthResponse(!0),R=A.access_token,Y=A.id_token;b.id=T.getId(),b.name=T.getName(),b.email=T.getEmail(),b.photoUrl=T.getImageUrl(),b.firstName=T.getGivenName(),b.lastName=T.getFamilyName(),b.authToken=R,b.idToken=Y,b.response=A}i(b)},x=>{o(x)}).catch(x=>{o(x)})})}signOut(n){return new Promise((r,i)=>{let o;o=n?this.auth2.disconnect():this.auth2.signOut(),o.then(f=>{f?i(f):r()}).catch(f=>{i(f)})})}}return e.PROVIDER_ID="GOOGLE",e})(),c1=(()=>{class e{constructor(n){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new m5(1),this.initialized=!1,this._initState=new g5,n instanceof Promise?n.then(r=>{this.initialize(r)}):this.initialize(n)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(n){this.autoLogin=void 0!==n.autoLogin&&n.autoLogin;const{onError:r=console.error}=n;n.providers.forEach(i=>{this.providers.set(i.id,i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize())).then(()=>{if(this.autoLogin){const i=[];let o=!1;this.providers.forEach((f,_)=>{let x=f.getLoginStatus();i.push(x),x.then(b=>{b.provider=_,this._user=b,this._authState.next(b),o=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{o||(this._user=null,this._authState.next(null))})}}).catch(i=>{r(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(n){return new Promise((r,i)=>{if(this.initialized)if(n!==by.PROVIDER_ID)i(e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const o=this.providers.get(n);o?o.getLoginStatus({refreshToken:!0}).then(f=>{f.provider=n,this._user=f,this._authState.next(f),r()}).catch(f=>{i(f)}):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_INITIALIZED)})}signIn(n,r){return new Promise((i,o)=>{if(this.initialized){let f=this.providers.get(n);f?f.signIn(r).then(_=>{_.provider=n,i(_),this._user=_,this._authState.next(_)}).catch(_=>{o(_)}):o(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(e.ERR_NOT_INITIALIZED)})}signOut(n=!1){return new Promise((r,i)=>{if(this.initialized)if(this._user){let f=this.providers.get(this._user.provider);f?f.signOut(n).then(()=>{r(),this._user=null,this._authState.next(null)}).catch(_=>{i(_)}):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_LOGGED_IN);else i(e.ERR_NOT_INITIALIZED)})}}return e.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",e.ERR_NOT_LOGGED_IN="Not logged in",e.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",e.\u0275fac=function(n){return new(n||e)(Er("SocialAuthServiceConfig"))},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),_5=(()=>{class e{constructor(n){if(n)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(n){return{ngModule:e,providers:[c1,{provide:"SocialAuthServiceConfig",useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Er(e,12))},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({providers:[c1],imports:[[wb]]}),e})(),h1=(()=>{class e extends ak{constructor(n,r={}){super(),this.clientId=n,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions=Object.assign(Object.assign({},this.requestOptions),r)}initialize(){return new Promise((n,r)=>{try{this.loadScript(e.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),n()})}catch(i){r(i)}})}getLoginStatus(){return new Promise((n,r)=>{FB.getLoginStatus(i=>{if("connected"===i.status){let o=i.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,f=>{let _=new u1;_.id=f.id,_.name=f.name,_.email=f.email,_.photoUrl="https://graph.facebook.com/"+f.id+"/picture?type=normal&access_token="+o.accessToken,_.firstName=f.first_name,_.lastName=f.last_name,_.authToken=o.accessToken,_.response=f,n(_)})}else r(`No user is currently logged in with ${e.PROVIDER_ID}`)})})}signIn(n){const r=Object.assign(Object.assign({},this.requestOptions),n);return new Promise((i,o)=>{FB.login(f=>{if(f.authResponse){let _=f.authResponse;FB.api(`/me?fields=${r.fields}`,x=>{let b=new u1;b.id=x.id,b.name=x.name,b.email=x.email,b.photoUrl="https://graph.facebook.com/"+x.id+"/picture?type=normal",b.firstName=x.first_name,b.lastName=x.last_name,b.authToken=_.accessToken,b.response=x,i(b)})}else o("User cancelled login or did not fully authorize.")},r)})}signOut(){return new Promise((n,r)=>{FB.logout(i=>{n()})})}}return e.PROVIDER_ID="FACEBOOK",e})(),Wf=(()=>{class e{constructor(n){this.http=n}registerUser(n){return this.http.post("register",n)}login(n){return this.http.post("login",n)}callFacebookSocialite(n){return this.http.post("login-with-facebook",n)}callGoogleSocialite(n){return this.http.post("login-with-google",n)}user(){return this.http.get("user")}updateUser(n){return this.http.post("update-user",n)}changePassword(n){return this.http.post("change-password",n)}uploadFile(n){return this.http.post("upload-avatar",{image:n})}verifyEmail(n){return this.http.post("verify-email",n)}}return e.\u0275fac=function(n){return new(n||e)(Er(nM))},e.\u0275prov=_r({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y5(e,t){if(1&e&&(ze(0,"span",23),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.email)}}function v5(e,t){if(1&e&&(ze(0,"span",23),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.password)}}let x5=(()=>{class e extends Kd{constructor(n,r,i){super(),this.accountService=n,this.router=r,this.socialAuthService=i,this.user=new p5}attemptLogin(){this.accountService.login(this.user).subscribe(n=>{const r=n;localStorage.setItem("secretHash",r.token),localStorage.setItem("user",JSON.stringify(r.user)),this.router.navigate(["dashboard"])},n=>{this.handleException(n)})}loginWithFacebook(){this.socialAuthService.signIn(h1.PROVIDER_ID),this.socialAuthService.authState.subscribe(n=>{this.accountService.callFacebookSocialite(n).subscribe(i=>{const o=i;console.log(o.user,o.token),localStorage.setItem("secretHash",o.token),this.router.navigate(["dashboard"])},i=>this.handleException(i))},n=>this.handleException(n))}loginWithGoogle(){this.socialAuthService.signIn(by.PROVIDER_ID),this.socialAuthService.authState.subscribe(n=>{this.accountService.callGoogleSocialite(n).subscribe(i=>{const o=i;console.log(o.user),localStorage.setItem("secretHash",o.token),this.router.navigate(["dashboard"])},i=>this.handleException(i))},n=>this.handleException(n))}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(yn(Wf),yn(jl),yn(c1))},e.\u0275cmp=vr({type:e,selectors:[["app-login"]],features:[Zs],decls:39,vars:8,consts:[[1,"wrapper"],[1,"row"],[1,"col-lg-6","offset-lg-3","col-md-6","offset-md-3","col-12"],[1,"d-block"],[3,"ngSubmit"],[1,"mt-5","mb-4"],[1,"search","my-4"],["src","/assets/images/Message.png","alt",""],["name","email","type","email","placeholder","abc@gmail.com",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],["src","/assets/images/Lock.png","alt",""],["name","password","type","password","placeholder","Password",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-md","px-4","py-2","w-100","mx-auto","text-white","my-4",2,"background-color","#5669ff"],[1,"align-middle"],["src","/assets/images/Group 4.png",1,"float-end"],[1,"h5","text-secondary","my-2"],["type","button","disabled","",1,"btn","btn-md","btn-light","bg-white","px-4","mt-3","py-2","w-100","text-dark",3,"click"],["src","assets/images/Google.png",1,"me-3"],["type","button","disabled","",1,"btn","btn-md","btn-light","bg-white","px-2","mt-3","mt-2","py-2","w-100","text-dark",3,"click"],["src","assets/images/Facebook.png",1,"me-3"],[1,"my-3"],["routerLink","register"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(ze(0,"div",0),ze(1,"div",1),ze(2,"div",2),ze(3,"div",3),ze(4,"form",4),Cr("ngSubmit",function(){return r.attemptLogin()}),ze(5,"h1",5),Mn(6,"Sign In"),Be(),ze(7,"div",6),er(8,"img",7),ze(9,"input",8),Cr("ngModelChange",function(o){return r.user.email=o}),Be(),cr(10,y5,2,1,"span",9),Be(),ze(11,"div",6),er(12,"img",10),ze(13,"input",11),Cr("ngModelChange",function(o){return r.user.password=o}),Be(),cr(14,v5,2,1,"span",9),Be(),ze(15,"div",12),ze(16,"button",13),ze(17,"span",14),Mn(18,"Sign In"),Be(),er(19,"img",15),Be(),Be(),Be(),er(20,"div"),ze(21,"div",12),ze(22,"span",16),Mn(23,"OR"),Be(),Be(),ze(24,"div",12),ze(25,"button",17),Cr("click",function(){return r.loginWithGoogle()}),er(26,"img",18),ze(27,"span",14),Mn(28,"Continue With Google"),Be(),Be(),Be(),ze(29,"div",12),ze(30,"button",19),Cr("click",function(){return r.loginWithFacebook()}),er(31,"img",20),ze(32,"span",14),Mn(33,"Continue With Facebook"),Be(),Be(),Be(),ze(34,"div",12),ze(35,"h6",21),Mn(36,"Not register yet ? "),ze(37,"a",22),Mn(38,"Sign Up"),Be(),Be(),Be(),Be(),Be(),Be(),Be()),2&n&&($t(9),ic("form-control "+(r.errors.email?" is-invalid":"")),bn("ngModel",r.user.email),$t(1),bn("ngIf",r.errors.email),$t(3),ic("form-control"+(r.errors.password?" is-invalid ":"")),bn("ngModel",r.user.password),$t(1),bn("ngIf",r.errors.password))},directives:[sg,rg,Uf,$d,Vf,Zd,md,vd],styles:[""]}),e})();class w5{constructor(){this.roles={}}}function b5(e,t){if(1&e&&(ze(0,"span",23),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.name)}}function M5(e,t){if(1&e&&(ze(0,"span",23),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.email)}}function D5(e,t){if(1&e&&(ze(0,"span",23),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.password)}}function E5(e,t){if(1&e){const n=tu();ze(0,"div",24),ze(1,"div",25),ze(2,"label"),ze(3,"input",26),Cr("change",function(i){return gi(n),Fn().onChangeRole(i)}),Be(),er(4,"span"),Mn(5),Be(),Be(),Be()}if(2&e){const n=t.$implicit;$t(3),bn("checked",n.select)("value",n.name),$t(2),zl(" ",n.name," ")}}let C5=(()=>{class e extends Kd{constructor(n,r,i){super(),this.accountService=n,this.router=r,this.socialAuthService=i,this.user=new w5,this.roles=[{id:1,select:!1,name:"Venue Provider"},{id:2,select:!1,name:"Event Host"},{id:3,select:!1,name:"Food Supplier"},{id:4,select:!1,name:"Musical Artist"}],this.selectedRoles=[]}onChangeRole(n){const r=n.target.value;if(n.target.checked)this.selectedRoles.push(r);else{const o=this.selectedRoles.findIndex(f=>f===r);-1!=o&&this.selectedRoles.splice(o,1)}}attemptRegister(){this.user.roles=this.selectedRoles,this.setBusy(),this.accountService.registerUser(this.user).subscribe(n=>{const r=n;console.log(r.user),localStorage.setItem("secretHash",r.token),this.router.navigate(["verify-email"])},n=>this.handleException(n),()=>this.clearBusy())}loginWithFacebook(){this.socialAuthService.signIn(h1.PROVIDER_ID),this.socialAuthService.authState.subscribe(n=>{this.accountService.callFacebookSocialite(n).subscribe(i=>{const o=i;console.log(o.user),localStorage.setItem("secretHash",o.token),this.router.navigate(["dashboard"])},i=>this.handleException(i))},n=>this.handleException(n))}loginWithGoogle(){this.socialAuthService.signIn(by.PROVIDER_ID),this.socialAuthService.authState.subscribe(n=>{this.accountService.callGoogleSocialite(n).subscribe(i=>{const o=i;console.log(o.user),localStorage.setItem("secretHash",o.token),this.router.navigate(["dashboard"])},i=>this.handleException(i))},n=>this.handleException(n))}signOut(){this.socialAuthService.signOut()}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(yn(Wf),yn(jl),yn(c1))},e.\u0275cmp=vr({type:e,selectors:[["app-register"]],features:[Zs],decls:37,vars:14,consts:[[1,"wrapper"],[1,"row"],[1,"col-lg-6","offset-lg-3","col-md-6","offset-md-3","col-12"],[1,"d-block"],[3,"ngSubmit"],[1,"mt-5","mb-4"],[1,"search"],["src","/assets/images/Profile.png","alt",""],["name","name","type","text","placeholder","Full Name",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"search","my-4"],["src","/assets/images/Message.png","alt",""],["name","email","type","email","placeholder","abc@gmail.com",3,"ngModel","ngModelChange"],["src","/assets/images/Lock.png","alt",""],["name","password","type","password","placeholder","Password",3,"ngModel","ngModelChange"],["name","password_confirm","type","password","placeholder","Confirm Password",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-6 col-6",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-md","px-4","py-2","w-100","mx-auto","text-white","my-4",2,"background-color","#5669ff"],[1,"align-middle"],["src","/assets/images/Group 4.png",1,"float-end"],[1,"my-3"],["routerLink","/"],[1,"invalid-feedback"],[1,"col-md-6","col-6"],[1,"checkbox","checbox-switch","switch-primary"],["type","checkbox",3,"checked","value","change"]],template:function(n,r){1&n&&(ze(0,"div",0),ze(1,"div",1),ze(2,"div",2),ze(3,"div",3),ze(4,"form",4),Cr("ngSubmit",function(){return r.attemptRegister()}),ze(5,"h1",5),Mn(6,"Sign Up"),Be(),ze(7,"div",6),er(8,"img",7),ze(9,"input",8),Cr("ngModelChange",function(o){return r.user.name=o}),Be(),cr(10,b5,2,1,"span",9),Be(),ze(11,"div",10),er(12,"img",11),ze(13,"input",12),Cr("ngModelChange",function(o){return r.user.email=o}),Be(),cr(14,M5,2,1,"span",9),Be(),ze(15,"div",10),er(16,"img",13),ze(17,"input",14),Cr("ngModelChange",function(o){return r.user.password=o}),Be(),cr(18,D5,2,1,"span",9),Be(),ze(19,"div",10),er(20,"img",13),ze(21,"input",15),Cr("ngModelChange",function(o){return r.user.password_confirm=o}),Be(),Be(),ze(22,"div",10),ze(23,"label"),Mn(24,"Choose Role Type?"),Be(),ze(25,"div",1),cr(26,E5,6,3,"div",16),Be(),Be(),ze(27,"div",17),ze(28,"button",18),ze(29,"span",19),Mn(30,"Sign Up"),Be(),er(31,"img",20),Be(),Be(),Be(),ze(32,"div",17),ze(33,"h6",21),Mn(34,"Already have an account "),ze(35,"a",22),Mn(36,"Sign In"),Be(),Be(),Be(),Be(),Be(),Be(),Be()),2&n&&($t(9),ic("form-control "+(r.errors.name?" is-invalid":"")),bn("ngModel",r.user.name),$t(1),bn("ngIf",r.errors.name),$t(3),ic("form-control"+(r.errors.email?" is-invalid ":"")),bn("ngModel",r.user.email),$t(1),bn("ngIf",r.errors.email),$t(3),ic("form-control"+(r.errors.password?" is-invalid ":"")),bn("ngModel",r.user.password),$t(1),bn("ngIf",r.errors.password),$t(3),bn("ngModel",r.user.password_confirm),$t(5),bn("ngForOf",r.roles))},directives:[sg,rg,Uf,$d,Vf,Zd,md,ng,vd],styles:['.checkbox.checbox-switch[_ngcontent-%COMP%]{padding-left:0}.checkbox.checbox-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .checkbox-inline.checbox-switch[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-left:0}.checkbox.checbox-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkbox-inline.checbox-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkbox.checbox-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .checkbox-inline.checbox-switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;padding:1px;border-radius:20px;height:20px;border:1px solid #dbdbdb;background-color:#858796;border-color:#dee2e6;box-shadow:#dfdfdf 0 0 inset;transition:border .4s ease 0s,box-shadow .4s ease 0s;display:inline-block;vertical-align:middle;margin-right:5px}.checkbox.checbox-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .checkbox-inline.checbox-switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{display:inline-block;width:16px;height:16px;border-radius:50%;background:rgb(255,255,255);content:" ";top:0;position:relative;left:0px;transition:all .3s ease;box-shadow:0 1px 4px #0006;top:-2px}.checkbox.checbox-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before, .checkbox-inline.checbox-switch[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{left:16px;top:-2px}.checkbox.checbox-switch.switch-primary[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%], .checkbox-inline.checbox-switch.switch-primary[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background-color:#f60038;border-color:#f60038;transition:border .4s ease 0s,box-shadow .4s ease 0s,background-color 1.2s ease 0s}.checkbox.checbox-switch.switch-primary[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked:disabled + span[_ngcontent-%COMP%], .checkbox-inline.checbox-switch.switch-primary[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:checked:disabled + span[_ngcontent-%COMP%]{background-color:#f60038;border-color:#f60038;transition:border .4s ease 0s,box-shadow .4s ease 0s,background-color 1.2s ease 0s}']}),e})();var T5=$(5861),d1=$(9898),S5=$(8545),oc=6371008.8,lk={centimeters:100*oc,centimetres:100*oc,degrees:oc/111325,feet:3.28084*oc,inches:39.37*oc,kilometers:oc/1e3,kilometres:oc/1e3,meters:oc,metres:oc,miles:oc/1609.344,millimeters:1e3*oc,millimetres:1e3*oc,nauticalmiles:oc/1852,radians:1,yards:1.0936*oc};function xd(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function dg(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!IM(e[0])||!IM(e[1]))throw new Error("coordinates must contain numbers");return xd({type:"Point",coordinates:e},t,n)}function f1(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<o[o.length-1].length;f++)if(o[o.length-1][f]!==o[0][f])throw new Error("First and last Position are not equivalent.")}return xd({type:"Polygon",coordinates:e},t,n)}function fg(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function IM(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function My(e,t,n){if(null!==e)for(var r,i,o,f,_,x,b,R,T=0,A=0,Y=e.type,ue="FeatureCollection"===Y,ge="Feature"===Y,He=ue?e.features.length:1,Se=0;Se<He;Se++){_=(R=!!(b=ue?e.features[Se].geometry:ge?e.geometry:e)&&"GeometryCollection"===b.type)?b.geometries.length:1;for(var _e=0;_e<_;_e++){var Ae=0,dt=0;if(null!==(f=R?b.geometries[_e]:b)){x=f.coordinates;var pt=f.type;switch(T=!n||"Polygon"!==pt&&"MultiPolygon"!==pt?0:1,pt){case null:break;case"Point":if(!1===t(x,A,Se,Ae,dt))return!1;A++,Ae++;break;case"LineString":case"MultiPoint":for(r=0;r<x.length;r++){if(!1===t(x[r],A,Se,Ae,dt))return!1;A++,"MultiPoint"===pt&&Ae++}"LineString"===pt&&Ae++;break;case"Polygon":case"MultiLineString":for(r=0;r<x.length;r++){for(i=0;i<x[r].length-T;i++){if(!1===t(x[r][i],A,Se,Ae,dt))return!1;A++}"MultiLineString"===pt&&Ae++,"Polygon"===pt&&dt++}"Polygon"===pt&&Ae++;break;case"MultiPolygon":for(r=0;r<x.length;r++){for(dt=0,i=0;i<x[r].length;i++){for(o=0;o<x[r][i].length-T;o++){if(!1===t(x[r][i][o],A,Se,Ae,dt))return!1;A++}dt++}Ae++}break;case"GeometryCollection":for(r=0;r<f.geometries.length;r++)if(!1===My(f.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function PM(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function p1(e,t){var n,r,i,o,f,_,x,b,T,A,R=0,Y="FeatureCollection"===e.type,ue="Feature"===e.type,ge=Y?e.features.length:1;for(n=0;n<ge;n++){for(b=Y?e.features[n].properties:ue?e.properties:{},T=Y?e.features[n].bbox:ue?e.bbox:void 0,A=Y?e.features[n].id:ue?e.id:void 0,f=(x=!!(_=Y?e.features[n].geometry:ue?e.geometry:e)&&"GeometryCollection"===_.type)?_.geometries.length:1,i=0;i<f;i++)if(null!==(o=x?_.geometries[i]:_))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,R,b,T,A))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],R,b,T,A))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,R,b,T,A))return!1;R++}}function AM(e){var t=[1/0,1/0,-1/0,-1/0];return My(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}AM.default=AM;const dk=AM;function gk(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=function N5(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(e),i=function z5(e){return"Feature"===e.type?e.geometry:e}(t),o=i.type,f=t.bbox,_=i.coordinates;if(f&&!1===function Z5(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(r,f))return!1;"Polygon"===o&&(_=[_]);for(var x=!1,b=0;b<_.length&&!x;b++)if(_k(r,_[b][0],n.ignoreBoundary)){for(var T=!1,A=1;A<_[b].length&&!T;)_k(r,_[b][A],!n.ignoreBoundary)&&(T=!0),A++;T||(x=!0)}return x}function _k(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var f=t[i][0],_=t[i][1],x=t[o][0],b=t[o][1];if(e[1]*(f-x)+_*(x-e[0])+b*(e[0]-f)==0&&(f-e[0])*(x-e[0])<=0&&(_-e[1])*(b-e[1])<=0)return!n;_>e[1]!=b>e[1]&&e[0]<(x-f)*(e[1]-_)/(b-_)+f&&(r=!r)}return r}$(5943),$(1335);var vk=new ArrayBuffer(16);new Float64Array(vk),new Uint32Array(vk),$(3544),function(){function e(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var n=0;n<this.length;n++)this.points[n].z=this.points[n].z||0;for(n=0;n<this.length-1;n++){var r=this.points[n],i=this.points[n+1];this.centers.push({x:(r.x+i.x)/2,y:(r.y+i.y)/2,z:(r.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),n=0;n<this.centers.length-1;n++){var o=this.points[n+1].x-(this.centers[n].x+this.centers[n+1].x)/2,f=this.points[n+1].y-(this.centers[n].y+this.centers[n+1].y)/2,_=this.points[n+1].z-(this.centers[n].y+this.centers[n+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n].x+o),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n].y+f),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n].z+_)},{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n+1].x+o),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n+1].y+f),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n+1].z+_)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}e.prototype.cacheSteps=function(t){var n=[],r=this.pos(0);n.push(0);for(var i=0;i<this.duration;i+=10){var o=this.pos(i);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>t&&(n.push(i),r=o)}return n},e.prototype.vector=function(t){var n=this.pos(t+10),r=this.pos(t-10);return{angle:180*Math.atan2(n.y-r.y,n.x-r.x)/3.14,speed:Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))}},e.prototype.pos=function(t){var n=t-this.delay;n<0&&(n=0),n>this.duration&&(n=this.duration-1);var r=n/this.duration;if(r>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*r);return function h6(e,t,n,r,i){var o=function d6(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+t.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+t.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+t.z*o[3]}}((this.length-1)*r-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])}}();$(5469),$(5406);var Nk=Math.PI/180,Fk=180/Math.PI,Cy=function(e,t){this.lon=e,this.lat=t,this.x=Nk*e,this.y=Nk*t};Cy.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Cy.prototype.antipode=function(){return new Cy(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Yk=function(){this.coords=[],this.length=0};Yk.prototype.move_to=function(e){this.length++,this.coords.push(e)};var jM=function(e){this.properties=e||{},this.geometries=[]};jM.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},jM.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(o){t+=o[0]+" "+o[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var VM=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Cy(e.x,e.y),this.end=new Cy(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};VM.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),f=Fk*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Fk*Math.atan2(i,r),f]},VM.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var f=this.interpolate(r*i);n.push(f)}for(var _=!1,x=0,b=t&&t.offset?t.offset:10,T=180-b,A=-180+b,R=360-b,Y=1;Y<n.length;++Y){var ue=n[Y-1][0],ge=n[Y][0],He=Math.abs(ge-ue);He>R&&(ge>T&&ue<A||ue>T&&ge<A)?_=!0:He>x&&(x=He)}var Se=[];if(_&&x<b){var _e=[];Se.push(_e);for(var Ae=0;Ae<n.length;++Ae){var dt=parseFloat(n[Ae][0]);if(Ae>0&&Math.abs(dt-n[Ae-1][0])>R){var pt=parseFloat(n[Ae-1][0]),Rt=parseFloat(n[Ae-1][1]),Ft=parseFloat(n[Ae][0]),Wt=parseFloat(n[Ae][1]);if(pt>-180&&pt<A&&180===Ft&&Ae+1<n.length&&n[Ae-1][0]>-180&&n[Ae-1][0]<A){_e.push([-180,n[Ae][1]]),Ae++,_e.push([n[Ae][0],n[Ae][1]]);continue}if(pt>T&&pt<180&&-180===Ft&&Ae+1<n.length&&n[Ae-1][0]>T&&n[Ae-1][0]<180){_e.push([180,n[Ae][1]]),Ae++,_e.push([n[Ae][0],n[Ae][1]]);continue}if(pt<A&&Ft>T){var mt=pt;pt=Ft,Ft=mt;var Lr=Rt;Rt=Wt,Wt=Lr}if(pt>T&&Ft<A&&(Ft+=360),pt<=180&&Ft>=180&&pt<Ft){var Xn=(180-pt)/(Ft-pt),Br=Xn*Wt+(1-Xn)*Rt;_e.push([n[Ae-1][0]>T?180:-180,Br]),(_e=[]).push([n[Ae-1][0]>T?-180:180,Br]),Se.push(_e)}else Se.push(_e=[]);_e.push([dt,n[Ae][1]])}else _e.push([n[Ae][0],n[Ae][1]])}}else{var ci=[];Se.push(ci);for(var An=0;An<n.length;++An)ci.push([n[An][0],n[An][1]])}for(var Or=new jM(this.properties),hr=0;hr<Se.length;++hr){var uo=new Yk;Or.geometries.push(uo);for(var no=Se[hr],Yi=0;Yi<no.length;++Yi)uo.move_to(no[Yi])}return Or},$(6952);var rs=[],is=[],ss=[],os=[],as=[],ls=[],us=[],cs=[],hs=[],ds=[],fs=[],ps=[],ms=[],gs=[],_s=[],ys=[],vs=[],xs=[],ws=[],bs=[],Ms=[],Ds=[],Es=[],Cs=[];us[85]=ds[85]=-1,cs[85]=fs[85]=0,hs[85]=ps[85]=1,ws[85]=Ds[85]=1,bs[85]=Es[85]=0,Ms[85]=Cs[85]=1,rs[85]=os[85]=0,is[85]=as[85]=-1,ss[85]=_s[85]=0,ys[85]=ms[85]=0,vs[85]=gs[85]=1,ls[85]=xs[85]=1,Ds[1]=Ds[169]=0,Es[1]=Es[169]=-1,Cs[1]=Cs[169]=0,ms[1]=ms[169]=-1,gs[1]=gs[169]=0,_s[1]=_s[169]=0,ds[4]=ds[166]=0,fs[4]=fs[166]=-1,ps[4]=ps[166]=1,ys[4]=ys[166]=1,vs[4]=vs[166]=0,xs[4]=xs[166]=0,us[16]=us[154]=0,cs[16]=cs[154]=1,hs[16]=hs[154]=1,os[16]=os[154]=1,as[16]=as[154]=0,ls[16]=ls[154]=1,ws[64]=ws[106]=0,bs[64]=bs[106]=1,Ms[64]=Ms[106]=0,rs[64]=rs[106]=-1,is[64]=is[106]=0,ss[64]=ss[106]=1,ws[2]=ws[168]=0,bs[2]=bs[168]=-1,Ms[2]=Ms[168]=1,Ds[2]=Ds[168]=0,Es[2]=Es[168]=-1,Cs[2]=Cs[168]=0,ms[2]=ms[168]=-1,gs[2]=gs[168]=0,_s[2]=_s[168]=0,ys[2]=ys[168]=-1,vs[2]=vs[168]=0,xs[2]=xs[168]=1,us[8]=us[162]=0,cs[8]=cs[162]=-1,hs[8]=hs[162]=0,ds[8]=ds[162]=0,fs[8]=fs[162]=-1,ps[8]=ps[162]=1,ms[8]=ms[162]=1,gs[8]=gs[162]=0,_s[8]=_s[162]=1,ys[8]=ys[162]=1,vs[8]=vs[162]=0,xs[8]=xs[162]=0,us[32]=us[138]=0,cs[32]=cs[138]=1,hs[32]=hs[138]=1,ds[32]=ds[138]=0,fs[32]=fs[138]=1,ps[32]=ps[138]=0,rs[32]=rs[138]=1,is[32]=is[138]=0,ss[32]=ss[138]=0,os[32]=os[138]=1,as[32]=as[138]=0,ls[32]=ls[138]=1,Ds[128]=Ds[42]=0,Es[128]=Es[42]=1,Cs[128]=Cs[42]=1,ws[128]=ws[42]=0,bs[128]=bs[42]=1,Ms[128]=Ms[42]=0,rs[128]=rs[42]=-1,is[128]=is[42]=0,ss[128]=ss[42]=1,os[128]=os[42]=-1,as[128]=as[42]=0,ls[128]=ls[42]=0,ds[5]=ds[165]=-1,fs[5]=fs[165]=0,ps[5]=ps[165]=0,Ds[5]=Ds[165]=1,Es[5]=Es[165]=0,Cs[5]=Cs[165]=0,ys[20]=ys[150]=0,vs[20]=vs[150]=1,xs[20]=xs[150]=1,os[20]=os[150]=0,as[20]=as[150]=-1,ls[20]=ls[150]=1,us[80]=us[90]=-1,cs[80]=cs[90]=0,hs[80]=hs[90]=1,ws[80]=ws[90]=1,bs[80]=bs[90]=0,Ms[80]=Ms[90]=1,ms[65]=ms[105]=0,gs[65]=gs[105]=1,_s[65]=_s[105]=0,rs[65]=rs[105]=0,is[65]=is[105]=-1,ss[65]=ss[105]=0,us[160]=us[10]=-1,cs[160]=cs[10]=0,hs[160]=hs[10]=1,ds[160]=ds[10]=-1,fs[160]=fs[10]=0,ps[160]=ps[10]=0,Ds[160]=Ds[10]=1,Es[160]=Es[10]=0,Cs[160]=Cs[10]=0,ws[160]=ws[10]=1,bs[160]=bs[10]=0,Ms[160]=Ms[10]=1,ys[130]=ys[40]=0,vs[130]=vs[40]=1,xs[130]=xs[40]=1,ms[130]=ms[40]=0,gs[130]=gs[40]=1,_s[130]=_s[40]=0,rs[130]=rs[40]=0,is[130]=is[40]=-1,ss[130]=ss[40]=0,os[130]=os[40]=0,as[130]=as[40]=-1,ls[130]=ls[40]=1,ds[37]=ds[133]=0,fs[37]=fs[133]=1,ps[37]=ps[133]=1,Ds[37]=Ds[133]=0,Es[37]=Es[133]=1,Cs[37]=Cs[133]=0,rs[37]=rs[133]=-1,is[37]=is[133]=0,ss[37]=ss[133]=0,os[37]=os[133]=1,as[37]=as[133]=0,ls[37]=ls[133]=0,ys[148]=ys[22]=-1,vs[148]=vs[22]=0,xs[148]=xs[22]=0,Ds[148]=Ds[22]=0,Es[148]=Es[22]=-1,Cs[148]=Cs[22]=1,ws[148]=ws[22]=0,bs[148]=bs[22]=1,Ms[148]=Ms[22]=1,os[148]=os[22]=-1,as[148]=as[22]=0,ls[148]=ls[22]=1,us[82]=us[88]=0,cs[82]=cs[88]=-1,hs[82]=hs[88]=1,ys[82]=ys[88]=1,vs[82]=vs[88]=0,xs[82]=xs[88]=1,ms[82]=ms[88]=-1,gs[82]=gs[88]=0,_s[82]=_s[88]=1,ws[82]=ws[88]=0,bs[82]=bs[88]=-1,Ms[82]=Ms[88]=0,us[73]=us[97]=0,cs[73]=cs[97]=1,hs[73]=hs[97]=0,ds[73]=ds[97]=0,fs[73]=fs[97]=-1,ps[73]=ps[97]=0,ms[73]=ms[97]=1,gs[73]=gs[97]=0,_s[73]=_s[97]=0,rs[73]=rs[97]=1,is[73]=is[97]=0,ss[73]=ss[97]=1,us[145]=us[25]=0,cs[145]=cs[25]=-1,hs[145]=hs[25]=0,ms[145]=ms[25]=1,gs[145]=gs[25]=0,_s[145]=_s[25]=1,Ds[145]=Ds[25]=0,Es[145]=Es[25]=1,Cs[145]=Cs[25]=1,os[145]=os[25]=-1,as[145]=as[25]=0,ls[145]=ls[25]=0,ds[70]=ds[100]=0,fs[70]=fs[100]=1,ps[70]=ps[100]=0,ys[70]=ys[100]=-1,vs[70]=vs[100]=0,xs[70]=xs[100]=1,ws[70]=ws[100]=0,bs[70]=bs[100]=-1,Ms[70]=Ms[100]=1,rs[70]=rs[100]=1,is[70]=is[100]=0,ss[70]=ss[100]=0,ds[101]=ds[69]=0,fs[101]=fs[69]=1,ps[101]=ps[69]=0,rs[101]=rs[69]=1,is[101]=is[69]=0,ss[101]=ss[69]=0,Ds[149]=Ds[21]=0,Es[149]=Es[21]=1,Cs[149]=Cs[21]=1,os[149]=os[21]=-1,as[149]=as[21]=0,ls[149]=ls[21]=0,ys[86]=ys[84]=-1,vs[86]=vs[84]=0,xs[86]=xs[84]=1,ws[86]=ws[84]=0,bs[86]=bs[84]=-1,Ms[86]=Ms[84]=1,us[89]=us[81]=0,cs[89]=cs[81]=-1,hs[89]=hs[81]=0,ms[89]=ms[81]=1,gs[89]=gs[81]=0,_s[89]=_s[81]=1,us[96]=us[74]=0,cs[96]=cs[74]=1,hs[96]=hs[74]=0,ds[96]=ds[74]=-1,fs[96]=fs[74]=0,ps[96]=ps[74]=1,ws[96]=ws[74]=1,bs[96]=bs[74]=0,Ms[96]=Ms[74]=0,rs[96]=rs[74]=1,is[96]=is[74]=0,ss[96]=ss[74]=1,us[24]=us[146]=0,cs[24]=cs[146]=-1,hs[24]=hs[146]=1,ys[24]=ys[146]=1,vs[24]=vs[146]=0,xs[24]=xs[146]=1,ms[24]=ms[146]=0,gs[24]=gs[146]=1,_s[24]=_s[146]=1,os[24]=os[146]=0,as[24]=as[146]=-1,ls[24]=ls[146]=0,ds[6]=ds[164]=-1,fs[6]=fs[164]=0,ps[6]=ps[164]=1,ys[6]=ys[164]=-1,vs[6]=vs[164]=0,xs[6]=xs[164]=0,Ds[6]=Ds[164]=0,Es[6]=Es[164]=-1,Cs[6]=Cs[164]=1,ws[6]=ws[164]=1,bs[6]=bs[164]=0,Ms[6]=Ms[164]=0,ms[129]=ms[41]=0,gs[129]=gs[41]=1,_s[129]=_s[41]=1,Ds[129]=Ds[41]=0,Es[129]=Es[41]=1,Cs[129]=Cs[41]=0,rs[129]=rs[41]=-1,is[129]=is[41]=0,ss[129]=ss[41]=0,os[129]=os[41]=0,as[129]=as[41]=-1,ls[129]=ls[41]=0,ys[66]=ys[104]=0,vs[66]=vs[104]=1,xs[66]=xs[104]=0,ms[66]=ms[104]=-1,gs[66]=gs[104]=0,_s[66]=_s[104]=1,ws[66]=ws[104]=0,bs[66]=bs[104]=-1,Ms[66]=Ms[104]=0,rs[66]=rs[104]=0,is[66]=is[104]=-1,ss[66]=ss[104]=1,us[144]=us[26]=-1,cs[144]=cs[26]=0,hs[144]=hs[26]=0,Ds[144]=Ds[26]=1,Es[144]=Es[26]=0,Cs[144]=Cs[26]=1,ws[144]=ws[26]=0,bs[144]=bs[26]=1,Ms[144]=Ms[26]=1,os[144]=os[26]=-1,as[144]=as[26]=0,ls[144]=ls[26]=1,ds[36]=ds[134]=0,fs[36]=fs[134]=1,ps[36]=ps[134]=1,ys[36]=ys[134]=0,vs[36]=vs[134]=1,xs[36]=xs[134]=0,rs[36]=rs[134]=0,is[36]=is[134]=-1,ss[36]=ss[134]=1,os[36]=os[134]=1,as[36]=as[134]=0,ls[36]=ls[134]=0,us[9]=us[161]=-1,cs[9]=cs[161]=0,hs[9]=hs[161]=0,ds[9]=ds[161]=0,fs[9]=fs[161]=-1,ps[9]=ps[161]=0,ms[9]=ms[161]=1,gs[9]=gs[161]=0,_s[9]=_s[161]=0,Ds[9]=Ds[161]=1,Es[9]=Es[161]=0,Cs[9]=Cs[161]=1,us[136]=0,cs[136]=1,hs[136]=1,ds[136]=0,fs[136]=1,ps[136]=0,ys[136]=-1,vs[136]=0,xs[136]=1,ms[136]=-1,gs[136]=0,_s[136]=0,Ds[136]=0,Es[136]=-1,Cs[136]=0,ws[136]=0,bs[136]=-1,Ms[136]=1,rs[136]=1,is[136]=0,ss[136]=0,os[136]=1,as[136]=0,ls[136]=1,us[34]=0,cs[34]=-1,hs[34]=0,ds[34]=0,fs[34]=-1,ps[34]=1,ys[34]=1,vs[34]=0,xs[34]=0,ms[34]=1,gs[34]=0,_s[34]=1,Ds[34]=0,Es[34]=1,Cs[34]=1,ws[34]=0,bs[34]=1,Ms[34]=0,rs[34]=-1,is[34]=0,ss[34]=1,os[34]=-1,as[34]=0,ls[34]=0,us[35]=0,cs[35]=1,hs[35]=1,ds[35]=0,fs[35]=-1,ps[35]=1,ys[35]=1,vs[35]=0,xs[35]=0,ms[35]=-1,gs[35]=0,_s[35]=0,Ds[35]=0,Es[35]=-1,Cs[35]=0,ws[35]=0,bs[35]=1,Ms[35]=0,rs[35]=-1,is[35]=0,ss[35]=1,os[35]=1,as[35]=0,ls[35]=1,us[153]=0,cs[153]=1,hs[153]=1,ms[153]=-1,gs[153]=0,_s[153]=0,Ds[153]=0,Es[153]=-1,Cs[153]=0,os[153]=1,as[153]=0,ls[153]=1,ds[102]=0,fs[102]=-1,ps[102]=1,ys[102]=1,vs[102]=0,xs[102]=0,ws[102]=0,bs[102]=1,Ms[102]=0,rs[102]=-1,is[102]=0,ss[102]=1,us[155]=0,cs[155]=-1,hs[155]=0,ms[155]=1,gs[155]=0,_s[155]=1,Ds[155]=0,Es[155]=1,Cs[155]=1,os[155]=-1,as[155]=0,ls[155]=0,ds[103]=0,fs[103]=1,ps[103]=0,ys[103]=-1,vs[103]=0,xs[103]=1,ws[103]=0,bs[103]=-1,Ms[103]=1,rs[103]=1,is[103]=0,ss[103]=0,us[152]=0,cs[152]=1,hs[152]=1,ys[152]=-1,vs[152]=0,xs[152]=1,ms[152]=-1,gs[152]=0,_s[152]=0,Ds[152]=0,Es[152]=-1,Cs[152]=0,ws[152]=0,bs[152]=-1,Ms[152]=1,os[152]=1,as[152]=0,ls[152]=1,us[156]=0,cs[156]=-1,hs[156]=1,ys[156]=1,vs[156]=0,xs[156]=1,ms[156]=-1,gs[156]=0,_s[156]=0,Ds[156]=0,Es[156]=-1,Cs[156]=0,ws[156]=0,bs[156]=1,Ms[156]=1,os[156]=-1,as[156]=0,ls[156]=1,us[137]=0,cs[137]=1,hs[137]=1,ds[137]=0,fs[137]=1,ps[137]=0,ms[137]=-1,gs[137]=0,_s[137]=0,Ds[137]=0,Es[137]=-1,Cs[137]=0,rs[137]=1,is[137]=0,ss[137]=0,os[137]=1,as[137]=0,ls[137]=1,us[139]=0,cs[139]=1,hs[139]=1,ds[139]=0,fs[139]=-1,ps[139]=0,ms[139]=1,gs[139]=0,_s[139]=0,Ds[139]=0,Es[139]=1,Cs[139]=0,rs[139]=-1,is[139]=0,ss[139]=0,os[139]=1,as[139]=0,ls[139]=1,us[98]=0,cs[98]=-1,hs[98]=0,ds[98]=0,fs[98]=-1,ps[98]=1,ys[98]=1,vs[98]=0,xs[98]=0,ms[98]=1,gs[98]=0,_s[98]=1,ws[98]=0,bs[98]=1,Ms[98]=0,rs[98]=-1,is[98]=0,ss[98]=1,us[99]=0,cs[99]=1,hs[99]=0,ds[99]=0,fs[99]=-1,ps[99]=1,ys[99]=1,vs[99]=0,xs[99]=0,ms[99]=-1,gs[99]=0,_s[99]=1,ws[99]=0,bs[99]=-1,Ms[99]=0,rs[99]=1,is[99]=0,ss[99]=1,ds[38]=0,fs[38]=-1,ps[38]=1,ys[38]=1,vs[38]=0,xs[38]=0,Ds[38]=0,Es[38]=1,Cs[38]=1,ws[38]=0,bs[38]=1,Ms[38]=0,rs[38]=-1,is[38]=0,ss[38]=1,os[38]=-1,as[38]=0,ls[38]=0,ds[39]=0,fs[39]=1,ps[39]=1,ys[39]=-1,vs[39]=0,xs[39]=0,Ds[39]=0,Es[39]=-1,Cs[39]=1,ws[39]=0,bs[39]=1,Ms[39]=0,rs[39]=-1,is[39]=0,ss[39]=1,os[39]=1,as[39]=0,ls[39]=0;var qM=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},WM=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},$M=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},ZM=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},XM=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},JM=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},KM=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},QM=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ur=[],ir=[],zr=[],Sr=[],ei=[],Zr=[],Ts=[],Ns=[];Sr[1]=ei[1]=18,Sr[169]=ei[169]=18,zr[4]=ir[4]=12,zr[166]=ir[166]=12,ur[16]=Ns[16]=4,ur[154]=Ns[154]=4,Zr[64]=Ts[64]=22,Zr[106]=Ts[106]=22,zr[2]=Zr[2]=17,Sr[2]=ei[2]=18,zr[168]=Zr[168]=17,Sr[168]=ei[168]=18,ur[8]=Sr[8]=9,ir[8]=zr[8]=12,ur[162]=Sr[162]=9,ir[162]=zr[162]=12,ur[32]=Ns[32]=4,ir[32]=Ts[32]=1,ur[138]=Ns[138]=4,ir[138]=Ts[138]=1,ei[128]=Ns[128]=21,Zr[128]=Ts[128]=22,ei[42]=Ns[42]=21,Zr[42]=Ts[42]=22,ir[5]=ei[5]=14,ir[165]=ei[165]=14,zr[20]=Ns[20]=6,zr[150]=Ns[150]=6,ur[80]=Zr[80]=11,ur[90]=Zr[90]=11,Sr[65]=Ts[65]=3,Sr[105]=Ts[105]=3,ur[160]=Zr[160]=11,ir[160]=ei[160]=14,ur[10]=Zr[10]=11,ir[10]=ei[10]=14,zr[130]=Ns[130]=6,Sr[130]=Ts[130]=3,zr[40]=Ns[40]=6,Sr[40]=Ts[40]=3,ir[101]=Ts[101]=1,ir[69]=Ts[69]=1,ei[149]=Ns[149]=21,ei[21]=Ns[21]=21,zr[86]=Zr[86]=17,zr[84]=Zr[84]=17,ur[89]=Sr[89]=9,ur[81]=Sr[81]=9,ur[96]=Ts[96]=0,ir[96]=Zr[96]=15,ur[74]=Ts[74]=0,ir[74]=Zr[74]=15,ur[24]=zr[24]=8,Sr[24]=Ns[24]=7,ur[146]=zr[146]=8,Sr[146]=Ns[146]=7,ir[6]=Zr[6]=15,zr[6]=ei[6]=16,ir[164]=Zr[164]=15,zr[164]=ei[164]=16,Sr[129]=Ns[129]=7,ei[129]=Ts[129]=20,Sr[41]=Ns[41]=7,ei[41]=Ts[41]=20,zr[66]=Ts[66]=2,Sr[66]=Zr[66]=19,zr[104]=Ts[104]=2,Sr[104]=Zr[104]=19,ur[144]=ei[144]=10,Zr[144]=Ns[144]=23,ur[26]=ei[26]=10,Zr[26]=Ns[26]=23,ir[36]=Ns[36]=5,zr[36]=Ts[36]=2,ir[134]=Ns[134]=5,zr[134]=Ts[134]=2,ur[9]=ei[9]=10,ir[9]=Sr[9]=13,ur[161]=ei[161]=10,ir[161]=Sr[161]=13,ir[37]=Ns[37]=5,ei[37]=Ts[37]=20,ir[133]=Ns[133]=5,ei[133]=Ts[133]=20,zr[148]=ei[148]=16,Zr[148]=Ns[148]=23,zr[22]=ei[22]=16,Zr[22]=Ns[22]=23,ur[82]=zr[82]=8,Sr[82]=Zr[82]=19,ur[88]=zr[88]=8,Sr[88]=Zr[88]=19,ur[73]=Ts[73]=0,ir[73]=Sr[73]=13,ur[97]=Ts[97]=0,ir[97]=Sr[97]=13,ur[145]=Sr[145]=9,ei[145]=Ns[145]=21,ur[25]=Sr[25]=9,ei[25]=Ns[25]=21,ir[70]=Ts[70]=1,zr[70]=Zr[70]=17,ir[100]=Ts[100]=1,zr[100]=Zr[100]=17,ur[34]=Sr[34]=9,ir[34]=zr[34]=12,ei[34]=Ns[34]=21,Zr[34]=Ts[34]=22,ur[136]=Ns[136]=4,ir[136]=Ts[136]=1,zr[136]=Zr[136]=17,Sr[136]=ei[136]=18,ur[35]=Ns[35]=4,ir[35]=zr[35]=12,Sr[35]=ei[35]=18,Zr[35]=Ts[35]=22,ur[153]=Ns[153]=4,Sr[153]=ei[153]=18,ir[102]=zr[102]=12,Zr[102]=Ts[102]=22,ur[155]=Sr[155]=9,ei[155]=Ns[155]=23,ir[103]=Ts[103]=1,zr[103]=Zr[103]=17,ur[152]=Ns[152]=4,zr[152]=Zr[152]=17,Sr[152]=ei[152]=18,ur[156]=zr[156]=8,Sr[156]=ei[156]=18,Zr[156]=Ns[156]=23,ur[137]=Ns[137]=4,ir[137]=Ts[137]=1,Sr[137]=ei[137]=18,ur[139]=Ns[139]=4,ir[139]=Sr[139]=13,ei[139]=Ts[139]=20,ur[98]=Sr[98]=9,ir[98]=zr[98]=12,Zr[98]=Ts[98]=22,ur[99]=Ts[99]=0,ir[99]=zr[99]=12,Sr[99]=Zr[99]=19,ir[38]=zr[38]=12,ei[38]=Ns[38]=21,Zr[38]=Ts[38]=22,ir[39]=Ns[39]=5,zr[39]=ei[39]=16,Zr[39]=Ts[39]=22;var Jn=[];function nD(e,t,n){return function nV(e){return(e>0)-(e<0)||+e}((t[0]-e[0])*(n[1]-t[1])-(n[0]-t[0])*(t[1]-e[1]))}function eI(e,t){return t.geometry.coordinates[0].every(function(n){return gk(dg(n),e)})}Jn[1]=Jn[169]=qM,Jn[4]=Jn[166]=WM,Jn[16]=Jn[154]=$M,Jn[64]=Jn[106]=ZM,Jn[168]=Jn[2]=XM,Jn[162]=Jn[8]=JM,Jn[138]=Jn[32]=KM,Jn[42]=Jn[128]=QM,Jn[5]=Jn[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},Jn[20]=Jn[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},Jn[80]=Jn[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},Jn[65]=Jn[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Jn[160]=Jn[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},Jn[130]=Jn[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},Jn[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Jn[101]=Jn[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},Jn[149]=Jn[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},Jn[86]=Jn[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},Jn[89]=Jn[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},Jn[96]=Jn[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},Jn[24]=Jn[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},Jn[6]=Jn[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},Jn[129]=Jn[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},Jn[66]=Jn[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Jn[144]=Jn[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Jn[36]=Jn[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},Jn[9]=Jn[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Jn[37]=Jn[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Jn[148]=Jn[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Jn[82]=Jn[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},Jn[73]=Jn[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Jn[145]=Jn[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Jn[70]=Jn[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Jn[34]=function(e){return[QM(e),JM(e)]},Jn[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Jn[136]=function(e){return[KM(e),XM(e)]},Jn[153]=function(e){return[$M(e),qM(e)]},Jn[102]=function(e){return[WM(e),ZM(e)]},Jn[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Jn[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Jn[152]=function(e){return[$M(e),XM(e)]},Jn[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Jn[137]=function(e){return[KM(e),qM(e)]},Jn[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Jn[98]=function(e){return[JM(e),ZM(e)]},Jn[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Jn[38]=function(e){return[WM(e),QM(e)]},Jn[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};const tI=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(t){return t.join(",")},e.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(n){return n.from.id!==t.from.id})},e.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(n){return n.to.id!==t.to.id})},e.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(n,r){var i=n.to,o=r.to;if(i.coordinates[0]-t.coordinates[0]>=0&&o.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&o.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&o.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||o.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-o.coordinates[1]:o.coordinates[1]-i.coordinates[1];var f=nD(t.coordinates,i.coordinates,o.coordinates);return f<0?1:f>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},e.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},e}(),aV=function(){function e(t,n){this.from=t,this.to=n,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return function LM(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return xd({type:"LineString",coordinates:e},t,n)}([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(t){return nD(t.from.coordinates,t.to.coordinates,this.to.coordinates)},e}(),uV=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},e.prototype.get=function(t){return this.edges[t]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(t){this.edges.forEach(t)},e.prototype.map=function(t){return this.edges.map(t)},e.prototype.some=function(t){return this.edges.some(t)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var t=this,n=this.edges.reduce(function(f,_,x){return _.from.coordinates[1]>t.edges[f].from.coordinates[1]&&(f=x),f},0),r=(0===n?this.length:n)-1,i=(n+1)%this.length,o=nD(this.edges[r].from.coordinates,this.edges[n].from.coordinates,this.edges[i].from.coordinates);return 0===o?this.edges[r].from.coordinates[0]>this.edges[i].from.coordinates[0]:o>0},e.prototype.toMultiPoint=function(){return function ck(e,t,n){return void 0===n&&(n={}),xd({type:"MultiPoint",coordinates:e},t,n)}(this.edges.map(function(t){return t.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(n){return n.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=f1([t])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function m6(e){return function p6(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),o=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var f=[n,r];return f1([[f,[i,r],[i,o],[n,o],f]],t.properties,{bbox:e,id:t.id})}(dk(e))}(this.toPolygon())},e.findEdgeRingContaining=function(t,n){var i,o,r=t.getEnvelope();return n.forEach(function(f){var _=f.getEnvelope();if(o&&(i=o.getEnvelope()),!function rV(e,t){var n=e.geometry.coordinates[0].map(function(f){return f[0]}),r=e.geometry.coordinates[0].map(function(f){return f[1]}),i=t.geometry.coordinates[0].map(function(f){return f[0]}),o=t.geometry.coordinates[0].map(function(f){return f[1]});return Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)}(_,r)&&eI(_,r)){for(var x=t.map(function(ue){return ue.from.coordinates}),b=void 0,T=function(ue){f.some(function(ge){return function iV(e,t){return e[0]===t[0]&&e[1]===t[1]}(ue,ge.from.coordinates)})||(b=ue)},A=0,R=x;A<R.length;A++)T(R[A]);b&&f.inside(dg(b))&&(!o||eI(i,_))&&(o=f)}}),o},e.prototype.inside=function(t){return gk(t,this.toPolygon())},e}();function cI(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}!function(){function e(){this.edges=[],this.nodes={}}e.fromGeoJson=function(t){!function cV(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var n=new e;return function m1(e,t){p1(e,function(n,r,i,o,f){var x,_=null===n?null:n.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return!1!==t(xd(n,i,{bbox:o,id:f}),r,0)&&void 0}switch(_){case"MultiPoint":x="Point";break;case"MultiLineString":x="LineString";break;case"MultiPolygon":x="Polygon"}for(var b=0;b<n.coordinates.length;b++)if(!1===t(xd({type:x,coordinates:n.coordinates[b]},i),r,b))return!1})}(t,function(r){(function Y5(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)})(r,"LineString","Graph::fromGeoJson"),function P5(e,t,n,r){var i=n;My(e,function(o,f,_,x,b){i=0===f&&void 0===n?o:t(i,o,f,_,x,b)},r)}(r,function(i,o){if(i){var f=n.getNode(i),_=n.getNode(o);n.addEdge(f,_)}return o})}),n},e.prototype.getNode=function(t){var n=tI.buildId(t),r=this.nodes[n];return r||(r=this.nodes[n]=new tI(t)),r},e.prototype.addEdge=function(t,n){var r=new aV(t,n),i=r.getSymetric();this.edges.push(r),this.edges.push(i)},e.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(n){return t.nodes[n]}).forEach(function(n){return t._removeIfDangle(n)})},e.prototype._removeIfDangle=function(t){var n=this;if(t.innerEdges.length<=1){var r=t.getOuterEdges().map(function(i){return i.to});this.removeNode(t),r.forEach(function(i){return n._removeIfDangle(i)})}},e.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(n){n.label===n.symetric.label&&(t.removeEdge(n.symetric),t.removeEdge(n))})},e.prototype._computeNextCWEdges=function(t){var n=this;void 0===t?Object.keys(this.nodes).forEach(function(r){return n._computeNextCWEdges(n.nodes[r])}):t.getOuterEdges().forEach(function(r,i){t.getOuterEdge((0===i?t.getOuterEdges().length:i)-1).symetric.next=r})},e.prototype._computeNextCCWEdges=function(t,n){for(var i,o,r=t.getOuterEdges(),f=r.length-1;f>=0;--f){var _=r[f],x=_.symetric,b=void 0,T=void 0;_.label===n&&(b=_),x.label===n&&(T=x),b&&T&&(T&&(o=T),b&&(o&&(o.next=b,o=void 0),i||(i=b)))}o&&(o.next=i)},e.prototype._findLabeledEdgeRings=function(){var t=[],n=0;return this.edges.forEach(function(r){if(!(r.label>=0)){t.push(r);var i=r;do{i.label=n,i=i.next}while(!r.isEqual(i));n++}}),t},e.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(r){r.label=void 0}),this._findLabeledEdgeRings().forEach(function(r){t._findIntersectionNodes(r).forEach(function(i){t._computeNextCCWEdges(i,r.label)})});var n=[];return this.edges.forEach(function(r){r.ring||n.push(t._findEdgeRing(r))}),n},e.prototype._findIntersectionNodes=function(t){var n=[],r=t,i=function(){var o=0;r.from.getOuterEdges().forEach(function(f){f.label===t.label&&++o}),o>1&&n.push(r.from),r=r.next};do{i()}while(!t.isEqual(r));return n},e.prototype._findEdgeRing=function(t){var n=t,r=new uV;do{r.push(n),n.ring=r,n=n.next}while(!t.isEqual(n));return r},e.prototype.removeNode=function(t){var n=this;t.getOuterEdges().forEach(function(r){return n.removeEdge(r)}),t.innerEdges.forEach(function(r){return n.removeEdge(r)}),delete this.nodes[t.id]},e.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(n){return!n.isEqual(t)}),t.deleteEdge()}}(),$(5013),$(7470),$(9475);var b1={search:function(e,t,n,r){e.cleanDirty();var i=(r=r||{}).heuristic||b1.heuristics.manhattan,o=r.closest||!1,f=function CV(){return new hI(function(e){return e.f})}(),_=t;for(t.h=i(t,n),f.push(t);f.size()>0;){var x=f.pop();if(x===n)return cI(x);x.closed=!0;for(var b=e.neighbors(x),T=0,A=b.length;T<A;++T){var R=b[T];if(!R.closed&&!R.isWall()){var Y=x.g+R.getCost(x),ue=R.visited;(!ue||Y<R.g)&&(R.visited=!0,R.parent=x,R.h=R.h||i(R,n),R.g=Y,R.f=R.g+R.h,e.markDirty(R),o&&(R.h<_.h||R.h===_.h&&R.g<_.g)&&(_=R),ue?f.rescoreElement(R):f.push(R))}}}return o?cI(_):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var r=Math.sqrt(2),i=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return 1*(i+o)+(r-2)*Math.min(i,o)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function mg(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,i=e[n];r<i.length;r++){var o=new M1(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function M1(e,t,n){this.x=e,this.y=t,this.weight=n}function hI(e){this.content=[],this.scoreFunction=e}function iD(){this._=null}function D1(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Sy(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ly(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function dI(e){for(;e.L;)e=e.L;return e}mg.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)b1.cleanNode(this.nodes[e])},mg.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)b1.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},mg.prototype.markDirty=function(e){this.dirtyNodes.push(e)},mg.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,i=this.grid;return i[n-1]&&i[n-1][r]&&t.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&t.push(i[n+1][r]),i[n]&&i[n][r-1]&&t.push(i[n][r-1]),i[n]&&i[n][r+1]&&t.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&t.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&t.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&t.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&t.push(i[n+1][r+1])),t},mg.prototype.toString=function(){for(var n,r,i,o,e=[],t=this.grid,f=0,_=t.length;f<_;f++){for(n=[],i=0,o=(r=t[f]).length;i<o;i++)n.push(r[i].weight);e.push(n.join(" "))}return e.join("\n")},M1.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},M1.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},M1.prototype.isWall=function(){return 0===this.weight},hI.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var _,i=e+1<<1,o=i-1,f=null;if(o<t&&(_=this.scoreFunction(this.content[o]))<r&&(f=o),i<t&&this.scoreFunction(this.content[i])<(null===f?r:_)&&(f=i),null===f)break;this.content[e]=this.content[f],this.content[f]=n,e=f}}},iD.prototype={constructor:iD,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=dI(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Sy(this,n),n=(e=n).U),n.C=!1,r.C=!0,Ly(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Ly(this,n),n=(e=n).U),n.C=!1,r.C=!0,Sy(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,o,f,t=e.U,r=e.L,i=e.R;if(o=r?i?dI(i):r:i,t?t.L===e?t.L=o:t.R=o:this._=o,r&&i?(f=o.C,o.C=e.C,o.L=r,r.U=o,o!==i?(t=o.U,o.U=e.U,t.L=e=o.R,o.R=i,i.U=o):(o.U=t,t=o,e=o.R)):(f=e.C,e=o),e&&(e.U=t),!f){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===t.L){if((n=t.R).C&&(n.C=!1,t.C=!0,Sy(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Ly(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,Sy(this,t),e=this._;break}}else if((n=t.L).C&&(n.C=!1,t.C=!0,Ly(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Sy(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Ly(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};const fI=iD;function ky(e,t,n,r){var i=[null,null],o=ac.push(i)-1;return i.left=e,i.right=t,n&&E1(i,e,t,n),r&&E1(i,t,e,r),rh[e.index].halfedges.push(o),rh[t.index].halfedges.push(o),i}function Iy(e,t,n){var r=[t,n];return r.left=e,r}function E1(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function SV(e,t,n,r,i){var ge,o=e[0],f=e[1],_=o[0],x=o[1],A=0,R=1,Y=f[0]-_,ue=f[1]-x;if(ge=t-_,Y||!(ge>0)){if(ge/=Y,Y<0){if(ge<A)return;ge<R&&(R=ge)}else if(Y>0){if(ge>R)return;ge>A&&(A=ge)}if(ge=r-_,Y||!(ge<0)){if(ge/=Y,Y<0){if(ge>R)return;ge>A&&(A=ge)}else if(Y>0){if(ge<A)return;ge<R&&(R=ge)}if(ge=n-x,ue||!(ge>0)){if(ge/=ue,ue<0){if(ge<A)return;ge<R&&(R=ge)}else if(ue>0){if(ge>R)return;ge>A&&(A=ge)}if(ge=i-x,ue||!(ge<0)){if(ge/=ue,ue<0){if(ge>R)return;ge>A&&(A=ge)}else if(ue>0){if(ge<A)return;ge<R&&(R=ge)}return!(A>0)&&!(R<1)||(A>0&&(e[0]=[_+A*Y,x+A*ue]),R<1&&(e[1]=[_+R*Y,x+R*ue])),!0}}}}}function LV(e,t,n,r,i){var o=e[1];if(o)return!0;var ge,He,f=e[0],_=e.left,x=e.right,b=_[0],T=_[1],A=x[0],R=x[1],Y=(b+A)/2;if(R===T){if(Y<t||Y>=r)return;if(b>A){if(f){if(f[1]>=i)return}else f=[Y,n];o=[Y,i]}else{if(f){if(f[1]<n)return}else f=[Y,i];o=[Y,n]}}else if(He=(T+R)/2-(ge=(b-A)/(R-T))*Y,ge<-1||ge>1)if(b>A){if(f){if(f[1]>=i)return}else f=[(n-He)/ge,n];o=[(i-He)/ge,i]}else{if(f){if(f[1]<n)return}else f=[(i-He)/ge,i];o=[(n-He)/ge,n]}else if(T<R){if(f){if(f[0]>=r)return}else f=[t,ge*t+He];o=[r,ge*r+He]}else{if(f){if(f[0]<t)return}else f=[r,ge*r+He];o=[t,ge*t+He]}return e[0]=f,e[1]=o,!0}function PV(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function pI(e,t){return t[+(t.left!==e.site)]}function AV(e,t){return t[+(t.left===e.site)]}var sD,mI=[];function NV(){D1(this),this.x=this.y=this.arc=this.site=this.cy=null}function gg(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var f=i[0],_=i[1],x=r[0]-f,b=r[1]-_,T=o[0]-f,A=o[1]-_,R=2*(x*A-b*T);if(!(R>=-jV)){var Y=x*x+b*b,ue=T*T+A*A,ge=(A*Y-b*ue)/R,He=(x*ue-T*Y)/R,Se=mI.pop()||new NV;Se.arc=e,Se.site=i,Se.x=ge+f,Se.y=(Se.cy=He+_)+Math.sqrt(ge*ge+He*He),e.circle=Se;for(var _e=null,Ae=Py._;Ae;)if(Se.y<Ae.y||Se.y===Ae.y&&Se.x<=Ae.x){if(!Ae.L){_e=Ae.P;break}Ae=Ae.L}else{if(!Ae.R){_e=Ae;break}Ae=Ae.R}Py.insert(_e,Se),_e||(sD=Se)}}}}function _g(e){var t=e.circle;t&&(t.P||(sD=t.N),Py.remove(t),mI.push(t),D1(t),e.circle=null)}var gI=[];function FV(){D1(this),this.edge=this.site=this.circle=null}function _I(e){var t=gI.pop()||new FV;return t.site=e,t}function oD(e){_g(e),yg.remove(e),gI.push(e),D1(e)}function YV(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,f=e.N,_=[e];oD(e);for(var x=o;x.circle&&Math.abs(n-x.circle.x)<el&&Math.abs(r-x.circle.cy)<el;)o=x.P,_.unshift(x),oD(x),x=o;_.unshift(x),_g(x);for(var b=f;b.circle&&Math.abs(n-b.circle.x)<el&&Math.abs(r-b.circle.cy)<el;)f=b.N,_.push(b),oD(b),b=f;_.push(b),_g(b);var A,T=_.length;for(A=1;A<T;++A)E1((b=_[A]).edge,(x=_[A-1]).site,b.site,i);(b=_[T-1]).edge=ky((x=_[0]).site,b.site,null,i),gg(x),gg(b)}function zV(e){for(var r,i,o,f,t=e[0],n=e[1],_=yg._;_;)if((o=yI(_,n)-t)>el)_=_.L;else{if(!((f=t-BV(_,n))>el)){o>-el?(r=_.P,i=_):f>-el?(r=_,i=_.N):r=i=_;break}if(!_.R){r=_;break}_=_.R}!function IV(e){rh[e.index]={site:e,halfedges:[]}}(e);var x=_I(e);if(yg.insert(r,x),r||i){if(r===i)return _g(r),i=_I(r.site),yg.insert(x,i),x.edge=i.edge=ky(r.site,x.site),gg(r),void gg(i);if(!i)return void(x.edge=ky(r.site,x.site));_g(r),_g(i);var b=r.site,T=b[0],A=b[1],R=e[0]-T,Y=e[1]-A,ue=i.site,ge=ue[0]-T,He=ue[1]-A,Se=2*(R*He-Y*ge),_e=R*R+Y*Y,Ae=ge*ge+He*He,dt=[(He*_e-Y*Ae)/Se+T,(R*Ae-ge*_e)/Se+A];E1(i.edge,b,ue,dt),x.edge=ky(b,e,null,dt),i.edge=ky(e,ue,null,dt),gg(r),gg(i)}}function yI(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var f=e.P;if(!f)return-1/0;var _=(n=f.site)[0],x=n[1],b=x-t;if(!b)return _;var T=_-r,A=1/o-1/b,R=T/b;return A?(-R+Math.sqrt(R*R-2*A*(T*T/(-2*b)-x+b/2+i-o/2)))/A+r:(r+_)/2}function BV(e,t){var n=e.N;if(n)return yI(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var yg,rh,Py,ac,el=1e-6,jV=1e-12;function VV(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function UV(e,t){return t[1]-e[1]||t[0]-e[0]}function vI(e,t){var r,i,o,n=e.sort(UV).pop();for(ac=[],rh=new Array(e.length),yg=new fI,Py=new fI;;)if(o=sD,n&&(!o||n[1]<o.y||n[1]===o.y&&n[0]<o.x))(n[0]!==r||n[1]!==i)&&(zV(n),r=n[0],i=n[1]),n=e.pop();else{if(!o)break;YV(o.arc)}if(function OV(){for(var n,r,i,o,e=0,t=rh.length;e<t;++e)if((n=rh[e])&&(o=(r=n.halfedges).length)){var f=new Array(o),_=new Array(o);for(i=0;i<o;++i)f[i]=i,_[i]=PV(n,ac[r[i]]);for(f.sort(function(x,b){return _[b]-_[x]}),i=0;i<o;++i)_[i]=r[f[i]];for(i=0;i<o;++i)r[i]=_[i]}}(),t){var f=+t[0][0],_=+t[0][1],x=+t[1][0],b=+t[1][1];(function kV(e,t,n,r){for(var o,i=ac.length;i--;)LV(o=ac[i],e,t,n,r)&&SV(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>el||Math.abs(o[0][1]-o[1][1])>el)||delete ac[i]})(f,_,x,b),function RV(e,t,n,r){var o,f,_,x,b,T,A,R,Y,ue,ge,He,i=rh.length,Se=!0;for(o=0;o<i;++o)if(f=rh[o]){for(_=f.site,x=(b=f.halfedges).length;x--;)ac[b[x]]||b.splice(x,1);for(x=0,T=b.length;x<T;)ge=(ue=AV(f,ac[b[x]]))[0],He=ue[1],R=(A=pI(f,ac[b[++x%T]]))[0],Y=A[1],(Math.abs(ge-R)>el||Math.abs(He-Y)>el)&&(b.splice(x,0,ac.push(Iy(_,ue,Math.abs(ge-e)<el&&r-He>el?[e,Math.abs(R-e)<el?Y:r]:Math.abs(He-r)<el&&n-ge>el?[Math.abs(Y-r)<el?R:n,r]:Math.abs(ge-n)<el&&He-t>el?[n,Math.abs(R-n)<el?Y:t]:Math.abs(He-t)<el&&ge-e>el?[Math.abs(Y-t)<el?R:e,t]:null))-1),++T);T&&(Se=!1)}if(Se){var _e,Ae,dt,pt=1/0;for(o=0,Se=null;o<i;++o)(f=rh[o])&&(dt=(_e=(_=f.site)[0]-e)*_e+(Ae=_[1]-t)*Ae)<pt&&(pt=dt,Se=f);if(Se){var Rt=[e,t],Ft=[e,r],Wt=[n,r],mt=[n,t];Se.halfedges.push(ac.push(Iy(_=Se.site,Rt,Ft))-1,ac.push(Iy(_,Ft,Wt))-1,ac.push(Iy(_,Wt,mt))-1,ac.push(Iy(_,mt,Rt))-1)}}for(o=0;o<i;++o)(f=rh[o])&&(f.halfedges.length||delete rh[o])}(f,_,x,b)}this.edges=ac,this.cells=rh,yg=Py=ac=rh=null}vI.prototype={constructor:vI,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return pI(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(_=(o=n.halfedges).length)for(var o,_,x,i=n.site,f=-1,b=t[o[_-1]],T=b.left===i?b.right:b.left;++f<_;)x=T,T=(b=t[o[f]]).left===i?b.right:b.left,x&&T&&r<x.index&&r<T.index&&VV(i,x,T)<0&&e.push([i.data,x.data,T.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i,_,r=this,o=r._found||0,f=r.cells.length;!(_=r.cells[o]);)if(++o>=f)return null;var x=e-_.site[0],b=t-_.site[1],T=x*x+b*b;do{_=r.cells[i=o],o=null,_.halfedges.forEach(function(A){var R=r.edges[A],Y=R.left;if(Y!==_.site&&Y||(Y=R.right)){var ue=e-Y[0],ge=t-Y[1],He=ue*ue+ge*ge;He<T&&(T=He,o=Y.index)}})}while(null!==o);return r._found=i,null==n||T<=n*n?_.site:null}},$(9855);var lD=$(770);function $f(){return new C1}function C1(){this.reset()}C1.prototype={constructor:C1,reset:function(){this.s=this.t=0},add:function(e){kI(T1,e,this.t),kI(this,T1.s,this.s),this.s?this.t+=T1.t:this.s=T1.t},valueOf:function(){return this.s}};var T1=new C1;function kI(e,t,n){var r=e.s=t+n,i=r-t;e.t=t-(r-i)+(n-i)}var Po=1e-6,Do=Math.PI,Nc=Do/2,S1=Do/4,ih=2*Do,Wh=180/Do,lo=Do/180,tl=Math.abs,Ay=Math.atan,Qd=Math.atan2,Ri=Math.cos,Si=(Math,Math,Math,Math,Math,Math.sin),Sh=(Math,Math.sqrt);Math;function OI(e){return e>1?0:e<-1?Do:Math.acos(e)}function ef(e){return e>1?Nc:e<-1?-Nc:Math.asin(e)}function pl(){}function L1(e,t){e&&NI.hasOwnProperty(e.type)&&NI[e.type](e,t)}var RI={Feature:function(e,t){L1(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)L1(n[r].geometry,t)}},NI={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)t.point((e=n[r])[0],e[1],e[2])},LineString:function(e,t){uD(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)uD(n[r],t,0)},Polygon:function(e,t){FI(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)FI(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)L1(n[r],t)}};function uD(e,t,n){var o,r=-1,i=e.length-n;for(t.lineStart();++r<i;)t.point((o=e[r])[0],o[1],o[2]);t.lineEnd()}function FI(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)uD(e[n],t,1);t.polygonEnd()}function P1(e){return[Qd(e[1],e[0]),ef(e[2])]}function Bp(e){var t=e[0],n=e[1],r=Ri(n);return[r*Ri(t),r*Si(t),Si(n)]}function A1(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vg(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function fD(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function O1(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function R1(e){var t=Sh(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function eP(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return(r=t.invert(r,i))&&e.invert(r[0],r[1])}),n}function vD(e,t){return[e>Do?e-ih:e<-Do?e+ih:e,t]}function nP(e){return function(t,n){return[(t+=e)>Do?t-ih:t<-Do?t+ih:t,n]}}function rP(e){var t=nP(e);return t.invert=nP(-e),t}function iP(e,t){var n=Ri(e),r=Si(e),i=Ri(t),o=Si(t);function f(_,x){var b=Ri(x),T=Ri(_)*b,A=Si(_)*b,R=Si(x),Y=R*n+T*r;return[Qd(A*i-Y*o,T*n-R*r),ef(Y*i+A*o)]}return f.invert=function(_,x){var b=Ri(x),T=Ri(_)*b,A=Si(_)*b,R=Si(x),Y=R*i-A*o;return[Qd(A*i+R*o,T*n+Y*r),ef(Y*n-T*r)]},f}function oP(e,t){(t=Bp(t))[0]-=e,R1(t);var n=OI(-t[1]);return((-t[2]<0?-n:n)+ih-Po)%ih}function aP(){var t,e=[];return{point:function(n,r){t.push([n,r])},lineStart:function(){e.push(t=[])},lineEnd:pl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function U1(e,t){return tl(e[0]-t[0])<Po&&tl(e[1]-t[1])<Po}function H1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function lP(e,t,n,r,i){var _,x,o=[],f=[];if(e.forEach(function(ue){if(!((ge=ue.length-1)<=0)){var ge,_e,He=ue[0],Se=ue[ge];if(U1(He,Se)){for(i.lineStart(),_=0;_<ge;++_)i.point((He=ue[_])[0],He[1]);return void i.lineEnd()}o.push(_e=new H1(He,ue,null,!0)),f.push(_e.o=new H1(He,null,_e,!1)),o.push(_e=new H1(Se,ue,null,!1)),f.push(_e.o=new H1(Se,null,_e,!0))}}),o.length){for(f.sort(t),uP(o),uP(f),_=0,x=f.length;_<x;++_)f[_].e=n=!n;for(var T,A,b=o[0];;){for(var R=b,Y=!0;R.v;)if((R=R.n)===b)return;T=R.z,i.lineStart();do{if(R.v=R.o.v=!0,R.e){if(Y)for(_=0,x=T.length;_<x;++_)i.point((A=T[_])[0],A[1]);else r(R.x,R.n.x,1,i);R=R.n}else{if(Y)for(_=(T=R.p.z).length-1;_>=0;--_)i.point((A=T[_])[0],A[1]);else r(R.x,R.p.x,-1,i);R=R.p}T=(R=R.o).z,Y=!Y}while(!R.v);i.lineEnd()}}}function uP(e){if(t=e.length){for(var t,i,n=0,r=e[0];++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function cP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fP(e){for(var n,o,f,t=e.length,r=-1,i=0;++r<t;)i+=e[r].length;for(o=new Array(i);--t>=0;)for(n=(f=e[t]).length;--n>=0;)o[--i]=f[n];return o}$f(),$f(),$f(),vD.invert=vD,function mU(e){1===e.length&&(e=function gU(e){return function(t,n){return cP(e(t),n)}}(e))}(cP),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Fy=1e9,G1=-Fy;function pP(e,t,n,r){function i(b,T){return e<=b&&b<=n&&t<=T&&T<=r}function o(b,T,A,R){var Y=0,ue=0;if(null==b||(Y=f(b,A))!==(ue=f(T,A))||x(b,T)<0^A>0)do{R.point(0===Y||3===Y?e:n,Y>1?r:t)}while((Y=(Y+A+4)%4)!==ue);else R.point(T[0],T[1])}function f(b,T){return tl(b[0]-e)<Po?T>0?0:3:tl(b[0]-n)<Po?T>0?2:1:tl(b[1]-t)<Po?T>0?1:0:T>0?3:2}function _(b,T){return x(b.x,T.x)}function x(b,T){var A=f(b,1),R=f(T,1);return A!==R?A-R:0===A?T[1]-b[1]:1===A?b[0]-T[0]:2===A?b[1]-T[1]:T[0]-b[0]}return function(b){var R,Y,ue,ge,He,Se,_e,Ae,dt,pt,Rt,T=b,A=aP(),Ft={point:Wt,lineStart:function Br(){Ft.point=An,Y&&Y.push(ue=[]),pt=!0,dt=!1,_e=Ae=NaN},lineEnd:function ci(){R&&(An(ge,He),Se&&dt&&A.rejoin(),R.push(A.result())),Ft.point=Wt,dt&&T.lineEnd()},polygonStart:function Lr(){T=A,R=[],Y=[],Rt=!0},polygonEnd:function Xn(){var Or=function mt(){for(var Or=0,hr=0,uo=Y.length;hr<uo;++hr)for(var Au,Ao,no=Y[hr],Yi=1,lc=no.length,su=no[0],ya=su[0],nl=su[1];Yi<lc;++Yi)Au=ya,Ao=nl,ya=(su=no[Yi])[0],nl=su[1],Ao<=r?nl>r&&(ya-Au)*(r-Ao)>(nl-Ao)*(e-Au)&&++Or:nl<=r&&(ya-Au)*(r-Ao)<(nl-Ao)*(e-Au)&&--Or;return Or}(),hr=Rt&&Or,uo=(R=fP(R)).length;(hr||uo)&&(b.polygonStart(),hr&&(b.lineStart(),o(null,null,1,b),b.lineEnd()),uo&&lP(R,_,Or,o,b),b.polygonEnd()),T=b,R=Y=ue=null}};function Wt(Or,hr){i(Or,hr)&&T.point(Or,hr)}function An(Or,hr){var uo=i(Or,hr);if(Y&&ue.push([Or,hr]),pt)ge=Or,He=hr,Se=uo,pt=!1,uo&&(T.lineStart(),T.point(Or,hr));else if(uo&&dt)T.point(Or,hr);else{var no=[_e=Math.max(G1,Math.min(Fy,_e)),Ae=Math.max(G1,Math.min(Fy,Ae))],Yi=[Or=Math.max(G1,Math.min(Fy,Or)),hr=Math.max(G1,Math.min(Fy,hr))];!function pU(e,t,n,r,i,o){var ue,f=e[0],_=e[1],T=0,A=1,R=t[0]-f,Y=t[1]-_;if(ue=n-f,R||!(ue>0)){if(ue/=R,R<0){if(ue<T)return;ue<A&&(A=ue)}else if(R>0){if(ue>A)return;ue>T&&(T=ue)}if(ue=i-f,R||!(ue<0)){if(ue/=R,R<0){if(ue>A)return;ue>T&&(T=ue)}else if(R>0){if(ue<T)return;ue<A&&(A=ue)}if(ue=r-_,Y||!(ue>0)){if(ue/=Y,Y<0){if(ue<T)return;ue<A&&(A=ue)}else if(Y>0){if(ue>A)return;ue>T&&(T=ue)}if(ue=o-_,Y||!(ue<0)){if(ue/=Y,Y<0){if(ue>A)return;ue>T&&(T=ue)}else if(Y>0){if(ue<T)return;ue<A&&(A=ue)}return T>0&&(e[0]=f+T*R,e[1]=_+T*Y),A<1&&(t[0]=f+A*R,t[1]=_+A*Y),!0}}}}}(no,Yi,e,t,n,r)?uo&&(T.lineStart(),T.point(Or,hr),Rt=!1):(dt||(T.lineStart(),T.point(no[0],no[1])),T.point(Yi[0],Yi[1]),uo||T.lineEnd(),Rt=!1)}_e=Or,Ae=hr,dt=uo}return Ft}}var MD=$f();$f(),$f(),$f();var bg=1/0,X1=bg,Yy=-bg,J1=Yy;const TP={point:function kU(e,t){e<bg&&(bg=e),e>Yy&&(Yy=e),t<X1&&(X1=t),t>J1&&(J1=t)},lineStart:pl,lineEnd:pl,polygonStart:pl,polygonEnd:pl,result:function(){var e=[[bg,X1],[Yy,J1]];return Yy=J1=-(X1=bg=1/0),e}};function FP(e,t,n,r){return function(i,o){var A,R,Y,f=t(o),_=i.invert(r[0],r[1]),x=aP(),b=t(x),T=!1,ue={point:ge,lineStart:Se,lineEnd:_e,polygonStart:function(){ue.point=Ae,ue.lineStart=dt,ue.lineEnd=pt,R=[],A=[]},polygonEnd:function(){ue.point=ge,ue.lineStart=Se,ue.lineEnd=_e,R=fP(R);var Rt=function mP(e,t){var n=t[0],r=t[1],i=[Si(n),-Ri(n),0],o=0,f=0;MD.reset();for(var _=0,x=e.length;_<x;++_)if(T=(b=e[_]).length)for(var b,T,A=b[T-1],R=A[0],Y=A[1]/2+S1,ue=Si(Y),ge=Ri(Y),He=0;He<T;++He,R=_e,ue=dt,ge=pt,A=Se){var Se=b[He],_e=Se[0],Ae=Se[1]/2+S1,dt=Si(Ae),pt=Ri(Ae),Rt=_e-R,Ft=Rt>=0?1:-1,Wt=Ft*Rt,mt=Wt>Do,Lr=ue*dt;if(MD.add(Qd(Lr*Ft*Si(Wt),ge*pt+Lr*Ri(Wt))),o+=mt?Rt+Ft*ih:Rt,mt^R>=n^_e>=n){var Xn=vg(Bp(A),Bp(Se));R1(Xn);var Br=vg(i,Xn);R1(Br);var ci=(mt^Rt>=0?-1:1)*ef(Br[2]);(r>ci||r===ci&&(Xn[0]||Xn[1]))&&(f+=mt^Rt>=0?1:-1)}}return(o<-Po||o<Po&&MD<-Po)^1&f}(A,_);R.length?(T||(o.polygonStart(),T=!0),lP(R,BU,Rt,n,o)):Rt&&(T||(o.polygonStart(),T=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),T&&(o.polygonEnd(),T=!1),R=A=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function ge(Rt,Ft){var Wt=i(Rt,Ft);e(Rt=Wt[0],Ft=Wt[1])&&o.point(Rt,Ft)}function He(Rt,Ft){var Wt=i(Rt,Ft);f.point(Wt[0],Wt[1])}function Se(){ue.point=He,f.lineStart()}function _e(){ue.point=ge,f.lineEnd()}function Ae(Rt,Ft){Y.push([Rt,Ft]);var Wt=i(Rt,Ft);b.point(Wt[0],Wt[1])}function dt(){b.lineStart(),Y=[]}function pt(){Ae(Y[0][0],Y[0][1]),b.lineEnd();var Wt,Lr,Xn,Br,Rt=b.clean(),Ft=x.result(),mt=Ft.length;if(Y.pop(),A.push(Y),Y=null,mt){if(1&Rt){if((Lr=(Xn=Ft[0]).length-1)>0){for(T||(o.polygonStart(),T=!0),o.lineStart(),Wt=0;Wt<Lr;++Wt)o.point((Br=Xn[Wt])[0],Br[1]);o.lineEnd()}return}mt>1&&2&Rt&&Ft.push(Ft.pop().concat(Ft.shift())),R.push(Ft.filter(zU))}}return ue}}function zU(e){return e.length>1}function BU(e,t){return((e=e.x)[0]<0?e[1]-Nc-Po:Nc-e[1])-((t=t.x)[0]<0?t[1]-Nc-Po:Nc-t[1])}$f(),function NP(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}(4.5);const YP=FP(function(){return!0},function jU(e){var i,t=NaN,n=NaN,r=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(o,f){var _=o>0?Do:-Do,x=tl(o-t);tl(x-Do)<Po?(e.point(t,n=(n+f)/2>0?Nc:-Nc),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(_,n),e.point(o,n),i=0):r!==_&&x>=Do&&(tl(t-r)<Po&&(t-=r*Po),tl(o-_)<Po&&(o-=_*Po),n=function VU(e,t,n,r){var i,o,f=Si(e-n);return tl(f)>Po?Ay((Si(t)*(o=Ri(r))*Si(n)-Si(r)*(i=Ri(t))*Si(e))/(i*o*f)):(t+r)/2}(t,n,o,f),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(_,n),i=0),e.point(t=o,n=f),r=_},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}},function UU(e,t,n,r){var i;if(null==e)r.point(-Do,i=n*Nc),r.point(0,i),r.point(Do,i),r.point(Do,0),r.point(Do,-i),r.point(0,-i),r.point(-Do,-i),r.point(-Do,0),r.point(-Do,i);else if(tl(e[0]-t[0])>Po){var o=e[0]<t[0]?Do:-Do;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-Do,-Nc]);function HU(e,t){var n=Ri(e),r=n>0,i=tl(n)>Po;function f(T,A){return Ri(T)*Ri(A)>n}function x(T,A,R){var ge=[1,0,0],He=vg(Bp(T),Bp(A)),Se=A1(He,He),_e=He[0],Ae=Se-_e*_e;if(!Ae)return!R&&T;var dt=n*Se/Ae,pt=-n*_e/Ae,Rt=vg(ge,He),Ft=O1(ge,dt);fD(Ft,O1(He,pt));var mt=Rt,Lr=A1(Ft,mt),Xn=A1(mt,mt),Br=Lr*Lr-Xn*(A1(Ft,Ft)-1);if(!(Br<0)){var ci=Sh(Br),An=O1(mt,(-Lr-ci)/Xn);if(fD(An,Ft),An=P1(An),!R)return An;var Yi,Or=T[0],hr=A[0],uo=T[1],no=A[1];hr<Or&&(Yi=Or,Or=hr,hr=Yi);var lc=hr-Or,su=tl(lc-Do)<Po;if(!su&&no<uo&&(Yi=uo,uo=no,no=Yi),su||lc<Po?su?uo+no>0^An[1]<(tl(An[0]-Or)<Po?uo:no):uo<=An[1]&&An[1]<=no:lc>Do^(Or<=An[0]&&An[0]<=hr)){var Ao=O1(mt,(-Lr+ci)/Xn);return fD(Ao,Ft),[An,P1(Ao)]}}}function b(T,A){var R=r?e:Do-e,Y=0;return T<-R?Y|=1:T>R&&(Y|=2),A<-R?Y|=4:A>R&&(Y|=8),Y}return FP(f,function _(T){var A,R,Y,ue,ge;return{lineStart:function(){ue=Y=!1,ge=1},point:function(He,Se){var Ae,_e=[He,Se],dt=f(He,Se),pt=r?dt?0:b(He,Se):dt?b(He+(He<0?Do:-Do),Se):0;if(!A&&(ue=Y=dt)&&T.lineStart(),dt!==Y&&(!(Ae=x(A,_e))||U1(A,Ae)||U1(_e,Ae))&&(_e[0]+=Po,_e[1]+=Po,dt=f(_e[0],_e[1])),dt!==Y)ge=0,dt?(T.lineStart(),Ae=x(_e,A),T.point(Ae[0],Ae[1])):(Ae=x(A,_e),T.point(Ae[0],Ae[1]),T.lineEnd()),A=Ae;else if(i&&A&&r^dt){var Rt;!(pt&R)&&(Rt=x(_e,A,!0))&&(ge=0,r?(T.lineStart(),T.point(Rt[0][0],Rt[0][1]),T.point(Rt[1][0],Rt[1][1]),T.lineEnd()):(T.point(Rt[1][0],Rt[1][1]),T.lineEnd(),T.lineStart(),T.point(Rt[0][0],Rt[0][1])))}dt&&(!A||!U1(A,_e))&&T.point(_e[0],_e[1]),A=_e,Y=dt,R=pt},lineEnd:function(){Y&&T.lineEnd(),A=null},clean:function(){return ge|(ue&&Y)<<1}}},function o(T,A,R,Y){!function sP(e,t,n,r,i,o){if(n){var f=Ri(t),_=Si(t),x=r*n;null==i?(i=t+r*ih,o=t-x/2):(i=oP(f,i),o=oP(f,o),(r>0?i<o:i>o)&&(i+=r*ih));for(var b,T=i;r>0?T>o:T<o;T-=x)b=P1([f,-_*Ri(T),-_*Si(T)]),e.point(b[0],b[1])}}(Y,e,t,R,T,A)},r?[0,-e]:[-Do,e-Do])}function zP(e){return e}function YD(e){return function(t){var n=new zD;for(var r in e)n[r]=e[r];return n.stream=t,n}}function zD(){}function BP(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),function YI(e,t){e&&RI.hasOwnProperty(e.type)?RI[e.type](e,t):L1(e,t)}(n,e.stream(TP));var f=TP.result(),_=Math.min(r/(f[1][0]-f[0][0]),i/(f[1][1]-f[0][1])),x=+t[0][0]+(r-_*(f[1][0]+f[0][0]))/2,b=+t[0][1]+(i-_*(f[1][1]+f[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*_).translate([x,b])}zD.prototype={constructor:zD,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var qU=Ri(30*lo);function VP(e,t){return+t?function $U(e,t){function n(r,i,o,f,_,x,b,T,A,R,Y,ue,ge,He){var Se=b-r,_e=T-i,Ae=Se*Se+_e*_e;if(Ae>4*t&&ge--){var dt=f+R,pt=_+Y,Rt=x+ue,Ft=Sh(dt*dt+pt*pt+Rt*Rt),Wt=ef(Rt/=Ft),mt=tl(tl(Rt)-1)<Po||tl(o-A)<Po?(o+A)/2:Qd(pt,dt),Lr=e(mt,Wt),Xn=Lr[0],Br=Lr[1],ci=Xn-r,An=Br-i,Or=_e*ci-Se*An;(Or*Or/Ae>t||tl((Se*ci+_e*An)/Ae-.5)>.3||f*R+_*Y+x*ue<qU)&&(n(r,i,o,f,_,x,Xn,Br,mt,dt/=Ft,pt/=Ft,Rt,ge,He),He.point(Xn,Br),n(Xn,Br,mt,dt,pt,Rt,b,T,A,R,Y,ue,ge,He))}}return function(r){var i,o,f,_,x,b,T,A,R,Y,ue,ge,He={point:Se,lineStart:_e,lineEnd:dt,polygonStart:function(){r.polygonStart(),He.lineStart=pt},polygonEnd:function(){r.polygonEnd(),He.lineStart=_e}};function Se(Wt,mt){Wt=e(Wt,mt),r.point(Wt[0],Wt[1])}function _e(){A=NaN,He.point=Ae,r.lineStart()}function Ae(Wt,mt){var Lr=Bp([Wt,mt]),Xn=e(Wt,mt);n(A,R,T,Y,ue,ge,A=Xn[0],R=Xn[1],T=Wt,Y=Lr[0],ue=Lr[1],ge=Lr[2],16,r),r.point(A,R)}function dt(){He.point=Se,r.lineEnd()}function pt(){_e(),He.point=Rt,He.lineEnd=Ft}function Rt(Wt,mt){Ae(i=Wt,mt),o=A,f=R,_=Y,x=ue,b=ge,He.point=Ae}function Ft(){n(A,R,T,Y,ue,ge,o,f,i,_,x,b,16,r),He.lineEnd=dt,dt()}return He}}(e,t):function WU(e){return YD({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var ZU=YD({point:function(e,t){this.stream.point(e*lo,t*lo)}});function XU(e){return function JU(e){var t,o,f,R,Y,Se,_e,Ae,Ft,Wt,n=150,r=480,i=250,_=0,x=0,b=0,T=0,A=0,ue=null,ge=YP,He=null,dt=zP,pt=.5,Rt=VP(Xn,pt);function mt(An){return[(An=Y(An[0]*lo,An[1]*lo))[0]*n+o,f-An[1]*n]}function Lr(An){return(An=Y.invert((An[0]-o)/n,(f-An[1])/n))&&[An[0]*Wh,An[1]*Wh]}function Xn(An,Or){return[(An=t(An,Or))[0]*n+o,f-An[1]*n]}function Br(){Y=eP(R=function tP(e,t,n){return(e%=ih)?t||n?eP(rP(e),iP(t,n)):rP(e):t||n?iP(t,n):vD}(b,T,A),t);var An=t(_,x);return o=r-An[0]*n,f=i+An[1]*n,ci()}function ci(){return Ft=Wt=null,mt}return mt.stream=function(An){return Ft&&Wt===An?Ft:Ft=ZU(ge(R,Rt(dt(Wt=An))))},mt.clipAngle=function(An){return arguments.length?(ge=+An?HU(ue=An*lo,6*lo):(ue=null,YP),ci()):ue*Wh},mt.clipExtent=function(An){return arguments.length?(dt=null==An?(He=Se=_e=Ae=null,zP):pP(He=+An[0][0],Se=+An[0][1],_e=+An[1][0],Ae=+An[1][1]),ci()):null==He?null:[[He,Se],[_e,Ae]]},mt.scale=function(An){return arguments.length?(n=+An,Br()):n},mt.translate=function(An){return arguments.length?(r=+An[0],i=+An[1],Br()):[r,i]},mt.center=function(An){return arguments.length?(_=An[0]%360*lo,x=An[1]%360*lo,Br()):[_*Wh,x*Wh]},mt.rotate=function(An){return arguments.length?(b=An[0]%360*lo,T=An[1]%360*lo,A=An.length>2?An[2]%360*lo:0,Br()):[b*Wh,T*Wh,A*Wh]},mt.precision=function(An){return arguments.length?(Rt=VP(Xn,pt=An*An),ci()):Sh(pt)},mt.fitExtent=function(An,Or){return BP(mt,An,Or)},mt.fitSize=function(An,Or){return function GU(e,t,n){return BP(e,[[0,0],t],n)}(mt,An,Or)},function(){return t=e.apply(this,arguments),mt.invert=t.invert&&Lr,Br()}}(function(){return e})()}function UP(e){return function(t,n){var r=Ri(t),i=Ri(n),o=e(r*i);return[o*i*Si(t),o*Si(n)]}}function Uy(e){return function(t,n){var r=Sh(t*t+n*n),i=e(r),o=Si(i),f=Ri(i);return[Qd(t*o,r*f),ef(r&&n*o/r)]}}UP(function(e){return Sh(2/(1+e))}).invert=Uy(function(e){return 2*ef(e/2)});var GP=UP(function(e){return(e=OI(e))&&e/Si(e)});function jD(e,t){return[e,t]}function nx(e,t,n,r){var i=e.properties||{},o="Feature"===e.type?e.geometry:e;if("GeometryCollection"===o.type){var f=[];return p1(e,function(ge){var He=nx(ge,t,n,r);He&&f.push(He)}),fg(f)}var _=function sH(e){var t=function v6(e,t){void 0===t&&(t={});var n=dk(e);return dg([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)}(e).geometry.coordinates,n=[-t[0],-t[1]];return function eH(){return XU(GP).scale(79.4188).clipAngle(179.999)}().rotate(n).scale(oc)}(o),x={type:o.type,coordinates:KP(o.coordinates,_)},T=(new lD.GeoJSONReader).read(x),A=function hk(e,t){void 0===t&&(t="kilometers");var n=lk[t];if(!n)throw new Error(t+" units is invalid");return e*n}(function kM(e,t){void 0===t&&(t="kilometers");var n=lk[t];if(!n)throw new Error(t+" units is invalid");return e/n}(t,n),"meters"),R=lD.BufferOp.bufferOp(T,A,r);if(!JP((R=(new lD.GeoJSONWriter).write(R)).coordinates))return xd({type:R.type,coordinates:QP(R.coordinates,_)},i)}function JP(e){return Array.isArray(e[0])?JP(e[0]):isNaN(e[0])}function KP(e,t){return"object"!=typeof e[0]?t(e):e.map(function(n){return KP(n,t)})}function QP(e,t){return"object"!=typeof e[0]?t.invert(e):e.map(function(n){return QP(n,t)})}GP.invert=Uy(function(e){return e}),jD.invert=jD,Uy(Ay),Uy(ef),Uy(function(e){return 2*Ay(e)});var Hp=$(5439);class hH{constructor(){this.category=null}}const fH=(0,$(7423).fo)("Geolocation",{web:()=>$.e(561).then($.bind($,4561)).then(e=>new e.GeolocationWeb)});let tA=(()=>{class e{constructor(n){this.http=n}showEvents(){return this.http.get("show-events")}showCategories(){return this.http.get("show-categories")}filterEvents(n){return this.http.post("filter-events",n)}myEvents(){return this.http.get("my-events")}}return e.\u0275fac=function(n){return new(n||e)(Er(nM))},e.\u0275prov=_r({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Dg=(()=>{class e extends Kd{constructor(n,r){super(),this.accountService=n,this.router=r}ngOnInit(){this.accountService.user().subscribe(n=>{this.user=n},n=>this.handleException(n))}logout(){localStorage.setItem("secretHash",""),this.router.navigate(["/"])}}return e.\u0275fac=function(n){return new(n||e)(yn(Wf),yn(jl))},e.\u0275cmp=vr({type:e,selectors:[["app-main-nav"]],features:[Zs],decls:47,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","p-3"],[1,"container-fluid"],["routerLink","/dashboard",1,"navbar-brand"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasExample","aria-controls","offcanvasExample",1,"btn","btn-primary","navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasExample","aria-labelledby","offcanvasExampleLabel",1,"offcanvas","offcanvas-start",2,"width","250px"],[1,"offcanvas-header"],["id","offcanvasExampleLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"],[1,"ms-2"],["src","../../../assets/images/Profile.png","width","65","height","65",1,"rounded-circle"],[1,"mt-3"],[1,"form-check","p-0","ms-2","mt-4","sadbar"],[1,"fas","fa-gifts","me-3"],["for","flexCheckDefault",1,"form-check-label"],["routerLink","/my-events"],[1,"fa-solid","fa-user","me-3"],["routerLink","/profile"],[1,"form-check","p-0","ms-2","mt-3","sadbar"],[1,"fa-solid","fa-gear","me-3"],["routerLink","/settings"],[1,"fa-solid","fa-arrow-right-from-bracket","me-3"],["href","javascript:void(0)",3,"click"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"dropdown","shadow","rounded-3","show","mx-1","mx-sm-1"],["type","button","role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-transparent","dropdown-toggle"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu"],["href","javascript:void(0)",1,"dropdown-item",3,"click"]],template:function(n,r){1&n&&(ze(0,"header"),ze(1,"nav",0),ze(2,"div",1),ze(3,"a",2),Mn(4,"PopupLive"),Be(),ze(5,"button",3),er(6,"span",4),Be(),ze(7,"div",5),ze(8,"div",6),er(9,"h5",7),er(10,"button",8),Be(),ze(11,"div",9),ze(12,"div",10),er(13,"img",11),ze(14,"h3",12),Mn(15),Be(),Be(),ze(16,"div",13),ze(17,"span"),er(18,"i",14),Be(),ze(19,"label",15),ze(20,"a",16),Mn(21,"My Events"),Be(),Be(),Be(),ze(22,"div",13),ze(23,"span"),er(24,"i",17),Be(),ze(25,"label",15),ze(26,"a",18),Mn(27,"My Profile"),Be(),Be(),Be(),ze(28,"div",19),ze(29,"span"),er(30,"i",20),Be(),ze(31,"label",15),ze(32,"a",21),Mn(33,"Settings"),Be(),Be(),Be(),ze(34,"div",19),ze(35,"span"),er(36,"i",22),Be(),ze(37,"label",15),ze(38,"a",23),Cr("click",function(){return r.logout()}),Mn(39," Sign Out"),Be(),Be(),Be(),Be(),Be(),ze(40,"div",24),er(41,"ul",25),ze(42,"div",26),er(43,"button",27),ze(44,"div",28),ze(45,"a",29),Cr("click",function(){return r.logout()}),Mn(46,"Log out"),Be(),Be(),Be(),Be(),Be(),Be(),Be()),2&n&&($t(15),Os(r.user.name))},directives:[vd],styles:[""]}),e})();function jn(e,t,n,r){var f,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var _=e.length-1;_>=0;_--)(f=e[_])&&(o=(i<3?f(o):i>3?f(t,n,o):f(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function pH(e,t){return function(n,r){t(n,r,e)}}const gH=["pickerContainer"],_H=function(e){return{active:e}};function yH(e,t){if(1&e){const n=tu();ze(0,"li"),ze(1,"button",7),Cr("click",function(i){const f=gi(n).$implicit;return Fn().clickRange(i,f)}),Mn(2),Be(),Be()}if(2&e){const n=t.$implicit,r=Fn();$t(1),bn("disabled",r.disableRange(n))("ngClass",h0(3,_H,n===r.chosenRange)),$t(1),Os(n)}}function vH(e,t){1&e&&er(0,"th")}function xH(e,t){if(1&e){const n=tu();Pc(0),ze(1,"th",19),Cr("click",function(){gi(n);const i=Fn(3);return i.clickPrev(i.sideEnum.left)}),Be(),Ac()}}function wH(e,t){1&e&&(Pc(0),er(1,"th"),Ac())}function bH(e,t){if(1&e&&(ze(0,"option",25),Mn(1),Be()),2&e){const n=t.$implicit,r=Fn(4);bn("disabled",r.calendarVariables.left.dropdowns.inMinYear&&n<r.calendarVariables.left.minDate.month()||r.calendarVariables.left.dropdowns.inMaxYear&&n>r.calendarVariables.left.maxDate.month())("value",n)("selected",r.calendarVariables.left.dropdowns.currentMonth==n),$t(1),zl(" ",r.locale.monthNames[n]," ")}}function MH(e,t){if(1&e&&(ze(0,"option",26),Mn(1),Be()),2&e){const n=t.$implicit;bn("selected",n===Fn(4).calendarVariables.left.dropdowns.currentYear),$t(1),zl(" ",n," ")}}function DH(e,t){if(1&e){const n=tu();Pc(0),ze(1,"div",20),Mn(2),ze(3,"select",21),Cr("change",function(i){gi(n);const o=Fn(3);return o.monthChanged(i,o.sideEnum.left)}),cr(4,bH,2,4,"option",22),Be(),Be(),ze(5,"div",20),Mn(6),ze(7,"select",23),Cr("change",function(i){gi(n);const o=Fn(3);return o.yearChanged(i,o.sideEnum.left)}),cr(8,MH,2,2,"option",24),Be(),Be(),Ac()}if(2&e){const n=Fn(3);$t(2),zl(" ",n.locale.monthNames[null==n.calendarVariables||null==n.calendarVariables.left?null:n.calendarVariables.left.calendar[1][1].month()]," "),$t(2),bn("ngForOf",n.calendarVariables.left.dropdowns.monthArrays),$t(2),zl(" ",null==n.calendarVariables||null==n.calendarVariables.left?null:n.calendarVariables.left.calendar[1][1].format(" YYYY")," "),$t(2),bn("ngForOf",n.calendarVariables.left.dropdowns.yearArrays)}}function EH(e,t){if(1&e&&(Pc(0),Mn(1),Ac()),2&e){const n=Fn(3);$t(1),$m(" ",n.locale.monthNames[null==n.calendarVariables||null==n.calendarVariables.left?null:n.calendarVariables.left.calendar[1][1].month()]," ",null==n.calendarVariables||null==n.calendarVariables.left?null:n.calendarVariables.left.calendar[1][1].format(" YYYY")," ")}}function CH(e,t){if(1&e){const n=tu();Pc(0),ze(1,"th",27),Cr("click",function(){gi(n);const i=Fn(3);return i.clickNext(i.sideEnum.left)}),Be(),Ac()}}function TH(e,t){1&e&&(Pc(0),er(1,"th"),Ac())}function SH(e,t){if(1&e&&(ze(0,"th",28),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=Fn(3);$t(2),Os(n.locale.weekLabel)}}function LH(e,t){if(1&e&&(ze(0,"th"),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=t.$implicit;$t(2),Os(n)}}function kH(e,t){if(1&e&&(ze(0,"td",28),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=Fn().$implicit,r=Fn(3);$t(2),Os(r.calendarVariables.left.calendar[n][0].week())}}function IH(e,t){if(1&e&&(ze(0,"td",28),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=Fn().$implicit,r=Fn(3);$t(2),Os(r.calendarVariables.left.calendar[n][0].isoWeek())}}function PH(e,t){if(1&e){const n=tu();ze(0,"td",30),Cr("click",function(i){const f=gi(n).$implicit,_=Fn().$implicit,x=Fn(3);return x.clickDate(i,x.sideEnum.left,_,f)})("mouseenter",function(i){const f=gi(n).$implicit,_=Fn().$implicit,x=Fn(3);return x.hoverDate(i,x.sideEnum.left,_,f)}),ze(1,"span"),Mn(2),Be(),Be()}if(2&e){const n=t.$implicit,r=Fn().$implicit,i=Fn(3);ic(i.calendarVariables.left.classes[r][n]),$t(2),Os(i.calendarVariables.left.calendar[r][n].date())}}function AH(e,t){if(1&e&&(ze(0,"tr"),cr(1,kH,3,1,"td",16),cr(2,IH,3,1,"td",16),cr(3,PH,3,3,"td",29),Be()),2&e){const n=t.$implicit,r=Fn(3);ic(r.calendarVariables.left.classes[n].classList),$t(1),bn("ngIf",r.showWeekNumbers),$t(1),bn("ngIf",r.showISOWeekNumbers),$t(1),bn("ngForOf",r.calendarVariables.left.calCols)}}function OH(e,t){if(1&e&&(ze(0,"table",12),ze(1,"thead"),ze(2,"tr"),cr(3,vH,1,0,"th",13),cr(4,xH,2,0,"ng-container",13),cr(5,wH,2,0,"ng-container",13),ze(6,"th",14),cr(7,DH,9,4,"ng-container",13),cr(8,EH,2,2,"ng-container",13),Be(),cr(9,CH,2,0,"ng-container",13),cr(10,TH,2,0,"ng-container",13),Be(),ze(11,"tr",15),cr(12,SH,3,1,"th",16),cr(13,LH,3,1,"th",3),Be(),Be(),ze(14,"tbody",17),cr(15,AH,4,5,"tr",18),Be(),Be()),2&e){const n=Fn(2);$t(3),bn("ngIf",n.showWeekNumbers||n.showISOWeekNumbers),$t(1),bn("ngIf",!n.calendarVariables.left.minDate||n.calendarVariables.left.minDate.isBefore(n.calendarVariables.left.calendar.firstDay)&&(!n.linkedCalendars||!0)),$t(1),bn("ngIf",!(!n.calendarVariables.left.minDate||n.calendarVariables.left.minDate.isBefore(n.calendarVariables.left.calendar.firstDay))),$t(2),bn("ngIf",n.showDropdowns&&n.calendarVariables.left.dropdowns),$t(1),bn("ngIf",!n.showDropdowns||!n.calendarVariables.left.dropdowns),$t(1),bn("ngIf",(!n.calendarVariables.left.maxDate||n.calendarVariables.left.maxDate.isAfter(n.calendarVariables.left.calendar.lastDay))&&(!n.linkedCalendars||n.singleDatePicker)),$t(1),bn("ngIf",!((!n.calendarVariables.left.maxDate||n.calendarVariables.left.maxDate.isAfter(n.calendarVariables.left.calendar.lastDay))&&(!n.linkedCalendars||n.singleDatePicker))),$t(2),bn("ngIf",n.showWeekNumbers||n.showISOWeekNumbers),$t(1),bn("ngForOf",n.locale.daysOfWeek),$t(2),bn("ngForOf",n.calendarVariables.left.calRows)}}function RH(e,t){if(1&e&&(ze(0,"option",40),Mn(1),Be()),2&e){const n=t.$implicit,r=Fn(3);bn("value",n)("disabled",r.timepickerVariables.left.disabledHours.indexOf(n)>-1),$t(1),Os(n)}}function NH(e,t){if(1&e&&(ze(0,"option",40),Mn(1),Be()),2&e){const n=t.$implicit,r=t.index,i=Fn(3);bn("value",n)("disabled",i.timepickerVariables.left.disabledMinutes.indexOf(n)>-1),$t(1),Os(i.timepickerVariables.left.minutesLabel[r])}}function FH(e,t){if(1&e&&(ze(0,"option",40),Mn(1),Be()),2&e){const n=t.$implicit,r=t.index,i=Fn(4);bn("value",n)("disabled",i.timepickerVariables.left.disabledSeconds.indexOf(n)>-1),$t(1),Os(i.timepickerVariables.left.secondsLabel[r])}}function YH(e,t){if(1&e){const n=tu();ze(0,"select",41),Cr("ngModelChange",function(i){return gi(n),Fn(3).timepickerVariables.left.selectedSecond=i})("ngModelChange",function(i){gi(n);const o=Fn(3);return o.timeChanged(i,o.sideEnum.left)}),cr(1,FH,2,3,"option",34),Be()}if(2&e){const n=Fn(3);bn("disabled",!n.startDate)("ngModel",n.timepickerVariables.left.selectedSecond),$t(1),bn("ngForOf",n.timepickerVariables.left.seconds)}}function zH(e,t){if(1&e){const n=tu();ze(0,"select",42),Cr("ngModelChange",function(i){return gi(n),Fn(3).timepickerVariables.left.ampmModel=i})("ngModelChange",function(i){gi(n);const o=Fn(3);return o.timeChanged(i,o.sideEnum.left)}),ze(1,"option",43),Mn(2,"AM"),Be(),ze(3,"option",44),Mn(4,"PM"),Be(),Be()}if(2&e){const n=Fn(3);bn("ngModel",n.timepickerVariables.left.ampmModel),$t(1),bn("disabled",n.timepickerVariables.left.amDisabled),$t(2),bn("disabled",n.timepickerVariables.left.pmDisabled)}}function BH(e,t){if(1&e){const n=tu();ze(0,"div",31),ze(1,"div",32),ze(2,"select",33),Cr("ngModelChange",function(i){return gi(n),Fn(2).timepickerVariables.left.selectedHour=i})("ngModelChange",function(i){gi(n);const o=Fn(2);return o.timeChanged(i,o.sideEnum.left)}),cr(3,RH,2,3,"option",34),Be(),Be(),ze(4,"div",32),ze(5,"select",35),Cr("ngModelChange",function(i){return gi(n),Fn(2).timepickerVariables.left.selectedMinute=i})("ngModelChange",function(i){gi(n);const o=Fn(2);return o.timeChanged(i,o.sideEnum.left)}),cr(6,NH,2,3,"option",34),Be(),er(7,"span",36),er(8,"span",37),Be(),ze(9,"div",32),cr(10,YH,2,3,"select",38),er(11,"span",36),er(12,"span",37),Be(),ze(13,"div",32),cr(14,zH,5,3,"select",39),er(15,"span",36),er(16,"span",37),Be(),Be()}if(2&e){const n=Fn(2);$t(2),bn("disabled",!n.startDate)("ngModel",n.timepickerVariables.left.selectedHour),$t(1),bn("ngForOf",n.timepickerVariables.left.hours),$t(2),bn("disabled",!n.startDate)("ngModel",n.timepickerVariables.left.selectedMinute),$t(1),bn("ngForOf",n.timepickerVariables.left.minutes),$t(4),bn("ngIf",n.timePickerSeconds),$t(4),bn("ngIf",!n.timePicker24Hour)}}const jH=function(e,t){return{right:e,left:t}};function VH(e,t){if(1&e&&(ze(0,"div",8),ze(1,"div",9),cr(2,OH,16,10,"table",10),Be(),cr(3,BH,17,8,"div",11),Be()),2&e){const n=Fn();bn("ngClass",QC(3,jH,n.singleDatePicker,!n.singleDatePicker)),$t(2),bn("ngIf",n.calendarVariables),$t(1),bn("ngIf",n.timePicker)}}function UH(e,t){1&e&&er(0,"th")}function HH(e,t){if(1&e){const n=tu();Pc(0),ze(1,"th",19),Cr("click",function(){gi(n);const i=Fn(3);return i.clickPrev(i.sideEnum.right)}),Be(),Ac()}}function GH(e,t){1&e&&(Pc(0),er(1,"th"),Ac())}function qH(e,t){if(1&e&&(ze(0,"option",25),Mn(1),Be()),2&e){const n=t.$implicit,r=Fn(4);bn("disabled",r.calendarVariables.right.dropdowns.inMinYear&&r.calendarVariables.right.minDate&&n<r.calendarVariables.right.minDate.month()||r.calendarVariables.right.dropdowns.inMaxYear&&r.calendarVariables.right.maxDate&&n>r.calendarVariables.right.maxDate.month())("value",n)("selected",r.calendarVariables.right.dropdowns.currentMonth==n),$t(1),zl(" ",r.locale.monthNames[n]," ")}}function WH(e,t){if(1&e&&(ze(0,"option",26),Mn(1),Be()),2&e){const n=t.$implicit;bn("selected",n===Fn(4).calendarVariables.right.dropdowns.currentYear),$t(1),zl(" ",n," ")}}function $H(e,t){if(1&e){const n=tu();Pc(0),ze(1,"div",20),Mn(2),ze(3,"select",21),Cr("change",function(i){gi(n);const o=Fn(3);return o.monthChanged(i,o.sideEnum.right)}),cr(4,qH,2,4,"option",22),Be(),Be(),ze(5,"div",20),Mn(6),ze(7,"select",23),Cr("change",function(i){gi(n);const o=Fn(3);return o.yearChanged(i,o.sideEnum.right)}),cr(8,WH,2,2,"option",24),Be(),Be(),Ac()}if(2&e){const n=Fn(3);$t(2),zl(" ",n.locale.monthNames[null==n.calendarVariables||null==n.calendarVariables.right?null:n.calendarVariables.right.calendar[1][1].month()]," "),$t(2),bn("ngForOf",n.calendarVariables.right.dropdowns.monthArrays),$t(2),zl(" ",null==n.calendarVariables||null==n.calendarVariables.right?null:n.calendarVariables.right.calendar[1][1].format(" YYYY")," "),$t(2),bn("ngForOf",n.calendarVariables.right.dropdowns.yearArrays)}}function ZH(e,t){if(1&e&&(Pc(0),Mn(1),Ac()),2&e){const n=Fn(3);$t(1),$m(" ",n.locale.monthNames[null==n.calendarVariables||null==n.calendarVariables.right?null:n.calendarVariables.right.calendar[1][1].month()]," ",null==n.calendarVariables||null==n.calendarVariables.right?null:n.calendarVariables.right.calendar[1][1].format(" YYYY")," ")}}function XH(e,t){if(1&e){const n=tu();Pc(0),ze(1,"th",27),Cr("click",function(){gi(n);const i=Fn(3);return i.clickNext(i.sideEnum.right)}),Be(),Ac()}}function JH(e,t){1&e&&(Pc(0),er(1,"th"),Ac())}function KH(e,t){if(1&e&&(ze(0,"th",28),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=Fn(3);$t(2),Os(n.locale.weekLabel)}}function QH(e,t){if(1&e&&(ze(0,"th"),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=t.$implicit;$t(2),Os(n)}}function e8(e,t){if(1&e&&(ze(0,"td",28),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=Fn().$implicit,r=Fn(3);$t(2),Os(r.calendarVariables.right.calendar[n][0].week())}}function t8(e,t){if(1&e&&(ze(0,"td",28),ze(1,"span"),Mn(2),Be(),Be()),2&e){const n=Fn().$implicit,r=Fn(3);$t(2),Os(r.calendarVariables.right.calendar[n][0].isoWeek())}}function n8(e,t){if(1&e){const n=tu();ze(0,"td",30),Cr("click",function(i){const f=gi(n).$implicit,_=Fn().$implicit,x=Fn(3);return x.clickDate(i,x.sideEnum.right,_,f)})("mouseenter",function(i){const f=gi(n).$implicit,_=Fn().$implicit,x=Fn(3);return x.hoverDate(i,x.sideEnum.right,_,f)}),ze(1,"span"),Mn(2),Be(),Be()}if(2&e){const n=t.$implicit,r=Fn().$implicit,i=Fn(3);ic(i.calendarVariables.right.classes[r][n]),$t(2),Os(i.calendarVariables.right.calendar[r][n].date())}}function r8(e,t){if(1&e&&(ze(0,"tr"),cr(1,e8,3,1,"td",16),cr(2,t8,3,1,"td",16),cr(3,n8,3,3,"td",29),Be()),2&e){const n=t.$implicit,r=Fn(3);ic(r.calendarVariables.right.classes[n].classList),$t(1),bn("ngIf",r.showWeekNumbers),$t(1),bn("ngIf",r.showISOWeekNumbers),$t(1),bn("ngForOf",r.calendarVariables.right.calCols)}}function i8(e,t){if(1&e&&(ze(0,"table",12),ze(1,"thead"),ze(2,"tr"),cr(3,UH,1,0,"th",13),cr(4,HH,2,0,"ng-container",13),cr(5,GH,2,0,"ng-container",13),ze(6,"th",46),cr(7,$H,9,4,"ng-container",13),cr(8,ZH,2,2,"ng-container",13),Be(),cr(9,XH,2,0,"ng-container",13),cr(10,JH,2,0,"ng-container",13),Be(),ze(11,"tr",15),cr(12,KH,3,1,"th",16),cr(13,QH,3,1,"th",3),Be(),Be(),ze(14,"tbody"),cr(15,r8,4,5,"tr",18),Be(),Be()),2&e){const n=Fn(2);$t(3),bn("ngIf",n.showWeekNumbers||n.showISOWeekNumbers),$t(1),bn("ngIf",(!n.calendarVariables.right.minDate||n.calendarVariables.right.minDate.isBefore(n.calendarVariables.right.calendar.firstDay))&&!n.linkedCalendars),$t(1),bn("ngIf",!((!n.calendarVariables.right.minDate||n.calendarVariables.right.minDate.isBefore(n.calendarVariables.right.calendar.firstDay))&&!n.linkedCalendars)),$t(2),bn("ngIf",n.showDropdowns&&n.calendarVariables.right.dropdowns),$t(1),bn("ngIf",!n.showDropdowns||!n.calendarVariables.right.dropdowns),$t(1),bn("ngIf",!n.calendarVariables.right.maxDate||n.calendarVariables.right.maxDate.isAfter(n.calendarVariables.right.calendar.lastDay)&&(!n.linkedCalendars||n.singleDatePicker||!0)),$t(1),bn("ngIf",!(!n.calendarVariables.right.maxDate||n.calendarVariables.right.maxDate.isAfter(n.calendarVariables.right.calendar.lastDay))),$t(2),bn("ngIf",n.showWeekNumbers||n.showISOWeekNumbers),$t(1),bn("ngForOf",n.locale.daysOfWeek),$t(2),bn("ngForOf",n.calendarVariables.right.calRows)}}function s8(e,t){if(1&e&&(ze(0,"option",40),Mn(1),Be()),2&e){const n=t.$implicit,r=Fn(3);bn("value",n)("disabled",r.timepickerVariables.right.disabledHours.indexOf(n)>-1),$t(1),Os(n)}}function o8(e,t){if(1&e&&(ze(0,"option",40),Mn(1),Be()),2&e){const n=t.$implicit,r=t.index,i=Fn(3);bn("value",n)("disabled",i.timepickerVariables.right.disabledMinutes.indexOf(n)>-1),$t(1),Os(i.timepickerVariables.right.minutesLabel[r])}}function a8(e,t){if(1&e&&(ze(0,"option",40),Mn(1),Be()),2&e){const n=t.$implicit,r=t.index,i=Fn(4);bn("value",n)("disabled",i.timepickerVariables.right.disabledSeconds.indexOf(n)>-1),$t(1),Os(i.timepickerVariables.right.secondsLabel[r])}}function l8(e,t){if(1&e){const n=tu();ze(0,"select",41),Cr("ngModelChange",function(i){return gi(n),Fn(3).timepickerVariables.right.selectedSecond=i})("ngModelChange",function(i){gi(n);const o=Fn(3);return o.timeChanged(i,o.sideEnum.right)}),cr(1,a8,2,3,"option",34),Be()}if(2&e){const n=Fn(3);bn("disabled",!n.startDate)("ngModel",n.timepickerVariables.right.selectedSecond),$t(1),bn("ngForOf",n.timepickerVariables.right.seconds)}}function u8(e,t){if(1&e){const n=tu();ze(0,"select",42),Cr("ngModelChange",function(i){return gi(n),Fn(3).timepickerVariables.right.ampmModel=i})("ngModelChange",function(i){gi(n);const o=Fn(3);return o.timeChanged(i,o.sideEnum.right)}),ze(1,"option",43),Mn(2,"AM"),Be(),ze(3,"option",44),Mn(4,"PM"),Be(),Be()}if(2&e){const n=Fn(3);bn("ngModel",n.timepickerVariables.right.ampmModel),$t(1),bn("disabled",n.timepickerVariables.right.amDisabled),$t(2),bn("disabled",n.timepickerVariables.right.pmDisabled)}}function c8(e,t){if(1&e){const n=tu();ze(0,"div",31),ze(1,"div",32),ze(2,"select",47),Cr("ngModelChange",function(i){return gi(n),Fn(2).timepickerVariables.right.selectedHour=i})("ngModelChange",function(i){gi(n);const o=Fn(2);return o.timeChanged(i,o.sideEnum.right)}),cr(3,s8,2,3,"option",34),Be(),er(4,"span",36),er(5,"span",37),Be(),ze(6,"div",32),ze(7,"select",35),Cr("ngModelChange",function(i){return gi(n),Fn(2).timepickerVariables.right.selectedMinute=i})("ngModelChange",function(i){gi(n);const o=Fn(2);return o.timeChanged(i,o.sideEnum.right)}),cr(8,o8,2,3,"option",34),Be(),er(9,"span",36),er(10,"span",37),Be(),ze(11,"div",32),cr(12,l8,2,3,"select",38),er(13,"span",36),er(14,"span",37),Be(),ze(15,"div",32),cr(16,u8,5,3,"select",39),er(17,"span",36),er(18,"span",37),Be(),Be()}if(2&e){const n=Fn(2);$t(2),bn("disabled",!n.startDate)("ngModel",n.timepickerVariables.right.selectedHour),$t(1),bn("ngForOf",n.timepickerVariables.right.hours),$t(4),bn("disabled",!n.startDate)("ngModel",n.timepickerVariables.right.selectedMinute),$t(1),bn("ngForOf",n.timepickerVariables.right.minutes),$t(4),bn("ngIf",n.timePickerSeconds),$t(4),bn("ngIf",!n.timePicker24Hour)}}function h8(e,t){if(1&e&&(ze(0,"div",45),ze(1,"div",9),cr(2,i8,16,10,"table",10),Be(),cr(3,c8,19,8,"div",11),Be()),2&e){const n=Fn();$t(2),bn("ngIf",n.calendarVariables),$t(1),bn("ngIf",n.timePicker)}}function d8(e,t){if(1&e){const n=tu();ze(0,"button",53),Cr("click",function(){return gi(n),Fn(2).clear()}),Mn(1),et(),ze(2,"svg",54),er(3,"path",55),Be(),Be()}if(2&e){const n=Fn(2);bn("title",n.locale.clearLabel),$t(1),zl(" ",n.locale.clearLabel," ")}}function f8(e,t){if(1&e){const n=tu();ze(0,"button",56),Cr("click",function(i){return gi(n),Fn(2).clickCancel(i)}),Mn(1),Be()}if(2&e){const n=Fn(2);$t(1),Os(n.locale.cancelLabel)}}function p8(e,t){if(1&e){const n=tu();ze(0,"div",48),ze(1,"div",49),cr(2,d8,4,2,"button",50),cr(3,f8,2,1,"button",51),ze(4,"button",52),Cr("click",function(i){return gi(n),Fn().clickApply(i)}),Mn(5),Be(),Be(),Be()}if(2&e){const n=Fn();$t(2),bn("ngIf",n.showClearButton),$t(1),bn("ngIf",n.showCancel),$t(1),bn("disabled",n.applyBtn.disabled),$t(1),Os(n.locale.applyLabel)}}const m8=function(e,t,n,r,i,o,f){return{ltr:e,rtl:t,shown:n,hidden:r,inline:i,double:o,"show-ranges":f}},UD=Hp,ix=new Oi("daterangepicker.config"),iA={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",clearLabel:"Clear",customRangeLabel:"Custom range",daysOfWeek:UD.weekdaysMin(),monthNames:UD.monthsShort(),firstDay:UD.localeData().firstDayOfWeek()};let Eg=(()=>{let e=class{constructor(n){this._config=n}get config(){return this._config?Object.assign({},iA,this._config):iA}};return e.\u0275fac=function(n){return new(n||e)(Er(ix))},e.\u0275prov=_r({token:e,factory:function(t){return e.\u0275fac(t)}}),e=jn([pH(0,cf(ix))],e),e})();var sA;const ml=Hp;var Fs=(()=>{return(e=Fs||(Fs={})).left="left",e.right="right",Fs;var e})();let si=sA=class{constructor(t,n,r){this.el=t,this._ref=n,this._localeService=r,this._old={start:null,end:null},this.calendarVariables={left:{},right:{}},this.tooltiptext=[],this.timepickerVariables={left:{},right:{}},this.daterangepicker={start:new G0,end:new G0},this.applyBtn={disabled:!1},this.startDate=ml().startOf("day"),this.endDate=ml().endOf("day"),this.dateLimit=null,this.sideEnum=Fs,this.minDate=null,this.maxDate=null,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.linkedCalendars=!1,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.maxSpan=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.showClearButton=!1,this.firstMonthDayClass=null,this.lastMonthDayClass=null,this.emptyWeekRowClass=null,this.emptyWeekColumnClass=null,this.firstDayOfNextMonthClass=null,this.lastDayOfPreviousMonthClass=null,this._locale={},this._ranges={},this.showCancel=!1,this.keepCalendarOpeningWithRange=!1,this.showRangeLabelOnInput=!1,this.customRangeDirection=!1,this.rangesArray=[],this.isShown=!1,this.inline=!0,this.leftCalendar={},this.rightCalendar={},this.showCalInRanges=!1,this.nowHoveredDate=null,this.pickingDate=!1,this.options={},this.closeOnAutoApply=!0,this.choosedDate=new bo,this.rangeClicked=new bo,this.datesUpdated=new bo,this.startDateChanged=new bo,this.endDateChanged=new bo}set locale(t){this._locale=Object.assign({},this._localeService.config,t)}get locale(){return this._locale}set ranges(t){this._ranges=t,this.renderRanges()}get ranges(){return this._ranges}ngOnInit(){this._buildLocale();const t=[...this.locale.daysOfWeek];if(this.locale.firstDay=this.locale.firstDay%7,0!==this.locale.firstDay){let n=this.locale.firstDay;for(;n>0;)t.push(t.shift()),n--}this.locale.daysOfWeek=t,this.inline&&(this._old.start=this.startDate?this.startDate.clone():null,this._old.end=this.endDate?this.endDate.clone():null),this.startDate&&this.timePicker&&(this.setStartDate(this.startDate),this.renderTimePicker(Fs.left)),this.endDate&&this.timePicker&&(this.setEndDate(this.endDate),this.renderTimePicker(Fs.right)),this.updateMonthsInView(),this.renderCalendar(Fs.left),this.renderCalendar(Fs.right),this.renderRanges()}renderRanges(){let t,n;if(this.rangesArray=[],"object"==typeof this.ranges){for(const r in this.ranges)if(this.ranges[r]){t="string"==typeof this.ranges[r][0]?ml(this.ranges[r][0],this.locale.format):ml(this.ranges[r][0]),n="string"==typeof this.ranges[r][1]?ml(this.ranges[r][1],this.locale.format):ml(this.ranges[r][1]),this.minDate&&t.isBefore(this.minDate)&&(t=this.minDate.clone());let i=this.maxDate;if(this.maxSpan&&i&&t.clone().add(this.maxSpan).isAfter(i)&&(i=t.clone().add(this.maxSpan)),i&&n.isAfter(i)&&(n=i.clone()),this.minDate&&n.isBefore(this.minDate,this.timePicker?"minute":"day")||i&&t.isAfter(i,this.timePicker?"minute":"day"))continue;const o=document.createElement("textarea");o.innerHTML=r,this.ranges[o.value]=[t,n]}for(const r in this.ranges)this.ranges[r]&&this.rangesArray.push(r);this.showCustomRangeLabel&&this.rangesArray.push(this.locale.customRangeLabel),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"))}}renderTimePicker(t){let n,r;const i=this.maxDate;t===Fs.left?(n=this.startDate.clone(),r=this.minDate):t===Fs.right&&this.endDate?(n=this.endDate.clone(),r=this.startDate):t===Fs.right&&!this.endDate&&(n=this._getDateWithTime(this.startDate,Fs.right),n.isBefore(this.startDate)&&(n=this.startDate.clone()),r=this.startDate);const o=this.timePicker24Hour?0:1,f=this.timePicker24Hour?23:12;this.timepickerVariables[t]={hours:[],minutes:[],minutesLabel:[],seconds:[],secondsLabel:[],disabledHours:[],disabledMinutes:[],disabledSeconds:[],selectedHour:0,selectedMinute:0,selectedSecond:0};for(let _=o;_<=f;_++){let x=_;this.timePicker24Hour||(x=n.hour()>=12?12===_?12:_+12:12===_?0:_);const b=n.clone().hour(x);let T=!1;r&&b.minute(59).isBefore(r)&&(T=!0),i&&b.minute(0).isAfter(i)&&(T=!0),this.timepickerVariables[t].hours.push(_),x!==n.hour()||T?T&&this.timepickerVariables[t].disabledHours.push(_):this.timepickerVariables[t].selectedHour=_}for(let _=0;_<60;_+=this.timePickerIncrement){const x=_<10?"0"+_:_,b=n.clone().minute(_);let T=!1;r&&b.second(59).isBefore(r)&&(T=!0),i&&b.second(0).isAfter(i)&&(T=!0),this.timepickerVariables[t].minutes.push(_),this.timepickerVariables[t].minutesLabel.push(x),n.minute()!==_||T?T&&this.timepickerVariables[t].disabledMinutes.push(_):this.timepickerVariables[t].selectedMinute=_}if(this.timePickerSeconds)for(let _=0;_<60;_++){const x=_<10?"0"+_:_,b=n.clone().second(_);let T=!1;r&&b.isBefore(r)&&(T=!0),i&&b.isAfter(i)&&(T=!0),this.timepickerVariables[t].seconds.push(_),this.timepickerVariables[t].secondsLabel.push(x),n.second()!==_||T?T&&this.timepickerVariables[t].disabledSeconds.push(_):this.timepickerVariables[t].selectedSecond=_}this.timePicker24Hour||(r&&n.clone().hour(12).minute(0).second(0).isBefore(r)&&(this.timepickerVariables[t].amDisabled=!0),i&&n.clone().hour(0).minute(0).second(0).isAfter(i)&&(this.timepickerVariables[t].pmDisabled=!0),this.timepickerVariables[t].ampmModel=n.hour()>=12?"PM":"AM"),this.timepickerVariables[t].selected=n}renderCalendar(t){const n=t===Fs.left?this.leftCalendar:this.rightCalendar,r=n.month.month(),i=n.month.year(),o=n.month.hour(),f=n.month.minute(),_=n.month.second(),x=ml([i,r]).daysInMonth(),b=ml([i,r,1]),T=ml([i,r,x]),A=ml(b).subtract(1,"month").month(),R=ml(b).subtract(1,"month").year(),Y=ml([R,A]).daysInMonth(),ue=b.day(),ge=[];ge.firstDay=b,ge.lastDay=T;for(let dt=0;dt<6;dt++)ge[dt]=[];let He=Y-ue+this.locale.firstDay+1;He>Y&&(He-=7),ue===this.locale.firstDay&&(He=Y-6);let Se=ml([R,A,He,12,f,_]);for(let dt=0,pt=0,Rt=0;dt<42;dt++,pt++,Se=ml(Se).add(24,"hour"))dt>0&&pt%7==0&&(pt=0,Rt++),ge[Rt][pt]=Se.clone().hour(o).minute(f).second(_),Se.hour(12),this.minDate&&ge[Rt][pt].format("YYYY-MM-DD")===this.minDate.format("YYYY-MM-DD")&&ge[Rt][pt].isBefore(this.minDate)&&"left"===t&&(ge[Rt][pt]=this.minDate.clone()),this.maxDate&&ge[Rt][pt].format("YYYY-MM-DD")===this.maxDate.format("YYYY-MM-DD")&&ge[Rt][pt].isAfter(this.maxDate)&&"right"===t&&(ge[Rt][pt]=this.maxDate.clone());t===Fs.left?this.leftCalendar.calendar=ge:this.rightCalendar.calendar=ge;const _e="left"===t?this.minDate:this.startDate;let Ae=this.maxDate;if(null===this.endDate&&this.dateLimit){const dt=this.startDate.clone().add(this.dateLimit,"day").endOf("day");(!Ae||dt.isBefore(Ae))&&(Ae=dt)}if(this.calendarVariables[t]={month:r,year:i,hour:o,minute:f,second:_,daysInMonth:x,firstDay:b,lastDay:T,lastMonth:A,lastYear:R,daysInLastMonth:Y,dayOfWeek:ue,calRows:Array.from(Array(6).keys()),calCols:Array.from(Array(7).keys()),classes:{},minDate:_e,maxDate:Ae,calendar:ge},this.showDropdowns){const dt=ge[1][1].month(),pt=ge[1][1].year(),Rt=ml().year(),Ft=Ae&&Ae.year()||Rt+5,Wt=_e&&_e.year()||Rt-50,mt=pt===Wt,Lr=pt===Ft,Xn=[];for(let Br=Wt;Br<=Ft;Br++)Xn.push(Br);this.calendarVariables[t].dropdowns={currentMonth:dt,currentYear:pt,maxYear:Ft,minYear:Wt,inMinYear:mt,inMaxYear:Lr,monthArrays:Array.from(Array(12).keys()),yearArrays:Xn}}this._buildCells(ge,t)}setStartDate(t){"string"==typeof t&&(this.startDate=ml(t,this.locale.format)),"object"==typeof t&&(this.pickingDate=!0,this.startDate=ml(t)),this.timePicker||(this.pickingDate=!0,this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShown||this.updateElement(),this.startDateChanged.emit({startDate:this.startDate}),this.updateMonthsInView()}setEndDate(t){"string"==typeof t&&(this.endDate=ml(t,this.locale.format)),"object"==typeof t&&(this.pickingDate=!1,this.endDate=ml(t)),this.timePicker||(this.pickingDate=!1,this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit,"day").isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit,"day")),this.endDateChanged.emit({endDate:this.endDate}),this.updateMonthsInView()}isInvalidDate(t){return!1}isCustomDate(t){return!1}isTooltipDate(t){return null}updateView(){this.timePicker&&(this.renderTimePicker(Fs.left),this.renderTimePicker(Fs.right)),this.updateMonthsInView(),this.updateCalendars()}updateMonthsInView(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate&&this.leftCalendar&&this.startDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.startDate&&this.rightCalendar&&this.startDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM")))return;this.startDate&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.linkedCalendars||this.endDate.month()===this.startDate.month()&&this.endDate.year()===this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2))}else this.leftCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&(this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month")),this.minDate&&(this.leftCalendar.month=this.minDate.clone().date(2),this.rightCalendar.month=this.minDate.clone().date(2).add(1,"month")))}updateCalendars(){this.renderCalendar(Fs.left),this.renderCalendar(Fs.right),null!==this.endDate&&this.calculateChosenLabel()}updateElement(){const t=this.locale.displayFormat?this.locale.displayFormat:this.locale.format;!this.singleDatePicker&&this.autoUpdateInput?this.startDate&&this.endDate&&(this.chosenLabel=this.rangesArray.length&&!0===this.showRangeLabelOnInput&&this.chosenRange&&this.locale.customRangeLabel!==this.chosenRange?this.chosenRange:this.startDate.format(t)+this.locale.separator+this.endDate.format(t)):this.autoUpdateInput&&(this.chosenLabel=this.startDate.format(t))}remove(){this.isShown=!1}calculateChosenLabel(){(!this.locale||!this.locale.separator)&&this._buildLocale();let t=!0,n=0;if(this.rangesArray.length>0){for(const r in this.ranges)if(this.ranges[r]){if(this.timePicker){const i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)===this.ranges[r][0].format(i)&&this.endDate.format(i)===this.ranges[r][1].format(i)){t=!1,this.chosenRange=this.rangesArray[n];break}}else if(this.startDate.format("YYYY-MM-DD")===this.ranges[r][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")===this.ranges[r][1].format("YYYY-MM-DD")){t=!1,this.chosenRange=this.rangesArray[n];break}n++}t&&(this.chosenRange=this.showCustomRangeLabel?this.locale.customRangeLabel:null,this.showCalInRanges=!0)}this.updateElement()}clickApply(t){if(!this.singleDatePicker&&this.startDate&&!this.endDate&&(this.endDate=this._getDateWithTime(this.startDate,Fs.right),this.calculateChosenLabel()),this.isInvalidDate&&this.startDate&&this.endDate){const n=this.startDate.clone();for(;n.isBefore(this.endDate);){if(this.isInvalidDate(n)){this.endDate=n.subtract(1,"days"),this.calculateChosenLabel();break}n.add(1,"days")}}this.chosenLabel&&this.choosedDate.emit({chosenLabel:this.chosenLabel,startDate:this.startDate,endDate:this.endDate}),this.datesUpdated.emit({startDate:this.startDate,endDate:this.endDate}),(t||this.closeOnAutoApply&&!t)&&this.hide()}clickCancel(t){this.startDate=this._old.start,this.endDate=this._old.end,this.inline&&this.updateView(),this.hide()}monthChanged(t,n){const r=this.calendarVariables[n].dropdowns.currentYear,i=parseInt(t.target.value,10);this.monthOrYearChanged(i,r,n)}yearChanged(t,n){const r=this.calendarVariables[n].dropdowns.currentMonth,i=parseInt(t.target.value,10);this.monthOrYearChanged(r,i,n)}timeChanged(t,n){let r=parseInt(this.timepickerVariables[n].selectedHour,10);const i=parseInt(this.timepickerVariables[n].selectedMinute,10),o=this.timePickerSeconds?parseInt(this.timepickerVariables[n].selectedSecond,10):0;if(!this.timePicker24Hour){const f=this.timepickerVariables[n].ampmModel;"PM"===f&&r<12&&(r+=12),"AM"===f&&12===r&&(r=0)}if(n===Fs.left){const f=this.startDate.clone();f.hour(r),f.minute(i),f.second(o),this.setStartDate(f),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")===f.format("YYYY-MM-DD")&&this.endDate.isBefore(f)?this.setEndDate(f.clone()):!this.endDate&&this.timePicker&&this._getDateWithTime(f,Fs.right).isBefore(f)&&(this.timepickerVariables[Fs.right].selectedHour=r,this.timepickerVariables[Fs.right].selectedMinute=i,this.timepickerVariables[Fs.right].selectedSecond=o)}else if(this.endDate){const f=this.endDate.clone();f.hour(r),f.minute(i),f.second(o),this.setEndDate(f)}this.updateCalendars(),this.renderTimePicker(Fs.left),this.renderTimePicker(Fs.right),this.autoApply&&this.clickApply()}monthOrYearChanged(t,n,r){const i=r===Fs.left;i||(n<this.startDate.year()||n===this.startDate.year()&&t<this.startDate.month())&&(t=this.startDate.month(),n=this.startDate.year()),this.minDate&&(n<this.minDate.year()||n===this.minDate.year()&&t<this.minDate.month())&&(t=this.minDate.month(),n=this.minDate.year()),this.maxDate&&(n>this.maxDate.year()||n===this.maxDate.year()&&t>this.maxDate.month())&&(t=this.maxDate.month(),n=this.maxDate.year()),this.calendarVariables[r].dropdowns.currentYear=n,this.calendarVariables[r].dropdowns.currentMonth=t,i?(this.leftCalendar.month.month(t).year(n),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(t).year(n),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()}clickPrev(t){t===Fs.left?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()}clickNext(t){t===Fs.left?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()}hoverDate(t,n,r,i){const o=this.calendarVariables.left.calendar[r][i],f=this.calendarVariables.right.calendar[r][i];this.pickingDate&&(this.nowHoveredDate=n===Fs.left?o:f,this.renderCalendar(Fs.left),this.renderCalendar(Fs.right));const _=n===Fs.left?this.tooltiptext[o]:this.tooltiptext[f];_.length>0&&t.target.setAttribute("title",_)}clickDate(t,n,r,i){if("TD"===t.target.tagName){if(!t.target.classList.contains("available"))return}else if("SPAN"===t.target.tagName&&!t.target.parentElement.classList.contains("available"))return;this.rangesArray.length&&(this.chosenRange=this.locale.customRangeLabel);let o=n===Fs.left?this.leftCalendar.calendar[r][i]:this.rightCalendar.calendar[r][i];(this.endDate||o.isBefore(this.startDate,"day")&&!1===this.customRangeDirection)&&!1===this.lockStartDate?(this.timePicker&&(o=this._getDateWithTime(o,Fs.left)),this.endDate=null,this.setStartDate(o.clone())):!this.endDate&&o.isBefore(this.startDate)&&!1===this.customRangeDirection?this.setEndDate(this.startDate.clone()):(this.timePicker&&(o=this._getDateWithTime(o,Fs.right)),!0===o.isBefore(this.startDate,"day")&&!0===this.customRangeDirection?(this.setEndDate(this.startDate),this.setStartDate(o.clone())):this.setEndDate(o.clone()),this.autoApply&&this.calculateChosenLabel()),this.singleDatePicker&&(this.setEndDate(this.startDate),this.updateElement(),this.autoApply&&this.clickApply()),this.updateView(),this.autoApply&&this.startDate&&this.endDate&&this.clickApply(),t.stopPropagation()}clickRange(t,n){if(this.chosenRange=n,n===this.locale.customRangeLabel)this.isShown=!0,this.showCalInRanges=!0;else{const r=this.ranges[n];if(this.startDate=r[0].clone(),this.endDate=r[1].clone(),this.showRangeLabelOnInput&&n!==this.locale.customRangeLabel?this.chosenLabel=n:this.calculateChosenLabel(),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||(this.isShown=!1),this.rangeClicked.emit({label:n,dates:r}),!this.keepCalendarOpeningWithRange||this.autoApply)this.clickApply();else{if(!this.alwaysShowCalendars)return this.clickApply();if(this.maxDate&&this.maxDate.isSame(r[0],"month"))this.rightCalendar.month.month(r[0].month()),this.rightCalendar.month.year(r[0].year()),this.leftCalendar.month.month(r[0].month()-1),this.leftCalendar.month.year(r[1].year());else{this.leftCalendar.month.month(r[0].month()),this.leftCalendar.month.year(r[0].year());const i=r[0].clone().add(1,"month");this.rightCalendar.month.month(i.month()),this.rightCalendar.month.year(i.year())}this.updateCalendars(),this.timePicker&&(this.renderTimePicker(Fs.left),this.renderTimePicker(Fs.right))}}}show(t){this.isShown||(this._old.start=this.startDate.clone(),this._old.end=this.endDate.clone(),this.isShown=!0,this.updateView())}hide(t){!this.isShown||(this.endDate||(this._old.start&&(this.startDate=this._old.start.clone()),this._old.end&&(this.endDate=this._old.end.clone())),!this.startDate.isSame(this._old.start)||this.endDate.isSame(this._old.end),this.updateElement(),this.isShown=!1,this._ref.detectChanges())}handleInternalClick(t){t.stopPropagation()}updateLocale(t){for(const n in t)t.hasOwnProperty(n)&&(this.locale[n]=t[n],"customRangeLabel"===n&&this.renderRanges())}clear(){this.startDate=ml().startOf("day"),this.endDate=ml().endOf("day"),this.choosedDate.emit({chosenLabel:"",startDate:null,endDate:null}),this.datesUpdated.emit({startDate:null,endDate:null}),this.hide()}disableRange(t){if(t===this.locale.customRangeLabel)return!1;const n=this.ranges[t],r=n.every(o=>!!this.minDate&&o.isBefore(this.minDate)),i=n.every(o=>!!this.maxDate&&o.isAfter(this.maxDate));return r||i}_getDateWithTime(t,n){let r=parseInt(this.timepickerVariables[n].selectedHour,10);if(!this.timePicker24Hour){const f=this.timepickerVariables[n].ampmModel;"PM"===f&&r<12&&(r+=12),"AM"===f&&12===r&&(r=0)}const i=parseInt(this.timepickerVariables[n].selectedMinute,10),o=this.timePickerSeconds?parseInt(this.timepickerVariables[n].selectedSecond,10):0;return t.clone().hour(r).minute(i).second(o)}_buildLocale(){this.locale=Object.assign({},this._localeService.config,this.locale),this.locale.format||(this.locale.format=this.timePicker?ml.localeData().longDateFormat("lll"):ml.localeData().longDateFormat("L"))}_buildCells(t,n){for(let r=0;r<6;r++){this.calendarVariables[n].classes[r]={};const i=[];this.emptyWeekRowClass&&Array.from(Array(7).keys()).some(o=>t[r][o].month()!==this.calendarVariables[n].month)&&i.push(this.emptyWeekRowClass);for(let o=0;o<7;o++){const f=[];this.emptyWeekColumnClass&&t[r][o].month()!==this.calendarVariables[n].month&&f.push(this.emptyWeekColumnClass),t[r][o].isSame(new Date,"day")&&f.push("today"),t[r][o].isoWeekday()>5&&f.push("weekend"),t[r][o].month()!==t[1][1].month()&&(f.push("off"),this.lastDayOfPreviousMonthClass&&(t[r][o].month()<t[1][1].month()||0===t[1][1].month())&&t[r][o].date()===this.calendarVariables[n].daysInLastMonth&&f.push(this.lastDayOfPreviousMonthClass),this.firstDayOfNextMonthClass&&(t[r][o].month()>t[1][1].month()||0===t[r][o].month())&&1===t[r][o].date()&&f.push(this.firstDayOfNextMonthClass)),this.firstMonthDayClass&&t[r][o].month()===t[1][1].month()&&t[r][o].date()===t.firstDay.date()&&f.push(this.firstMonthDayClass),this.lastMonthDayClass&&t[r][o].month()===t[1][1].month()&&t[r][o].date()===t.lastDay.date()&&f.push(this.lastMonthDayClass),this.minDate&&t[r][o].isBefore(this.minDate,"day")&&f.push("off","disabled"),this.calendarVariables[n].maxDate&&t[r][o].isAfter(this.calendarVariables[n].maxDate,"day")&&f.push("off","disabled"),this.isInvalidDate(t[r][o])&&f.push("off","disabled","invalid"),this.startDate&&t[r][o].format("YYYY-MM-DD")===this.startDate.format("YYYY-MM-DD")&&f.push("active","start-date"),null!=this.endDate&&t[r][o].format("YYYY-MM-DD")===this.endDate.format("YYYY-MM-DD")&&f.push("active","end-date"),(null!=this.nowHoveredDate&&this.pickingDate||null!=this.endDate)&&t[r][o]>this.startDate&&(t[r][o]<this.endDate||t[r][o]<this.nowHoveredDate&&this.pickingDate)&&!f.find(A=>"off"===A)&&f.push("in-range");const _=this.isCustomDate(t[r][o]);!1!==_&&("string"==typeof _?f.push(_):Array.prototype.push.apply(f,_));const x=this.isTooltipDate(t[r][o]);this.tooltiptext[t[r][o]]=x?"string"==typeof x?x:"Put the tooltip as the returned value of isTooltipDate":"";let b="",T=!1;for(let A=0;A<f.length;A++)b+=f[A]+" ","disabled"===f[A]&&(T=!0);T||(b+="available"),this.calendarVariables[n].classes[r][o]=b.replace(/^\s+|\s+$/g,"")}this.calendarVariables[n].classes[r].classList=i.join(" ")}}hasCurrentMonthDays(t,n){for(let r=0;r<7;r++)if(n[r].month()===t)return!0;return!1}};var oA;si.\u0275fac=function(t){return new(t||si)(yn(xu),yn(Lp),yn(Eg))},si.\u0275cmp=vr({type:si,selectors:[["ngx-daterangepicker-material"]],viewQuery:function(t,n){if(1&t&&hT(gH,5),2&t){let r;f0(r=function p0(){return function xN(e,t){return e[19].queries[t].queryList}(un(),ku())}())&&(n.pickerContainer=r.first)}},hostBindings:function(t,n){1&t&&Cr("click",function(i){return n.handleInternalClick(i)})},inputs:{startDate:"startDate",endDate:"endDate",dateLimit:"dateLimit",minDate:"minDate",maxDate:"maxDate",autoApply:"autoApply",singleDatePicker:"singleDatePicker",showDropdowns:"showDropdowns",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",linkedCalendars:"linkedCalendars",autoUpdateInput:"autoUpdateInput",alwaysShowCalendars:"alwaysShowCalendars",maxSpan:"maxSpan",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",showClearButton:"showClearButton",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",showCancel:"showCancel",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",customRangeDirection:"customRangeDirection",closeOnAutoApply:"closeOnAutoApply",locale:"locale",ranges:"ranges",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate",showCustomRangeLabel:"showCustomRangeLabel",drops:"drops",opens:"opens"},outputs:{choosedDate:"choosedDate",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged"},features:[Pa([{provide:Eh,useExisting:Wn(()=>sA),multi:!0}])],decls:8,vars:15,consts:[[1,"md-drppicker",3,"ngClass"],["pickerContainer",""],[1,"ranges"],[4,"ngFor","ngForOf"],["class","calendar",3,"ngClass",4,"ngIf"],["class","calendar right",4,"ngIf"],["class","buttons",4,"ngIf"],["type","button",3,"disabled","ngClass","click"],[1,"calendar",3,"ngClass"],[1,"calendar-table"],["class","table-condensed",4,"ngIf"],["class","calendar-time",4,"ngIf"],[1,"table-condensed"],[4,"ngIf"],["colspan","5",1,"month","drp-animate"],[1,"week-days"],["class","week",4,"ngIf"],[1,"drp-animate"],[3,"class",4,"ngFor","ngForOf"],[1,"prev","available",3,"click"],[1,"dropdowns"],[1,"monthselect",3,"change"],[3,"disabled","value","selected",4,"ngFor","ngForOf"],[1,"yearselect",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[3,"disabled","value","selected"],[3,"selected"],[1,"next","available",3,"click"],[1,"week"],[3,"class","click","mouseenter",4,"ngFor","ngForOf"],[3,"click","mouseenter"],[1,"calendar-time"],[1,"select"],[1,"hourselect","select-item",3,"disabled","ngModel","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"select-item","minuteselect",3,"disabled","ngModel","ngModelChange"],[1,"select-highlight"],[1,"select-bar"],["class","select-item secondselect",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["class","select-item ampmselect",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value","disabled"],[1,"select-item","secondselect",3,"disabled","ngModel","ngModelChange"],[1,"select-item","ampmselect",3,"ngModel","ngModelChange"],["value","AM",3,"disabled"],["value","PM",3,"disabled"],[1,"calendar","right"],["colspan","5",1,"month"],[1,"select-item","hourselect",3,"disabled","ngModel","ngModelChange"],[1,"buttons"],[1,"buttons_input"],["class","btn btn-default clear","type","button",3,"title","click",4,"ngIf"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","button",1,"btn",3,"disabled","click"],["type","button",1,"btn","btn-default","clear",3,"title","click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 -5 24 24"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,n){1&t&&(ze(0,"div",0,1),ze(2,"div",2),ze(3,"ul"),cr(4,yH,3,5,"li",3),Be(),Be(),cr(5,VH,4,6,"div",4),cr(6,h8,4,2,"div",5),cr(7,p8,6,4,"div",6),Be()),2&t&&(ic("drops-"+n.drops+"-"+n.opens),bn("ngClass",eT(7,m8,"ltr"===n.locale.direction,"rtl"===n.locale.direction,n.isShown||n.inline,!n.isShown&&!n.inline,n.inline,!n.singleDatePicker&&n.showCalInRanges,n.rangesArray.length)),$t(4),bn("ngForOf",n.rangesArray),$t(1),bn("ngIf",n.showCalInRanges),$t(1),bn("ngIf",n.showCalInRanges&&!n.singleDatePicker),$t(1),bn("ngIf",!n.autoApply&&(!n.rangesArray.length||n.showCalInRanges&&!n.singleDatePicker)))},directives:[yS,ng,md,$b,Xb,ly,Vf,Zd],styles:[".md-drppicker{position:absolute;font-family:Roboto,sans-serif;color:inherit;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:14px;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.16),0 2px 8px 0 rgba(0,0,0,.12)}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:after,.md-drppicker:before{position:absolute;display:inline-block;border-bottom-color:rgba(0,0,0,.2);content:''}.md-drppicker.openscenter:after,.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .calendar,.md-drppicker.single .ranges{float:none}.md-drppicker.shown{transform:scale(1);transition:.1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:NaN}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:.1s;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:NaN}.md-drppicker.hidden.drops-up-center{transform-origin:50%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar td,.md-drppicker .calendar th{padding:0;white-space:nowrap;text-align:center;min-width:32px}.md-drppicker .calendar td span,.md-drppicker .calendar th span{pointer-events:none}.md-drppicker .calendar-table{border:1px solid #fff;padding:4px;border-radius:4px;background-color:#fff}.md-drppicker table{width:100%;margin:0}.md-drppicker th{color:#988c8c}.md-drppicker td,.md-drppicker th{text-align:center;border-radius:4px;border:1px solid transparent;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-color:#eee;border-color:transparent;color:inherit;background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:450ms cubic-bezier(.23,1,.32,1)}.md-drppicker td.week,.md-drppicker th.week{font-size:80%;color:#ccc}.md-drppicker td{margin:.25em 0;opacity:.8;transition:450ms cubic-bezier(.23,1,.32,1);border-radius:2em;transform:scale(1)}.md-drppicker td.off,.md-drppicker td.off.end-date,.md-drppicker td.off.in-range,.md-drppicker td.off.start-date{background-color:#fff;border-color:transparent;color:#999}.md-drppicker td.in-range{background-color:#dde2e4;border-color:transparent;color:#000;border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker td.active{transition:background .3s ease-out;background:rgba(0,0,0,.1)}.md-drppicker td.active,.md-drppicker td.active:hover{background-color:#3f51b5;border-color:transparent;color:#fff}.md-drppicker th.month{width:auto}.md-drppicker option.disabled,.md-drppicker td.disabled{color:#999;cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.md-drppicker .dropdowns select{display:inline-block;background-color:rgba(255,255,255,.9);width:100%;padding:5px;border:1px solid #f2f2f2;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.ampmselect,.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect{width:50px;margin:0 auto;background:#eee;border:1px solid #eee;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;height:auto;cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom:1px solid rgba(0,0,0,.12)}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:'';border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:0}.md-drppicker .calendar-time .select .select-item .select-label{color:rgba(0,0,0,.26);font-size:16px;font-weight:400;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s}.md-drppicker .calendar-time select.disabled{color:#ccc;cursor:not-allowed}.md-drppicker .label-input{border:1px solid #ccc;border-radius:4px;color:#555;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border:1px solid #08c;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left:1px solid #ddd}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:0 0;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button.active{background-color:#3f51b5;color:#fff}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:0 0}.md-drppicker .ranges ul li:hover{background-color:#eee}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:0;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px rgba(0,0,0,.6);background-color:#3f51b5;color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn:focus,.md-drppicker .btn:hover{background-color:#3f51b5}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:\"\";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:rgba(236,240,241,.3);transform:translate(-50%,-50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .btn.btn-default{color:#000;background-color:#dcdcdc}.md-drppicker .clear{box-shadow:none;background-color:#fff!important}.md-drppicker .clear svg{color:#eb3232;fill:currentColor}@media (min-width:564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;padding-right:12px}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input,.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar,.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .calendar.left .calendar-table,.md-drppicker.rtl .left .md-drppicker_input{padding-left:12px}.md-drppicker.rtl .calendar,.md-drppicker.rtl .ranges{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s,opacity .2s}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translateX(10%);opacity:0}.drp-animate.drp-animate-left{transform:translateX(-10%);opacity:0}}@media (min-width:730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none!important}}"],encapsulation:2}),si.ctorParameters=()=>[{type:xu},{type:Lp},{type:Eg}],jn([tr()],si.prototype,"startDate",void 0),jn([tr()],si.prototype,"endDate",void 0),jn([tr()],si.prototype,"dateLimit",void 0),jn([tr()],si.prototype,"minDate",void 0),jn([tr()],si.prototype,"maxDate",void 0),jn([tr()],si.prototype,"autoApply",void 0),jn([tr()],si.prototype,"singleDatePicker",void 0),jn([tr()],si.prototype,"showDropdowns",void 0),jn([tr()],si.prototype,"showWeekNumbers",void 0),jn([tr()],si.prototype,"showISOWeekNumbers",void 0),jn([tr()],si.prototype,"linkedCalendars",void 0),jn([tr()],si.prototype,"autoUpdateInput",void 0),jn([tr()],si.prototype,"alwaysShowCalendars",void 0),jn([tr()],si.prototype,"maxSpan",void 0),jn([tr()],si.prototype,"lockStartDate",void 0),jn([tr()],si.prototype,"timePicker",void 0),jn([tr()],si.prototype,"timePicker24Hour",void 0),jn([tr()],si.prototype,"timePickerIncrement",void 0),jn([tr()],si.prototype,"timePickerSeconds",void 0),jn([tr()],si.prototype,"showClearButton",void 0),jn([tr()],si.prototype,"firstMonthDayClass",void 0),jn([tr()],si.prototype,"lastMonthDayClass",void 0),jn([tr()],si.prototype,"emptyWeekRowClass",void 0),jn([tr()],si.prototype,"emptyWeekColumnClass",void 0),jn([tr()],si.prototype,"firstDayOfNextMonthClass",void 0),jn([tr()],si.prototype,"lastDayOfPreviousMonthClass",void 0),jn([tr()],si.prototype,"locale",null),jn([tr()],si.prototype,"ranges",null),jn([tr()],si.prototype,"showCustomRangeLabel",void 0),jn([tr()],si.prototype,"showCancel",void 0),jn([tr()],si.prototype,"keepCalendarOpeningWithRange",void 0),jn([tr()],si.prototype,"showRangeLabelOnInput",void 0),jn([tr()],si.prototype,"customRangeDirection",void 0),jn([tr()],si.prototype,"drops",void 0),jn([tr()],si.prototype,"opens",void 0),jn([tr()],si.prototype,"closeOnAutoApply",void 0),jn([fd()],si.prototype,"choosedDate",void 0),jn([fd()],si.prototype,"rangeClicked",void 0),jn([fd()],si.prototype,"datesUpdated",void 0),jn([fd()],si.prototype,"startDateChanged",void 0),jn([fd()],si.prototype,"endDateChanged",void 0),jn([Kh("pickerContainer")],si.prototype,"pickerContainer",void 0),jn([tr()],si.prototype,"isInvalidDate",null),jn([tr()],si.prototype,"isCustomDate",null),jn([tr()],si.prototype,"isTooltipDate",null);const HD=Hp;let ui=oA=class{constructor(t,n,r,i,o,f,_,x){this.viewContainerRef=t,this._changeDetectorRef=n,this._componentFactoryResolver=r,this._el=i,this._renderer=o,this.differs=f,this._localeService=_,this.elementRef=x,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this.dateLimit=null,this.showCancel=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.closeOnAutoApply=!0,this._locale={},this._endKey="endDate",this._startKey="startDate",this.notForChangesProperty=["locale","endKey","startKey"],this.onChange=new bo,this.rangeClicked=new bo,this.datesUpdated=new bo,this.startDateChanged=new bo,this.endDateChanged=new bo,this.drops="down",this.opens="auto";const b=this._componentFactoryResolver.resolveComponentFactory(si);t.clear();const T=t.createComponent(b);this.picker=T.instance,this.picker.inline=!1}set locale(t){this._locale=Object.assign({},this._localeService.config,t)}get locale(){return this._locale}set startKey(t){this._startKey=null!==t?t:"startDate"}set endKey(t){this._endKey=null!==t?t:"endDate"}get value(){return this._value||null}set value(t){this._value=t,this._onChange(t),this._changeDetectorRef.markForCheck()}get disabled(){return this._disabled}ngOnInit(){this.picker.startDateChanged.asObservable().subscribe(t=>{this.startDateChanged.emit(t)}),this.picker.endDateChanged.asObservable().subscribe(t=>{this.endDateChanged.emit(t)}),this.picker.rangeClicked.asObservable().subscribe(t=>{this.rangeClicked.emit(t)}),this.picker.datesUpdated.asObservable().subscribe(t=>{this.datesUpdated.emit(t)}),this.picker.choosedDate.asObservable().subscribe(t=>{if(t){const n={};n[this._startKey]=t.startDate,n[this._endKey]=t.endDate,this.value=n,this.onChange.emit(n),"string"==typeof t.chosenLabel&&(this._el.nativeElement.value=t.chosenLabel)}}),this.picker.firstMonthDayClass=this.firstMonthDayClass,this.picker.lastMonthDayClass=this.lastMonthDayClass,this.picker.emptyWeekRowClass=this.emptyWeekRowClass,this.picker.emptyWeekColumnClass=this.emptyWeekColumnClass,this.picker.firstDayOfNextMonthClass=this.firstDayOfNextMonthClass,this.picker.lastDayOfPreviousMonthClass=this.lastDayOfPreviousMonthClass,this.picker.drops=this.drops,this.picker.opens=this.opens,this.localeDiffer=this.differs.find(this.locale).create(),this.picker.closeOnAutoApply=this.closeOnAutoApply}ngOnChanges(t){for(const n in t)t.hasOwnProperty(n)&&-1===this.notForChangesProperty.indexOf(n)&&(this.picker[n]=t[n].currentValue)}ngDoCheck(){this.localeDiffer&&this.localeDiffer.diff(this.locale)&&this.picker.updateLocale(this.locale)}onBlur(){this._onTouched()}open(t){this.disabled||(this.picker.show(t),setTimeout(()=>{this.setPosition()}))}hide(t){this.picker.hide(t)}toggle(t){this.picker.isShown?this.hide(t):this.open(t)}clear(){this.picker.clear()}writeValue(t){this.setValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t}setValue(t){t?(this.value=t,t[this._startKey]&&this.picker.setStartDate(t[this._startKey]),t[this._endKey]&&this.picker.setEndDate(t[this._endKey]),this.picker.calculateChosenLabel(),this.picker.chosenLabel&&(this._el.nativeElement.value=this.picker.chosenLabel)):this.picker.clear()}setPosition(){let t,n;const r=this.picker.pickerContainer.nativeElement,i=this._el.nativeElement;if(n=this.drops&&"up"===this.drops?i.offsetTop-r.clientHeight+"px":"auto","left"===this.opens)t={top:n,left:i.offsetLeft-r.clientWidth+i.clientWidth+"px",right:"auto"};else if("center"===this.opens)t={top:n,left:i.offsetLeft+i.clientWidth/2-r.clientWidth/2+"px",right:"auto"};else if("right"===this.opens)t={top:n,left:i.offsetLeft+"px",right:"auto"};else{const o=i.offsetLeft+i.clientWidth/2-r.clientWidth/2;t=o<0?{top:n,left:i.offsetLeft+"px",right:"auto"}:{top:n,left:o+"px",right:"auto"}}t&&(this._renderer.setStyle(r,"top",t.top),this._renderer.setStyle(r,"left",t.left),this._renderer.setStyle(r,"right",t.right))}inputChanged(t){if("input"!==t.target.tagName.toLowerCase()||!t.target.value.length)return;const n=t.target.value.split(this.picker.locale.separator);let r=null,i=null;2===n.length&&(r=HD(n[0],this.picker.locale.format),i=HD(n[1],this.picker.locale.format)),(this.singleDatePicker||null===r||null===i)&&(r=HD(t.target.value,this.picker.locale.format),i=r),r.isValid()&&i.isValid()&&(this.picker.setStartDate(r),this.picker.setEndDate(i),this.picker.updateView())}outsideClick(t){!t.target||t.target.classList.contains("ngx-daterangepicker-action")||this.elementRef.nativeElement.contains(t.target)||this.hide()}};var aA;ui.\u0275fac=function(t){return new(t||ui)(yn(th),yn(Lp),yn(Rf),yn(xu),yn(Vh),yn(Ff),yn(Eg),yn(xu))},ui.\u0275dir=Hn({type:ui,selectors:[["input","ngxDaterangepickerMd",""]],hostVars:1,hostBindings:function(t,n){1&t&&Cr("keyup.esc",function(){return n.hide()})("blur",function(){return n.onBlur()})("click",function(){return n.open()})("keyup",function(i){return n.inputChanged(i)})("click",function(i){return n.outsideClick(i)},!1,wf),2&t&&Ew("disabled",n.disabled)},inputs:{dateLimit:"dateLimit",showCancel:"showCancel",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",closeOnAutoApply:"closeOnAutoApply",_endKey:"_endKey",drops:"drops",opens:"opens",locale:"locale",startKey:"startKey",endKey:"endKey",minDate:"minDate",maxDate:"maxDate",autoApply:"autoApply",alwaysShowCalendars:"alwaysShowCalendars",showCustomRangeLabel:"showCustomRangeLabel",linkedCalendars:"linkedCalendars",singleDatePicker:"singleDatePicker",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",showDropdowns:"showDropdowns",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate",showClearButton:"showClearButton",customRangeDirection:"customRangeDirection",ranges:"ranges",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput"},outputs:{onChange:"change",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged"},features:[Pa([{provide:Eh,useExisting:Wn(()=>oA),multi:!0}]),qi]}),ui.ctorParameters=()=>[{type:th},{type:Lp},{type:Rf},{type:xu},{type:Vh},{type:Ff},{type:Eg},{type:xu}],jn([tr()],ui.prototype,"minDate",void 0),jn([tr()],ui.prototype,"maxDate",void 0),jn([tr()],ui.prototype,"autoApply",void 0),jn([tr()],ui.prototype,"alwaysShowCalendars",void 0),jn([tr()],ui.prototype,"showCustomRangeLabel",void 0),jn([tr()],ui.prototype,"linkedCalendars",void 0),jn([tr()],ui.prototype,"dateLimit",void 0),jn([tr()],ui.prototype,"singleDatePicker",void 0),jn([tr()],ui.prototype,"showWeekNumbers",void 0),jn([tr()],ui.prototype,"showISOWeekNumbers",void 0),jn([tr()],ui.prototype,"showDropdowns",void 0),jn([tr()],ui.prototype,"isInvalidDate",void 0),jn([tr()],ui.prototype,"isCustomDate",void 0),jn([tr()],ui.prototype,"isTooltipDate",void 0),jn([tr()],ui.prototype,"showClearButton",void 0),jn([tr()],ui.prototype,"customRangeDirection",void 0),jn([tr()],ui.prototype,"ranges",void 0),jn([tr()],ui.prototype,"opens",void 0),jn([tr()],ui.prototype,"drops",void 0),jn([tr()],ui.prototype,"lastMonthDayClass",void 0),jn([tr()],ui.prototype,"emptyWeekRowClass",void 0),jn([tr()],ui.prototype,"emptyWeekColumnClass",void 0),jn([tr()],ui.prototype,"firstDayOfNextMonthClass",void 0),jn([tr()],ui.prototype,"lastDayOfPreviousMonthClass",void 0),jn([tr()],ui.prototype,"keepCalendarOpeningWithRange",void 0),jn([tr()],ui.prototype,"showRangeLabelOnInput",void 0),jn([tr()],ui.prototype,"showCancel",void 0),jn([tr()],ui.prototype,"lockStartDate",void 0),jn([tr()],ui.prototype,"timePicker",void 0),jn([tr()],ui.prototype,"timePicker24Hour",void 0),jn([tr()],ui.prototype,"timePickerIncrement",void 0),jn([tr()],ui.prototype,"timePickerSeconds",void 0),jn([tr()],ui.prototype,"closeOnAutoApply",void 0),jn([tr()],ui.prototype,"locale",null),jn([tr()],ui.prototype,"_endKey",void 0),jn([tr()],ui.prototype,"startKey",null),jn([tr()],ui.prototype,"endKey",null),jn([fd("change")],ui.prototype,"onChange",void 0),jn([fd("rangeClicked")],ui.prototype,"rangeClicked",void 0),jn([fd("datesUpdated")],ui.prototype,"datesUpdated",void 0),jn([fd()],ui.prototype,"startDateChanged",void 0),jn([fd()],ui.prototype,"endDateChanged",void 0),jn([zN("disabled")],ui.prototype,"disabled",null),jn([BN("document:click",["$event"])],ui.prototype,"outsideClick",null);let Cg=aA=class{constructor(){}static forRoot(t={}){return{ngModule:aA,providers:[{provide:ix,useValue:t},{provide:Eg,useClass:Eg,deps:[ix]}]}}};function g8(e,t){if(1&e&&(ze(0,"option",31),Mn(1),Be()),2&e){const n=t.$implicit;bw("value",n.category),$t(1),Os(n.category)}}function _8(e,t){1&e&&(ze(0,"option"),Mn(1,"Categories Not Found! "),Be())}function y8(e,t){1&e&&(ze(0,"h1",32),Mn(1,"Upcoming Events"),Be())}Cg.\u0275fac=function(t){return new(t||Cg)},Cg.\u0275mod=ca({type:Cg}),Cg.\u0275inj=ea({providers:[],imports:[[wb,UL,z4]]});const v8=function(e){return[e]};function x8(e,t){if(1&e&&(ze(0,"div",33),ze(1,"a",34),ze(2,"div",35),ze(3,"span",36),Mn(4),Be(),ze(5,"span",37),ze(6,"a",38),er(7,"i",39),Be(),Be(),er(8,"img",40),Be(),Be(),ze(9,"div",41),ze(10,"h2",42),Mn(11),Be(),ze(12,"div",1),ze(13,"div",43),ze(14,"h6",44),ze(15,"small"),Mn(16,"Category :"),Be(),Mn(17),Be(),Be(),ze(18,"div",45),ze(19,"h6",44),er(20,"small"),Mn(21),Be(),Be(),Be(),ze(22,"div",1),ze(23,"div",43),ze(24,"h6",44),ze(25,"small"),Mn(26,"Status :"),Be(),Be(),Be(),ze(27,"div",45),ze(28,"span",46),Mn(29),Be(),Be(),Be(),ze(30,"div",47),ze(31,"h6",48),et(),ze(32,"svg",49),er(33,"path",50),Be(),Mn(34),Be(),Be(),Be(),Be()),2&e){const n=t.$implicit,r=Fn();$t(1),bn("href",h0(8,v8,n.url),Yd),$t(3),zl(" ",r.moment(n.date).format("ll"),""),$t(7),Os(n.name),$t(6),zl(" ",n.category,""),$t(4),$m(" ",r.moment(n.start_time,"HH:mm").format("LT")," to ",r.moment(n.end_time,"HH:mm").format("LT"),""),$t(8),zl(" ",n.status,""),$t(5),zl(" ",n.place_name," ")}}const w8=function(){return{applyLabel:"ok"}};function M8(e,t){1&e&&(ze(0,"div",13),ze(1,"h2",14),Mn(2,"Interest"),Be(),Be())}function D8(e,t){if(1&e&&(ze(0,"span",15),Mn(1),Be()),2&e){const n=t.$implicit;$t(1),Os(n)}}function T8(e,t){if(1&e&&(ze(0,"span",20),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.name)}}function S8(e,t){if(1&e&&(ze(0,"span",20),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.email)}}function k8(e,t){if(1&e&&(ze(0,"span",20),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.oldpassword)}}function I8(e,t){if(1&e&&(ze(0,"span",20),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.password)}}function A8(e,t){1&e&&(ze(0,"div",6),ze(1,"p"),Mn(2,"You can add events from https://popuplive.net, Already added events can view here."),Be(),ze(3,"a",7),Mn(4,"Add Event"),Be(),Be()),2&e&&($t(3),bn("href","https://popuplive.net",Yd))}const O8=function(e){return[e]};function R8(e,t){if(1&e&&(ze(0,"div",8),ze(1,"a",9),ze(2,"div",10),ze(3,"span",11),Mn(4),Be(),ze(5,"span",12),ze(6,"a",13),er(7,"i",14),Be(),Be(),er(8,"img",15),Be(),Be(),ze(9,"div",16),ze(10,"h2",17),Mn(11),Be(),ze(12,"div",18),ze(13,"div",19),ze(14,"h6",20),ze(15,"small"),Mn(16,"Category :"),Be(),Mn(17),Be(),Be(),ze(18,"div",21),ze(19,"h6",20),er(20,"small"),Mn(21),Be(),Be(),Be(),ze(22,"div",18),ze(23,"div",19),ze(24,"h6",20),ze(25,"small"),Mn(26,"Status :"),Be(),Be(),Be(),ze(27,"div",21),ze(28,"span",22),Mn(29),Be(),Be(),Be(),ze(30,"div",23),ze(31,"h6",24),et(),ze(32,"svg",25),er(33,"path",26),Be(),Mn(34),Be(),Be(),Be(),Be()),2&e){const n=t.$implicit,r=Fn();$t(1),bn("href",h0(8,O8,n.url),Yd),$t(3),zl(" ",r.moment(n.date).format("ll"),""),$t(7),Os(n.name),$t(6),zl(" ",n.category,""),$t(4),$m(" ",r.moment(n.start_time,"HH:mm").format("LT")," to ",r.moment(n.end_time,"HH:mm").format("LT"),""),$t(8),zl(" ",n.status,""),$t(5),zl(" ",n.place_name," ")}}function F8(e,t){if(1&e&&(ze(0,"span",14),Mn(1),Be()),2&e){const n=Fn();$t(1),Os(n.errors.otp)}}const Y8=[{path:"",component:x5},{path:"register",component:C5},{path:"dashboard",component:(()=>{class e extends Kd{constructor(n,r,i,o){var f;super(),f=this,this.document=n,this.accountService=r,this.router=i,this.eventService=o,this.filter=new hH,this.markers=[],this.selectedRadius=5,this.selectedRadiusUnit="miles",this.moment=Hp,this.loadcurrentLocation=(0,T5.Z)(function*(){const _=yield fH.getCurrentPosition();f.current_lat=_.coords.latitude,f.current_lng=_.coords.longitude}),this.document=n}applyFilter(){this.appliedRadius="meters"==this.selectedRadiusUnit?1e3*this.selectedRadius:this.selectedRadius;let n=this.makeRadius(this.geoLocateCenter,this.appliedRadius);this.map.getSource("search-radius").setData(n),this.filter.start_date=Hp(this.dateRange.startDate).format("l"),this.filter.end_date=Hp(this.dateRange.endDate).format("l"),(null!=this.filter.category||"Invalid date"!=this.filter.start_date||"Invalid date"!=this.filter.end_date)&&this.eventService.filterEvents(this.filter).subscribe(i=>{this.events=i.records,console.log(this.events),this.renderEventsOnMap()},i=>console.log(i))}renderEventsOnMap(){var n;if(null===(n=this.markers)||void 0===n||n.forEach(r=>r.remove()),null!=this.events)for(const r of this.events){const i=document.createElement("div");i.className="marker";let _={geometry:{type:"Point",coordinates:{lng:r.place_latlng.split(",")[0],lat:r.place_latlng.split(",")[1]}}};const x=new d1.Marker(i).setLngLat(_.geometry.coordinates).setPopup(new d1.Popup({offset:25}).setHTML(`<a target="_blank" href="${r.url}" style="text-decoration:none; z-index:1000!important;"><div class="mapboxgl-popup-content">\n                <h6 class="text-center mx-auto" style="color:#dc3545;">Events Details</h6>\n                <strong>Category : ${r.category}</strong>\n                <h5 class="m-top" style="margin-top:10px;">${r.name}</h5>\n                <div style="padding-top:10px;">\n               <h6 style="color:gray;">Happening On - <strong style="font-weight:200;">${r.date}</strong> <br> <strong style="font-weight:200;">${r.start_time} - ${r.end_time} </strong></h6>\n                </div>\n                </a>\n                <a target="_blank" href="${r.url}" class="btn bg-primary text-light btn-sm p-2 m-2 ">Buy Ticket</a>`)).addTo(this.map);this.markers.push(x)}}ngOnInit(){var n,r;this.loadcurrentLocation(),this.eventService.showEvents().subscribe(b=>{this.events=b.records},b=>this.handleException(b)),this.eventService.showCategories().subscribe(b=>{this.categories=b.records},b=>this.handleException(b)),this.map=new d1.Map({container:"map",style:"mapbox://styles/mapbox/outdoors-v11",zoom:2,center:[0,0],accessToken:"pk.eyJ1IjoicmF2ZXdpemFyZHMiLCJhIjoiY2t3YTQxMXdmMmg3MDJ3cGRtcnpoY3ZycSJ9.eVEp1YFYNMKLiK_v43UF3w"});var i=new S5({accessToken:"pk.eyJ1IjoicmF2ZXdpemFyZHMiLCJhIjoiY2t3YTQxMXdmMmg3MDJ3cGRtcnpoY3ZycSJ9.eVEp1YFYNMKLiK_v43UF3w"});this.map.addControl(i),null===(n=this.document.getElementById("geocoder"))||void 0===n||n.appendChild(i.onAdd(this.map));const o=this;i.on("result",function(b){o.geoLocateCenter=b.result.center;let T=o.makeRadius(o.geoLocateCenter,o.selectedRadius);o.map.getSource("search-radius").setData(T)});let f=new d1.GeolocateControl({positionOptions:{enableHighAccuracy:!1},trackUserLocation:!0});o.map.addControl(f),null===(r=this.document.getElementById("geolocate"))||void 0===r||r.appendChild(f.onAdd(o.map)),o.map.on("load",function(){f.trigger()}),f.on("geolocate",function _(b){o.geoLocateCenter=[o.current_lng,o.current_lat];let T=o.makeRadius(o.geoLocateCenter,o.selectedRadius);o.map.getSource("search-radius").setData(T)}),o.map.on("load",function(){o.renderEventsOnMap(),o.map.addLayer({id:"search-radius",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}},type:"fill",paint:{"fill-color":"#F60038","fill-opacity":.2}})})}makeRadius(n,r){return function iH(e,t,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(e.type){case"GeometryCollection":return p1(e,function(f){var _=nx(f,t,r,i);_&&o.push(_)}),fg(o);case"FeatureCollection":return PM(e,function(f){var _=nx(f,t,r,i);_&&PM(_,function(x){x&&o.push(x)})}),fg(o)}return nx(e,t,r,i)}(dg(n),r,{units:this.selectedRadiusUnit})}}return e.\u0275fac=function(n){return new(n||e)(yn(Oc),yn(Wf),yn(jl),yn(tA))},e.\u0275cmp=vr({type:e,selectors:[["app-dashboard"]],features:[Zs],decls:58,vars:10,consts:[[1,"container","my-3"],[1,"row"],[1,"col-lg-11","col-md-9","col-10","p-1"],[1,"text-muted"],["id","geocoder",0,"wire","ignore","",1,"geocoder"],[0,"wire","ignore","",1,"col-lg-1","col-md-3","col-2","p-1","mt-4"],["id","geolocate",1,"shadow"],[1,"col-12"],[1,"mt-2","mb-0"],[1,"col-lg-3","col-md-3","col-6","p-1"],[1,"shadow","rounded"],["type","text","ngxDaterangepickerMd","","placeholder","Select Date Range",1,"form-control","form-control-compact",3,"ngModel","locale","ngModelChange"],[1,"form-control","form-control-select","border-0","rounded","text-muted","h-100","text-capitalize",3,"ngModel","change","ngModelChange"],["value","null","ng-selected",""],["class","text-capitalize",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-lg-2","col-md-3","col-6","p-1"],["value","1","ng-selected",""],["value","5"],["value","10"],["value","20"],[1,"col-lg-2","col-md-2","col-6","p-1"],["value","miles"],["value","meters"],[1,"map_wrapper"],[1,"col-12","shadow","p-0"],["id","map",1,"container"],[1,"event_wrapper"],["class","mt-3 ",4,"ngIf"],[1,"scrolling-wrapper"],["class","card shadow-sm pt-1 pb-3 px-0 mb-3 mb-sm-3","id","ads",4,"ngFor","ngForOf"],[1,"text-capitalize",3,"value"],[1,"mt-3"],["id","ads",1,"card","shadow-sm","pt-1","pb-3","px-0","mb-3","mb-sm-3"],["target","_blank",3,"href"],[1,"card-image"],[1,"card-notify-badge"],[1,"card-notify-year"],["href",""],[1,"fa-regular","fa-bookmark"],["src","assets/images/image 84.png","alt","Card image cap",1,"card-img-top","img-fluid"],[1,"card-body"],[1,"card-title"],[1,"col-6"],[1,"going"],[1,"col-6","p-0","m-0"],[1,"badge","rounded-pill","bg-success"],[1,"location","d-block","mt-2","mt-sm-2"],[1,"text-secondary","events_location",2,"word-wrap","break-word"],["width","15px","height","15px","aria-hidden","true","focusable","false","data-prefix","fas","data-icon","map-marker-alt","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512",1,"svg-inline--fa","fa-map-marker-alt","fa-w-12"],["fill","gray","d","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]],template:function(n,r){1&n&&(er(0,"app-main-nav"),ze(1,"main",0),ze(2,"div",1),ze(3,"div",2),ze(4,"small",3),Mn(5,"Enter Location Name"),Be(),er(6,"div",4),Be(),ze(7,"div",5),er(8,"div",6),Be(),ze(9,"div",7),ze(10,"h5",8),Mn(11,"Advance Filter"),Be(),Be(),ze(12,"div",9),ze(13,"small",3),Mn(14,"Select Date Range"),Be(),ze(15,"div",10),ze(16,"input",11),Cr("ngModelChange",function(o){return r.dateRange=o}),Be(),Be(),Be(),ze(17,"div",9),ze(18,"small",3),Mn(19,"Select Category"),Be(),ze(20,"div",10),ze(21,"select",12),Cr("change",function(){return r.applyFilter()})("ngModelChange",function(o){return r.filter.category=o}),ze(22,"option",13),Mn(23,"--All--"),Be(),cr(24,g8,2,2,"option",14),cr(25,_8,2,0,"option",15),Be(),Be(),Be(),ze(26,"div",16),ze(27,"small",3),Mn(28,"Select Radius Value"),Be(),ze(29,"div",10),ze(30,"select",12),Cr("change",function(){return r.applyFilter()})("ngModelChange",function(o){return r.selectedRadius=o}),ze(31,"option",17),Mn(32,"1"),Be(),ze(33,"option",18),Mn(34,"5"),Be(),ze(35,"option",19),Mn(36,"10"),Be(),ze(37,"option",20),Mn(38,"20"),Be(),Be(),Be(),Be(),ze(39,"div",21),ze(40,"small",3),Mn(41,"Select Mode"),Be(),ze(42,"div",10),ze(43,"select",12),Cr("change",function(){return r.applyFilter()})("ngModelChange",function(o){return r.selectedRadiusUnit=o}),ze(44,"option",22),Mn(45,"--Miles--"),Be(),ze(46,"option",23),Mn(47,"--Kilometer--"),Be(),Be(),Be(),Be(),Be(),ze(48,"div",24),ze(49,"div",1),ze(50,"div",25),er(51,"div",26),Be(),Be(),Be(),Be(),ze(52,"div",27),cr(53,y8,2,0,"h1",28),ze(54,"div",29),ze(55,"div",1),ze(56,"div",7),cr(57,x8,35,10,"div",30),Be(),Be(),Be(),Be()),2&n&&($t(16),bn("ngModel",r.dateRange)("locale",function KC(e,t,n){const r=Bt()+e,i=un();return i[r]===di?ud(i,r,n?t.call(n):t()):Y_(i,r)}(9,w8)),$t(5),bn("ngModel",r.filter.category),$t(3),bn("ngForOf",r.categories),$t(1),bn("ngIf",null==r.categories),$t(5),bn("ngModel",r.selectedRadius),$t(13),bn("ngModel",r.selectedRadiusUnit),$t(10),bn("ngIf",0!=(null==r.events?null:r.events.length)),$t(4),bn("ngForOf",r.events))},directives:[Dg,ui,$d,Vf,Zd,ly,$b,Xb,ng,md],styles:["",".daterange[_ngcontent-%COMP%] {\n                 border:none;\n              }"]}),e})()},{path:"profile",component:(()=>{class e extends Kd{constructor(n){super(),this.accountService=n,this.rolesItems=[]}uploadAvatar(n){if(n.target.files&&n.target.files[0]){const i=n.target.files[0];if(i){var r=new FileReader;r.onload=this._handleReaderLoaded.bind(this),r.readAsBinaryString(i)}}}_handleReaderLoaded(n){const i=btoa(n.target.result);this.accountService.uploadFile(i).subscribe(o=>this.ngOnInit(),o=>this.handleException(o))}ngOnInit(){this.accountService.user().subscribe(n=>{this.user=n,this.imageSrc=this.user.avatar,this.rolesItems=this.user.roles.split(",")},n=>this.handleException(n))}}return e.\u0275fac=function(n){return new(n||e)(yn(Wf))},e.\u0275cmp=vr({type:e,selectors:[["app-profile"]],features:[Zs],decls:21,vars:5,consts:[[1,"wrapper"],[1,"container"],[1,"d-flex","justify-content-center","text-center"],[1,"mt-5","mb-4"],["onclick","document.getElementById('avatar').click()","width","96","height","96","alt","Profile Details",1,"rounded-circle",3,"src"],["id","avatar","hidden","","type","file",3,"change"],[1,"pt-4"],["routerLink","/edit-profile",1,"btn","btn-outline-primary","mt-3"],[1,"me-2"],[1,"fa-regular","fa-pen-to-square"],["class","d-flex justify-content-between pt-5",4,"ngIf"],[1,"d-inlin-flex"],["style","margin-left:2px!important","class","badge rounded-pill bg-primary",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","pt-5"],[1,"align-self-center"],[1,"badge","rounded-pill","bg-primary",2,"margin-left","2px!important"]],template:function(n,r){1&n&&(er(0,"app-main-nav"),ze(1,"div",0),ze(2,"main",1),ze(3,"div",2),ze(4,"div"),ze(5,"h1",3),Mn(6,"Profile"),Be(),er(7,"img",4),ze(8,"input",5),Cr("change",function(o){return r.uploadAvatar(o)}),Be(),ze(9,"div"),ze(10,"h1",6),Mn(11),Be(),ze(12,"span"),Mn(13),Be(),Be(),ze(14,"a",7),ze(15,"span",8),er(16,"i",9),Be(),Mn(17," Edit Profile "),Be(),Be(),Be(),cr(18,M8,3,0,"div",10),ze(19,"div",11),cr(20,D8,2,1,"span",12),Be(),Be(),Be()),2&n&&($t(7),bn("src",r.imageSrc||"/assets/images/ProfileImage.png",Yd),$t(4),Os(r.user.name),$t(2),Os(r.user.email),$t(5),bn("ngIf",!r.user.provider),$t(2),bn("ngForOf",r.rolesItems))},directives:[Dg,vd,md,ng],styles:[""]}),e})()},{path:"settings",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=vr({type:e,selectors:[["app-settings"]],decls:7,vars:0,consts:[[1,"d-flex","justify-content-between","pt-5"],[1,"align-self-center"],[1,"d-inlin-flex","py-3"],["routerLink","/change-password",1,"btn","btn-proimary","btn-sm"]],template:function(n,r){1&n&&(er(0,"app-main-nav"),ze(1,"div",0),ze(2,"h2",1),Mn(3,"Settings"),Be(),Be(),ze(4,"div",2),ze(5,"a",3),Mn(6,"Change Password"),Be(),Be())},directives:[Dg,vd],styles:[""]}),e})()},{path:"edit-profile",component:(()=>{class e extends Kd{constructor(n,r){super(),this.accountService=n,this.router=r,this.user={}}ngOnInit(){this.accountService.user().subscribe(n=>{this.user=n},n=>this.handleException(n))}updateUser(){this.accountService.updateUser(this.user).subscribe(n=>this.router.navigate(["profile"]),n=>this.handleException(n))}}return e.\u0275fac=function(n){return new(n||e)(yn(Wf),yn(jl))},e.\u0275cmp=vr({type:e,selectors:[["app-edit-profile"]],features:[Zs],decls:25,vars:8,consts:[[1,"wrapper"],[1,"row"],[1,"col-lg-6","offset-lg-3","col-md-6","offset-md-3","col-12"],[1,"my-2"],["routerLink","/profile"],["src","/assets/images/left-chevron.png",1,"float-start"],[1,"d-block"],[3,"ngSubmit"],[1,"mt-5","mb-4"],[1,"search"],["src","/assets/images/Profile.png","alt",""],["name","name","type","text","placeholder","Full Name",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"search","my-4"],["src","/assets/images/Message.png","alt",""],["name","email","type","email","placeholder","abc@gmail.com",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-md","px-4","py-2","w-100","mx-auto","text-white","my-4",2,"background-color","#5669ff"],[1,"align-middle"],["src","/assets/images/Group 4.png",1,"float-end"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(er(0,"app-main-nav"),ze(1,"div",0),ze(2,"div",1),ze(3,"div",2),ze(4,"div",3),ze(5,"a",4),er(6,"img",5),Mn(7," Back"),Be(),Be(),ze(8,"div",6),ze(9,"form",7),Cr("ngSubmit",function(){return r.updateUser()}),ze(10,"h1",8),Mn(11,"Update Profile"),Be(),ze(12,"div",9),er(13,"img",10),ze(14,"input",11),Cr("ngModelChange",function(o){return r.user.name=o}),Be(),cr(15,T8,2,1,"span",12),Be(),ze(16,"div",13),er(17,"img",14),ze(18,"input",15),Cr("ngModelChange",function(o){return r.user.email=o}),Be(),cr(19,S8,2,1,"span",12),Be(),ze(20,"div",16),ze(21,"button",17),ze(22,"span",18),Mn(23,"Update"),Be(),er(24,"img",19),Be(),Be(),Be(),Be(),Be(),Be(),Be()),2&n&&($t(14),ic("form-control "+(r.errors.name?" is-invalid":"")),bn("ngModel",r.user.name),$t(1),bn("ngIf",r.errors.name),$t(3),ic("form-control"+(r.errors.email?" is-invalid ":"")),bn("ngModel",r.user.email),$t(1),bn("ngIf",r.errors.email))},directives:[Dg,vd,sg,rg,Uf,$d,Vf,Zd,md],styles:[""]}),e})()},{path:"change-password",component:(()=>{class e extends Kd{constructor(n,r){super(),this.accountService=n,this.router=r,this.user={}}ngOnInit(){}changePassword(){this.accountService.changePassword(this.user).subscribe(n=>this.router.navigate(["/profile"]),n=>this.handleException(n))}}return e.\u0275fac=function(n){return new(n||e)(yn(Wf),yn(jl))},e.\u0275cmp=vr({type:e,selectors:[["app-change-password"]],features:[Zs],decls:28,vars:9,consts:[[1,"wrapper"],[1,"row"],[1,"col-lg-6","offset-lg-3","col-md-6","offset-md-3","col-12"],[1,"my-2"],["routerLink","/settings"],["src","/assets/images/left-chevron.png",1,"float-start"],[1,"d-block"],[3,"ngSubmit"],[1,"mt-5","mb-4"],[1,"search"],["src","/assets/images/Lock.png","alt",""],["name","oldpassword","type","password","placeholder","Old Password",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"search","my-4"],["name","password","type","password","placeholder","Password",3,"ngModel","ngModelChange"],["name","password_confirm","type","password","placeholder","Confirm Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-md","px-4","py-2","w-100","mx-auto","text-white","my-4",2,"background-color","#5669ff"],[1,"align-middle"],["src","/assets/images/Group 4.png",1,"float-end"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(er(0,"app-main-nav"),ze(1,"div",0),ze(2,"div",1),ze(3,"div",2),ze(4,"div",3),ze(5,"a",4),er(6,"img",5),Mn(7," Back"),Be(),Be(),ze(8,"div",6),ze(9,"form",7),Cr("ngSubmit",function(){return r.changePassword()}),ze(10,"h1",8),Mn(11,"Change Password"),Be(),ze(12,"div",9),er(13,"img",10),ze(14,"input",11),Cr("ngModelChange",function(o){return r.user.oldpassword=o}),Be(),cr(15,k8,2,1,"span",12),Be(),ze(16,"div",13),er(17,"img",10),ze(18,"input",14),Cr("ngModelChange",function(o){return r.user.password=o}),Be(),cr(19,I8,2,1,"span",12),Be(),ze(20,"div",13),er(21,"img",10),ze(22,"input",15),Cr("ngModelChange",function(o){return r.user.password_confirm=o}),Be(),Be(),ze(23,"div",16),ze(24,"button",17),ze(25,"span",18),Mn(26,"Change Password"),Be(),er(27,"img",19),Be(),Be(),Be(),Be(),Be(),Be(),Be()),2&n&&($t(14),ic("form-control "+(r.errors.oldpassword?" is-invalid":"")),bn("ngModel",r.user.oldpassword),$t(1),bn("ngIf",r.errors.oldpassword),$t(3),ic("form-control"+(r.errors.password?" is-invalid ":"")),bn("ngModel",r.user.password),$t(1),bn("ngIf",r.errors.password),$t(3),bn("ngModel",r.user.password_confirm))},directives:[Dg,vd,sg,rg,Uf,$d,Vf,Zd,md],styles:[""]}),e})()},{path:"my-events",component:(()=>{class e extends Kd{constructor(n,r){super(),this.eventService=n,this.router=r,this.moment=Hp}ngOnInit(){this.eventService.myEvents().subscribe(n=>{this.events=n.records,console.log(this.events)},n=>this.handleException(n))}}return e.\u0275fac=function(n){return new(n||e)(yn(tA),yn(jl))},e.\u0275cmp=vr({type:e,selectors:[["app-events"]],features:[Zs],decls:8,vars:2,consts:[[1,"event_wrapper","mt-3"],[1,"container"],[1,"d-inline-flex"],[1,"mt-3"],["class","text-center",4,"ngIf"],["class","card shadow-sm pt-1 pb-3 px-0 mb-3 mb-sm-3","id","ads",4,"ngFor","ngForOf"],[1,"text-center"],["target","_blank",1,"btn","btn-success","btn-sm","mt-4",3,"href"],["id","ads",1,"card","shadow-sm","pt-1","pb-3","px-0","mb-3","mb-sm-3"],["target","_blank",3,"href"],[1,"card-image"],[1,"card-notify-badge"],[1,"card-notify-year"],["href",""],[1,"fa-regular","fa-bookmark"],["src","assets/images/image 84.png","alt","Card image cap",1,"card-img-top","img-fluid"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col-6"],[1,"going"],[1,"col-6","p-0","m-0"],[1,"badge","rounded-pill","bg-success"],[1,"location","d-inline-block","mt-2","mt-sm-2"],[1,"text-secondary","events_location"],["width","15px","height","15px","aria-hidden","true","focusable","false","data-prefix","fas","data-icon","map-marker-alt","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512",1,"svg-inline--fa","fa-map-marker-alt","fa-w-12"],["fill","gray","d","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]],template:function(n,r){1&n&&(er(0,"app-main-nav"),ze(1,"div",0),ze(2,"div",1),ze(3,"div",2),ze(4,"h1",3),Mn(5,"My Events"),Be(),Be(),cr(6,A8,5,1,"div",4),cr(7,R8,35,10,"div",5),Be(),Be()),2&n&&($t(6),bn("ngIf",0===(null==r.events?null:r.events.length)),$t(1),bn("ngForOf",r.events))},directives:[Dg,md,ng],styles:[""]}),e})()},{path:"verify-email",component:(()=>{class e extends Kd{constructor(n,r){super(),this.accountService=n,this.router=r}ngOnInit(){}verifyEmail(){this.accountService.verifyEmail({otp:this.otp}).subscribe(r=>this.router.navigate(["dashboard"]),r=>this.handleException(r))}}return e.\u0275fac=function(n){return new(n||e)(yn(Wf),yn(jl))},e.\u0275cmp=vr({type:e,selectors:[["app-verify-email"]],features:[Zs],decls:18,vars:4,consts:[[1,"wrapper"],[1,"row"],[1,"col-lg-6","offset-lg-3","col-md-6","offset-md-3","col-12"],[1,"d-block"],[3,"ngSubmit"],[1,"mt-5","mb-4"],[1,"search","my-4"],["src","/assets/images/Lock.png","alt",""],["name","otp","maxlength","4","type","text","placeholder","2354",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-md","px-4","py-2","w-100","mx-auto","text-white","my-4",2,"background-color","#5669ff"],[1,"align-middle"],["src","/assets/images/Group 4.png",1,"float-end"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(ze(0,"div",0),ze(1,"div",1),ze(2,"div",2),ze(3,"div",3),ze(4,"form",4),Cr("ngSubmit",function(){return r.verifyEmail()}),ze(5,"h1",5),Mn(6,"Verify Email"),Be(),ze(7,"p"),Mn(8,"Enter 4 digits OTP sent on your email, just to make verify your email"),Be(),ze(9,"div",6),er(10,"img",7),ze(11,"input",8),Cr("ngModelChange",function(o){return r.otp=o}),Be(),cr(12,F8,2,1,"span",9),Be(),ze(13,"div",10),ze(14,"button",11),ze(15,"span",12),Mn(16,"Verify Email"),Be(),er(17,"img",13),Be(),Be(),Be(),Be(),Be(),Be(),Be()),2&n&&($t(11),ic("form-control"+(r.errors.otp?" is-invalid ":"")),bn("ngModel",r.otp),$t(1),bn("ngIf",r.errors.otp))},directives:[sg,rg,Uf,$d,Kb,Vf,Zd,md],styles:[""]}),e})()}];let z8=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e}),e.\u0275inj=ea({imports:[[rk.forRoot(Y8)],rk]}),e})(),B8=(()=>{class e{constructor(){this.title="popuplive-attendy-app"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=vr({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(n,r){1&n&&(ze(0,"div",0),er(1,"router-outlet"),Be())},directives:[wM],styles:[""]}),e})(),j8=(()=>{class e{constructor(){}intercept(n,r){const i=new gd({"Content-Type":"application/json",enctype:"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("secretHash")}`}),f=n.clone({url:`https://popuplive.net/api/${n.url}`,headers:i});return r.handle(f)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_r({token:e,factory:e.\u0275fac}),e})(),V8=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ca({type:e,bootstrap:[B8]}),e.\u0275inj=ea({providers:[{provide:rM,useClass:j8,multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:h1.PROVIDER_ID,provider:new h1("966342190978579")},{id:by.PROVIDER_ID,provider:new by("845060448968-qud1tkvpunocsqer43210a3idn3gu812.apps.googleusercontent.com")}]}}],imports:[[SY,z8,UL,Q4,Cg.forRoot(),_5]]}),e})();(function oF(){GT=!1})(),CY().bootstrapModule(V8).catch(e=>console.error(e))},1503:(Ve,Ce,$)=>{"use strict";var I=$(3269);function F(d){var O=[1/0,1/0,-1/0,-1/0];return I.coordEach(d,function(H){O[0]>H[0]&&(O[0]=H[0]),O[1]>H[1]&&(O[1]=H[1]),O[2]<H[0]&&(O[2]=H[0]),O[3]<H[1]&&(O[3]=H[1])}),O}F.default=F,Ce.Z=F},8275:(Ve,Ce)=>{"use strict";function $(Fe,Je,Te){void 0===Te&&(Te={});var Xt={type:"Feature"};return(0===Te.id||Te.id)&&(Xt.id=Te.id),Te.bbox&&(Xt.bbox=Te.bbox),Xt.properties=Je||{},Xt.geometry=Fe,Xt}function I(Fe,Je,Te){if(void 0===Te&&(Te={}),!Fe)throw new Error("coordinates is required");if(!Array.isArray(Fe))throw new Error("coordinates must be an Array");if(Fe.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!fe(Fe[0])||!fe(Fe[1]))throw new Error("coordinates must contain numbers");return $({type:"Point",coordinates:Fe},Je,Te)}function d(Fe,Je,Te){void 0===Te&&(Te={});for(var Xt=0,Pt=Fe;Xt<Pt.length;Xt++){var Ge=Pt[Xt];if(Ge.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Mt=0;Mt<Ge[Ge.length-1].length;Mt++)if(Ge[Ge.length-1][Mt]!==Ge[0][Mt])throw new Error("First and last Position are not equivalent.")}return $({type:"Polygon",coordinates:Fe},Je,Te)}function H(Fe,Je,Te){if(void 0===Te&&(Te={}),Fe.length<2)throw new Error("coordinates must be an array of two or more positions");return $({type:"LineString",coordinates:Fe},Je,Te)}function W(Fe,Je){void 0===Je&&(Je={});var Te={type:"FeatureCollection"};return Je.id&&(Te.id=Je.id),Je.bbox&&(Te.bbox=Je.bbox),Te.features=Fe,Te}function ie(Fe,Je,Te){return void 0===Te&&(Te={}),$({type:"MultiLineString",coordinates:Fe},Je,Te)}function Le(Fe,Je,Te){return void 0===Te&&(Te={}),$({type:"MultiPoint",coordinates:Fe},Je,Te)}function rt(Fe,Je,Te){return void 0===Te&&(Te={}),$({type:"MultiPolygon",coordinates:Fe},Je,Te)}function it(Fe,Je){void 0===Je&&(Je="kilometers");var Te=Ce.factors[Je];if(!Te)throw new Error(Je+" units is invalid");return Fe*Te}function Q(Fe,Je){void 0===Je&&(Je="kilometers");var Te=Ce.factors[Je];if(!Te)throw new Error(Je+" units is invalid");return Fe/Te}function xe(Fe){return Fe%(2*Math.PI)*180/Math.PI}function fe(Fe){return!isNaN(Fe)&&null!==Fe&&!Array.isArray(Fe)}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.earthRadius=6371008.8,Ce.factors={centimeters:100*Ce.earthRadius,centimetres:100*Ce.earthRadius,degrees:Ce.earthRadius/111325,feet:3.28084*Ce.earthRadius,inches:39.37*Ce.earthRadius,kilometers:Ce.earthRadius/1e3,kilometres:Ce.earthRadius/1e3,meters:Ce.earthRadius,metres:Ce.earthRadius,miles:Ce.earthRadius/1609.344,millimeters:1e3*Ce.earthRadius,millimetres:1e3*Ce.earthRadius,nauticalmiles:Ce.earthRadius/1852,radians:1,yards:1.0936*Ce.earthRadius},Ce.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Ce.earthRadius,yards:1.0936133},Ce.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},Ce.feature=$,Ce.geometry=function B(Fe,Je,Te){switch(void 0===Te&&(Te={}),Fe){case"Point":return I(Je).geometry;case"LineString":return H(Je).geometry;case"Polygon":return d(Je).geometry;case"MultiPoint":return Le(Je).geometry;case"MultiLineString":return ie(Je).geometry;case"MultiPolygon":return rt(Je).geometry;default:throw new Error(Fe+" is invalid")}},Ce.point=I,Ce.points=function F(Fe,Je,Te){return void 0===Te&&(Te={}),W(Fe.map(function(Xt){return I(Xt,Je)}),Te)},Ce.polygon=d,Ce.polygons=function O(Fe,Je,Te){return void 0===Te&&(Te={}),W(Fe.map(function(Xt){return d(Xt,Je)}),Te)},Ce.lineString=H,Ce.lineStrings=function q(Fe,Je,Te){return void 0===Te&&(Te={}),W(Fe.map(function(Xt){return H(Xt,Je)}),Te)},Ce.featureCollection=W,Ce.multiLineString=ie,Ce.multiPoint=Le,Ce.multiPolygon=rt,Ce.geometryCollection=function qe(Fe,Je,Te){return void 0===Te&&(Te={}),$({type:"GeometryCollection",geometries:Fe},Je,Te)},Ce.round=function Ee(Fe,Je){if(void 0===Je&&(Je=0),Je&&!(Je>=0))throw new Error("precision must be a positive number");var Te=Math.pow(10,Je||0);return Math.round(Fe*Te)/Te},Ce.radiansToLength=it,Ce.lengthToRadians=Q,Ce.lengthToDegrees=function ve(Fe,Je){return xe(Q(Fe,Je))},Ce.bearingToAzimuth=function he(Fe){var Je=Fe%360;return Je<0&&(Je+=360),Je},Ce.radiansToDegrees=xe,Ce.degreesToRadians=function se(Fe){return Fe%360*Math.PI/180},Ce.convertLength=function ne(Fe,Je,Te){if(void 0===Je&&(Je="kilometers"),void 0===Te&&(Te="kilometers"),!(Fe>=0))throw new Error("length must be a positive number");return it(Q(Fe,Je),Te)},Ce.convertArea=function re(Fe,Je,Te){if(void 0===Je&&(Je="meters"),void 0===Te&&(Te="kilometers"),!(Fe>=0))throw new Error("area must be a positive number");var Xt=Ce.areaFactors[Je];if(!Xt)throw new Error("invalid original units");var Pt=Ce.areaFactors[Te];if(!Pt)throw new Error("invalid final units");return Fe/Xt*Pt},Ce.isNumber=fe,Ce.isObject=function we(Fe){return!!Fe&&Fe.constructor===Object},Ce.validateBBox=function ae(Fe){if(!Fe)throw new Error("bbox is required");if(!Array.isArray(Fe))throw new Error("bbox must be an Array");if(4!==Fe.length&&6!==Fe.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Fe.forEach(function(Je){if(!fe(Je))throw new Error("bbox must only contain numbers")})},Ce.validateId=function ct(Fe){if(!Fe)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Fe))throw new Error("id must be a number or a string")}},3269:(Ve,Ce,$)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var B=$(8275);function I(se,ne,re){if(null!==se)for(var fe,we,ae,ct,Fe,Je,Te,Ge,Xt=0,Pt=0,Mt=se.type,tt="FeatureCollection"===Mt,xt="Feature"===Mt,gt=tt?se.features.length:1,Re=0;Re<gt;Re++){Fe=(Ge=!!(Te=tt?se.features[Re].geometry:xt?se.geometry:se)&&"GeometryCollection"===Te.type)?Te.geometries.length:1;for(var Yt=0;Yt<Fe;Yt++){var Ht=0,_n=0;if(null!==(ct=Ge?Te.geometries[Yt]:Te)){Je=ct.coordinates;var bt=ct.type;switch(Xt=!re||"Polygon"!==bt&&"MultiPolygon"!==bt?0:1,bt){case null:break;case"Point":if(!1===ne(Je,Pt,Re,Ht,_n))return!1;Pt++,Ht++;break;case"LineString":case"MultiPoint":for(fe=0;fe<Je.length;fe++){if(!1===ne(Je[fe],Pt,Re,Ht,_n))return!1;Pt++,"MultiPoint"===bt&&Ht++}"LineString"===bt&&Ht++;break;case"Polygon":case"MultiLineString":for(fe=0;fe<Je.length;fe++){for(we=0;we<Je[fe].length-Xt;we++){if(!1===ne(Je[fe][we],Pt,Re,Ht,_n))return!1;Pt++}"MultiLineString"===bt&&Ht++,"Polygon"===bt&&_n++}"Polygon"===bt&&Ht++;break;case"MultiPolygon":for(fe=0;fe<Je.length;fe++){for(_n=0,we=0;we<Je[fe].length;we++){for(ae=0;ae<Je[fe][we].length-Xt;ae++){if(!1===ne(Je[fe][we][ae],Pt,Re,Ht,_n))return!1;Pt++}_n++}Ht++}break;case"GeometryCollection":for(fe=0;fe<ct.geometries.length;fe++)if(!1===I(ct.geometries[fe],ne,re))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(se,ne){var re;switch(se.type){case"FeatureCollection":for(re=0;re<se.features.length&&!1!==ne(se.features[re].properties,re);re++);break;case"Feature":ne(se.properties,0)}}function H(se,ne){if("Feature"===se.type)ne(se,0);else if("FeatureCollection"===se.type)for(var re=0;re<se.features.length&&!1!==ne(se.features[re],re);re++);}function ie(se,ne){var re,fe,we,ae,ct,Fe,Je,Te,Xt,Pt,Ge=0,Mt="FeatureCollection"===se.type,tt="Feature"===se.type,xt=Mt?se.features.length:1;for(re=0;re<xt;re++){for(Te=Mt?se.features[re].properties:tt?se.properties:{},Xt=Mt?se.features[re].bbox:tt?se.bbox:void 0,Pt=Mt?se.features[re].id:tt?se.id:void 0,ct=(Je=!!(Fe=Mt?se.features[re].geometry:tt?se.geometry:se)&&"GeometryCollection"===Fe.type)?Fe.geometries.length:1,we=0;we<ct;we++)if(null!==(ae=Je?Fe.geometries[we]:Fe))switch(ae.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===ne(ae,Ge,Te,Xt,Pt))return!1;break;case"GeometryCollection":for(fe=0;fe<ae.geometries.length;fe++)if(!1===ne(ae.geometries[fe],Ge,Te,Xt,Pt))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===ne(null,Ge,Te,Xt,Pt))return!1;Ge++}}function rt(se,ne){ie(se,function(re,fe,we,ae,ct){var Je,Fe=null===re?null:re.type;switch(Fe){case null:case"Point":case"LineString":case"Polygon":return!1!==ne(B.feature(re,we,{bbox:ae,id:ct}),fe,0)&&void 0}switch(Fe){case"MultiPoint":Je="Point";break;case"MultiLineString":Je="LineString";break;case"MultiPolygon":Je="Polygon"}for(var Te=0;Te<re.coordinates.length;Te++)if(!1===ne(B.feature({type:Je,coordinates:re.coordinates[Te]},we),fe,Te))return!1})}function Ee(se,ne){rt(se,function(re,fe,we){var ae=0;if(re.geometry){var ct=re.geometry.type;if("Point"!==ct&&"MultiPoint"!==ct){var Fe,Je=0,Te=0,Xt=0;if(!1===I(re,function(Pt,Ge,Mt,tt,xt){if(void 0===Fe||fe>Je||tt>Te||xt>Xt)return Fe=Pt,Je=fe,Te=tt,Xt=xt,void(ae=0);var gt=B.lineString([Fe,Pt],re.properties);if(!1===ne(gt,fe,we,xt,ae))return!1;ae++,Fe=Pt}))return!1}}})}function Q(se,ne){if(!se)throw new Error("geojson is required");rt(se,function(re,fe,we){if(null!==re.geometry){var ct=re.geometry.coordinates;switch(re.geometry.type){case"LineString":if(!1===ne(re,fe,we,0,0))return!1;break;case"Polygon":for(var Fe=0;Fe<ct.length;Fe++)if(!1===ne(B.lineString(ct[Fe],re.properties),fe,we,Fe))return!1}}})}Ce.coordAll=function W(se){var ne=[];return I(se,function(re){ne.push(re)}),ne},Ce.coordEach=I,Ce.coordReduce=function F(se,ne,re,fe){var we=re;return I(se,function(ae,ct,Fe,Je,Te){we=0===ct&&void 0===re?ae:ne(we,ae,ct,Fe,Je,Te)},fe),we},Ce.featureEach=H,Ce.featureReduce=function q(se,ne,re){var fe=re;return H(se,function(we,ae){fe=0===ae&&void 0===re?we:ne(fe,we,ae)}),fe},Ce.findPoint=function xe(se,ne){if(!B.isObject(ne=ne||{}))throw new Error("options is invalid");var Fe,re=ne.featureIndex||0,fe=ne.multiFeatureIndex||0,we=ne.geometryIndex||0,ae=ne.coordIndex||0,ct=ne.properties;switch(se.type){case"FeatureCollection":re<0&&(re=se.features.length+re),ct=ct||se.features[re].properties,Fe=se.features[re].geometry;break;case"Feature":ct=ct||se.properties,Fe=se.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Fe=se;break;default:throw new Error("geojson is invalid")}if(null===Fe)return null;var Je=Fe.coordinates;switch(Fe.type){case"Point":return B.point(Je,ct,ne);case"MultiPoint":return fe<0&&(fe=Je.length+fe),B.point(Je[fe],ct,ne);case"LineString":return ae<0&&(ae=Je.length+ae),B.point(Je[ae],ct,ne);case"Polygon":return we<0&&(we=Je.length+we),ae<0&&(ae=Je[we].length+ae),B.point(Je[we][ae],ct,ne);case"MultiLineString":return fe<0&&(fe=Je.length+fe),ae<0&&(ae=Je[fe].length+ae),B.point(Je[fe][ae],ct,ne);case"MultiPolygon":return fe<0&&(fe=Je.length+fe),we<0&&(we=Je[fe].length+we),ae<0&&(ae=Je[fe][we].length-ae),B.point(Je[fe][we][ae],ct,ne)}throw new Error("geojson is invalid")},Ce.findSegment=function he(se,ne){if(!B.isObject(ne=ne||{}))throw new Error("options is invalid");var Fe,re=ne.featureIndex||0,fe=ne.multiFeatureIndex||0,we=ne.geometryIndex||0,ae=ne.segmentIndex||0,ct=ne.properties;switch(se.type){case"FeatureCollection":re<0&&(re=se.features.length+re),ct=ct||se.features[re].properties,Fe=se.features[re].geometry;break;case"Feature":ct=ct||se.properties,Fe=se.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Fe=se;break;default:throw new Error("geojson is invalid")}if(null===Fe)return null;var Je=Fe.coordinates;switch(Fe.type){case"Point":case"MultiPoint":return null;case"LineString":return ae<0&&(ae=Je.length+ae-1),B.lineString([Je[ae],Je[ae+1]],ct,ne);case"Polygon":return we<0&&(we=Je.length+we),ae<0&&(ae=Je[we].length+ae-1),B.lineString([Je[we][ae],Je[we][ae+1]],ct,ne);case"MultiLineString":return fe<0&&(fe=Je.length+fe),ae<0&&(ae=Je[fe].length+ae-1),B.lineString([Je[fe][ae],Je[fe][ae+1]],ct,ne);case"MultiPolygon":return fe<0&&(fe=Je.length+fe),we<0&&(we=Je[fe].length+we),ae<0&&(ae=Je[fe][we].length-ae-1),B.lineString([Je[fe][we][ae],Je[fe][we][ae+1]],ct,ne)}throw new Error("geojson is invalid")},Ce.flattenEach=rt,Ce.flattenReduce=function qe(se,ne,re){var fe=re;return rt(se,function(we,ae,ct){fe=0===ae&&0===ct&&void 0===re?we:ne(fe,we,ae,ct)}),fe},Ce.geomEach=ie,Ce.geomReduce=function Le(se,ne,re){var fe=re;return ie(se,function(we,ae,ct,Fe,Je){fe=0===ae&&void 0===re?we:ne(fe,we,ae,ct,Fe,Je)}),fe},Ce.lineEach=Q,Ce.lineReduce=function ve(se,ne,re){var fe=re;return Q(se,function(we,ae,ct,Fe){fe=0===ae&&void 0===re?we:ne(fe,we,ae,ct,Fe)}),fe},Ce.propEach=d,Ce.propReduce=function O(se,ne,re){var fe=re;return d(se,function(we,ae){fe=0===ae&&void 0===re?we:ne(fe,we,ae)}),fe},Ce.segmentEach=Ee,Ce.segmentReduce=function it(se,ne,re){var fe=re,we=!1;return Ee(se,function(ae,ct,Fe,Je,Te){fe=!1===we&&void 0===re?ae:ne(fe,ae,ct,Fe,Je,Te),we=!0}),fe}},2049:function(Ve,Ce,$){var B;Ve=$.nmd(Ve),function(I){"object"==typeof global&&global;var H=function(it){this.message=it};(H.prototype=new Error).name="InvalidCharacterError";var q=function(it){throw new H(it)},W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie=/[\t\n\f\r ]/g,qe={encode:function(it){it=String(it),/[^\0-\xFF]/.test(it)&&q("The string to be encoded contains characters outside of the Latin1 range.");for(var xe,se,ne,fe,Q=it.length%3,ve="",he=-1,we=it.length-Q;++he<we;)xe=it.charCodeAt(he)<<16,se=it.charCodeAt(++he)<<8,ne=it.charCodeAt(++he),ve+=W.charAt((fe=xe+se+ne)>>18&63)+W.charAt(fe>>12&63)+W.charAt(fe>>6&63)+W.charAt(63&fe);return 2==Q?(xe=it.charCodeAt(he)<<8,se=it.charCodeAt(++he),ve+=W.charAt((fe=xe+se)>>10)+W.charAt(fe>>4&63)+W.charAt(fe<<2&63)+"="):1==Q&&(fe=it.charCodeAt(he),ve+=W.charAt(fe>>2)+W.charAt(fe<<4&63)+"=="),ve},decode:function(it){var Q=(it=String(it).replace(ie,"")).length;Q%4==0&&(Q=(it=it.replace(/==?$/,"")).length),(Q%4==1||/[^+a-zA-Z0-9/]/.test(it))&&q("Invalid character: the string to be decoded is not correctly encoded.");for(var he,xe,ve=0,se="",ne=-1;++ne<Q;)xe=W.indexOf(it.charAt(ne)),he=ve%4?64*he+xe:xe,ve++%4&&(se+=String.fromCharCode(255&he>>(-2*ve&6)));return se},version:"0.1.0"};void 0!==(B=function(){return qe}.call(Ce,$,Ce,Ve))&&(Ve.exports=B)}()},5834:(Ve,Ce,$)=>{"use strict";var B=$(5203),I=$(5685),F=I(B("String.prototype.indexOf"));Ve.exports=function(O,H){var q=B(O,!!H);return"function"==typeof q&&F(O,".prototype.")>-1?I(q):q}},5685:(Ve,Ce,$)=>{"use strict";var B=$(4444),I=$(5203),F=I("%Function.prototype.apply%"),d=I("%Function.prototype.call%"),O=I("%Reflect.apply%",!0)||B.call(d,F),H=I("%Object.getOwnPropertyDescriptor%",!0),q=I("%Object.defineProperty%",!0),W=I("%Math.max%");if(q)try{q({},"a",{value:1})}catch(Le){q=null}Ve.exports=function(rt){var qe=O(B,d,arguments);if(H&&q){var Ee=H(qe,"length");Ee.configurable&&q(qe,"length",{value:1+W(0,rt.length-(arguments.length-1))})}return qe};var ie=function(){return O(B,F,arguments)};q?q(Ve.exports,"apply",{value:ie}):Ve.exports.apply=ie},1335:(Ve,Ce,$)=>{"use strict";var B=$(3156),I=$(7253),F=$(3870),d=$(7563).orient2d;function O(re,fe,we){fe=Math.max(0,void 0===fe?2:fe),we=we||0;var ae=function it(re){for(var fe=re[0],we=re[0],ae=re[0],ct=re[0],Fe=0;Fe<re.length;Fe++){var Je=re[Fe];Je[0]<fe[0]&&(fe=Je),Je[0]>ae[0]&&(ae=Je),Je[1]<we[1]&&(we=Je),Je[1]>ct[1]&&(ct=Je)}var Te=[fe,we,ae,ct],Xt=Te.slice();for(Fe=0;Fe<re.length;Fe++)F(re[Fe],Te)||Xt.push(re[Fe]);return function ne(re){re.sort(se);for(var fe=[],we=0;we<re.length;we++){for(;fe.length>=2&&rt(fe[fe.length-2],fe[fe.length-1],re[we])<=0;)fe.pop();fe.push(re[we])}for(var ae=[],ct=re.length-1;ct>=0;ct--){for(;ae.length>=2&&rt(ae[ae.length-2],ae[ae.length-1],re[ct])<=0;)ae.pop();ae.push(re[ct])}return ae.pop(),fe.pop(),fe.concat(ae)}(Xt)}(re),ct=new B(16);ct.toBBox=function(_n){return{minX:_n[0],minY:_n[1],maxX:_n[0],maxY:_n[1]}},ct.compareMinX=function(_n,bt){return _n[0]-bt[0]},ct.compareMinY=function(_n,bt){return _n[1]-bt[1]},ct.load(re);for(var Te,Fe=[],Je=0;Je<ae.length;Je++){var Xt=ae[Je];ct.remove(Xt),Te=Q(Xt,Te),Fe.push(Te)}var Pt=new B(16);for(Je=0;Je<Fe.length;Je++)Pt.insert(Ee(Fe[Je]));for(var Ge=fe*fe,Mt=we*we;Fe.length;){var tt=Fe.shift(),xt=tt.p,gt=tt.next.p,Re=ve(xt,gt);if(!(Re<Mt)){var Yt=Re/Ge;(Xt=H(ct,tt.prev.p,xt,gt,tt.next.next.p,Yt,Pt))&&Math.min(ve(Xt,xt),ve(Xt,gt))<=Yt&&(Fe.push(tt),Fe.push(Q(Xt,tt)),ct.remove(Xt),Pt.remove(tt),Pt.insert(Ee(tt)),Pt.insert(Ee(tt.next)))}}tt=Te;var Ht=[];do{Ht.push(tt.p),tt=tt.next}while(tt!==Te);return Ht.push(tt.p),Ht}function H(re,fe,we,ae,ct,Fe,Je){for(var Te=new I([],q),Xt=re.data;Xt;){for(var Pt=0;Pt<Xt.children.length;Pt++){var Ge=Xt.children[Pt],Mt=Xt.leaf?he(Ge,we,ae):W(we,ae,Ge);Mt>Fe||Te.push({node:Ge,dist:Mt})}for(;Te.length&&!Te.peek().node.children;){var tt=Te.pop(),xt=tt.node,gt=he(xt,fe,we),Re=he(xt,ae,ct);if(tt.dist<gt&&tt.dist<Re&&Le(we,xt,Je)&&Le(ae,xt,Je))return xt}(Xt=Te.pop())&&(Xt=Xt.node)}return null}function q(re,fe){return re.dist-fe.dist}function W(re,fe,we){if(ie(re,we)||ie(fe,we))return 0;var ae=xe(re[0],re[1],fe[0],fe[1],we.minX,we.minY,we.maxX,we.minY);if(0===ae)return 0;var ct=xe(re[0],re[1],fe[0],fe[1],we.minX,we.minY,we.minX,we.maxY);if(0===ct)return 0;var Fe=xe(re[0],re[1],fe[0],fe[1],we.maxX,we.minY,we.maxX,we.maxY);if(0===Fe)return 0;var Je=xe(re[0],re[1],fe[0],fe[1],we.minX,we.maxY,we.maxX,we.maxY);return 0===Je?0:Math.min(ae,ct,Fe,Je)}function ie(re,fe){return re[0]>=fe.minX&&re[0]<=fe.maxX&&re[1]>=fe.minY&&re[1]<=fe.maxY}function Le(re,fe,we){for(var ae=Math.min(re[0],fe[0]),ct=Math.min(re[1],fe[1]),Fe=Math.max(re[0],fe[0]),Je=Math.max(re[1],fe[1]),Te=we.search({minX:ae,minY:ct,maxX:Fe,maxY:Je}),Xt=0;Xt<Te.length;Xt++)if(qe(Te[Xt].p,Te[Xt].next.p,re,fe))return!1;return!0}function rt(re,fe,we){return d(re[0],re[1],fe[0],fe[1],we[0],we[1])}function qe(re,fe,we,ae){return re!==ae&&fe!==we&&rt(re,fe,we)>0!=rt(re,fe,ae)>0&&rt(we,ae,re)>0!=rt(we,ae,fe)>0}function Ee(re){var fe=re.p,we=re.next.p;return re.minX=Math.min(fe[0],we[0]),re.minY=Math.min(fe[1],we[1]),re.maxX=Math.max(fe[0],we[0]),re.maxY=Math.max(fe[1],we[1]),re}function Q(re,fe){var we={p:re,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return fe?(we.next=fe.next,we.prev=fe,fe.next.prev=we,fe.next=we):(we.prev=we,we.next=we),we}function ve(re,fe){var we=re[0]-fe[0],ae=re[1]-fe[1];return we*we+ae*ae}function he(re,fe,we){var ae=fe[0],ct=fe[1],Fe=we[0]-ae,Je=we[1]-ct;if(0!==Fe||0!==Je){var Te=((re[0]-ae)*Fe+(re[1]-ct)*Je)/(Fe*Fe+Je*Je);Te>1?(ae=we[0],ct=we[1]):Te>0&&(ae+=Fe*Te,ct+=Je*Te)}return(Fe=re[0]-ae)*Fe+(Je=re[1]-ct)*Je}function xe(re,fe,we,ae,ct,Fe,Je,Te){var Qn,fn,Pn,Sn,Xt=we-re,Pt=ae-fe,Ge=Je-ct,Mt=Te-Fe,tt=re-ct,xt=fe-Fe,gt=Xt*Xt+Pt*Pt,Re=Xt*Ge+Pt*Mt,Yt=Ge*Ge+Mt*Mt,Ht=Xt*tt+Pt*xt,_n=Ge*tt+Mt*xt,bt=gt*Yt-Re*Re,On=bt,wn=bt;0===bt?(fn=0,On=1,Sn=_n,wn=Yt):(Sn=gt*_n-Re*Ht,(fn=Re*_n-Yt*Ht)<0?(fn=0,Sn=_n,wn=Yt):fn>On&&(fn=On,Sn=_n+Re,wn=Yt)),Sn<0?(Sn=0,-Ht<0?fn=0:-Ht>gt?fn=On:(fn=-Ht,On=gt)):Sn>wn&&(Sn=wn,-Ht+Re<0?fn=0:-Ht+Re>gt?fn=On:(fn=-Ht+Re,On=gt));var Zi=(1-(Pn=0===Sn?0:Sn/wn))*ct+Pn*Je-((1-(Qn=0===fn?0:fn/On))*re+Qn*we),Lt=(1-Pn)*Fe+Pn*Te-((1-Qn)*fe+Qn*ae);return Zi*Zi+Lt*Lt}function se(re,fe){return re[0]===fe[0]?re[1]-fe[1]:re[0]-fe[0]}I.default&&(I=I.default),Ve.exports=O,Ve.exports.default=O},3156:function(Ve){Ve.exports=function(){"use strict";function Ce(Q,ve,he,xe,se){!function ne(re,fe,we,ae,ct){for(;ae>we;){if(ae-we>600){var Fe=ae-we+1,Je=fe-we+1,Te=Math.log(Fe),Xt=.5*Math.exp(2*Te/3),Pt=.5*Math.sqrt(Te*Xt*(Fe-Xt)/Fe)*(Je-Fe/2<0?-1:1);ne(re,fe,Math.max(we,Math.floor(fe-Je*Xt/Fe+Pt)),Math.min(ae,Math.floor(fe+(Fe-Je)*Xt/Fe+Pt)),ct)}var tt=re[fe],xt=we,gt=ae;for($(re,we,fe),ct(re[ae],tt)>0&&$(re,we,ae);xt<gt;){for($(re,xt,gt),xt++,gt--;ct(re[xt],tt)<0;)xt++;for(;ct(re[gt],tt)>0;)gt--}0===ct(re[we],tt)?$(re,we,gt):$(re,++gt,ae),gt<=fe&&(we=gt+1),fe<=gt&&(ae=gt-1)}}(Q,ve,he||0,xe||Q.length-1,se||B)}function $(Q,ve,he){var xe=Q[ve];Q[ve]=Q[he],Q[he]=xe}function B(Q,ve){return Q<ve?-1:Q>ve?1:0}var I=function(Q){void 0===Q&&(Q=9),this._maxEntries=Math.max(4,Q),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function F(Q,ve,he){if(!he)return ve.indexOf(Q);for(var xe=0;xe<ve.length;xe++)if(he(Q,ve[xe]))return xe;return-1}function d(Q,ve){O(Q,0,Q.children.length,ve,Q)}function O(Q,ve,he,xe,se){se||(se=Ee(null)),se.minX=1/0,se.minY=1/0,se.maxX=-1/0,se.maxY=-1/0;for(var ne=ve;ne<he;ne++){var re=Q.children[ne];H(se,Q.leaf?xe(re):re)}return se}function H(Q,ve){return Q.minX=Math.min(Q.minX,ve.minX),Q.minY=Math.min(Q.minY,ve.minY),Q.maxX=Math.max(Q.maxX,ve.maxX),Q.maxY=Math.max(Q.maxY,ve.maxY),Q}function q(Q,ve){return Q.minX-ve.minX}function W(Q,ve){return Q.minY-ve.minY}function ie(Q){return(Q.maxX-Q.minX)*(Q.maxY-Q.minY)}function Le(Q){return Q.maxX-Q.minX+(Q.maxY-Q.minY)}function rt(Q,ve){return Q.minX<=ve.minX&&Q.minY<=ve.minY&&ve.maxX<=Q.maxX&&ve.maxY<=Q.maxY}function qe(Q,ve){return ve.minX<=Q.maxX&&ve.minY<=Q.maxY&&ve.maxX>=Q.minX&&ve.maxY>=Q.minY}function Ee(Q){return{children:Q,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function it(Q,ve,he,xe,se){for(var ne=[ve,he];ne.length;)if(!((he=ne.pop())-(ve=ne.pop())<=xe)){var re=ve+Math.ceil((he-ve)/xe/2)*xe;Ce(Q,re,ve,he,se),ne.push(ve,re,re,he)}}return I.prototype.all=function(){return this._all(this.data,[])},I.prototype.search=function(Q){var ve=this.data,he=[];if(!qe(Q,ve))return he;for(var xe=this.toBBox,se=[];ve;){for(var ne=0;ne<ve.children.length;ne++){var re=ve.children[ne],fe=ve.leaf?xe(re):re;qe(Q,fe)&&(ve.leaf?he.push(re):rt(Q,fe)?this._all(re,he):se.push(re))}ve=se.pop()}return he},I.prototype.collides=function(Q){var ve=this.data;if(!qe(Q,ve))return!1;for(var he=[];ve;){for(var xe=0;xe<ve.children.length;xe++){var se=ve.children[xe],ne=ve.leaf?this.toBBox(se):se;if(qe(Q,ne)){if(ve.leaf||rt(Q,ne))return!0;he.push(se)}}ve=he.pop()}return!1},I.prototype.load=function(Q){if(!Q||!Q.length)return this;if(Q.length<this._minEntries){for(var ve=0;ve<Q.length;ve++)this.insert(Q[ve]);return this}var he=this._build(Q.slice(),0,Q.length-1,0);if(this.data.children.length)if(this.data.height===he.height)this._splitRoot(this.data,he);else{if(this.data.height<he.height){var xe=this.data;this.data=he,he=xe}this._insert(he,this.data.height-he.height-1,!0)}else this.data=he;return this},I.prototype.insert=function(Q){return Q&&this._insert(Q,this.data.height-1),this},I.prototype.clear=function(){return this.data=Ee([]),this},I.prototype.remove=function(Q,ve){if(!Q)return this;for(var he,xe,se,ne=this.data,re=this.toBBox(Q),fe=[],we=[];ne||fe.length;){if(ne||(ne=fe.pop(),xe=fe[fe.length-1],he=we.pop(),se=!0),ne.leaf){var ae=F(Q,ne.children,ve);if(-1!==ae)return ne.children.splice(ae,1),fe.push(ne),this._condense(fe),this}se||ne.leaf||!rt(ne,re)?xe?(he++,ne=xe.children[he],se=!1):ne=null:(fe.push(ne),we.push(he),he=0,xe=ne,ne=ne.children[0])}return this},I.prototype.toBBox=function(Q){return Q},I.prototype.compareMinX=function(Q,ve){return Q.minX-ve.minX},I.prototype.compareMinY=function(Q,ve){return Q.minY-ve.minY},I.prototype.toJSON=function(){return this.data},I.prototype.fromJSON=function(Q){return this.data=Q,this},I.prototype._all=function(Q,ve){for(var he=[];Q;)Q.leaf?ve.push.apply(ve,Q.children):he.push.apply(he,Q.children),Q=he.pop();return ve},I.prototype._build=function(Q,ve,he,xe){var se,ne=he-ve+1,re=this._maxEntries;if(ne<=re)return d(se=Ee(Q.slice(ve,he+1)),this.toBBox),se;xe||(xe=Math.ceil(Math.log(ne)/Math.log(re)),re=Math.ceil(ne/Math.pow(re,xe-1))),(se=Ee([])).leaf=!1,se.height=xe;var fe=Math.ceil(ne/re),we=fe*Math.ceil(Math.sqrt(re));it(Q,ve,he,we,this.compareMinX);for(var ae=ve;ae<=he;ae+=we){var ct=Math.min(ae+we-1,he);it(Q,ae,ct,fe,this.compareMinY);for(var Fe=ae;Fe<=ct;Fe+=fe){var Je=Math.min(Fe+fe-1,ct);se.children.push(this._build(Q,Fe,Je,xe-1))}}return d(se,this.toBBox),se},I.prototype._chooseSubtree=function(Q,ve,he,xe){for(;xe.push(ve),!ve.leaf&&xe.length-1!==he;){for(var se=1/0,ne=1/0,re=void 0,fe=0;fe<ve.children.length;fe++){var we=ve.children[fe],ae=ie(we),ct=(Fe=Q,Je=we,(Math.max(Je.maxX,Fe.maxX)-Math.min(Je.minX,Fe.minX))*(Math.max(Je.maxY,Fe.maxY)-Math.min(Je.minY,Fe.minY))-ae);ct<ne?(ne=ct,se=ae<se?ae:se,re=we):ct===ne&&ae<se&&(se=ae,re=we)}ve=re||ve.children[0]}var Fe,Je;return ve},I.prototype._insert=function(Q,ve,he){var xe=he?Q:this.toBBox(Q),se=[],ne=this._chooseSubtree(xe,this.data,ve,se);for(ne.children.push(Q),H(ne,xe);ve>=0&&se[ve].children.length>this._maxEntries;)this._split(se,ve),ve--;this._adjustParentBBoxes(xe,se,ve)},I.prototype._split=function(Q,ve){var he=Q[ve],xe=he.children.length,se=this._minEntries;this._chooseSplitAxis(he,se,xe);var ne=this._chooseSplitIndex(he,se,xe),re=Ee(he.children.splice(ne,he.children.length-ne));re.height=he.height,re.leaf=he.leaf,d(he,this.toBBox),d(re,this.toBBox),ve?Q[ve-1].children.push(re):this._splitRoot(he,re)},I.prototype._splitRoot=function(Q,ve){this.data=Ee([Q,ve]),this.data.height=Q.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},I.prototype._chooseSplitIndex=function(Q,ve,he){for(var xe,se,ne,re,fe,we,ae,ct=1/0,Fe=1/0,Je=ve;Je<=he-ve;Je++){var Te=O(Q,0,Je,this.toBBox),Xt=O(Q,Je,he,this.toBBox),Pt=(se=Te,ne=Xt,void 0,void 0,void 0,void 0,re=Math.max(se.minX,ne.minX),fe=Math.max(se.minY,ne.minY),we=Math.min(se.maxX,ne.maxX),ae=Math.min(se.maxY,ne.maxY),Math.max(0,we-re)*Math.max(0,ae-fe)),Ge=ie(Te)+ie(Xt);Pt<ct?(ct=Pt,xe=Je,Fe=Ge<Fe?Ge:Fe):Pt===ct&&Ge<Fe&&(Fe=Ge,xe=Je)}return xe||he-ve},I.prototype._chooseSplitAxis=function(Q,ve,he){var xe=Q.leaf?this.compareMinX:q,se=Q.leaf?this.compareMinY:W;this._allDistMargin(Q,ve,he,xe)<this._allDistMargin(Q,ve,he,se)&&Q.children.sort(xe)},I.prototype._allDistMargin=function(Q,ve,he,xe){Q.children.sort(xe);for(var se=this.toBBox,ne=O(Q,0,ve,se),re=O(Q,he-ve,he,se),fe=Le(ne)+Le(re),we=ve;we<he-ve;we++){var ae=Q.children[we];H(ne,Q.leaf?se(ae):ae),fe+=Le(ne)}for(var ct=he-ve-1;ct>=ve;ct--){var Fe=Q.children[ct];H(re,Q.leaf?se(Fe):Fe),fe+=Le(re)}return fe},I.prototype._adjustParentBBoxes=function(Q,ve,he){for(var xe=he;xe>=0;xe--)H(ve[xe],Q)},I.prototype._condense=function(Q){for(var ve=Q.length-1,he=void 0;ve>=0;ve--)0===Q[ve].children.length?ve>0?(he=Q[ve-1].children).splice(he.indexOf(Q[ve]),1):this.clear():d(Q[ve],this.toBBox)},I}()},6952:(Ve,Ce,$)=>{var B=$(1356),I=$(3407),F=$(2e3),d=$(2342),O=$(9235),H=$(2374),q=Date.prototype.getTime;function ie(qe){return null==qe}function Le(qe){return!(!qe||"object"!=typeof qe||"number"!=typeof qe.length||"function"!=typeof qe.copy||"function"!=typeof qe.slice||qe.length>0&&"number"!=typeof qe[0])}Ve.exports=function W(qe,Ee,it){var Q=it||{};return!!(Q.strict?F(qe,Ee):qe===Ee)||(!qe||!Ee||"object"!=typeof qe&&"object"!=typeof Ee?Q.strict?F(qe,Ee):qe==Ee:function rt(qe,Ee,it){var Q,ve;if(typeof qe!=typeof Ee||ie(qe)||ie(Ee)||qe.prototype!==Ee.prototype||I(qe)!==I(Ee))return!1;var he=d(qe),xe=d(Ee);if(he!==xe)return!1;if(he||xe)return qe.source===Ee.source&&O(qe)===O(Ee);if(H(qe)&&H(Ee))return q.call(qe)===q.call(Ee);var se=Le(qe),ne=Le(Ee);if(se!==ne)return!1;if(se||ne){if(qe.length!==Ee.length)return!1;for(Q=0;Q<qe.length;Q++)if(qe[Q]!==Ee[Q])return!1;return!0}if(typeof qe!=typeof Ee)return!1;try{var re=B(qe),fe=B(Ee)}catch(we){return!1}if(re.length!==fe.length)return!1;for(re.sort(),fe.sort(),Q=re.length-1;Q>=0;Q--)if(re[Q]!=fe[Q])return!1;for(Q=re.length-1;Q>=0;Q--)if(!W(qe[ve=re[Q]],Ee[ve],it))return!1;return!0}(qe,Ee,Q))}},2358:(Ve,Ce,$)=>{"use strict";var B=$(1356),I="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),F=Object.prototype.toString,d=Array.prototype.concat,O=Object.defineProperty,W=O&&function(){var rt={};try{for(var qe in O(rt,"x",{enumerable:!1,value:rt}),rt)return!1;return rt.x===rt}catch(Ee){return!1}}(),ie=function(rt,qe,Ee,it){qe in rt&&(!function(rt){return"function"==typeof rt&&"[object Function]"===F.call(rt)}(it)||!it())||(W?O(rt,qe,{configurable:!0,enumerable:!1,value:Ee,writable:!0}):rt[qe]=Ee)},Le=function(rt,qe){var Ee=arguments.length>2?arguments[2]:{},it=B(qe);I&&(it=d.call(it,Object.getOwnPropertySymbols(qe)));for(var Q=0;Q<it.length;Q+=1)ie(rt,it[Q],qe[it[Q]],Ee[it[Q]])};Le.supportsDescriptors=!!W,Ve.exports=Le},1817:Ve=>{function Ce($,B,I,F){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init($,B,I,F)}Ce.prototype.run=function($,B,I,F){this._init($,B,I,F);for(var d=0;d<this._datasetLength;d++)if(1!==this._visited[d]){this._visited[d]=1;var O=this._regionQuery(d);if(O.length<this.minPts)this.noise.push(d);else{var H=this.clusters.length;this.clusters.push([]),this._addToCluster(d,H),this._expandCluster(H,O)}}return this.clusters},Ce.prototype._init=function($,B,I,F){if($){if(!($ instanceof Array))throw Error("Dataset must be of type array, "+typeof $+" given");this.dataset=$,this.clusters=[],this.noise=[],this._datasetLength=$.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}B&&(this.epsilon=B),I&&(this.minPts=I),F&&(this.distance=F)},Ce.prototype._expandCluster=function($,B){for(var I=0;I<B.length;I++){var F=B[I];if(1!==this._visited[F]){this._visited[F]=1;var d=this._regionQuery(F);d.length>=this.minPts&&(B=this._mergeArrays(B,d))}1!==this._assigned[F]&&this._addToCluster(F,$)}},Ce.prototype._addToCluster=function($,B){this.clusters[B].push($),this._assigned[$]=1},Ce.prototype._regionQuery=function($){for(var B=[],I=0;I<this._datasetLength;I++)this.distance(this.dataset[$],this.dataset[I])<this.epsilon&&B.push(I);return B},Ce.prototype._mergeArrays=function($,B){for(var I=B.length,F=0;F<I;F++){var d=B[F];$.indexOf(d)<0&&$.push(d)}return $},Ce.prototype._euclideanDistance=function($,B){for(var I=0,F=Math.min($.length,B.length);F--;)I+=($[F]-B[F])*($[F]-B[F]);return Math.sqrt(I)},Ve.exports&&(Ve.exports=Ce)},4273:Ve=>{function Ce($,B,I){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init($,B,I)}Ce.prototype.init=function($,B,I){this.assignments=[],this.centroids=[],void 0!==$&&(this.dataset=$),void 0!==B&&(this.k=B),void 0!==I&&(this.distance=I)},Ce.prototype.run=function($,B){this.init($,B);for(var I=this.dataset.length,F=0;F<this.k;F++)this.centroids[F]=this.randomCentroid();for(var d=!0;d;){d=this.assign();for(var O=0;O<this.k;O++){for(var H=new Array(Le),q=0,W=0;W<Le;W++)H[W]=0;for(var ie=0;ie<I;ie++){var Le=this.dataset[ie].length;if(O===this.assignments[ie]){for(W=0;W<Le;W++)H[W]+=this.dataset[ie][W];q++}}if(q>0){for(W=0;W<Le;W++)H[W]/=q;this.centroids[O]=H}else this.centroids[O]=this.randomCentroid(),d=!0}}return this.getClusters()},Ce.prototype.randomCentroid=function(){var B,I,$=this.dataset.length-1;do{I=Math.round(Math.random()*$),B=this.dataset[I]}while(this.centroids.indexOf(B)>=0);return B},Ce.prototype.assign=function(){for(var I,$=!1,B=this.dataset.length,F=0;F<B;F++)(I=this.argmin(this.dataset[F],this.centroids,this.distance))!=this.assignments[F]&&(this.assignments[F]=I,$=!0);return $},Ce.prototype.getClusters=function(){for(var B,$=new Array(this.k),I=0;I<this.assignments.length;I++)void 0===$[B=this.assignments[I]]&&($[B]=[]),$[B].push(I);return $},Ce.prototype.argmin=function($,B,I){for(var H,F=Number.MAX_VALUE,d=0,O=B.length,q=0;q<O;q++)(H=I($,B[q]))<F&&(F=H,d=q);return d},Ce.prototype.distance=function($,B){for(var I=0,F=Math.min($.length,B.length);F--;){var d=$[F]-B[F];I+=d*d}return Math.sqrt(I)},Ve.exports&&(Ve.exports=Ce)},8680:(Ve,Ce,$)=>{if(Ve.exports)var B=$(8759);function I(F,d,O,H){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(F,d,O,H)}I.prototype.run=function(F,d,O,H){this._init(F,d,O,H);for(var q=0,W=this.dataset.length;q<W;q++)if(1!==this._processed[q]){this._processed[q]=1,this.clusters.push([q]);var ie=this.clusters.length-1;this._orderedList.push(q);var Le=new B(null,null,"asc"),rt=this._regionQuery(q);void 0!==this._distanceToCore(q)&&(this._updateQueue(q,rt,Le),this._expandCluster(ie,Le))}return this.clusters},I.prototype.getReachabilityPlot=function(){for(var F=[],d=0,O=this._orderedList.length;d<O;d++){var H=this._orderedList[d];F.push([H,this._reachability[H]])}return F},I.prototype._init=function(F,d,O,H){if(F){if(!(F instanceof Array))throw Error("Dataset must be of type array, "+typeof F+" given");this.dataset=F,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}d&&(this.epsilon=d),O&&(this.minPts=O),H&&(this.distance=H)},I.prototype._updateQueue=function(F,d,O){var H=this;this._coreDistance=this._distanceToCore(F),d.forEach(function(q){if(void 0===H._processed[q]){var W=H.distance(H.dataset[F],H.dataset[q]),ie=Math.max(H._coreDistance,W);void 0===H._reachability[q]?(H._reachability[q]=ie,O.insert(q,ie)):ie<H._reachability[q]&&(H._reachability[q]=ie,O.remove(q),O.insert(q,ie))}})},I.prototype._expandCluster=function(F,d){for(var O=d.getElements(),H=0,q=O.length;H<q;H++){var W=O[H];if(void 0===this._processed[W]){var ie=this._regionQuery(W);this._processed[W]=1,this.clusters[F].push(W),this._orderedList.push(W),void 0!==this._distanceToCore(W)&&(this._updateQueue(W,ie,d),this._expandCluster(F,d))}}},I.prototype._distanceToCore=function(F){for(var d=this.epsilon,O=0;O<d;O++)if(this._regionQuery(F,O).length>=this.minPts)return O},I.prototype._regionQuery=function(F,d){d=d||this.epsilon;for(var O=[],H=0,q=this.dataset.length;H<q;H++)this.distance(this.dataset[F],this.dataset[H])<d&&O.push(H);return O},I.prototype._euclideanDistance=function(F,d){for(var O=0,H=Math.min(F.length,d.length);H--;)O+=(F[H]-d[H])*(F[H]-d[H]);return Math.sqrt(O)},Ve.exports&&(Ve.exports=I)},8759:Ve=>{function Ce($,B,I){this._queue=[],this._priorities=[],this._sorting="desc",this._init($,B,I)}Ce.prototype.insert=function($,B){for(var I=this._queue.length,F=I;F--;){var d=this._priorities[F];"desc"===this._sorting?B>d&&(I=F):B<d&&(I=F)}this._insertAt($,B,I)},Ce.prototype.remove=function($){for(var B=this._queue.length;B--;)if($===this._queue[B]){this._queue.splice(B,1),this._priorities.splice(B,1);break}},Ce.prototype.forEach=function($){this._queue.forEach($)},Ce.prototype.getElements=function(){return this._queue},Ce.prototype.getElementPriority=function($){return this._priorities[$]},Ce.prototype.getPriorities=function(){return this._priorities},Ce.prototype.getElementsWithPriorities=function(){for(var $=[],B=0,I=this._queue.length;B<I;B++)$.push([this._queue[B],this._priorities[B]]);return $},Ce.prototype._init=function($,B,I){if($&&B){if(this._queue=[],this._priorities=[],$.length!==B.length)throw new Error("Arrays must have the same length");for(var F=0;F<$.length;F++)this.insert($[F],B[F])}I&&(this._sorting=I)},Ce.prototype._insertAt=function($,B,I){this._queue.length===I?(this._queue.push($),this._priorities.push(B)):(this._queue.splice(I,0,$),this._priorities.splice(I,0,B))},Ve.exports&&(Ve.exports=Ce)},7470:(Ve,Ce,$)=>{Ve.exports&&(Ve.exports={DBSCAN:$(1817),KMEANS:$(4273),OPTICS:$(8680),PriorityQueue:$(8759)})},5469:Ve=>{"use strict";function Ce(Ge,Mt,tt){tt=tt||2;var Ht,_n,bt,Qn,fn,Pn,Sn,xt=Mt&&Mt.length,gt=xt?Mt[0]*tt:Ge.length,Re=$(Ge,0,gt,tt,!0),Yt=[];if(!Re||Re.next===Re.prev)return Yt;if(xt&&(Re=function q(Ge,Mt,tt,xt){var Re,Yt,bt,gt=[];for(Re=0,Yt=Mt.length;Re<Yt;Re++)(bt=$(Ge,Mt[Re]*xt,Re<Yt-1?Mt[Re+1]*xt:Ge.length,xt,!1))===bt.next&&(bt.steiner=!0),gt.push(Q(bt));for(gt.sort(W),Re=0;Re<gt.length;Re++)tt=B(tt=ie(gt[Re],tt),tt.next);return tt}(Ge,Mt,Re,tt)),Ge.length>80*tt){Ht=bt=Ge[0],_n=Qn=Ge[1];for(var On=tt;On<gt;On+=tt)(fn=Ge[On])<Ht&&(Ht=fn),(Pn=Ge[On+1])<_n&&(_n=Pn),fn>bt&&(bt=fn),Pn>Qn&&(Qn=Pn);Sn=0!==(Sn=Math.max(bt-Ht,Qn-_n))?1/Sn:0}return I(Re,Yt,tt,Ht,_n,Sn),Yt}function $(Ge,Mt,tt,xt,gt){var Re,Yt;if(gt===Pt(Ge,Mt,tt,xt)>0)for(Re=Mt;Re<tt;Re+=xt)Yt=Je(Re,Ge[Re],Ge[Re+1],Yt);else for(Re=tt-xt;Re>=Mt;Re-=xt)Yt=Je(Re,Ge[Re],Ge[Re+1],Yt);return Yt&&se(Yt,Yt.next)&&(Te(Yt),Yt=Yt.next),Yt}function B(Ge,Mt){if(!Ge)return Ge;Mt||(Mt=Ge);var xt,tt=Ge;do{if(xt=!1,tt.steiner||!se(tt,tt.next)&&0!==xe(tt.prev,tt,tt.next))tt=tt.next;else{if(Te(tt),(tt=Mt=tt.prev)===tt.next)break;xt=!0}}while(xt||tt!==Mt);return Mt}function I(Ge,Mt,tt,xt,gt,Re,Yt){if(Ge){!Yt&&Re&&function qe(Ge,Mt,tt,xt){var gt=Ge;do{null===gt.z&&(gt.z=it(gt.x,gt.y,Mt,tt,xt)),gt.prevZ=gt.prev,gt.nextZ=gt.next,gt=gt.next}while(gt!==Ge);gt.prevZ.nextZ=null,gt.prevZ=null,function Ee(Ge){var Mt,tt,xt,gt,Re,Yt,Ht,_n,bt=1;do{for(tt=Ge,Ge=null,Re=null,Yt=0;tt;){for(Yt++,xt=tt,Ht=0,Mt=0;Mt<bt&&(Ht++,xt=xt.nextZ);Mt++);for(_n=bt;Ht>0||_n>0&&xt;)0!==Ht&&(0===_n||!xt||tt.z<=xt.z)?(gt=tt,tt=tt.nextZ,Ht--):(gt=xt,xt=xt.nextZ,_n--),Re?Re.nextZ=gt:Ge=gt,gt.prevZ=Re,Re=gt;tt=xt}Re.nextZ=null,bt*=2}while(Yt>1)}(gt)}(Ge,xt,gt,Re);for(var _n,bt,Ht=Ge;Ge.prev!==Ge.next;)if(_n=Ge.prev,bt=Ge.next,Re?d(Ge,xt,gt,Re):F(Ge))Mt.push(_n.i/tt),Mt.push(Ge.i/tt),Mt.push(bt.i/tt),Te(Ge),Ge=bt.next,Ht=bt.next;else if((Ge=bt)===Ht){Yt?1===Yt?I(Ge=O(B(Ge),Mt,tt),Mt,tt,xt,gt,Re,2):2===Yt&&H(Ge,Mt,tt,xt,gt,Re):I(B(Ge),Mt,tt,xt,gt,Re,1);break}}}function F(Ge){var Mt=Ge.prev,tt=Ge,xt=Ge.next;if(xe(Mt,tt,xt)>=0)return!1;for(var gt=Ge.next.next;gt!==Ge.prev;){if(ve(Mt.x,Mt.y,tt.x,tt.y,xt.x,xt.y,gt.x,gt.y)&&xe(gt.prev,gt,gt.next)>=0)return!1;gt=gt.next}return!0}function d(Ge,Mt,tt,xt){var gt=Ge.prev,Re=Ge,Yt=Ge.next;if(xe(gt,Re,Yt)>=0)return!1;for(var bt=gt.x>Re.x?gt.x>Yt.x?gt.x:Yt.x:Re.x>Yt.x?Re.x:Yt.x,Qn=gt.y>Re.y?gt.y>Yt.y?gt.y:Yt.y:Re.y>Yt.y?Re.y:Yt.y,fn=it(gt.x<Re.x?gt.x<Yt.x?gt.x:Yt.x:Re.x<Yt.x?Re.x:Yt.x,gt.y<Re.y?gt.y<Yt.y?gt.y:Yt.y:Re.y<Yt.y?Re.y:Yt.y,Mt,tt,xt),Pn=it(bt,Qn,Mt,tt,xt),Sn=Ge.prevZ,On=Ge.nextZ;Sn&&Sn.z>=fn&&On&&On.z<=Pn;){if(Sn!==Ge.prev&&Sn!==Ge.next&&ve(gt.x,gt.y,Re.x,Re.y,Yt.x,Yt.y,Sn.x,Sn.y)&&xe(Sn.prev,Sn,Sn.next)>=0||(Sn=Sn.prevZ,On!==Ge.prev&&On!==Ge.next&&ve(gt.x,gt.y,Re.x,Re.y,Yt.x,Yt.y,On.x,On.y)&&xe(On.prev,On,On.next)>=0))return!1;On=On.nextZ}for(;Sn&&Sn.z>=fn;){if(Sn!==Ge.prev&&Sn!==Ge.next&&ve(gt.x,gt.y,Re.x,Re.y,Yt.x,Yt.y,Sn.x,Sn.y)&&xe(Sn.prev,Sn,Sn.next)>=0)return!1;Sn=Sn.prevZ}for(;On&&On.z<=Pn;){if(On!==Ge.prev&&On!==Ge.next&&ve(gt.x,gt.y,Re.x,Re.y,Yt.x,Yt.y,On.x,On.y)&&xe(On.prev,On,On.next)>=0)return!1;On=On.nextZ}return!0}function O(Ge,Mt,tt){var xt=Ge;do{var gt=xt.prev,Re=xt.next.next;!se(gt,Re)&&ne(gt,xt,xt.next,Re)&&ae(gt,Re)&&ae(Re,gt)&&(Mt.push(gt.i/tt),Mt.push(xt.i/tt),Mt.push(Re.i/tt),Te(xt),Te(xt.next),xt=Ge=Re),xt=xt.next}while(xt!==Ge);return B(xt)}function H(Ge,Mt,tt,xt,gt,Re){var Yt=Ge;do{for(var Ht=Yt.next.next;Ht!==Yt.prev;){if(Yt.i!==Ht.i&&he(Yt,Ht)){var _n=Fe(Yt,Ht);return Yt=B(Yt,Yt.next),_n=B(_n,_n.next),I(Yt,Mt,tt,xt,gt,Re),void I(_n,Mt,tt,xt,gt,Re)}Ht=Ht.next}Yt=Yt.next}while(Yt!==Ge)}function W(Ge,Mt){return Ge.x-Mt.x}function ie(Ge,Mt){var tt=function Le(Ge,Mt){var Yt,tt=Mt,xt=Ge.x,gt=Ge.y,Re=-1/0;do{if(gt<=tt.y&&gt>=tt.next.y&&tt.next.y!==tt.y){var Ht=tt.x+(gt-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(Ht<=xt&&Ht>Re){if(Re=Ht,Ht===xt){if(gt===tt.y)return tt;if(gt===tt.next.y)return tt.next}Yt=tt.x<tt.next.x?tt:tt.next}}tt=tt.next}while(tt!==Mt);if(!Yt)return null;if(xt===Re)return Yt;var Pn,_n=Yt,bt=Yt.x,Qn=Yt.y,fn=1/0;tt=Yt;do{xt>=tt.x&&tt.x>=bt&&xt!==tt.x&&ve(gt<Qn?xt:Re,gt,bt,Qn,gt<Qn?Re:xt,gt,tt.x,tt.y)&&(Pn=Math.abs(gt-tt.y)/(xt-tt.x),ae(tt,Ge)&&(Pn<fn||Pn===fn&&(tt.x>Yt.x||tt.x===Yt.x&&rt(Yt,tt)))&&(Yt=tt,fn=Pn)),tt=tt.next}while(tt!==_n);return Yt}(Ge,Mt);if(!tt)return Mt;var xt=Fe(tt,Ge),gt=B(tt,tt.next);return B(xt,xt.next),Mt===tt?gt:Mt}function rt(Ge,Mt){return xe(Ge.prev,Ge,Mt.prev)<0&&xe(Mt.next,Ge,Ge.next)<0}function it(Ge,Mt,tt,xt,gt){return(Ge=1431655765&((Ge=858993459&((Ge=252645135&((Ge=16711935&((Ge=32767*(Ge-tt)*gt)|Ge<<8))|Ge<<4))|Ge<<2))|Ge<<1))|(Mt=1431655765&((Mt=858993459&((Mt=252645135&((Mt=16711935&((Mt=32767*(Mt-xt)*gt)|Mt<<8))|Mt<<4))|Mt<<2))|Mt<<1))<<1}function Q(Ge){var Mt=Ge,tt=Ge;do{(Mt.x<tt.x||Mt.x===tt.x&&Mt.y<tt.y)&&(tt=Mt),Mt=Mt.next}while(Mt!==Ge);return tt}function ve(Ge,Mt,tt,xt,gt,Re,Yt,Ht){return(gt-Yt)*(Mt-Ht)-(Ge-Yt)*(Re-Ht)>=0&&(Ge-Yt)*(xt-Ht)-(tt-Yt)*(Mt-Ht)>=0&&(tt-Yt)*(Re-Ht)-(gt-Yt)*(xt-Ht)>=0}function he(Ge,Mt){return Ge.next.i!==Mt.i&&Ge.prev.i!==Mt.i&&!function we(Ge,Mt){var tt=Ge;do{if(tt.i!==Ge.i&&tt.next.i!==Ge.i&&tt.i!==Mt.i&&tt.next.i!==Mt.i&&ne(tt,tt.next,Ge,Mt))return!0;tt=tt.next}while(tt!==Ge);return!1}(Ge,Mt)&&(ae(Ge,Mt)&&ae(Mt,Ge)&&function ct(Ge,Mt){var tt=Ge,xt=!1,gt=(Ge.x+Mt.x)/2,Re=(Ge.y+Mt.y)/2;do{tt.y>Re!=tt.next.y>Re&&tt.next.y!==tt.y&&gt<(tt.next.x-tt.x)*(Re-tt.y)/(tt.next.y-tt.y)+tt.x&&(xt=!xt),tt=tt.next}while(tt!==Ge);return xt}(Ge,Mt)&&(xe(Ge.prev,Ge,Mt.prev)||xe(Ge,Mt.prev,Mt))||se(Ge,Mt)&&xe(Ge.prev,Ge,Ge.next)>0&&xe(Mt.prev,Mt,Mt.next)>0)}function xe(Ge,Mt,tt){return(Mt.y-Ge.y)*(tt.x-Mt.x)-(Mt.x-Ge.x)*(tt.y-Mt.y)}function se(Ge,Mt){return Ge.x===Mt.x&&Ge.y===Mt.y}function ne(Ge,Mt,tt,xt){var gt=fe(xe(Ge,Mt,tt)),Re=fe(xe(Ge,Mt,xt)),Yt=fe(xe(tt,xt,Ge)),Ht=fe(xe(tt,xt,Mt));return!!(gt!==Re&&Yt!==Ht||0===gt&&re(Ge,tt,Mt)||0===Re&&re(Ge,xt,Mt)||0===Yt&&re(tt,Ge,xt)||0===Ht&&re(tt,Mt,xt))}function re(Ge,Mt,tt){return Mt.x<=Math.max(Ge.x,tt.x)&&Mt.x>=Math.min(Ge.x,tt.x)&&Mt.y<=Math.max(Ge.y,tt.y)&&Mt.y>=Math.min(Ge.y,tt.y)}function fe(Ge){return Ge>0?1:Ge<0?-1:0}function ae(Ge,Mt){return xe(Ge.prev,Ge,Ge.next)<0?xe(Ge,Mt,Ge.next)>=0&&xe(Ge,Ge.prev,Mt)>=0:xe(Ge,Mt,Ge.prev)<0||xe(Ge,Ge.next,Mt)<0}function Fe(Ge,Mt){var tt=new Xt(Ge.i,Ge.x,Ge.y),xt=new Xt(Mt.i,Mt.x,Mt.y),gt=Ge.next,Re=Mt.prev;return Ge.next=Mt,Mt.prev=Ge,tt.next=gt,gt.prev=tt,xt.next=tt,tt.prev=xt,Re.next=xt,xt.prev=Re,xt}function Je(Ge,Mt,tt,xt){var gt=new Xt(Ge,Mt,tt);return xt?(gt.next=xt.next,gt.prev=xt,xt.next.prev=gt,xt.next=gt):(gt.prev=gt,gt.next=gt),gt}function Te(Ge){Ge.next.prev=Ge.prev,Ge.prev.next=Ge.next,Ge.prevZ&&(Ge.prevZ.nextZ=Ge.nextZ),Ge.nextZ&&(Ge.nextZ.prevZ=Ge.prevZ)}function Xt(Ge,Mt,tt){this.i=Ge,this.x=Mt,this.y=tt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pt(Ge,Mt,tt,xt){for(var gt=0,Re=Mt,Yt=tt-xt;Re<tt;Re+=xt)gt+=(Ge[Yt]-Ge[Re])*(Ge[Re+1]+Ge[Yt+1]),Yt=Re;return gt}Ve.exports=Ce,Ve.exports.default=Ce,Ce.deviation=function(Ge,Mt,tt,xt){var gt=Mt&&Mt.length,Yt=Math.abs(Pt(Ge,0,gt?Mt[0]*tt:Ge.length,tt));if(gt)for(var Ht=0,_n=Mt.length;Ht<_n;Ht++)Yt-=Math.abs(Pt(Ge,Mt[Ht]*tt,Ht<_n-1?Mt[Ht+1]*tt:Ge.length,tt));var fn=0;for(Ht=0;Ht<xt.length;Ht+=3){var Pn=xt[Ht]*tt,Sn=xt[Ht+1]*tt,On=xt[Ht+2]*tt;fn+=Math.abs((Ge[Pn]-Ge[On])*(Ge[Sn+1]-Ge[Pn+1])-(Ge[Pn]-Ge[Sn])*(Ge[On+1]-Ge[Pn+1]))}return 0===Yt&&0===fn?0:Math.abs((fn-Yt)/Yt)},Ce.flatten=function(Ge){for(var Mt=Ge[0][0].length,tt={vertices:[],holes:[],dimensions:Mt},xt=0,gt=0;gt<Ge.length;gt++){for(var Re=0;Re<Ge[gt].length;Re++)for(var Yt=0;Yt<Mt;Yt++)tt.vertices.push(Ge[gt][Re][Yt]);gt>0&&tt.holes.push(xt+=Ge[gt-1].length)}return tt}},9069:Ve=>{"use strict";var B,Ce="object"==typeof Reflect?Reflect:null,$=Ce&&"function"==typeof Ce.apply?Ce.apply:function(ne,re,fe){return Function.prototype.apply.call(ne,re,fe)};B=Ce&&"function"==typeof Ce.ownKeys?Ce.ownKeys:Object.getOwnPropertySymbols?function(ne){return Object.getOwnPropertyNames(ne).concat(Object.getOwnPropertySymbols(ne))}:function(ne){return Object.getOwnPropertyNames(ne)};var F=Number.isNaN||function(ne){return ne!=ne};function d(){d.init.call(this)}Ve.exports=d,Ve.exports.once=function ve(se,ne){return new Promise(function(re,fe){function we(ct){se.removeListener(ne,ae),fe(ct)}function ae(){"function"==typeof se.removeListener&&se.removeListener("error",we),re([].slice.call(arguments))}xe(se,ne,ae,{once:!0}),"error"!==ne&&function he(se,ne,re){"function"==typeof se.on&&xe(se,"error",ne,re)}(se,we,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var O=10;function H(se){if("function"!=typeof se)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof se)}function q(se){return void 0===se._maxListeners?d.defaultMaxListeners:se._maxListeners}function W(se,ne,re,fe){var we,ae,ct;if(H(re),void 0===(ae=se._events)?(ae=se._events=Object.create(null),se._eventsCount=0):(void 0!==ae.newListener&&(se.emit("newListener",ne,re.listener?re.listener:re),ae=se._events),ct=ae[ne]),void 0===ct)ct=ae[ne]=re,++se._eventsCount;else if("function"==typeof ct?ct=ae[ne]=fe?[re,ct]:[ct,re]:fe?ct.unshift(re):ct.push(re),(we=q(se))>0&&ct.length>we&&!ct.warned){ct.warned=!0;var Fe=new Error("Possible EventEmitter memory leak detected. "+ct.length+" "+String(ne)+" listeners added. Use emitter.setMaxListeners() to increase limit");Fe.name="MaxListenersExceededWarning",Fe.emitter=se,Fe.type=ne,Fe.count=ct.length,function I(se){console&&console.warn&&console.warn(se)}(Fe)}return se}function ie(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Le(se,ne,re){var fe={fired:!1,wrapFn:void 0,target:se,type:ne,listener:re},we=ie.bind(fe);return we.listener=re,fe.wrapFn=we,we}function rt(se,ne,re){var fe=se._events;if(void 0===fe)return[];var we=fe[ne];return void 0===we?[]:"function"==typeof we?re?[we.listener||we]:[we]:re?function Q(se){for(var ne=new Array(se.length),re=0;re<ne.length;++re)ne[re]=se[re].listener||se[re];return ne}(we):Ee(we,we.length)}function qe(se){var ne=this._events;if(void 0!==ne){var re=ne[se];if("function"==typeof re)return 1;if(void 0!==re)return re.length}return 0}function Ee(se,ne){for(var re=new Array(ne),fe=0;fe<ne;++fe)re[fe]=se[fe];return re}function xe(se,ne,re,fe){if("function"==typeof se.on)fe.once?se.once(ne,re):se.on(ne,re);else{if("function"!=typeof se.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof se);se.addEventListener(ne,function we(ae){fe.once&&se.removeEventListener(ne,we),re(ae)})}}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return O},set:function(se){if("number"!=typeof se||se<0||F(se))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+se+".");O=se}}),d.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(ne){if("number"!=typeof ne||ne<0||F(ne))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ne+".");return this._maxListeners=ne,this},d.prototype.getMaxListeners=function(){return q(this)},d.prototype.emit=function(ne){for(var re=[],fe=1;fe<arguments.length;fe++)re.push(arguments[fe]);var we="error"===ne,ae=this._events;if(void 0!==ae)we=we&&void 0===ae.error;else if(!we)return!1;if(we){var ct;if(re.length>0&&(ct=re[0]),ct instanceof Error)throw ct;var Fe=new Error("Unhandled error."+(ct?" ("+ct.message+")":""));throw Fe.context=ct,Fe}var Je=ae[ne];if(void 0===Je)return!1;if("function"==typeof Je)$(Je,this,re);else{var Te=Je.length,Xt=Ee(Je,Te);for(fe=0;fe<Te;++fe)$(Xt[fe],this,re)}return!0},d.prototype.on=d.prototype.addListener=function(ne,re){return W(this,ne,re,!1)},d.prototype.prependListener=function(ne,re){return W(this,ne,re,!0)},d.prototype.once=function(ne,re){return H(re),this.on(ne,Le(this,ne,re)),this},d.prototype.prependOnceListener=function(ne,re){return H(re),this.prependListener(ne,Le(this,ne,re)),this},d.prototype.off=d.prototype.removeListener=function(ne,re){var fe,we,ae,ct,Fe;if(H(re),void 0===(we=this._events))return this;if(void 0===(fe=we[ne]))return this;if(fe===re||fe.listener===re)0==--this._eventsCount?this._events=Object.create(null):(delete we[ne],we.removeListener&&this.emit("removeListener",ne,fe.listener||re));else if("function"!=typeof fe){for(ae=-1,ct=fe.length-1;ct>=0;ct--)if(fe[ct]===re||fe[ct].listener===re){Fe=fe[ct].listener,ae=ct;break}if(ae<0)return this;0===ae?fe.shift():function it(se,ne){for(;ne+1<se.length;ne++)se[ne]=se[ne+1];se.pop()}(fe,ae),1===fe.length&&(we[ne]=fe[0]),void 0!==we.removeListener&&this.emit("removeListener",ne,Fe||re)}return this},d.prototype.removeAllListeners=function(ne){var re,fe,we;if(void 0===(fe=this._events))return this;if(void 0===fe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==fe[ne]&&(0==--this._eventsCount?this._events=Object.create(null):delete fe[ne]),this;if(0===arguments.length){var ct,ae=Object.keys(fe);for(we=0;we<ae.length;++we)"removeListener"!==(ct=ae[we])&&this.removeAllListeners(ct);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(re=fe[ne]))this.removeListener(ne,re);else if(void 0!==re)for(we=re.length-1;we>=0;we--)this.removeListener(ne,re[we]);return this},d.prototype.listeners=function(ne){return rt(this,ne,!0)},d.prototype.rawListeners=function(ne){return rt(this,ne,!1)},d.listenerCount=function(se,ne){return"function"==typeof se.listenerCount?se.listenerCount(ne):qe.call(se,ne)},d.prototype.listenerCount=qe,d.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},3457:Ve=>{"use strict";var Ce="Function.prototype.bind called on incompatible ",$=Array.prototype.slice,B=Object.prototype.toString,I="[object Function]";Ve.exports=function(d){var O=this;if("function"!=typeof O||B.call(O)!==I)throw new TypeError(Ce+O);for(var q,H=$.call(arguments,1),W=function(){if(this instanceof q){var Ee=O.apply(this,H.concat($.call(arguments)));return Object(Ee)===Ee?Ee:this}return O.apply(d,H.concat($.call(arguments)))},ie=Math.max(0,O.length-H.length),Le=[],rt=0;rt<ie;rt++)Le.push("$"+rt);if(q=Function("binder","return function ("+Le.join(",")+"){ return binder.apply(this,arguments); }")(W),O.prototype){var qe=function(){};qe.prototype=O.prototype,q.prototype=new qe,qe.prototype=null}return q}},4444:(Ve,Ce,$)=>{"use strict";var B=$(3457);Ve.exports=Function.prototype.bind||B},5780:Ve=>{var $;Ve.exports=$={},$.simpleFilter=function(B,I){return I.filter(function(F){return $.test(B,F)})},$.test=function(B,I){return null!==$.match(B,I)},$.match=function(B,I,F){var qe,d=0,O=[],H=I.length,q=0,W=0,ie=(F=F||{}).pre||"",Le=F.post||"",rt=F.caseSensitive&&I||I.toLowerCase();B=F.caseSensitive&&B||B.toLowerCase();for(var Ee=0;Ee<H;Ee++)qe=I[Ee],rt[Ee]===B[d]?(qe=ie+qe+Le,d+=1,W+=1+W):W=0,q+=W,O[O.length]=qe;return d===B.length?(q=rt===B?1/0:q,{rendered:O.join(""),score:q}):null},$.filter=function(B,I,F){return I&&0!==I.length?"string"!=typeof B?I:(F=F||{},I.reduce(function(d,O,H,q){var W=O;F.extract&&(W=F.extract(O));var ie=$.match(B,W,F);return null!=ie&&(d[d.length]={string:ie.rendered,score:ie.score,index:H,original:O}),d},[]).sort(function(d,O){return O.score-d.score||d.index-O.index})):[]}},5013:(Ve,Ce,$)=>{var B=$(6952),I=function(H){this.precision=H&&H.precision?H.precision:17,this.direction=!(!H||!H.direction)&&H.direction,this.pseudoNode=!(!H||!H.pseudoNode)&&H.pseudoNode,this.objectComparator=H&&H.objectComparator?H.objectComparator:O};function F(H){return H.coordinates.map(function(q){return{type:H.type.replace("Multi",""),coordinates:q}})}function d(H,q){return H.hasOwnProperty("coordinates")?H.coordinates.length===q.coordinates.length:H.length===q.length}function O(H,q){return B(H,q,{strict:!0})}I.prototype.compare=function(H,q){if(H.type!==q.type||!d(H,q))return!1;switch(H.type){case"Point":return this.compareCoord(H.coordinates,q.coordinates);case"LineString":return this.compareLine(H.coordinates,q.coordinates,0,!1);case"Polygon":return this.comparePolygon(H,q);case"Feature":return this.compareFeature(H,q);default:if(0===H.type.indexOf("Multi")){var W=this,ie=F(H),Le=F(q);return ie.every(function(rt){return this.some(function(qe){return W.compare(rt,qe)})},Le)}}return!1},I.prototype.compareCoord=function(H,q){if(H.length!==q.length)return!1;for(var W=0;W<H.length;W++)if(H[W].toFixed(this.precision)!==q[W].toFixed(this.precision))return!1;return!0},I.prototype.compareLine=function(H,q,W,ie){if(!d(H,q))return!1;var Le=this.pseudoNode?H:this.removePseudo(H),rt=this.pseudoNode?q:this.removePseudo(q);if(!ie||this.compareCoord(Le[0],rt[0])||(rt=this.fixStartIndex(rt,Le))){var qe=this.compareCoord(Le[W],rt[W]);return this.direction||qe?this.comparePath(Le,rt):!!this.compareCoord(Le[W],rt[rt.length-(1+W)])&&this.comparePath(Le.slice().reverse(),rt)}},I.prototype.fixStartIndex=function(H,q){for(var W,ie=-1,Le=0;Le<H.length;Le++)if(this.compareCoord(H[Le],q[0])){ie=Le;break}return ie>=0&&(W=[].concat(H.slice(ie,H.length),H.slice(1,ie+1))),W},I.prototype.comparePath=function(H,q){var W=this;return H.every(function(ie,Le){return W.compareCoord(ie,this[Le])},q)},I.prototype.comparePolygon=function(H,q){if(this.compareLine(H.coordinates[0],q.coordinates[0],1,!0)){var W=H.coordinates.slice(1,H.coordinates.length),ie=q.coordinates.slice(1,q.coordinates.length),Le=this;return W.every(function(rt){return this.some(function(qe){return Le.compareLine(rt,qe,1,!0)})},ie)}return!1},I.prototype.compareFeature=function(H,q){return!(H.id!==q.id||!this.objectComparator(H.properties,q.properties)||!this.compareBBox(H,q))&&this.compare(H.geometry,q.geometry)},I.prototype.compareBBox=function(H,q){return!!(!H.bbox&&!q.bbox||H.bbox&&q.bbox&&this.compareCoord(H.bbox,q.bbox))},I.prototype.removePseudo=function(H){return H},Ve.exports=I},5406:(Ve,Ce,$)=>{var B=$(7192),I=$(8275),F=$(3269),d=$(1503).Z,O=F.featureEach,W=I.featureCollection;function ie(Le){var rt=new B(Le);return rt.insert=function(qe){if("Feature"!==qe.type)throw new Error("invalid feature");return qe.bbox=qe.bbox?qe.bbox:d(qe),B.prototype.insert.call(this,qe)},rt.load=function(qe){var Ee=[];return Array.isArray(qe)?qe.forEach(function(it){if("Feature"!==it.type)throw new Error("invalid features");it.bbox=it.bbox?it.bbox:d(it),Ee.push(it)}):O(qe,function(it){if("Feature"!==it.type)throw new Error("invalid features");it.bbox=it.bbox?it.bbox:d(it),Ee.push(it)}),B.prototype.load.call(this,Ee)},rt.remove=function(qe,Ee){if("Feature"!==qe.type)throw new Error("invalid feature");return qe.bbox=qe.bbox?qe.bbox:d(qe),B.prototype.remove.call(this,qe,Ee)},rt.clear=function(){return B.prototype.clear.call(this)},rt.search=function(qe){var Ee=B.prototype.search.call(this,this.toBBox(qe));return W(Ee)},rt.collides=function(qe){return B.prototype.collides.call(this,this.toBBox(qe))},rt.all=function(){var qe=B.prototype.all.call(this);return W(qe)},rt.toJSON=function(){return B.prototype.toJSON.call(this)},rt.fromJSON=function(qe){return B.prototype.fromJSON.call(this,qe)},rt.toBBox=function(qe){var Ee;if(qe.bbox)Ee=qe.bbox;else if(Array.isArray(qe)&&4===qe.length)Ee=qe;else if(Array.isArray(qe)&&6===qe.length)Ee=[qe[0],qe[1],qe[3],qe[4]];else if("Feature"===qe.type)Ee=d(qe);else{if("FeatureCollection"!==qe.type)throw new Error("invalid geojson");Ee=d(qe)}return{minX:Ee[0],minY:Ee[1],maxX:Ee[2],maxY:Ee[3]}},rt}Ve.exports=ie,Ve.exports.default=ie},7192:function(Ve){Ve.exports=function(){"use strict";function Ce(Q,ve,he,xe,se){!function ne(re,fe,we,ae,ct){for(;ae>we;){if(ae-we>600){var Fe=ae-we+1,Je=fe-we+1,Te=Math.log(Fe),Xt=.5*Math.exp(2*Te/3),Pt=.5*Math.sqrt(Te*Xt*(Fe-Xt)/Fe)*(Je-Fe/2<0?-1:1);ne(re,fe,Math.max(we,Math.floor(fe-Je*Xt/Fe+Pt)),Math.min(ae,Math.floor(fe+(Fe-Je)*Xt/Fe+Pt)),ct)}var tt=re[fe],xt=we,gt=ae;for($(re,we,fe),ct(re[ae],tt)>0&&$(re,we,ae);xt<gt;){for($(re,xt,gt),xt++,gt--;ct(re[xt],tt)<0;)xt++;for(;ct(re[gt],tt)>0;)gt--}0===ct(re[we],tt)?$(re,we,gt):$(re,++gt,ae),gt<=fe&&(we=gt+1),fe<=gt&&(ae=gt-1)}}(Q,ve,he||0,xe||Q.length-1,se||B)}function $(Q,ve,he){var xe=Q[ve];Q[ve]=Q[he],Q[he]=xe}function B(Q,ve){return Q<ve?-1:Q>ve?1:0}var I=function(Q){void 0===Q&&(Q=9),this._maxEntries=Math.max(4,Q),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function F(Q,ve,he){if(!he)return ve.indexOf(Q);for(var xe=0;xe<ve.length;xe++)if(he(Q,ve[xe]))return xe;return-1}function d(Q,ve){O(Q,0,Q.children.length,ve,Q)}function O(Q,ve,he,xe,se){se||(se=Ee(null)),se.minX=1/0,se.minY=1/0,se.maxX=-1/0,se.maxY=-1/0;for(var ne=ve;ne<he;ne++){var re=Q.children[ne];H(se,Q.leaf?xe(re):re)}return se}function H(Q,ve){return Q.minX=Math.min(Q.minX,ve.minX),Q.minY=Math.min(Q.minY,ve.minY),Q.maxX=Math.max(Q.maxX,ve.maxX),Q.maxY=Math.max(Q.maxY,ve.maxY),Q}function q(Q,ve){return Q.minX-ve.minX}function W(Q,ve){return Q.minY-ve.minY}function ie(Q){return(Q.maxX-Q.minX)*(Q.maxY-Q.minY)}function Le(Q){return Q.maxX-Q.minX+(Q.maxY-Q.minY)}function rt(Q,ve){return Q.minX<=ve.minX&&Q.minY<=ve.minY&&ve.maxX<=Q.maxX&&ve.maxY<=Q.maxY}function qe(Q,ve){return ve.minX<=Q.maxX&&ve.minY<=Q.maxY&&ve.maxX>=Q.minX&&ve.maxY>=Q.minY}function Ee(Q){return{children:Q,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function it(Q,ve,he,xe,se){for(var ne=[ve,he];ne.length;)if(!((he=ne.pop())-(ve=ne.pop())<=xe)){var re=ve+Math.ceil((he-ve)/xe/2)*xe;Ce(Q,re,ve,he,se),ne.push(ve,re,re,he)}}return I.prototype.all=function(){return this._all(this.data,[])},I.prototype.search=function(Q){var ve=this.data,he=[];if(!qe(Q,ve))return he;for(var xe=this.toBBox,se=[];ve;){for(var ne=0;ne<ve.children.length;ne++){var re=ve.children[ne],fe=ve.leaf?xe(re):re;qe(Q,fe)&&(ve.leaf?he.push(re):rt(Q,fe)?this._all(re,he):se.push(re))}ve=se.pop()}return he},I.prototype.collides=function(Q){var ve=this.data;if(!qe(Q,ve))return!1;for(var he=[];ve;){for(var xe=0;xe<ve.children.length;xe++){var se=ve.children[xe],ne=ve.leaf?this.toBBox(se):se;if(qe(Q,ne)){if(ve.leaf||rt(Q,ne))return!0;he.push(se)}}ve=he.pop()}return!1},I.prototype.load=function(Q){if(!Q||!Q.length)return this;if(Q.length<this._minEntries){for(var ve=0;ve<Q.length;ve++)this.insert(Q[ve]);return this}var he=this._build(Q.slice(),0,Q.length-1,0);if(this.data.children.length)if(this.data.height===he.height)this._splitRoot(this.data,he);else{if(this.data.height<he.height){var xe=this.data;this.data=he,he=xe}this._insert(he,this.data.height-he.height-1,!0)}else this.data=he;return this},I.prototype.insert=function(Q){return Q&&this._insert(Q,this.data.height-1),this},I.prototype.clear=function(){return this.data=Ee([]),this},I.prototype.remove=function(Q,ve){if(!Q)return this;for(var he,xe,se,ne=this.data,re=this.toBBox(Q),fe=[],we=[];ne||fe.length;){if(ne||(ne=fe.pop(),xe=fe[fe.length-1],he=we.pop(),se=!0),ne.leaf){var ae=F(Q,ne.children,ve);if(-1!==ae)return ne.children.splice(ae,1),fe.push(ne),this._condense(fe),this}se||ne.leaf||!rt(ne,re)?xe?(he++,ne=xe.children[he],se=!1):ne=null:(fe.push(ne),we.push(he),he=0,xe=ne,ne=ne.children[0])}return this},I.prototype.toBBox=function(Q){return Q},I.prototype.compareMinX=function(Q,ve){return Q.minX-ve.minX},I.prototype.compareMinY=function(Q,ve){return Q.minY-ve.minY},I.prototype.toJSON=function(){return this.data},I.prototype.fromJSON=function(Q){return this.data=Q,this},I.prototype._all=function(Q,ve){for(var he=[];Q;)Q.leaf?ve.push.apply(ve,Q.children):he.push.apply(he,Q.children),Q=he.pop();return ve},I.prototype._build=function(Q,ve,he,xe){var se,ne=he-ve+1,re=this._maxEntries;if(ne<=re)return d(se=Ee(Q.slice(ve,he+1)),this.toBBox),se;xe||(xe=Math.ceil(Math.log(ne)/Math.log(re)),re=Math.ceil(ne/Math.pow(re,xe-1))),(se=Ee([])).leaf=!1,se.height=xe;var fe=Math.ceil(ne/re),we=fe*Math.ceil(Math.sqrt(re));it(Q,ve,he,we,this.compareMinX);for(var ae=ve;ae<=he;ae+=we){var ct=Math.min(ae+we-1,he);it(Q,ae,ct,fe,this.compareMinY);for(var Fe=ae;Fe<=ct;Fe+=fe){var Je=Math.min(Fe+fe-1,ct);se.children.push(this._build(Q,Fe,Je,xe-1))}}return d(se,this.toBBox),se},I.prototype._chooseSubtree=function(Q,ve,he,xe){for(;xe.push(ve),!ve.leaf&&xe.length-1!==he;){for(var se=1/0,ne=1/0,re=void 0,fe=0;fe<ve.children.length;fe++){var we=ve.children[fe],ae=ie(we),ct=(Fe=Q,Je=we,(Math.max(Je.maxX,Fe.maxX)-Math.min(Je.minX,Fe.minX))*(Math.max(Je.maxY,Fe.maxY)-Math.min(Je.minY,Fe.minY))-ae);ct<ne?(ne=ct,se=ae<se?ae:se,re=we):ct===ne&&ae<se&&(se=ae,re=we)}ve=re||ve.children[0]}var Fe,Je;return ve},I.prototype._insert=function(Q,ve,he){var xe=he?Q:this.toBBox(Q),se=[],ne=this._chooseSubtree(xe,this.data,ve,se);for(ne.children.push(Q),H(ne,xe);ve>=0&&se[ve].children.length>this._maxEntries;)this._split(se,ve),ve--;this._adjustParentBBoxes(xe,se,ve)},I.prototype._split=function(Q,ve){var he=Q[ve],xe=he.children.length,se=this._minEntries;this._chooseSplitAxis(he,se,xe);var ne=this._chooseSplitIndex(he,se,xe),re=Ee(he.children.splice(ne,he.children.length-ne));re.height=he.height,re.leaf=he.leaf,d(he,this.toBBox),d(re,this.toBBox),ve?Q[ve-1].children.push(re):this._splitRoot(he,re)},I.prototype._splitRoot=function(Q,ve){this.data=Ee([Q,ve]),this.data.height=Q.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},I.prototype._chooseSplitIndex=function(Q,ve,he){for(var xe,se,ne,re,fe,we,ae,ct=1/0,Fe=1/0,Je=ve;Je<=he-ve;Je++){var Te=O(Q,0,Je,this.toBBox),Xt=O(Q,Je,he,this.toBBox),Pt=(se=Te,ne=Xt,void 0,void 0,void 0,void 0,re=Math.max(se.minX,ne.minX),fe=Math.max(se.minY,ne.minY),we=Math.min(se.maxX,ne.maxX),ae=Math.min(se.maxY,ne.maxY),Math.max(0,we-re)*Math.max(0,ae-fe)),Ge=ie(Te)+ie(Xt);Pt<ct?(ct=Pt,xe=Je,Fe=Ge<Fe?Ge:Fe):Pt===ct&&Ge<Fe&&(Fe=Ge,xe=Je)}return xe||he-ve},I.prototype._chooseSplitAxis=function(Q,ve,he){var xe=Q.leaf?this.compareMinX:q,se=Q.leaf?this.compareMinY:W;this._allDistMargin(Q,ve,he,xe)<this._allDistMargin(Q,ve,he,se)&&Q.children.sort(xe)},I.prototype._allDistMargin=function(Q,ve,he,xe){Q.children.sort(xe);for(var se=this.toBBox,ne=O(Q,0,ve,se),re=O(Q,he-ve,he,se),fe=Le(ne)+Le(re),we=ve;we<he-ve;we++){var ae=Q.children[we];H(ne,Q.leaf?se(ae):ae),fe+=Le(ne)}for(var ct=he-ve-1;ct>=ve;ct--){var Fe=Q.children[ct];H(re,Q.leaf?se(Fe):Fe),fe+=Le(re)}return fe},I.prototype._adjustParentBBoxes=function(Q,ve,he){for(var xe=he;xe>=0;xe--)H(ve[xe],Q)},I.prototype._condense=function(Q){for(var ve=Q.length-1,he=void 0;ve>=0;ve--)0===Q[ve].children.length?ve>0?(he=Q[ve-1].children).splice(he.indexOf(Q[ve]),1):this.clear():d(Q[ve],this.toBBox)},I}()},5203:(Ve,Ce,$)=>{"use strict";var B,I=SyntaxError,F=Function,d=TypeError,O=function(Fe){try{return F('"use strict"; return ('+Fe+").constructor;")()}catch(Je){}},H=Object.getOwnPropertyDescriptor;if(H)try{H({},"")}catch(Fe){H=null}var q=function(){throw new d},W=H?function(){try{return q}catch(Fe){try{return H(arguments,"callee").get}catch(Je){return q}}}():q,ie=$(2969)(),Le=Object.getPrototypeOf||function(Fe){return Fe.__proto__},rt={},qe="undefined"==typeof Uint8Array?B:Le(Uint8Array),Ee={"%AggregateError%":"undefined"==typeof AggregateError?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?B:ArrayBuffer,"%ArrayIteratorPrototype%":ie?Le([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":rt,"%AsyncGenerator%":rt,"%AsyncGeneratorFunction%":rt,"%AsyncIteratorPrototype%":rt,"%Atomics%":"undefined"==typeof Atomics?B:Atomics,"%BigInt%":"undefined"==typeof BigInt?B:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?B:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?B:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?B:FinalizationRegistry,"%Function%":F,"%GeneratorFunction%":rt,"%Int8Array%":"undefined"==typeof Int8Array?B:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?B:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ie?Le(Le([][Symbol.iterator]())):B,"%JSON%":"object"==typeof JSON?JSON:B,"%Map%":"undefined"==typeof Map?B:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&ie?Le((new Map)[Symbol.iterator]()):B,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?B:Promise,"%Proxy%":"undefined"==typeof Proxy?B:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?B:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?B:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&ie?Le((new Set)[Symbol.iterator]()):B,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ie?Le(""[Symbol.iterator]()):B,"%Symbol%":ie?Symbol:B,"%SyntaxError%":I,"%ThrowTypeError%":W,"%TypedArray%":qe,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?B:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?B:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?B:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?B:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?B:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?B:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?B:WeakSet},it=function Fe(Je){var Te;if("%AsyncFunction%"===Je)Te=O("async function () {}");else if("%GeneratorFunction%"===Je)Te=O("function* () {}");else if("%AsyncGeneratorFunction%"===Je)Te=O("async function* () {}");else if("%AsyncGenerator%"===Je){var Xt=Fe("%AsyncGeneratorFunction%");Xt&&(Te=Xt.prototype)}else if("%AsyncIteratorPrototype%"===Je){var Pt=Fe("%AsyncGenerator%");Pt&&(Te=Le(Pt.prototype))}return Ee[Je]=Te,Te},Q={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ve=$(4444),he=$(3164),xe=ve.call(Function.call,Array.prototype.concat),se=ve.call(Function.apply,Array.prototype.splice),ne=ve.call(Function.call,String.prototype.replace),re=ve.call(Function.call,String.prototype.slice),fe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,we=/\\(\\)?/g,ae=function(Je){var Te=re(Je,0,1),Xt=re(Je,-1);if("%"===Te&&"%"!==Xt)throw new I("invalid intrinsic syntax, expected closing `%`");if("%"===Xt&&"%"!==Te)throw new I("invalid intrinsic syntax, expected opening `%`");var Pt=[];return ne(Je,fe,function(Ge,Mt,tt,xt){Pt[Pt.length]=tt?ne(xt,we,"$1"):Mt||Ge}),Pt},ct=function(Je,Te){var Pt,Xt=Je;if(he(Q,Xt)&&(Xt="%"+(Pt=Q[Xt])[0]+"%"),he(Ee,Xt)){var Ge=Ee[Xt];if(Ge===rt&&(Ge=it(Xt)),void 0===Ge&&!Te)throw new d("intrinsic "+Je+" exists, but is not available. Please file an issue!");return{alias:Pt,name:Xt,value:Ge}}throw new I("intrinsic "+Je+" does not exist!")};Ve.exports=function(Je,Te){if("string"!=typeof Je||0===Je.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Te)throw new d('"allowMissing" argument must be a boolean');var Xt=ae(Je),Pt=Xt.length>0?Xt[0]:"",Ge=ct("%"+Pt+"%",Te),Mt=Ge.name,tt=Ge.value,xt=!1,gt=Ge.alias;gt&&(Pt=gt[0],se(Xt,xe([0,1],gt)));for(var Re=1,Yt=!0;Re<Xt.length;Re+=1){var Ht=Xt[Re],_n=re(Ht,0,1),bt=re(Ht,-1);if(('"'===_n||"'"===_n||"`"===_n||'"'===bt||"'"===bt||"`"===bt)&&_n!==bt)throw new I("property names with quotes must have matching quotes");if(("constructor"===Ht||!Yt)&&(xt=!0),he(Ee,Mt="%"+(Pt+="."+Ht)+"%"))tt=Ee[Mt];else if(null!=tt){if(!(Ht in tt)){if(!Te)throw new d("base intrinsic for "+Je+" exists, but the property is not available.");return}if(H&&Re+1>=Xt.length){var Qn=H(tt,Ht);tt=(Yt=!!Qn)&&"get"in Qn&&!("originalValue"in Qn.get)?Qn.get:tt[Ht]}else Yt=he(tt,Ht),tt=tt[Ht];Yt&&!xt&&(Ee[Mt]=tt)}}return tt}},2969:(Ve,Ce,$)=>{"use strict";var B="undefined"!=typeof Symbol&&Symbol,I=$(1983);Ve.exports=function(){return"function"==typeof B&&"function"==typeof Symbol&&"symbol"==typeof B("foo")&&"symbol"==typeof Symbol("bar")&&I()}},1983:Ve=>{"use strict";Ve.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var $={},B=Symbol("test"),I=Object(B);if("string"==typeof B||"[object Symbol]"!==Object.prototype.toString.call(B)||"[object Symbol]"!==Object.prototype.toString.call(I))return!1;for(B in $[B]=42,$)return!1;if("function"==typeof Object.keys&&0!==Object.keys($).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames($).length)return!1;var d=Object.getOwnPropertySymbols($);if(1!==d.length||d[0]!==B||!Object.prototype.propertyIsEnumerable.call($,B))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var O=Object.getOwnPropertyDescriptor($,B);if(42!==O.value||!0!==O.enumerable)return!1}return!0}},6259:(Ve,Ce,$)=>{"use strict";var B=$(1983);Ve.exports=function(){return B()&&!!Symbol.toStringTag}},3164:(Ve,Ce,$)=>{"use strict";var B=$(4444);Ve.exports=B.call(Function.call,Object.prototype.hasOwnProperty)},3407:(Ve,Ce,$)=>{"use strict";var B=$(6259)(),F=$(5834)("Object.prototype.toString"),d=function(W){return!(B&&W&&"object"==typeof W&&Symbol.toStringTag in W)&&"[object Arguments]"===F(W)},O=function(W){return!!d(W)||null!==W&&"object"==typeof W&&"number"==typeof W.length&&W.length>=0&&"[object Array]"!==F(W)&&"[object Function]"===F(W.callee)},H=function(){return d(arguments)}();d.isLegacyArguments=O,Ve.exports=H?d:O},2374:(Ve,Ce,$)=>{"use strict";var B=Date.prototype.getDay,F=Object.prototype.toString,O=$(6259)();Ve.exports=function(q){return"object"==typeof q&&null!==q&&(O?function(q){try{return B.call(q),!0}catch(W){return!1}}(q):"[object Date]"===F.call(q))}},2342:(Ve,Ce,$)=>{"use strict";var F,d,O,H,B=$(5834),I=$(6259)();if(I){F=B("Object.prototype.hasOwnProperty"),d=B("RegExp.prototype.exec"),O={};var q=function(){throw O};H={toString:q,valueOf:q},"symbol"==typeof Symbol.toPrimitive&&(H[Symbol.toPrimitive]=q)}var W=B("Object.prototype.toString"),ie=Object.getOwnPropertyDescriptor;Ve.exports=I?function(qe){if(!qe||"object"!=typeof qe)return!1;var Ee=ie(qe,"lastIndex");if(!Ee||!F(Ee,"value"))return!1;try{d(qe,H)}catch(Q){return Q===O}}:function(qe){return!(!qe||"object"!=typeof qe&&"function"!=typeof qe)&&"[object RegExp]"===W(qe)}},3082:Ve=>{var I=/^\s+|\s+$/g,F=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,O=/^0o[0-7]+$/i,H=parseInt,q="object"==typeof global&&global&&global.Object===Object&&global,W="object"==typeof self&&self&&self.Object===Object&&self,ie=q||W||Function("return this")(),rt=Object.prototype.toString,qe=Math.max,Ee=Math.min,it=function(){return ie.Date.now()};function ve(ne){var re=typeof ne;return!!ne&&("object"==re||"function"==re)}function se(ne){if("number"==typeof ne)return ne;if(function xe(ne){return"symbol"==typeof ne||function he(ne){return!!ne&&"object"==typeof ne}(ne)&&"[object Symbol]"==rt.call(ne)}(ne))return NaN;if(ve(ne)){var re="function"==typeof ne.valueOf?ne.valueOf():ne;ne=ve(re)?re+"":re}if("string"!=typeof ne)return 0===ne?ne:+ne;ne=ne.replace(I,"");var fe=d.test(ne);return fe||O.test(ne)?H(ne.slice(2),fe?2:8):F.test(ne)?NaN:+ne}Ve.exports=function Q(ne,re,fe){var we,ae,ct,Fe,Je,Te,Xt=0,Pt=!1,Ge=!1,Mt=!0;if("function"!=typeof ne)throw new TypeError("Expected a function");function tt(fn){var Pn=we,Sn=ae;return we=ae=void 0,Xt=fn,Fe=ne.apply(Sn,Pn)}function xt(fn){return Xt=fn,Je=setTimeout(Yt,re),Pt?tt(fn):Fe}function Re(fn){var Pn=fn-Te;return void 0===Te||Pn>=re||Pn<0||Ge&&fn-Xt>=ct}function Yt(){var fn=it();if(Re(fn))return Ht(fn);Je=setTimeout(Yt,function gt(fn){var On=re-(fn-Te);return Ge?Ee(On,ct-(fn-Xt)):On}(fn))}function Ht(fn){return Je=void 0,Mt&&we?tt(fn):(we=ae=void 0,Fe)}function Qn(){var fn=it(),Pn=Re(fn);if(we=arguments,ae=this,Te=fn,Pn){if(void 0===Je)return xt(Te);if(Ge)return Je=setTimeout(Yt,re),tt(Te)}return void 0===Je&&(Je=setTimeout(Yt,re)),Fe}return re=se(re)||0,ve(fe)&&(Pt=!!fe.leading,ct=(Ge="maxWait"in fe)?qe(se(fe.maxWait)||0,re):ct,Mt="trailing"in fe?!!fe.trailing:Mt),Qn.cancel=function _n(){void 0!==Je&&clearTimeout(Je),Xt=0,we=Te=ae=Je=void 0},Qn.flush=function bt(){return void 0===Je?Fe:Ht(it())},Qn}},9898:function(Ve){Ve.exports=function(){"use strict";var Ce,$,B;function I(d,O){if(Ce)if($){var H="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+Ce+")(sharedChunk); ("+$+")(sharedChunk); self.onerror = null;",q={};Ce(q),B=O(q),"undefined"!=typeof window&&(B.workerUrl=window.URL.createObjectURL(new Blob([H],{type:"text/javascript"})))}else $=O;else Ce=O}return I(0,function(d){var O="2.6.1",H=q;function q(u,s,c,p){this.cx=3*u,this.bx=3*(c-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(p-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=p,this.p2x=c,this.p2y=p}q.prototype.sampleCurveX=function(u){return((this.ax*u+this.bx)*u+this.cx)*u},q.prototype.sampleCurveY=function(u){return((this.ay*u+this.by)*u+this.cy)*u},q.prototype.sampleCurveDerivativeX=function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},q.prototype.solveCurveX=function(u,s){var c,p,y,D,E;for(void 0===s&&(s=1e-6),y=u,E=0;E<8;E++){if(D=this.sampleCurveX(y)-u,Math.abs(D)<s)return y;var P=this.sampleCurveDerivativeX(y);if(Math.abs(P)<1e-6)break;y-=D/P}if((y=u)<(c=0))return c;if(y>(p=1))return p;for(;c<p;){if(D=this.sampleCurveX(y),Math.abs(D-u)<s)return y;u>D?c=y:p=y,y=.5*(p-c)+c}return y},q.prototype.solve=function(u,s){return this.sampleCurveY(this.solveCurveX(u,s))};var W=ie;function ie(u,s){this.x=u,this.y=s}ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,s){return this.clone()._rotateAround(u,s)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var s=u.x-this.x,c=u.y-this.y;return s*s+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,s){return Math.atan2(this.x*s-this.y*u,this.x*u+this.y*s)},_matMult:function(u){var s=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=s,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var s=Math.cos(u),c=Math.sin(u),p=c*this.x+s*this.y;return this.x=s*this.x-c*this.y,this.y=p,this},_rotateAround:function(u,s){var c=Math.cos(u),p=Math.sin(u),y=s.y+p*(this.x-s.x)+c*(this.y-s.y);return this.x=s.x+c*(this.x-s.x)-p*(this.y-s.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ie.convert=function(u){return u instanceof ie?u:Array.isArray(u)?new ie(u[0],u[1]):u};var Le="undefined"!=typeof self?self:{};const rt=Math.pow(2,53)-1,qe=Math.PI/180,Ee=180/Math.PI;function it(u){return u*qe}function Q(u){return u*Ee}const ve=[[0,0],[1,0],[1,1],[0,1]];function he(u){if(u<=0)return 0;if(u>=1)return 1;const s=u*u,c=s*u;return 4*(u<.5?c:3*(u-s)+c-.75)}function xe(u,s,c,p){const y=new H(u,s,c,p);return function(D){return y.solve(D)}}const se=xe(.25,.1,.25,1);function ne(u,s,c){return Math.min(c,Math.max(s,u))}function re(u,s,c){const p=c-s,y=((u-s)%p+p)%p+s;return y===s?c:y}function fe(u,s,c){if(!u.length)return c(null,[]);let p=u.length;const y=new Array(u.length);let D=null;u.forEach((E,P)=>{s(E,(N,j)=>{N&&(D=N),y[P]=j,0==--p&&c(D,y)})})}function we(u){const s=[];for(const c in u)s.push(u[c]);return s}function ae(u,...s){for(const c of s)for(const p in c)u[p]=c[p];return u}let ct=1;function Fe(){return ct++}function Je(){return function u(s){return s?(s^16*Math.random()>>s/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()}function Te(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function Xt(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)}function Pt(u,s){u.forEach(c=>{s[c]&&(s[c]=s[c].bind(s))})}function Ge(u,s){return-1!==u.indexOf(s,u.length-s.length)}function Mt(u,s,c){const p={};for(const y in u)p[y]=s.call(c||this,u[y],y,u);return p}function tt(u,s,c){const p={};for(const y in u)s.call(c||this,u[y],y,u)&&(p[y]=u[y]);return p}function xt(u){return Array.isArray(u)?u.map(xt):"object"==typeof u&&u?Mt(u,xt):u}const gt={};function Re(u){gt[u]||("undefined"!=typeof console&&console.warn(u),gt[u]=!0)}function Yt(u,s,c){return(c.y-u.y)*(s.x-u.x)>(s.y-u.y)*(c.x-u.x)}function Ht(u){let s=0;for(let c,p,y=0,D=u.length,E=D-1;y<D;E=y++)c=u[y],p=u[E],s+=(p.x-c.x)*(c.y+p.y);return s}function _n(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function bt(u){const s={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,p,y,D)=>{const E=y||D;return s[p]=!E||E.toLowerCase(),""}),s["max-age"]){const c=parseInt(s["max-age"],10);isNaN(c)?delete s["max-age"]:s["max-age"]=c}return s}let Qn,fn,Pn,Sn=null;function On(u){if(null==Sn){const s=u.navigator?u.navigator.userAgent:null;Sn=!!u.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return Sn}function wn(u){try{const s=Le[u];return s.setItem("_mapbox_test_",1),s.removeItem("_mapbox_test_"),!0}catch(s){return!1}}const Xr={now:()=>void 0!==Pn?Pn:Le.performance.now(),setNow(u){Pn=u},restoreNow(){Pn=void 0},frame(u){const s=Le.requestAnimationFrame(u);return{cancel:()=>Le.cancelAnimationFrame(s)}},getImageData(u,s=0){const c=Le.document.createElement("canvas"),p=c.getContext("2d");if(!p)throw new Error("failed to create canvas 2d context");return c.width=u.width,c.height=u.height,p.drawImage(u,0,0,u.width,u.height),p.getImageData(-s,-s,u.width+2*s,u.height+2*s)},resolveURL:u=>(Qn||(Qn=Le.document.createElement("a")),Qn.href=u,Qn.href),get devicePixelRatio(){return Le.devicePixelRatio},get prefersReducedMotion(){return!!Le.matchMedia&&(null==fn&&(fn=Le.matchMedia("(prefers-reduced-motion: reduce)")),fn.matches)}};let Li;const or={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Li){const u=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Li=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):u}catch(s){Li=u}}return Li},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},oi={supported:!1,testSupport:function(u){!Oe&&Lt&&(ke?De(u):Zi=u)}};let Zi,Lt,Oe=!1,ke=!1;function De(u){const s=u.createTexture();u.bindTexture(u.TEXTURE_2D,s);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,Lt),u.isContextLost())return;oi.supported=!0}catch(c){}u.deleteTexture(s),Oe=!0}Le.document&&(Lt=Le.document.createElement("img"),Lt.onload=function(){Zi&&De(Zi),Zi=null,ke=!0},Lt.onerror=function(){Oe=!0,Zi=null},Lt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Ze="01",_t="NO_ACCESS_TOKEN";function zt(u){return 0===u.indexOf("mapbox:")}function sn(u){return or.API_URL_REGEX.test(u)}const Kt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ut(u){const s=u.match(Kt);if(!s)throw new Error("Unable to parse URL object");return{protocol:s[1],authority:s[2],path:s[3]||"/",params:s[4]?s[4].split("&"):[]}}function qn(u){const s=u.params.length?`?${u.params.join("&")}`:"";return`${u.protocol}://${u.authority}${u.path}${s}`}function dr(u){if(!u)return null;const s=u.split(".");if(!s||3!==s.length)return null;try{return JSON.parse(decodeURIComponent(Le.atob(s[1]).split("").map(c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(c){return null}}class tn{constructor(s){this.type=s,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(s){const c=dr(or.ACCESS_TOKEN);let p="";return p=c&&c.u?Le.btoa(encodeURIComponent(c.u).replace(/%([0-9A-F]{2})/g,(y,D)=>String.fromCharCode(Number("0x"+D)))):or.ACCESS_TOKEN||"",s?`mapbox.eventData.${s}:${p}`:`mapbox.eventData:${p}`}fetchEventData(){const s=wn("localStorage"),c=this.getStorageKey(),p=this.getStorageKey("uuid");if(s)try{const y=Le.localStorage.getItem(c);y&&(this.eventData=JSON.parse(y));const D=Le.localStorage.getItem(p);D&&(this.anonId=D)}catch(y){Re("Unable to read from LocalStorage")}}saveEventData(){const s=wn("localStorage"),c=this.getStorageKey(),p=this.getStorageKey("uuid");if(s)try{Le.localStorage.setItem(p,this.anonId),Object.keys(this.eventData).length>=1&&Le.localStorage.setItem(c,JSON.stringify(this.eventData))}catch(y){Re("Unable to write to LocalStorage")}}processRequests(s){}postEvent(s,c,p,y){if(!or.EVENTS_URL)return;const D=Ut(or.EVENTS_URL);D.params.push(`access_token=${y||or.ACCESS_TOKEN||""}`);const E={event:this.type,created:new Date(s).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:O,skuId:Ze,userId:this.anonId},P=c?ae(E,c):E,N={url:qn(D),headers:{"Content-Type":"text/plain"},body:JSON.stringify([P])};this.pendingRequest=Qe(N,j=>{this.pendingRequest=null,p(j),this.saveEventData(),this.processRequests(y)})}queueRequest(s,c){this.queue.push(s),this.processRequests(c)}}const br=new class extends tn{constructor(u){super("appUserTurnstile"),this._customAccessToken=u}postTurnstileEvent(u,s){or.EVENTS_URL&&or.ACCESS_TOKEN&&Array.isArray(u)&&u.some(c=>zt(c)||sn(c))&&this.queueRequest(Date.now(),s)}processRequests(u){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const s=dr(or.ACCESS_TOKEN),c=s?s.u:or.ACCESS_TOKEN;let p=c!==this.eventData.tokenU;Xt(this.anonId)||(this.anonId=Je(),p=!0);const y=this.queue.shift();if(this.eventData.lastSuccess){const D=new Date(this.eventData.lastSuccess),E=new Date(y),P=(y-this.eventData.lastSuccess)/864e5;p=p||P>=1||P<-1||D.getDate()!==E.getDate()}else p=!0;if(!p)return this.processRequests();this.postEvent(y,{"enabled.telemetry":!1},D=>{D||(this.eventData.lastSuccess=y,this.eventData.tokenU=c)},u)}},Ui=br.postTurnstileEvent.bind(br),$r=new class extends tn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(u,s,c,p){this.skuToken=s,this.errorCb=p,or.EVENTS_URL&&(c||or.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},c):this.errorCb(new Error(_t)))}processRequests(u){if(this.pendingRequest||0===this.queue.length)return;const{id:s,timestamp:c}=this.queue.shift();s&&this.success[s]||(this.anonId||this.fetchEventData(),Xt(this.anonId)||(this.anonId=Je()),this.postEvent(c,{skuToken:this.skuToken},p=>{p?this.errorCb(p):s&&(this.success[s]=!0)},u))}},vi=$r.postMapLoadEvent.bind($r),Ss=new class extends tn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(u,s,c,p){if(!or.API_URL||!or.SESSION_PATH)return;const y=Ut(or.API_URL+or.SESSION_PATH);y.params.push(`sku=${s||""}`),y.params.push(`access_token=${p||or.ACCESS_TOKEN||""}`);const D={url:qn(y),headers:{"Content-Type":"text/plain"}};this.pendingRequest=ot(D,E=>{this.pendingRequest=null,c(E),this.saveEventData(),this.processRequests(p)})}getSessionAPI(u,s,c,p){this.skuToken=s,this.errorCb=p,or.SESSION_PATH&&or.API_URL&&(c||or.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},c):this.errorCb(new Error(_t)))}processRequests(u){if(this.pendingRequest||0===this.queue.length)return;const{id:s,timestamp:c}=this.queue.shift();s&&this.success[s]||this.getSession(c,this.skuToken,p=>{p?this.errorCb(p):s&&(this.success[s]=!0)},u)}},Js=Ss.getSessionAPI.bind(Ss),xi=new Set,qs="mapbox-tiles";let es,wi,ai=500,Ys=50;function mn(){Le.caches&&!es&&(es=Le.caches.open(qs))}function rl(u){const s=u.indexOf("?");return s<0?u:u.slice(0,s)}let oa=1/0;const xr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(xr);class Fo extends Error{constructor(s,c,p){401===c&&sn(p)&&(s+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(s),this.status=c,this.url=p}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const We=_n()?()=>self.worker&&self.worker.referrer:()=>("blob:"===Le.location.protocol?Le.parent:Le).location.href,de=function(u,s){if(!(/^file:/.test(c=u.url)||/^file:/.test(We())&&!/^\w+:/.test(c))){if(Le.fetch&&Le.Request&&Le.AbortController&&Le.Request.prototype.hasOwnProperty("signal"))return function(p,y){const D=new Le.AbortController,E=new Le.Request(p.url,{method:p.method||"GET",body:p.body,credentials:p.credentials,headers:p.headers,referrer:We(),signal:D.signal});let P=!1,N=!1;const j=(Z=E.url).indexOf("sku=")>0&&sn(Z);var Z;"json"===p.type&&E.headers.set("Accept","application/json");const J=(me,Me,Ye)=>{if(N)return;if(me&&"SecurityError"!==me.message&&Re(me),Me&&Ye)return ee(Me);const nt=Date.now();Le.fetch(E).then(lt=>{if(lt.ok){const wt=j?lt.clone():null;return ee(lt,wt,nt)}return y(new Fo(lt.statusText,lt.status,p.url))}).catch(lt=>{20!==lt.code&&y(new Error(lt.message))})},ee=(me,Me,Ye)=>{("arrayBuffer"===p.type?me.arrayBuffer():"json"===p.type?me.json():me.text()).then(nt=>{N||(Me&&Ye&&function(lt,wt,Tt){if(mn(),!es)return;const Ot={status:wt.status,statusText:wt.statusText,headers:new Le.Headers};wt.headers.forEach((Nt,cn)=>Ot.headers.set(cn,Nt));const At=bt(wt.headers.get("Cache-Control")||"");At["no-store"]||(At["max-age"]&&Ot.headers.set("Expires",new Date(Tt+1e3*At["max-age"]).toUTCString()),new Date(Ot.headers.get("Expires")).getTime()-Tt<42e4||function(Nt,cn){if(void 0===wi)try{new Response(new ReadableStream),wi=!0}catch(en){wi=!1}wi?cn(Nt.body):Nt.blob().then(cn)}(wt,Nt=>{const cn=new Le.Response(Nt,Ot);mn(),es&&es.then(en=>en.put(rl(lt.url),cn)).catch(en=>Re(en.message))}))}(E,Me,Ye),P=!0,y(null,nt,me.headers.get("Cache-Control"),me.headers.get("Expires")))}).catch(nt=>{N||y(new Error(nt.message))})};return j?function(me,Me){if(mn(),!es)return Me(null);const Ye=rl(me.url);es.then(nt=>{nt.match(Ye).then(lt=>{const wt=function(Tt){if(!Tt)return!1;const Ot=new Date(Tt.headers.get("Expires")||0),At=bt(Tt.headers.get("Cache-Control")||"");return Ot>Date.now()&&!At["no-cache"]}(lt);nt.delete(Ye),wt&&nt.put(Ye,lt.clone()),Me(null,lt,wt)}).catch(Me)}).catch(Me)}(E,J):J(null,null),{cancel:()=>{N=!0,P||D.abort()}}}(u,s);if(_n()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,s,void 0,!0)}var c;return function(p,y){const D=new Le.XMLHttpRequest;D.open(p.method||"GET",p.url,!0),"arrayBuffer"===p.type&&(D.responseType="arraybuffer");for(const E in p.headers)D.setRequestHeader(E,p.headers[E]);return"json"===p.type&&(D.responseType="text",D.setRequestHeader("Accept","application/json")),D.withCredentials="include"===p.credentials,D.onerror=()=>{y(new Error(D.statusText))},D.onload=()=>{if((D.status>=200&&D.status<300||0===D.status)&&null!==D.response){let E=D.response;if("json"===p.type)try{E=JSON.parse(D.response)}catch(P){return y(P)}y(null,E,D.getResponseHeader("Cache-Control"),D.getResponseHeader("Expires"))}else y(new Fo(D.statusText,D.status,p.url))},D.send(p.body),{cancel:()=>D.abort()}}(u,s)},be=function(u,s){return de(ae(u,{type:"arrayBuffer"}),s)},Qe=function(u,s){return de(ae(u,{method:"POST"}),s)},ot=function(u,s){return de(ae(u,{method:"GET"}),s)};function yt(u){const s=Le.document.createElement("a");return s.href=u,s.protocol===Le.document.location.protocol&&s.host===Le.document.location.host}const ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let kt,Et;kt=[],Et=0;const It=function(u,s){if(oi.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),Et>=or.MAX_PARALLEL_IMAGE_REQUESTS){const D={requestParameters:u,callback:s,cancelled:!1,cancel(){this.cancelled=!0}};return kt.push(D),D}Et++;let c=!1;const p=()=>{if(!c)for(c=!0,Et--;kt.length&&Et<or.MAX_PARALLEL_IMAGE_REQUESTS;){const D=kt.shift(),{requestParameters:E,callback:P,cancelled:N}=D;N||(D.cancel=It(E,P).cancel)}},y=be(u,(D,E,P,N)=>{p(),D?s(D):E&&(Le.createImageBitmap?function(j,Z){const J=new Le.Blob([new Uint8Array(j)],{type:"image/png"});Le.createImageBitmap(J).then(ee=>{Z(null,ee)}).catch(ee=>{Z(new Error(`Could not load image because of ${ee.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(E,(j,Z)=>s(j,Z,P,N)):function(j,Z){const J=new Le.Image,ee=Le.URL;J.onload=()=>{Z(null,J),ee.revokeObjectURL(J.src),J.onload=null,Le.requestAnimationFrame(()=>{J.src=ht})},J.onerror=()=>Z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const me=new Le.Blob([new Uint8Array(j)],{type:"image/png"});J.src=j.byteLength?ee.createObjectURL(me):ht}(E,(j,Z)=>s(j,Z,P,N)))});return{cancel:()=>{y.cancel(),p()}}};function jt(u,s,c){c[u]&&-1!==c[u].indexOf(s)||(c[u]=c[u]||[],c[u].push(s))}function ln(u,s,c){if(c&&c[u]){const p=c[u].indexOf(s);-1!==p&&c[u].splice(p,1)}}class nn{constructor(s,c={}){ae(this,c),this.type=s}}class Un extends nn{constructor(s,c={}){super("error",ae({error:s},c))}}class pn{on(s,c){return this._listeners=this._listeners||{},jt(s,c,this._listeners),this}off(s,c){return ln(s,c,this._listeners),ln(s,c,this._oneTimeListeners),this}once(s,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},jt(s,c,this._oneTimeListeners),this):new Promise(p=>this.once(s,p))}fire(s,c){"string"==typeof s&&(s=new nn(s,c||{}));const p=s.type;if(this.listens(p)){s.target=this;const y=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(const P of y)P.call(this,s);const D=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(const P of D)ln(p,P,this._oneTimeListeners),P.call(this,s);const E=this._eventedParent;E&&(ae(s,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),E.fire(s))}else s instanceof Un&&console.error(s.error);return this}listens(s){return!!(this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s))}setEventedParent(s,c){return this._eventedParent=s,this._eventedParentData=c,this}}var Ct=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":0.1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');class qt{constructor(s,c,p,y){this.message=(s?`${s}: `:"")+p,y&&(this.identifier=y),null!=c&&c.__line__&&(this.line=c.__line__)}}function fr(u){const s=u.value;return s?[new qt(u.key,s,"constants have been deprecated as of v8")]:[]}function Mr(u,...s){for(const c of s)for(const p in c)u[p]=c[p];return u}function gr(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function nr(u){if(Array.isArray(u))return u.map(nr);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const s={};for(const c in u)s[c]=nr(u[c]);return s}return gr(u)}class pr extends Error{constructor(s,c){super(c),this.message=c,this.key=s}}class ou{constructor(s,c=[]){this.parent=s,this.bindings={};for(const[p,y]of c)this.bindings[p]=y}concat(s){return new ou(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}const co={kind:"null"},rn={kind:"number"},rr={kind:"string"},Fr={kind:"boolean"},Xi={kind:"color"},Jo={kind:"object"},Vn={kind:"value"},Ou={kind:"collator"},Di={kind:"formatted"},Ul={kind:"resolvedImage"};function Oa(u,s){return{kind:"array",itemType:u,N:s}}function Wn(u){if("array"===u.kind){const s=Wn(u.itemType);return"number"==typeof u.N?`array<${s}, ${u.N}>`:"value"===u.itemType.kind?"array":`array<${s}>`}return u.kind}const ti=[co,rn,rr,Fr,Xi,Di,Jo,Oa(Vn),Ul];function Ko(u,s){if("error"===s.kind)return null;if("array"===u.kind){if("array"===s.kind&&(0===s.N&&"value"===s.itemType.kind||!Ko(u.itemType,s.itemType))&&("number"!=typeof u.N||u.N===s.N))return null}else{if(u.kind===s.kind)return null;if("value"===u.kind)for(const c of ti)if(!Ko(c,s))return null}return`Expected ${Wn(u)} but found ${Wn(s)} instead.`}function ah(u,s){return s.some(c=>c.kind===u.kind)}function Jr(u,s){return s.some(c=>"null"===c?null===u:"array"===c?Array.isArray(u):"object"===c?u&&!Array.isArray(u)&&"object"==typeof u:c===typeof u)}function li(u){var s={exports:{}};return u(s,s.exports),s.exports}var wr=li(function(u,s){var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function p(P){return(P=Math.round(P))<0?0:P>255?255:P}function y(P){return p("%"===P[P.length-1]?parseFloat(P)/100*255:parseInt(P))}function D(P){return(N="%"===P[P.length-1]?parseFloat(P)/100:parseFloat(P))<0?0:N>1?1:N;var N}function E(P,N,j){return j<0?j+=1:j>1&&(j-=1),6*j<1?P+(N-P)*j*6:2*j<1?N:3*j<2?P+(N-P)*(2/3-j)*6:P}try{s.parseCSSColor=function(P){var N,j=P.replace(/ /g,"").toLowerCase();if(j in c)return c[j].slice();if("#"===j[0])return 4===j.length?(N=parseInt(j.substr(1),16))>=0&&N<=4095?[(3840&N)>>4|(3840&N)>>8,240&N|(240&N)>>4,15&N|(15&N)<<4,1]:null:7===j.length&&(N=parseInt(j.substr(1),16))>=0&&N<=16777215?[(16711680&N)>>16,(65280&N)>>8,255&N,1]:null;var Z=j.indexOf("("),J=j.indexOf(")");if(-1!==Z&&J+1===j.length){var ee=j.substr(0,Z),me=j.substr(Z+1,J-(Z+1)).split(","),Me=1;switch(ee){case"rgba":if(4!==me.length)return null;Me=D(me.pop());case"rgb":return 3!==me.length?null:[y(me[0]),y(me[1]),y(me[2]),Me];case"hsla":if(4!==me.length)return null;Me=D(me.pop());case"hsl":if(3!==me.length)return null;var Ye=(parseFloat(me[0])%360+360)%360/360,nt=D(me[1]),lt=D(me[2]),wt=lt<=.5?lt*(nt+1):lt+nt-lt*nt,Tt=2*lt-wt;return[p(255*E(Tt,wt,Ye+1/3)),p(255*E(Tt,wt,Ye)),p(255*E(Tt,wt,Ye-1/3)),Me];default:return null}}return null}}catch(P){}});class ar{constructor(s,c,p,y=1){this.r=s,this.g=c,this.b=p,this.a=y}static parse(s){if(!s)return;if(s instanceof ar)return s;if("string"!=typeof s)return;const c=wr.parseCSSColor(s);return c?new ar(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3]):void 0}toString(){const[s,c,p,y]=this.toArray();return`rgba(${Math.round(s)},${Math.round(c)},${Math.round(p)},${y})`}toArray(){const{r:s,g:c,b:p,a:y}=this;return 0===y?[0,0,0,0]:[255*s/y,255*c/y,255*p/y,y]}}ar.black=new ar(0,0,0,1),ar.white=new ar(1,1,1,1),ar.transparent=new ar(0,0,0,0),ar.red=new ar(1,0,0,1),ar.blue=new ar(0,0,1,1);class uc{constructor(s,c,p){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,c){return this.collator.compare(s,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class jr{constructor(s,c,p,y,D){this.text=s,this.image=c,this.scale=p,this.fontStack=y,this.textColor=D}}class Ha{constructor(s){this.sections=s}static fromString(s){return new Ha([new jr(s,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(s=>0!==s.text.length||s.image&&0!==s.image.name.length)}static factory(s){return s instanceof Ha?s:Ha.fromString(s)}toString(){return 0===this.sections.length?"":this.sections.map(s=>s.text).join("")}serialize(){const s=["format"];for(const c of this.sections){if(c.image){s.push(["image",c.image.name]);continue}s.push(c.text);const p={};c.fontStack&&(p["text-font"]=["literal",c.fontStack.split(",")]),c.scale&&(p["font-scale"]=c.scale),c.textColor&&(p["text-color"]=["rgba"].concat(c.textColor.toArray())),s.push(p)}return s}}class aa{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new aa({name:s,available:!1}):null}serialize(){return["image",this.name]}}function Qo(u,s,c,p){return"number"==typeof u&&u>=0&&u<=255&&"number"==typeof s&&s>=0&&s<=255&&"number"==typeof c&&c>=0&&c<=255?void 0===p||"number"==typeof p&&p>=0&&p<=1?null:`Invalid rgba value [${[u,s,c,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof p?[u,s,c,p]:[u,s,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function il(u){if(null===u||"string"==typeof u||"boolean"==typeof u||"number"==typeof u||u instanceof ar||u instanceof uc||u instanceof Ha||u instanceof aa)return!0;if(Array.isArray(u)){for(const s of u)if(!il(s))return!1;return!0}if("object"==typeof u){for(const s in u)if(!il(u[s]))return!1;return!0}return!1}function zi(u){if(null===u)return co;if("string"==typeof u)return rr;if("boolean"==typeof u)return Fr;if("number"==typeof u)return rn;if(u instanceof ar)return Xi;if(u instanceof uc)return Ou;if(u instanceof Ha)return Di;if(u instanceof aa)return Ul;if(Array.isArray(u)){const s=u.length;let c;for(const p of u){const y=zi(p);if(c){if(c===y)continue;c=Vn;break}c=y}return Oa(c||Vn,s)}return Jo}function Ga(u){const s=typeof u;return null===u?"":"string"===s||"number"===s||"boolean"===s?String(u):u instanceof ar||u instanceof Ha||u instanceof aa?u.toString():JSON.stringify(u)}class qa{constructor(s,c){this.type=s,this.value=c}static parse(s,c){if(2!==s.length)return c.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!il(s[1]))return c.error("invalid value");const p=s[1];let y=zi(p);const D=c.expectedType;return"array"!==y.kind||0!==y.N||!D||"array"!==D.kind||"number"==typeof D.N&&0!==D.N||(y=D),new qa(y,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ar?["rgba"].concat(this.value.toArray()):this.value instanceof Ha?this.value.serialize():this.value}}class vn{constructor(s){this.name="ExpressionEvaluationError",this.message=s}toJSON(){return this.message}}const Fc={string:rr,number:rn,boolean:Fr,object:Jo};class Yo{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let p,y=1;const D=s[0];if("array"===D){let P,N;if(s.length>2){const j=s[1];if("string"!=typeof j||!(j in Fc)||"object"===j)return c.error('The item type argument of "array" must be one of string, number, boolean',1);P=Fc[j],y++}else P=Vn;if(s.length>3){if(null!==s[2]&&("number"!=typeof s[2]||s[2]<0||s[2]!==Math.floor(s[2])))return c.error('The length argument to "array" must be a positive integer literal',2);N=s[2],y++}p=Oa(P,N)}else p=Fc[D];const E=[];for(;y<s.length;y++){const P=c.parse(s[y],y,Vn);if(!P)return null;E.push(P)}return new Yo(p,E)}evaluate(s){for(let c=0;c<this.args.length;c++){const p=this.args[c].evaluate(s);if(!Ko(this.type,zi(p)))return p;if(c===this.args.length-1)throw new vn(`Expected value to be of type ${Wn(this.type)}, but found ${Wn(zi(p))} instead.`)}return null}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}serialize(){const s=this.type,c=[s.kind];if("array"===s.kind){const p=s.itemType;if("string"===p.kind||"number"===p.kind||"boolean"===p.kind){c.push(p.kind);const y=s.N;("number"==typeof y||this.args.length>1)&&c.push(y)}}return c.concat(this.args.map(p=>p.serialize()))}}class Sl{constructor(s){this.type=Di,this.sections=s}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");const p=s[1];if(!Array.isArray(p)&&"object"==typeof p)return c.error("First argument must be an image or text section.");const y=[];let D=!1;for(let E=1;E<=s.length-1;++E){const P=s[E];if(D&&"object"==typeof P&&!Array.isArray(P)){D=!1;let N=null;if(P["font-scale"]&&(N=c.parse(P["font-scale"],1,rn),!N))return null;let j=null;if(P["text-font"]&&(j=c.parse(P["text-font"],1,Oa(rr)),!j))return null;let Z=null;if(P["text-color"]&&(Z=c.parse(P["text-color"],1,Xi),!Z))return null;const J=y[y.length-1];J.scale=N,J.font=j,J.textColor=Z}else{const N=c.parse(s[E],1,Vn);if(!N)return null;const j=N.type.kind;if("string"!==j&&"value"!==j&&"null"!==j&&"resolvedImage"!==j)return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");D=!0,y.push({content:N,scale:null,font:null,textColor:null})}}return new Sl(y)}evaluate(s){return new Ha(this.sections.map(c=>{const p=c.content.evaluate(s);return zi(p)===Ul?new jr("",p,null,null,null):new jr(Ga(p),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))}eachChild(s){for(const c of this.sections)s(c.content),c.scale&&s(c.scale),c.font&&s(c.font),c.textColor&&s(c.textColor)}outputDefined(){return!1}serialize(){const s=["format"];for(const c of this.sections){s.push(c.content.serialize());const p={};c.scale&&(p["font-scale"]=c.scale.serialize()),c.font&&(p["text-font"]=c.font.serialize()),c.textColor&&(p["text-color"]=c.textColor.serialize()),s.push(p)}return s}}class cc{constructor(s){this.type=Ul,this.input=s}static parse(s,c){if(2!==s.length)return c.error("Expected two arguments.");const p=c.parse(s[1],1,rr);return p?new cc(p):c.error("No image name provided.")}evaluate(s){const c=this.input.evaluate(s),p=aa.fromString(c);return p&&s.availableImages&&(p.available=s.availableImages.indexOf(c)>-1),p}eachChild(s){s(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ra={"to-boolean":Fr,"to-color":Xi,"to-number":rn,"to-string":rr};class Ei{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");const p=s[0];if(("to-boolean"===p||"to-string"===p)&&2!==s.length)return c.error("Expected one argument.");const y=Ra[p],D=[];for(let E=1;E<s.length;E++){const P=c.parse(s[E],E,Vn);if(!P)return null;D.push(P)}return new Ei(y,D)}evaluate(s){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(s));if("color"===this.type.kind){let c,p;for(const y of this.args){if(c=y.evaluate(s),p=null,c instanceof ar)return c;if("string"==typeof c){const D=s.parseColor(c);if(D)return D}else if(Array.isArray(c)&&(p=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Qo(c[0],c[1],c[2],c[3]),!p))return new ar(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new vn(p||`Could not parse color from value '${"string"==typeof c?c:String(JSON.stringify(c))}'`)}if("number"===this.type.kind){let c=null;for(const p of this.args){if(c=p.evaluate(s),null===c)return 0;const y=Number(c);if(!isNaN(y))return y}throw new vn(`Could not convert ${JSON.stringify(c)} to number.`)}return"formatted"===this.type.kind?Ha.fromString(Ga(this.args[0].evaluate(s))):"resolvedImage"===this.type.kind?aa.fromString(Ga(this.args[0].evaluate(s))):Ga(this.args[0].evaluate(s))}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Sl([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new cc(this.args[0]).serialize();const s=[`to-${this.type.kind}`];return this.eachChild(c=>{s.push(c.serialize())}),s}}const Ii=["Unknown","Point","LineString","Polygon"];class Ci{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ii[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const s=this.featureDistanceData.center,c=this.featureDistanceData.scale,{x:p,y}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(p*c-s[0])+this.featureDistanceData.bearing[1]*(y*c-s[1])}return 0}parseColor(s){let c=this._parseColorCache[s];return c||(c=this._parseColorCache[s]=ar.parse(s)),c}}class hi{constructor(s,c,p,y){this.name=s,this.type=c,this._evaluate=p,this.args=y}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(s=>s.serialize()))}static parse(s,c){const p=s[0],y=hi.definitions[p];if(!y)return c.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);const D=Array.isArray(y)?y[0]:y.type,E=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,P=E.filter(([j])=>!Array.isArray(j)||j.length===s.length-1);let N=null;for(const[j,Z]of P){N=new _l(c.registry,c.path,null,c.scope);const J=[];let ee=!1;for(let me=1;me<s.length;me++){const Me=s[me],Ye=Array.isArray(j)?j[me-1]:j.type,nt=N.parse(Me,1+J.length,Ye);if(!nt){ee=!0;break}J.push(nt)}if(!ee)if(Array.isArray(j)&&j.length!==J.length)N.error(`Expected ${j.length} arguments, but found ${J.length} instead.`);else{for(let me=0;me<J.length;me++){const Me=Array.isArray(j)?j[me]:j.type,Ye=J[me];N.concat(me+1).checkSubtype(Me,Ye.type)}if(0===N.errors.length)return new hi(p,D,Z,J)}}if(1===P.length)c.errors.push(...N.errors);else{const j=(P.length?P:E).map(([J])=>{return ee=J,Array.isArray(ee)?`(${ee.map(Wn).join(", ")})`:`(${Wn(ee.type)}...)`;var ee}).join(" | "),Z=[];for(let J=1;J<s.length;J++){const ee=c.parse(s[J],1+Z.length);if(!ee)return null;Z.push(Wn(ee.type))}c.error(`Expected arguments of type ${j}, but found (${Z.join(", ")}) instead.`)}return null}static register(s,c){hi.definitions=c;for(const p in c)s[p]=hi}}class kh{constructor(s,c,p){this.type=Ou,this.locale=p,this.caseSensitive=s,this.diacriticSensitive=c}static parse(s,c){if(2!==s.length)return c.error("Expected one argument.");const p=s[1];if("object"!=typeof p||Array.isArray(p))return c.error("Collator options argument must be an object.");const y=c.parse(void 0!==p["case-sensitive"]&&p["case-sensitive"],1,Fr);if(!y)return null;const D=c.parse(void 0!==p["diacritic-sensitive"]&&p["diacritic-sensitive"],1,Fr);if(!D)return null;let E=null;return p.locale&&(E=c.parse(p.locale,1,rr),!E)?null:new kh(y,D,E)}evaluate(s){return new uc(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}serialize(){const s={};return s["case-sensitive"]=this.caseSensitive.serialize(),s["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(s.locale=this.locale.serialize()),["collator",s]}}const zo=8192;function Yc(u,s){u[0]=Math.min(u[0],s[0]),u[1]=Math.min(u[1],s[1]),u[2]=Math.max(u[2],s[0]),u[3]=Math.max(u[3],s[1])}function _r(u,s){return!(u[0]<=s[0]||u[2]>=s[2]||u[1]<=s[1]||u[3]>=s[3])}function Ji(u,s){const c=(180+u[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,y=Math.pow(2,s.z);return[Math.round(c*y*zo),Math.round(p*y*zo)]}function ea(u,s,c){const p=u[0]-s[0],y=u[1]-s[1],D=u[0]-c[0],E=u[1]-c[1];return p*E-D*y==0&&p*D<=0&&y*E<=0}function mo(u,s){let c=!1;for(let E=0,P=s.length;E<P;E++){const N=s[E];for(let j=0,Z=N.length;j<Z-1;j++){if(ea(u,N[j],N[j+1]))return!1;(y=N[j])[1]>(p=u)[1]!=(D=N[j+1])[1]>p[1]&&p[0]<(D[0]-y[0])*(p[1]-y[1])/(D[1]-y[1])+y[0]&&(c=!c)}}var p,y,D;return c}function hc(u,s){for(let c=0;c<s.length;c++)if(mo(u,s[c]))return!0;return!1}function dc(u,s,c,p){const y=p[0]-c[0],D=p[1]-c[1],E=(u[0]-c[0])*D-y*(u[1]-c[1]),P=(s[0]-c[0])*D-y*(s[1]-c[1]);return E>0&&P<0||E<0&&P>0}function Ks(u,s,c){for(const j of c)for(let Z=0;Z<j.length-1;++Z)if((P=[(E=j[Z+1])[0]-(D=j[Z])[0],E[1]-D[1]])[0]*(N=[(y=s)[0]-(p=u)[0],y[1]-p[1]])[1]-P[1]*N[0]!=0&&dc(p,y,D,E)&&dc(D,E,p,y))return!0;var p,y,D,E,P,N;return!1}function va(u,s){for(let c=0;c<u.length;++c)if(!mo(u[c],s))return!1;for(let c=0;c<u.length-1;++c)if(Ks(u[c],u[c+1],s))return!1;return!0}function Ru(u,s){for(let c=0;c<s.length;c++)if(va(u,s[c]))return!0;return!1}function ro(u,s,c){const p=[];for(let y=0;y<u.length;y++){const D=[];for(let E=0;E<u[y].length;E++){const P=Ji(u[y][E],c);Yc(s,P),D.push(P)}p.push(D)}return p}function Ll(u,s,c){const p=[];for(let y=0;y<u.length;y++){const D=ro(u[y],s,c);p.push(D)}return p}function au(u,s,c,p){if(u[0]<c[0]||u[0]>c[2]){const y=.5*p;let D=u[0]-c[0]>y?-p:c[0]-u[0]>y?p:0;0===D&&(D=u[0]-c[2]>y?-p:c[2]-u[0]>y?p:0),u[0]+=D}Yc(s,u)}function Tr(u,s,c,p){const y=Math.pow(2,p.z)*zo,D=[p.x*zo,p.y*zo],E=[];for(const P of u)for(const N of P){const j=[N.x+D[0],N.y+D[1]];au(j,s,c,y),E.push(j)}return E}function Ki(u,s,c,p){const y=Math.pow(2,p.z)*zo,D=[p.x*zo,p.y*zo],E=[];for(const N of u){const j=[];for(const Z of N){const J=[Z.x+D[0],Z.y+D[1]];Yc(s,J),j.push(J)}E.push(j)}if(s[2]-s[0]<=y/2){(P=s)[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(const N of E)for(const j of N)au(j,s,c,y)}var P;return E}class Nu{constructor(s,c){this.type=Fr,this.geojson=s,this.geometries=c}static parse(s,c){if(2!==s.length)return c.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(il(s[1])){const p=s[1];if("FeatureCollection"===p.type)for(let y=0;y<p.features.length;++y){const D=p.features[y].geometry.type;if("Polygon"===D||"MultiPolygon"===D)return new Nu(p,p.features[y].geometry)}else if("Feature"===p.type){const y=p.geometry.type;if("Polygon"===y||"MultiPolygon"===y)return new Nu(p,p.geometry)}else if("Polygon"===p.type||"MultiPolygon"===p.type)return new Nu(p,p)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(null!=s.geometry()&&null!=s.canonicalID()){if("Point"===s.geometryType())return function(c,p){const y=[1/0,1/0,-1/0,-1/0],D=[1/0,1/0,-1/0,-1/0],E=c.canonicalID();if("Polygon"===p.type){const P=ro(p.coordinates,D,E),N=Tr(c.geometry(),y,D,E);if(!_r(y,D))return!1;for(const j of N)if(!mo(j,P))return!1}if("MultiPolygon"===p.type){const P=Ll(p.coordinates,D,E),N=Tr(c.geometry(),y,D,E);if(!_r(y,D))return!1;for(const j of N)if(!hc(j,P))return!1}return!0}(s,this.geometries);if("LineString"===s.geometryType())return function(c,p){const y=[1/0,1/0,-1/0,-1/0],D=[1/0,1/0,-1/0,-1/0],E=c.canonicalID();if("Polygon"===p.type){const P=ro(p.coordinates,D,E),N=Ki(c.geometry(),y,D,E);if(!_r(y,D))return!1;for(const j of N)if(!va(j,P))return!1}if("MultiPolygon"===p.type){const P=Ll(p.coordinates,D,E),N=Ki(c.geometry(),y,D,E);if(!_r(y,D))return!1;for(const j of N)if(!Ru(j,P))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function io(u){if(u instanceof hi&&("get"===u.name&&1===u.args.length||"feature-state"===u.name||"has"===u.name&&1===u.args.length||"properties"===u.name||"geometry-type"===u.name||"id"===u.name||/^filter-/.test(u.name))||u instanceof Nu)return!1;let s=!0;return u.eachChild(c=>{s&&!io(c)&&(s=!1)}),s}function zs(u){if(u instanceof hi&&"feature-state"===u.name)return!1;let s=!0;return u.eachChild(c=>{s&&!zs(c)&&(s=!1)}),s}function Dr(u,s){if(u instanceof hi&&s.indexOf(u.name)>=0)return!1;let c=!0;return u.eachChild(p=>{c&&!Dr(p,s)&&(c=!1)}),c}class gl{constructor(s,c){this.type=c.type,this.name=s,this.boundExpression=c}static parse(s,c){if(2!==s.length||"string"!=typeof s[1])return c.error("'var' expression requires exactly one string literal argument.");const p=s[1];return c.scope.has(p)?new gl(p,c.scope.get(p)):c.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class _l{constructor(s,c=[],p,y=new ou,D=[]){this.registry=s,this.path=c,this.key=c.map(E=>`[${E}]`).join(""),this.scope=y,this.errors=D,this.expectedType=p}parse(s,c,p,y,D={}){return c?this.concat(c,p,y)._parse(s,D):this._parse(s,D)}_parse(s,c){function p(y,D,E){return"assert"===E?new Yo(D,[y]):"coerce"===E?new Ei(D,[y]):y}if(null!==s&&"string"!=typeof s&&"boolean"!=typeof s&&"number"!=typeof s||(s=["literal",s]),Array.isArray(s)){if(0===s.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=s[0];if("string"!=typeof y)return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const D=this.registry[y];if(D){let E=D.parse(s,this);if(!E)return null;if(this.expectedType){const P=this.expectedType,N=E.type;if("string"!==P.kind&&"number"!==P.kind&&"boolean"!==P.kind&&"object"!==P.kind&&"array"!==P.kind||"value"!==N.kind)if("color"!==P.kind&&"formatted"!==P.kind&&"resolvedImage"!==P.kind||"value"!==N.kind&&"string"!==N.kind){if(this.checkSubtype(P,N))return null}else E=p(E,P,c.typeAnnotation||"coerce");else E=p(E,P,c.typeAnnotation||"assert")}if(!(E instanceof qa)&&"resolvedImage"!==E.type.kind&&fc(E)){const P=new Ci;try{E=new qa(E.type,E.evaluate(P))}catch(N){return this.error(N.message),null}}return E}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===s?"'undefined' value invalid. Use null instead.":"object"==typeof s?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof s} instead.`)}concat(s,c,p){const y="number"==typeof s?this.path.concat(s):this.path,D=p?this.scope.concat(p):this.scope;return new _l(this.registry,y,c||null,D,this.errors)}error(s,...c){const p=`${this.key}${c.map(y=>`[${y}]`).join("")}`;this.errors.push(new pr(p,s))}checkSubtype(s,c){const p=Ko(s,c);return p&&this.error(p),p}}function fc(u){if(u instanceof gl)return fc(u.boundExpression);if(u instanceof hi&&"error"===u.name||u instanceof kh||u instanceof Nu)return!1;const s=u instanceof Ei||u instanceof Yo;let c=!0;return u.eachChild(p=>{c=s?c&&fc(p):c&&p instanceof qa}),!!c&&io(u)&&Dr(u,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Lc(u,s){const c=u.length-1;let p,y,D=0,E=c,P=0;for(;D<=E;)if(P=Math.floor((D+E)/2),p=u[P],y=u[P+1],p<=s){if(P===c||s<y)return P;D=P+1}else{if(!(p>s))throw new vn("Input is not a number.");E=P-1}return 0}class Ti{constructor(s,c,p){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(const[y,D]of p)this.labels.push(y),this.outputs.push(D)}static parse(s,c){if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");const p=c.parse(s[1],1,rn);if(!p)return null;const y=[];let D=null;c.expectedType&&"value"!==c.expectedType.kind&&(D=c.expectedType);for(let E=1;E<s.length;E+=2){const P=1===E?-1/0:s[E],N=s[E+1],j=E,Z=E+1;if("number"!=typeof P)return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(y.length&&y[y.length-1][0]>=P)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);const J=c.parse(N,Z,D);if(!J)return null;D=D||J.type,y.push([P,J])}return new Ti(D,p,y)}evaluate(s){const c=this.labels,p=this.outputs;if(1===c.length)return p[0].evaluate(s);const y=this.input.evaluate(s);if(y<=c[0])return p[0].evaluate(s);const D=c.length;return y>=c[D-1]?p[D-1].evaluate(s):p[Lc(c,y)].evaluate(s)}eachChild(s){s(this.input);for(const c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}serialize(){const s=["step",this.input.serialize()];for(let c=0;c<this.labels.length;c++)c>0&&s.push(this.labels[c]),s.push(this.outputs[c].serialize());return s}}function kr(u,s,c){return u*(1-c)+s*c}var Na=Object.freeze({__proto__:null,number:kr,color:function(u,s,c){return new ar(kr(u.r,s.r,c),kr(u.g,s.g,c),kr(u.b,s.b,c),kr(u.a,s.a,c))},array:function(u,s,c){return u.map((p,y)=>kr(p,s[y],c))}});const bi=4/29,lu=6/29,Hi=3*lu*lu,Kn=Math.PI/180,Bs=180/Math.PI;function xa(u){return u>.008856451679035631?Math.pow(u,1/3):u/Hi+bi}function jo(u){return u>lu?u*u*u:Hi*(u-bi)}function la(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function Hl(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function sl(u){const s=Hl(u.r),c=Hl(u.g),p=Hl(u.b),y=xa((.4124564*s+.3575761*c+.1804375*p)/.95047),D=xa((.2126729*s+.7151522*c+.072175*p)/1);return{l:116*D-16,a:500*(y-D),b:200*(D-xa((.0193339*s+.119192*c+.9503041*p)/1.08883)),alpha:u.a}}function Ju(u){let s=(u.l+16)/116,c=isNaN(u.a)?s:s+u.a/500,p=isNaN(u.b)?s:s-u.b/200;return s=1*jo(s),c=.95047*jo(c),p=1.08883*jo(p),new ar(la(3.2404542*c-1.5371385*s-.4985314*p),la(-.969266*c+1.8760108*s+.041556*p),la(.0556434*c-.2040259*s+1.0572252*p),u.alpha)}function kc(u,s,c){const p=s-u;return u+c*(p>180||p<-180?p-360*Math.round(p/360):p)}const vr={forward:sl,reverse:Ju,interpolate:function(u,s,c){return{l:kr(u.l,s.l,c),a:kr(u.a,s.a,c),b:kr(u.b,s.b,c),alpha:kr(u.alpha,s.alpha,c)}}},yl={forward:function(u){const{l:s,a:c,b:p}=sl(u),y=Math.atan2(p,c)*Bs;return{h:y<0?y+360:y,c:Math.sqrt(c*c+p*p),l:s,alpha:u.a}},reverse:function(u){const s=u.h*Kn,c=u.c;return Ju({l:u.l,a:Math.cos(s)*c,b:Math.sin(s)*c,alpha:u.alpha})},interpolate:function(u,s,c){return{h:kc(u.h,s.h,c),c:kr(u.c,s.c,c),l:kr(u.l,s.l,c),alpha:kr(u.alpha,s.alpha,c)}}};var Ws=Object.freeze({__proto__:null,lab:vr,hcl:yl});class wa{constructor(s,c,p,y,D){this.type=s,this.operator=c,this.interpolation=p,this.input=y,this.labels=[],this.outputs=[];for(const[E,P]of D)this.labels.push(E),this.outputs.push(P)}static interpolationFactor(s,c,p,y){let D=0;if("exponential"===s.name)D=ua(c,s.base,p,y);else if("linear"===s.name)D=ua(c,1,p,y);else if("cubic-bezier"===s.name){const E=s.controlPoints;D=new H(E[0],E[1],E[2],E[3]).solve(ua(c,1,p,y))}return D}static parse(s,c){let[p,y,D,...E]=s;if(!Array.isArray(y)||0===y.length)return c.error("Expected an interpolation type expression.",1);if("linear"===y[0])y={name:"linear"};else if("exponential"===y[0]){const j=y[1];if("number"!=typeof j)return c.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:j}}else{if("cubic-bezier"!==y[0])return c.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const j=y.slice(1);if(4!==j.length||j.some(Z=>"number"!=typeof Z||Z<0||Z>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:j}}}if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(D=c.parse(D,2,rn),!D)return null;const P=[];let N=null;"interpolate-hcl"===p||"interpolate-lab"===p?N=Xi:c.expectedType&&"value"!==c.expectedType.kind&&(N=c.expectedType);for(let j=0;j<E.length;j+=2){const Z=E[j],J=E[j+1],ee=j+3,me=j+4;if("number"!=typeof Z)return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ee);if(P.length&&P[P.length-1][0]>=Z)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ee);const Me=c.parse(J,me,N);if(!Me)return null;N=N||Me.type,P.push([Z,Me])}return"number"===N.kind||"color"===N.kind||"array"===N.kind&&"number"===N.itemType.kind&&"number"==typeof N.N?new wa(N,p,y,D,P):c.error(`Type ${Wn(N)} is not interpolatable.`)}evaluate(s){const c=this.labels,p=this.outputs;if(1===c.length)return p[0].evaluate(s);const y=this.input.evaluate(s);if(y<=c[0])return p[0].evaluate(s);const D=c.length;if(y>=c[D-1])return p[D-1].evaluate(s);const E=Lc(c,y),P=wa.interpolationFactor(this.interpolation,y,c[E],c[E+1]),N=p[E].evaluate(s),j=p[E+1].evaluate(s);return"interpolate"===this.operator?Na[this.type.kind.toLowerCase()](N,j,P):"interpolate-hcl"===this.operator?yl.reverse(yl.interpolate(yl.forward(N),yl.forward(j),P)):vr.reverse(vr.interpolate(vr.forward(N),vr.forward(j),P))}eachChild(s){s(this.input);for(const c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}serialize(){let s;s="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const c=[this.operator,s,this.input.serialize()];for(let p=0;p<this.labels.length;p++)c.push(this.labels[p],this.outputs[p].serialize());return c}}function ua(u,s,c,p){const y=p-c,D=u-c;return 0===y?0:1===s?D/y:(Math.pow(s,D)-1)/(Math.pow(s,y)-1)}class ca{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expectected at least one argument.");let p=null;const y=c.expectedType;y&&"value"!==y.kind&&(p=y);const D=[];for(const P of s.slice(1)){const N=c.parse(P,1+D.length,p,void 0,{typeAnnotation:"omit"});if(!N)return null;p=p||N.type,D.push(N)}const E=y&&D.some(P=>Ko(y,P.type));return new ca(E?Vn:p,D)}evaluate(s){let c,p=null,y=0;for(const D of this.args)if(y++,p=D.evaluate(s),p&&p instanceof aa&&!p.available&&(c||(c=p.name),p=null,y===this.args.length&&(p=c)),null!==p)break;return p}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}serialize(){const s=["coalesce"];return this.eachChild(c=>{s.push(c.serialize())}),s}}class Kr{constructor(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(const c of this.bindings)s(c[1]);s(this.result)}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);const p=[];for(let D=1;D<s.length-1;D+=2){const E=s[D];if("string"!=typeof E)return c.error(`Expected string, but found ${typeof E} instead.`,D);if(/[^a-zA-Z0-9_]/.test(E))return c.error("Variable names must contain only alphanumeric characters or '_'.",D);const P=c.parse(s[D+1],D+1);if(!P)return null;p.push([E,P])}const y=c.parse(s[s.length-1],s.length-1,c.expectedType,p);return y?new Kr(p,y):null}outputDefined(){return this.result.outputDefined()}serialize(){const s=["let"];for(const[c,p]of this.bindings)s.push(c,p.serialize());return s.push(this.result.serialize()),s}}class Du{constructor(s,c,p){this.type=s,this.index=c,this.input=p}static parse(s,c){if(3!==s.length)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);const p=c.parse(s[1],1,rn),y=c.parse(s[2],2,Oa(c.expectedType||Vn));return p&&y?new Du(y.type.itemType,p,y):null}evaluate(s){const c=this.index.evaluate(s),p=this.input.evaluate(s);if(c<0)throw new vn(`Array index out of bounds: ${c} < 0.`);if(c>=p.length)throw new vn(`Array index out of bounds: ${c} > ${p.length-1}.`);if(c!==Math.floor(c))throw new vn(`Array index must be an integer, but found ${c} instead.`);return p[c]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Hn{constructor(s,c){this.type=Fr,this.needle=s,this.haystack=c}static parse(s,c){if(3!==s.length)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);const p=c.parse(s[1],1,Vn),y=c.parse(s[2],2,Vn);return p&&y?ah(p.type,[Fr,rr,rn,co,Vn])?new Hn(p,y):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wn(p.type)} instead`):null}evaluate(s){const c=this.needle.evaluate(s),p=this.haystack.evaluate(s);if(!p)return!1;if(!Jr(c,["boolean","string","number","null"]))throw new vn(`Expected first argument to be of type boolean, string, number or null, but found ${Wn(zi(c))} instead.`);if(!Jr(p,["string","array"]))throw new vn(`Expected second argument to be of type array or string, but found ${Wn(zi(p))} instead.`);return p.indexOf(c)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Vo{constructor(s,c,p){this.type=rn,this.needle=s,this.haystack=c,this.fromIndex=p}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);const p=c.parse(s[1],1,Vn),y=c.parse(s[2],2,Vn);if(!p||!y)return null;if(!ah(p.type,[Fr,rr,rn,co,Vn]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wn(p.type)} instead`);if(4===s.length){const D=c.parse(s[3],3,rn);return D?new Vo(p,y,D):null}return new Vo(p,y)}evaluate(s){const c=this.needle.evaluate(s),p=this.haystack.evaluate(s);if(!Jr(c,["boolean","string","number","null"]))throw new vn(`Expected first argument to be of type boolean, string, number or null, but found ${Wn(zi(c))} instead.`);if(!Jr(p,["string","array"]))throw new vn(`Expected second argument to be of type array or string, but found ${Wn(zi(p))} instead.`);if(this.fromIndex){const y=this.fromIndex.evaluate(s);return p.indexOf(c,y)}return p.indexOf(c)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const s=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),s]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Pi{constructor(s,c,p,y,D,E){this.inputType=s,this.type=c,this.input=p,this.cases=y,this.outputs=D,this.otherwise=E}static parse(s,c){if(s.length<5)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return c.error("Expected an even number of arguments.");let p,y;c.expectedType&&"value"!==c.expectedType.kind&&(y=c.expectedType);const D={},E=[];for(let j=2;j<s.length-1;j+=2){let Z=s[j];const J=s[j+1];Array.isArray(Z)||(Z=[Z]);const ee=c.concat(j);if(0===Z.length)return ee.error("Expected at least one branch label.");for(const Me of Z){if("number"!=typeof Me&&"string"!=typeof Me)return ee.error("Branch labels must be numbers or strings.");if("number"==typeof Me&&Math.abs(Me)>Number.MAX_SAFE_INTEGER)return ee.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof Me&&Math.floor(Me)!==Me)return ee.error("Numeric branch labels must be integer values.");if(p){if(ee.checkSubtype(p,zi(Me)))return null}else p=zi(Me);if(void 0!==D[String(Me)])return ee.error("Branch labels must be unique.");D[String(Me)]=E.length}const me=c.parse(J,j,y);if(!me)return null;y=y||me.type,E.push(me)}const P=c.parse(s[1],1,Vn);if(!P)return null;const N=c.parse(s[s.length-1],s.length-1,y);return N?"value"!==P.type.kind&&c.concat(1).checkSubtype(p,P.type)?null:new Pi(p,y,P,D,E,N):null}evaluate(s){const c=this.input.evaluate(s);return(zi(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}serialize(){const s=["match",this.input.serialize()],c=Object.keys(this.cases).sort(),p=[],y={};for(const E of c){const P=y[this.cases[E]];void 0===P?(y[this.cases[E]]=p.length,p.push([this.cases[E],[E]])):p[P][1].push(E)}const D=E=>"number"===this.inputType.kind?Number(E):E;for(const[E,P]of p)s.push(1===P.length?D(P[0]):P.map(D)),s.push(this.outputs[E].serialize());return s.push(this.otherwise.serialize()),s}}class Fa{constructor(s,c,p){this.type=s,this.branches=c,this.otherwise=p}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return c.error("Expected an odd number of arguments.");let p;c.expectedType&&"value"!==c.expectedType.kind&&(p=c.expectedType);const y=[];for(let E=1;E<s.length-1;E+=2){const P=c.parse(s[E],E,Fr);if(!P)return null;const N=c.parse(s[E+1],E+1,p);if(!N)return null;y.push([P,N]),p=p||N.type}const D=c.parse(s[s.length-1],s.length-1,p);return D?new Fa(p,y,D):null}evaluate(s){for(const[c,p]of this.branches)if(c.evaluate(s))return p.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(const[c,p]of this.branches)s(c),s(p);s(this.otherwise)}outputDefined(){return this.branches.every(([s,c])=>c.outputDefined())&&this.otherwise.outputDefined()}serialize(){const s=["case"];return this.eachChild(c=>{s.push(c.serialize())}),s}}class Wa{constructor(s,c,p,y){this.type=s,this.input=c,this.beginIndex=p,this.endIndex=y}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);const p=c.parse(s[1],1,Vn),y=c.parse(s[2],2,rn);if(!p||!y)return null;if(!ah(p.type,[Oa(Vn),rr,Vn]))return c.error(`Expected first argument to be of type array or string, but found ${Wn(p.type)} instead`);if(4===s.length){const D=c.parse(s[3],3,rn);return D?new Wa(p.type,p,y,D):null}return new Wa(p.type,p,y)}evaluate(s){const c=this.input.evaluate(s),p=this.beginIndex.evaluate(s);if(!Jr(c,["string","array"]))throw new vn(`Expected first argument to be of type array or string, but found ${Wn(zi(c))} instead.`);if(this.endIndex){const y=this.endIndex.evaluate(s);return c.slice(p,y)}return c.slice(p)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const s=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),s]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Uo(u,s){return"=="===u||"!="===u?"boolean"===s.kind||"string"===s.kind||"number"===s.kind||"null"===s.kind||"value"===s.kind:"string"===s.kind||"number"===s.kind||"value"===s.kind}function ni(u,s,c,p){return 0===p.compare(s,c)}function Ho(u,s,c){const p="=="!==u&&"!="!==u;return class lA{constructor(D,E,P){this.type=Fr,this.lhs=D,this.rhs=E,this.collator=P,this.hasUntypedArgument="value"===D.type.kind||"value"===E.type.kind}static parse(D,E){if(3!==D.length&&4!==D.length)return E.error("Expected two or three arguments.");const P=D[0];let N=E.parse(D[1],1,Vn);if(!N)return null;if(!Uo(P,N.type))return E.concat(1).error(`"${P}" comparisons are not supported for type '${Wn(N.type)}'.`);let j=E.parse(D[2],2,Vn);if(!j)return null;if(!Uo(P,j.type))return E.concat(2).error(`"${P}" comparisons are not supported for type '${Wn(j.type)}'.`);if(N.type.kind!==j.type.kind&&"value"!==N.type.kind&&"value"!==j.type.kind)return E.error(`Cannot compare types '${Wn(N.type)}' and '${Wn(j.type)}'.`);p&&("value"===N.type.kind&&"value"!==j.type.kind?N=new Yo(j.type,[N]):"value"!==N.type.kind&&"value"===j.type.kind&&(j=new Yo(N.type,[j])));let Z=null;if(4===D.length){if("string"!==N.type.kind&&"string"!==j.type.kind&&"value"!==N.type.kind&&"value"!==j.type.kind)return E.error("Cannot use collator to compare non-string types.");if(Z=E.parse(D[3],3,Ou),!Z)return null}return new lA(N,j,Z)}evaluate(D){const E=this.lhs.evaluate(D),P=this.rhs.evaluate(D);if(p&&this.hasUntypedArgument){const N=zi(E),j=zi(P);if(N.kind!==j.kind||"string"!==N.kind&&"number"!==N.kind)throw new vn(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${N.kind}, ${j.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){const N=zi(E),j=zi(P);if("string"!==N.kind||"string"!==j.kind)return s(D,E,P)}return this.collator?c(D,E,P,this.collator.evaluate(D)):s(D,E,P)}eachChild(D){D(this.lhs),D(this.rhs),this.collator&&D(this.collator)}outputDefined(){return!0}serialize(){const D=[u];return this.eachChild(E=>{D.push(E.serialize())}),D}}}const kl=Ho("==",function(u,s,c){return s===c},ni),ol=Ho("!=",function(u,s,c){return s!==c},function(u,s,c,p){return!ni(0,s,c,p)}),Go=Ho("<",function(u,s,c){return s<c},function(u,s,c,p){return p.compare(s,c)<0}),Bi=Ho(">",function(u,s,c){return s>c},function(u,s,c,p){return p.compare(s,c)>0}),Td=Ho("<=",function(u,s,c){return s<=c},function(u,s,c,p){return p.compare(s,c)<=0}),vl=Ho(">=",function(u,s,c){return s>=c},function(u,s,c,p){return p.compare(s,c)>=0});class Rn{constructor(s,c,p,y,D){this.type=rr,this.number=s,this.locale=c,this.currency=p,this.minFractionDigits=y,this.maxFractionDigits=D}static parse(s,c){if(3!==s.length)return c.error("Expected two arguments.");const p=c.parse(s[1],1,rn);if(!p)return null;const y=s[2];if("object"!=typeof y||Array.isArray(y))return c.error("NumberFormat options argument must be an object.");let D=null;if(y.locale&&(D=c.parse(y.locale,1,rr),!D))return null;let E=null;if(y.currency&&(E=c.parse(y.currency,1,rr),!E))return null;let P=null;if(y["min-fraction-digits"]&&(P=c.parse(y["min-fraction-digits"],1,rn),!P))return null;let N=null;return y["max-fraction-digits"]&&(N=c.parse(y["max-fraction-digits"],1,rn),!N)?null:new Rn(p,D,E,P,N)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const s={};return this.locale&&(s.locale=this.locale.serialize()),this.currency&&(s.currency=this.currency.serialize()),this.minFractionDigits&&(s["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(s["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),s]}}class Ir{constructor(s){this.type=rn,this.input=s}static parse(s,c){if(2!==s.length)return c.error(`Expected 1 argument, but found ${s.length-1} instead.`);const p=c.parse(s[1],1);return p?"array"!==p.type.kind&&"string"!==p.type.kind&&"value"!==p.type.kind?c.error(`Expected argument of type string or array, but found ${Wn(p.type)} instead.`):new Ir(p):null}evaluate(s){const c=this.input.evaluate(s);if("string"==typeof c||Array.isArray(c))return c.length;throw new vn(`Expected value to be of type string or array, but found ${Wn(zi(c))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}serialize(){const s=["length"];return this.eachChild(c=>{s.push(c.serialize())}),s}}const mr={"==":kl,"!=":ol,">":Bi,"<":Go,">=":vl,"<=":Td,array:Yo,at:Du,boolean:Yo,case:Fa,coalesce:ca,collator:kh,format:Sl,image:cc,in:Hn,"index-of":Vo,interpolate:wa,"interpolate-hcl":wa,"interpolate-lab":wa,length:Ir,let:Kr,literal:qa,match:Pi,number:Yo,"number-format":Rn,object:Yo,slice:Wa,step:Ti,string:Yo,"to-boolean":Ei,"to-color":Ei,"to-number":Ei,"to-string":Ei,var:gl,within:Nu};function $s(u,[s,c,p,y]){s=s.evaluate(u),c=c.evaluate(u),p=p.evaluate(u);const D=y?y.evaluate(u):1,E=Qo(s,c,p,D);if(E)throw new vn(E);return new ar(s/255*D,c/255*D,p/255*D,D)}function ha(u,s){return u in s}function ts(u,s){const c=s[u];return void 0===c?null:c}function qo(u){return{type:u}}function Qi(u){return{result:"success",value:u}}function Ls(u){return{result:"error",value:u}}function ba(u){return"data-driven"===u["property-type"]||"cross-faded-data-driven"===u["property-type"]}function Qr(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function Eo(u){return!!u.expression&&u.expression.interpolated}function qr(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":null===u?"null":typeof u}function ta(u){return"object"==typeof u&&null!==u&&!Array.isArray(u)}function Eu(u){return u}function Gi(u,s){const c="color"===s.type,p=u.stops&&"object"==typeof u.stops[0][0],y=p||!(p||void 0!==u.property),D=u.type||(Eo(s)?"exponential":"interval");if(c&&((u=Mr({},u)).stops&&(u.stops=u.stops.map(j=>[j[0],ar.parse(j[1])])),u.default=ar.parse(u.default?u.default:s.default)),u.colorSpace&&"rgb"!==u.colorSpace&&!Ws[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let E,P,N;if("exponential"===D)E=ks;else if("interval"===D)E=da;else if("categorical"===D){E=Gl,P=Object.create(null);for(const j of u.stops)P[j[0]]=j[1];N=typeof u.stops[0][0]}else{if("identity"!==D)throw new Error(`Unknown function type "${D}"`);E=lh}if(p){const j={},Z=[];for(let me=0;me<u.stops.length;me++){const Me=u.stops[me],Ye=Me[0].zoom;void 0===j[Ye]&&(j[Ye]={zoom:Ye,type:u.type,property:u.property,default:u.default,stops:[]},Z.push(Ye)),j[Ye].stops.push([Me[0].value,Me[1]])}const J=[];for(const me of Z)J.push([j[me].zoom,Gi(j[me],s)]);const ee={name:"linear"};return{kind:"composite",interpolationType:ee,interpolationFactor:wa.interpolationFactor.bind(void 0,ee),zoomStops:J.map(me=>me[0]),evaluate:({zoom:me},Me)=>ks({stops:J,base:u.base},s,me).evaluate(me,Me)}}if(y){const j="exponential"===D?{name:"exponential",base:void 0!==u.base?u.base:1}:null;return{kind:"camera",interpolationType:j,interpolationFactor:wa.interpolationFactor.bind(void 0,j),zoomStops:u.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>E(u,s,Z,P,N)}}return{kind:"source",evaluate(j,Z){const J=Z&&Z.properties?Z.properties[u.property]:void 0;return void 0===J?uu(u.default,s.default):E(u,s,J,P,N)}}}function uu(u,s,c){return void 0!==u?u:void 0!==s?s:void 0!==c?c:void 0}function Gl(u,s,c,p,y){return uu(typeof c===y?p[c]:void 0,u.default,s.default)}function da(u,s,c){if("number"!==qr(c))return uu(u.default,s.default);const p=u.stops.length;if(1===p||c<=u.stops[0][0])return u.stops[0][1];if(c>=u.stops[p-1][0])return u.stops[p-1][1];const y=Lc(u.stops.map(D=>D[0]),c);return u.stops[y][1]}function ks(u,s,c){const p=void 0!==u.base?u.base:1;if("number"!==qr(c))return uu(u.default,s.default);const y=u.stops.length;if(1===y||c<=u.stops[0][0])return u.stops[0][1];if(c>=u.stops[y-1][0])return u.stops[y-1][1];const D=Lc(u.stops.map(Z=>Z[0]),c),E=function(Z,J,ee,me){const Me=me-ee,Ye=Z-ee;return 0===Me?0:1===J?Ye/Me:(Math.pow(J,Ye)-1)/(Math.pow(J,Me)-1)}(c,p,u.stops[D][0],u.stops[D+1][0]),P=u.stops[D][1],N=u.stops[D+1][1];let j=Na[s.type]||Eu;if(u.colorSpace&&"rgb"!==u.colorSpace){const Z=Ws[u.colorSpace];j=(J,ee)=>Z.reverse(Z.interpolate(Z.forward(J),Z.forward(ee),E))}return"function"==typeof P.evaluate?{evaluate(...Z){const J=P.evaluate.apply(void 0,Z),ee=N.evaluate.apply(void 0,Z);if(void 0!==J&&void 0!==ee)return j(J,ee,E)}}:j(P,N,E)}function lh(u,s,c){return"color"===s.type?c=ar.parse(c):"formatted"===s.type?c=Ha.fromString(c.toString()):"resolvedImage"===s.type?c=aa.fromString(c.toString()):qr(c)===s.type||"enum"===s.type&&s.values[c]||(c=void 0),uu(c,u.default,s.default)}hi.register(mr,{error:[{kind:"error"},[rr],(u,[s])=>{throw new vn(s.evaluate(u))}],typeof:[rr,[Vn],(u,[s])=>Wn(zi(s.evaluate(u)))],"to-rgba":[Oa(rn,4),[Xi],(u,[s])=>s.evaluate(u).toArray()],rgb:[Xi,[rn,rn,rn],$s],rgba:[Xi,[rn,rn,rn,rn],$s],has:{type:Fr,overloads:[[[rr],(u,[s])=>ha(s.evaluate(u),u.properties())],[[rr,Jo],(u,[s,c])=>ha(s.evaluate(u),c.evaluate(u))]]},get:{type:Vn,overloads:[[[rr],(u,[s])=>ts(s.evaluate(u),u.properties())],[[rr,Jo],(u,[s,c])=>ts(s.evaluate(u),c.evaluate(u))]]},"feature-state":[Vn,[rr],(u,[s])=>ts(s.evaluate(u),u.featureState||{})],properties:[Jo,[],u=>u.properties()],"geometry-type":[rr,[],u=>u.geometryType()],id:[Vn,[],u=>u.id()],zoom:[rn,[],u=>u.globals.zoom],pitch:[rn,[],u=>u.globals.pitch||0],"distance-from-center":[rn,[],u=>u.distanceFromCenter()],"heatmap-density":[rn,[],u=>u.globals.heatmapDensity||0],"line-progress":[rn,[],u=>u.globals.lineProgress||0],"sky-radial-progress":[rn,[],u=>u.globals.skyRadialProgress||0],accumulated:[Vn,[],u=>void 0===u.globals.accumulated?null:u.globals.accumulated],"+":[rn,qo(rn),(u,s)=>{let c=0;for(const p of s)c+=p.evaluate(u);return c}],"*":[rn,qo(rn),(u,s)=>{let c=1;for(const p of s)c*=p.evaluate(u);return c}],"-":{type:rn,overloads:[[[rn,rn],(u,[s,c])=>s.evaluate(u)-c.evaluate(u)],[[rn],(u,[s])=>-s.evaluate(u)]]},"/":[rn,[rn,rn],(u,[s,c])=>s.evaluate(u)/c.evaluate(u)],"%":[rn,[rn,rn],(u,[s,c])=>s.evaluate(u)%c.evaluate(u)],ln2:[rn,[],()=>Math.LN2],pi:[rn,[],()=>Math.PI],e:[rn,[],()=>Math.E],"^":[rn,[rn,rn],(u,[s,c])=>Math.pow(s.evaluate(u),c.evaluate(u))],sqrt:[rn,[rn],(u,[s])=>Math.sqrt(s.evaluate(u))],log10:[rn,[rn],(u,[s])=>Math.log(s.evaluate(u))/Math.LN10],ln:[rn,[rn],(u,[s])=>Math.log(s.evaluate(u))],log2:[rn,[rn],(u,[s])=>Math.log(s.evaluate(u))/Math.LN2],sin:[rn,[rn],(u,[s])=>Math.sin(s.evaluate(u))],cos:[rn,[rn],(u,[s])=>Math.cos(s.evaluate(u))],tan:[rn,[rn],(u,[s])=>Math.tan(s.evaluate(u))],asin:[rn,[rn],(u,[s])=>Math.asin(s.evaluate(u))],acos:[rn,[rn],(u,[s])=>Math.acos(s.evaluate(u))],atan:[rn,[rn],(u,[s])=>Math.atan(s.evaluate(u))],min:[rn,qo(rn),(u,s)=>Math.min(...s.map(c=>c.evaluate(u)))],max:[rn,qo(rn),(u,s)=>Math.max(...s.map(c=>c.evaluate(u)))],abs:[rn,[rn],(u,[s])=>Math.abs(s.evaluate(u))],round:[rn,[rn],(u,[s])=>{const c=s.evaluate(u);return c<0?-Math.round(-c):Math.round(c)}],floor:[rn,[rn],(u,[s])=>Math.floor(s.evaluate(u))],ceil:[rn,[rn],(u,[s])=>Math.ceil(s.evaluate(u))],"filter-==":[Fr,[rr,Vn],(u,[s,c])=>u.properties()[s.value]===c.value],"filter-id-==":[Fr,[Vn],(u,[s])=>u.id()===s.value],"filter-type-==":[Fr,[rr],(u,[s])=>u.geometryType()===s.value],"filter-<":[Fr,[rr,Vn],(u,[s,c])=>{const p=u.properties()[s.value],y=c.value;return typeof p==typeof y&&p<y}],"filter-id-<":[Fr,[Vn],(u,[s])=>{const c=u.id(),p=s.value;return typeof c==typeof p&&c<p}],"filter->":[Fr,[rr,Vn],(u,[s,c])=>{const p=u.properties()[s.value],y=c.value;return typeof p==typeof y&&p>y}],"filter-id->":[Fr,[Vn],(u,[s])=>{const c=u.id(),p=s.value;return typeof c==typeof p&&c>p}],"filter-<=":[Fr,[rr,Vn],(u,[s,c])=>{const p=u.properties()[s.value],y=c.value;return typeof p==typeof y&&p<=y}],"filter-id-<=":[Fr,[Vn],(u,[s])=>{const c=u.id(),p=s.value;return typeof c==typeof p&&c<=p}],"filter->=":[Fr,[rr,Vn],(u,[s,c])=>{const p=u.properties()[s.value],y=c.value;return typeof p==typeof y&&p>=y}],"filter-id->=":[Fr,[Vn],(u,[s])=>{const c=u.id(),p=s.value;return typeof c==typeof p&&c>=p}],"filter-has":[Fr,[Vn],(u,[s])=>s.value in u.properties()],"filter-has-id":[Fr,[],u=>null!==u.id()&&void 0!==u.id()],"filter-type-in":[Fr,[Oa(rr)],(u,[s])=>s.value.indexOf(u.geometryType())>=0],"filter-id-in":[Fr,[Oa(Vn)],(u,[s])=>s.value.indexOf(u.id())>=0],"filter-in-small":[Fr,[rr,Oa(Vn)],(u,[s,c])=>c.value.indexOf(u.properties()[s.value])>=0],"filter-in-large":[Fr,[rr,Oa(Vn)],(u,[s,c])=>function(p,y,D,E){for(;D<=E;){const P=D+E>>1;if(y[P]===p)return!0;y[P]>p?E=P-1:D=P+1}return!1}(u.properties()[s.value],c.value,0,c.value.length-1)],all:{type:Fr,overloads:[[[Fr,Fr],(u,[s,c])=>s.evaluate(u)&&c.evaluate(u)],[qo(Fr),(u,s)=>{for(const c of s)if(!c.evaluate(u))return!1;return!0}]]},any:{type:Fr,overloads:[[[Fr,Fr],(u,[s,c])=>s.evaluate(u)||c.evaluate(u)],[qo(Fr),(u,s)=>{for(const c of s)if(c.evaluate(u))return!0;return!1}]]},"!":[Fr,[Fr],(u,[s])=>!s.evaluate(u)],"is-supported-script":[Fr,[rr],(u,[s])=>{const c=u.globals&&u.globals.isSupportedScript;return!c||c(s.evaluate(u))}],upcase:[rr,[rr],(u,[s])=>s.evaluate(u).toUpperCase()],downcase:[rr,[rr],(u,[s])=>s.evaluate(u).toLowerCase()],concat:[rr,qo(Vn),(u,s)=>s.map(c=>Ga(c.evaluate(u))).join("")],"resolved-locale":[rr,[Ou],(u,[s])=>s.evaluate(u).resolvedLocale()]});class cu{constructor(s,c){var p;this.expression=s,this._warningHistory={},this._evaluator=new Ci,this._defaultValue=c?"color"===(p=c).type&&ta(p.default)?new ar(0,0,0,0):"color"===p.type?ar.parse(p.default)||null:void 0===p.default?null:p.default:null,this._enumValues=c&&"enum"===c.type?c.values:null}evaluateWithoutErrorHandling(s,c,p,y,D,E,P,N){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=p,this._evaluator.canonical=y,this._evaluator.availableImages=D||null,this._evaluator.formattedSection=E,this._evaluator.featureTileCoord=P||null,this._evaluator.featureDistanceData=N||null,this.expression.evaluate(this._evaluator)}evaluate(s,c,p,y,D,E,P,N){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=p||null,this._evaluator.canonical=y,this._evaluator.availableImages=D||null,this._evaluator.formattedSection=E||null,this._evaluator.featureTileCoord=P||null,this._evaluator.featureDistanceData=N||null;try{const j=this.expression.evaluate(this._evaluator);if(null==j||"number"==typeof j&&j!=j)return this._defaultValue;if(this._enumValues&&!(j in this._enumValues))throw new vn(`Expected value to be one of ${Object.keys(this._enumValues).map(Z=>JSON.stringify(Z)).join(", ")}, but found ${JSON.stringify(j)} instead.`);return j}catch(j){return this._warningHistory[j.message]||(this._warningHistory[j.message]=!0,"undefined"!=typeof console&&console.warn(j.message)),this._defaultValue}}}function Is(u){return Array.isArray(u)&&u.length>0&&"string"==typeof u[0]&&u[0]in mr}function Ni(u,s){const c=new _l(mr,[],s?function(y){const D={color:Xi,string:rr,number:rn,enum:rr,boolean:Fr,formatted:Di,resolvedImage:Ul};return"array"===y.type?Oa(D[y.value]||Vn,y.length):D[y.type]}(s):void 0),p=c.parse(u,void 0,void 0,void 0,s&&"string"===s.type?{typeAnnotation:"coerce"}:void 0);return p?Qi(new cu(p,s)):Ls(c.errors)}class al{constructor(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent="constant"!==s&&!zs(c.expression)}evaluateWithoutErrorHandling(s,c,p,y,D,E){return this._styleExpression.evaluateWithoutErrorHandling(s,c,p,y,D,E)}evaluate(s,c,p,y,D,E){return this._styleExpression.evaluate(s,c,p,y,D,E)}}class go{constructor(s,c,p,y){this.kind=s,this.zoomStops=p,this._styleExpression=c,this.isStateDependent="camera"!==s&&!zs(c.expression),this.interpolationType=y}evaluateWithoutErrorHandling(s,c,p,y,D,E){return this._styleExpression.evaluateWithoutErrorHandling(s,c,p,y,D,E)}evaluate(s,c,p,y,D,E){return this._styleExpression.evaluate(s,c,p,y,D,E)}interpolationFactor(s,c,p){return this.interpolationType?wa.interpolationFactor(this.interpolationType,s,c,p):0}}function ll(u,s){if("error"===(u=Ni(u,s)).result)return u;const c=u.value.expression,p=io(c);if(!p&&!ba(s))return Ls([new pr("","data expressions not supported")]);const y=Dr(c,["zoom","pitch","distance-from-center"]);if(!y&&!Qr(s))return Ls([new pr("","zoom expressions not supported")]);const D=Cu(c);return D||y?D instanceof pr?Ls([D]):D instanceof wa&&!Eo(s)?Ls([new pr("",'"interpolate" expressions cannot be used with this property')]):Qi(D?new go(p?"camera":"composite",u.value,D.labels,D instanceof wa?D.interpolation:void 0):new al(p?"constant":"source",u.value)):Ls([new pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Co{constructor(s,c){this._parameters=s,this._specification=c,Mr(this,Gi(this._parameters,this._specification))}static deserialize(s){return new Co(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function Cu(u){let s=null;if(u instanceof Kr)s=Cu(u.result);else if(u instanceof ca){for(const c of u.args)if(s=Cu(c),s)break}else(u instanceof Ti||u instanceof wa)&&u.input instanceof hi&&"zoom"===u.input.name&&(s=u);return s instanceof pr||u.eachChild(c=>{const p=Cu(c);p instanceof pr?s=p:!s&&p?s=new pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):s&&p&&s!==p&&(s=new pr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),s}function Ya(u){const s=u.key,c=u.value,p=u.valueSpec||{},y=u.objectElementValidators||{},D=u.style,E=u.styleSpec;let P=[];const N=qr(c);if("object"!==N)return[new qt(s,c,`object expected, ${N} found`)];for(const j in c){const Z=j.split(".")[0],J=p[Z]||p["*"];let ee;if(y[Z])ee=y[Z];else if(p[Z])ee=Fi;else if(y["*"])ee=y["*"];else{if(!p["*"]){P.push(new qt(s,c[j],`unknown property "${j}"`));continue}ee=Fi}P=P.concat(ee({key:(s&&`${s}.`)+j,value:c[j],valueSpec:J,style:D,styleSpec:E,object:c,objectKey:j},c))}for(const j in p)y[j]||p[j].required&&void 0===p[j].default&&void 0===c[j]&&P.push(new qt(s,c,`missing required property "${j}"`));return P}function ql(u){const s=u.value,c=u.valueSpec,p=u.style,y=u.styleSpec,D=u.key,E=u.arrayElementValidator||Fi;if("array"!==qr(s))return[new qt(D,s,`array expected, ${qr(s)} found`)];if(c.length&&s.length!==c.length)return[new qt(D,s,`array length ${c.length} expected, length ${s.length} found`)];if(c["min-length"]&&s.length<c["min-length"])return[new qt(D,s,`array length at least ${c["min-length"]} expected, length ${s.length} found`)];let P={type:c.value,values:c.values,minimum:c.minimum,maximum:c.maximum};y.$version<7&&(P.function=c.function),"object"===qr(c.value)&&(P=c.value);let N=[];for(let j=0;j<s.length;j++)N=N.concat(E({array:s,arrayIndex:j,value:s[j],valueSpec:P,style:p,styleSpec:y,key:`${D}[${j}]`}));return N}function Wl(u){const s=u.key,c=u.value,p=u.valueSpec;let y=qr(c);if("number"===y&&c!=c&&(y="NaN"),"number"!==y)return[new qt(s,c,`number expected, ${y} found`)];if("minimum"in p){let D=p.minimum;if("array"===qr(p.minimum)&&(D=p.minimum[u.arrayIndex]),c<D)return[new qt(s,c,`${c} is less than the minimum value ${D}`)]}if("maximum"in p){let D=p.maximum;if("array"===qr(p.maximum)&&(D=p.maximum[u.arrayIndex]),c>D)return[new qt(s,c,`${c} is greater than the maximum value ${D}`)]}return[]}function To(u){const s=u.valueSpec,c=gr(u.value.type);let p,y,D,E={};const P="categorical"!==c&&void 0===u.value.property,N=!P,j="array"===qr(u.value.stops)&&"array"===qr(u.value.stops[0])&&"object"===qr(u.value.stops[0][0]),Z=Ya({key:u.key,value:u.value,valueSpec:u.styleSpec.function,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(me){if("identity"===c)return[new qt(me.key,me.value,'identity function may not have a "stops" property')];let Me=[];const Ye=me.value;return Me=Me.concat(ql({key:me.key,value:Ye,valueSpec:me.valueSpec,style:me.style,styleSpec:me.styleSpec,arrayElementValidator:J})),"array"===qr(Ye)&&0===Ye.length&&Me.push(new qt(me.key,Ye,"array must have at least one stop")),Me},default:function(me){return Fi({key:me.key,value:me.value,valueSpec:s,style:me.style,styleSpec:me.styleSpec})}}});return"identity"===c&&P&&Z.push(new qt(u.key,u.value,'missing required property "property"')),"identity"===c||u.value.stops||Z.push(new qt(u.key,u.value,'missing required property "stops"')),"exponential"===c&&u.valueSpec.expression&&!Eo(u.valueSpec)&&Z.push(new qt(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(N&&!ba(u.valueSpec)?Z.push(new qt(u.key,u.value,"property functions not supported")):P&&!Qr(u.valueSpec)&&Z.push(new qt(u.key,u.value,"zoom functions not supported"))),"categorical"!==c&&!j||void 0!==u.value.property||Z.push(new qt(u.key,u.value,'"property" property is required')),Z;function J(me){let Me=[];const Ye=me.value,nt=me.key;if("array"!==qr(Ye))return[new qt(nt,Ye,`array expected, ${qr(Ye)} found`)];if(2!==Ye.length)return[new qt(nt,Ye,`array length 2 expected, length ${Ye.length} found`)];if(j){if("object"!==qr(Ye[0]))return[new qt(nt,Ye,`object expected, ${qr(Ye[0])} found`)];if(void 0===Ye[0].zoom)return[new qt(nt,Ye,"object stop key must have zoom")];if(void 0===Ye[0].value)return[new qt(nt,Ye,"object stop key must have value")];if(D&&D>gr(Ye[0].zoom))return[new qt(nt,Ye[0].zoom,"stop zoom values must appear in ascending order")];gr(Ye[0].zoom)!==D&&(D=gr(Ye[0].zoom),y=void 0,E={}),Me=Me.concat(Ya({key:`${nt}[0]`,value:Ye[0],valueSpec:{zoom:{}},style:me.style,styleSpec:me.styleSpec,objectElementValidators:{zoom:Wl,value:ee}}))}else Me=Me.concat(ee({key:`${nt}[0]`,value:Ye[0],valueSpec:{},style:me.style,styleSpec:me.styleSpec},Ye));return Is(nr(Ye[1]))?Me.concat([new qt(`${nt}[1]`,Ye[1],"expressions are not allowed in function stops.")]):Me.concat(Fi({key:`${nt}[1]`,value:Ye[1],valueSpec:s,style:me.style,styleSpec:me.styleSpec}))}function ee(me,Me){const Ye=qr(me.value),nt=gr(me.value),lt=null!==me.value?me.value:Me;if(p){if(Ye!==p)return[new qt(me.key,lt,`${Ye} stop domain type must match previous stop domain type ${p}`)]}else p=Ye;if("number"!==Ye&&"string"!==Ye&&"boolean"!==Ye)return[new qt(me.key,lt,"stop domain value must be a number, string, or boolean")];if("number"!==Ye&&"categorical"!==c){let wt=`number expected, ${Ye} found`;return ba(s)&&void 0===c&&(wt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qt(me.key,lt,wt)]}return"categorical"!==c||"number"!==Ye||isFinite(nt)&&Math.floor(nt)===nt?"categorical"!==c&&"number"===Ye&&void 0!==y&&nt<y?[new qt(me.key,lt,"stop domain values must appear in ascending order")]:(y=nt,"categorical"===c&&nt in E?[new qt(me.key,lt,"stop domain values must be unique")]:(E[nt]=!0,[])):[new qt(me.key,lt,`integer expected, found ${nt}`)]}}function fa(u){const s=("property"===u.expressionContext?ll:Ni)(nr(u.value),u.valueSpec);if("error"===s.result)return s.value.map(p=>new qt(`${u.key}${p.key}`,u.value,p.message));const c=s.value.expression||s.value._styleExpression.expression;if("property"===u.expressionContext&&"text-font"===u.propertyKey&&!c.outputDefined())return[new qt(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===u.expressionContext&&"layout"===u.propertyType&&!zs(c))return[new qt(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===u.expressionContext)return pa(c,u);if(u.expressionContext&&0===u.expressionContext.indexOf("cluster")){if(!Dr(c,["zoom","feature-state"]))return[new qt(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===u.expressionContext&&!io(c))return[new qt(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function pa(u,s){const c=new Set(["zoom","feature-state","pitch","distance-from-center"]);for(const y of s.valueSpec.expression.parameters)c.delete(y);if(0===c.size)return[];const p=[];return u instanceof hi&&c.has(u.name)?[new qt(s.key,s.value,`["${u.name}"] expression is not supported in a filter for a ${s.object.type} layer with id: ${s.object.id}`)]:(u.eachChild(y=>{p.push(...pa(y,s))}),p)}function $a(u){const s=u.key,c=u.value,p=u.valueSpec,y=[];return Array.isArray(p.values)?-1===p.values.indexOf(gr(c))&&y.push(new qt(s,c,`expected one of [${p.values.join(", ")}], ${JSON.stringify(c)} found`)):-1===Object.keys(p.values).indexOf(gr(c))&&y.push(new qt(s,c,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(c)} found`)),y}function za(u){if(!0===u||!1===u)return!0;if(!Array.isArray(u)||0===u.length)return!1;switch(u[0]){case"has":return u.length>=2&&"$id"!==u[1]&&"$type"!==u[1];case"in":return u.length>=3&&("string"!=typeof u[1]||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==u.length||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const s of u.slice(1))if(!za(s)&&"boolean"!=typeof s)return!1;return!0;default:return!0}}function hu(u,s="fill"){if(null==u)return{filter:()=>!0,needGeometry:!1,needFeature:!1};za(u)||(u=du(u));const c=u;let p=!0;try{p=function(j){if(!Ma(j))return j;let Z=nr(j);return ho(Z),Z=Wo(Z),Z}(c)}catch(j){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(c,null,2)}\n        `)}const y=Ct[`filter_${s}`],D=Ni(p,y);let E=null;if("error"===D.result)throw new Error(D.value.map(j=>`${j.key}: ${j.message}`).join(", "));E=(j,Z,J)=>D.value.evaluate(j,Z,{},J);let P=null,N=null;if(p!==c){const j=Ni(c,y);if("error"===j.result)throw new Error(j.value.map(Z=>`${Z.key}: ${Z.message}`).join(", "));P=(Z,J,ee,me,Me)=>j.value.evaluate(Z,J,{},ee,void 0,void 0,me,Me),N=!io(j.value.expression)}return E=E,{filter:E,dynamicFilter:P||void 0,needGeometry:Yu(p),needFeature:!!N}}function Wo(u){if(!Array.isArray(u))return u;const s=function(c){if(xl.has(c[0]))for(let p=1;p<c.length;p++)if(Ma(c[p]))return!0;return c}(u);return!0===s?s:s.map(c=>Wo(c))}function ho(u){let s=!1;const c=[];if("case"===u[0]){for(let p=1;p<u.length-1;p+=2)s=s||Ma(u[p]),c.push(u[p+1]);c.push(u[u.length-1])}else if("match"===u[0]){s=s||Ma(u[1]);for(let p=2;p<u.length-1;p+=2)c.push(u[p+1]);c.push(u[u.length-1])}else if("step"===u[0]){s=s||Ma(u[1]);for(let p=1;p<u.length-1;p+=2)c.push(u[p+1])}s&&(u.length=0,u.push("any",...c));for(let p=1;p<u.length;p++)ho(u[p])}function Ma(u){if(!Array.isArray(u))return!1;if("pitch"===(s=u[0])||"distance-from-center"===s)return!0;var s;for(let c=1;c<u.length;c++)if(Ma(u[c]))return!0;return!1}const xl=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function uh(u,s){return u<s?-1:u>s?1:0}function Yu(u){if(!Array.isArray(u))return!1;if("within"===u[0])return!0;for(let s=1;s<u.length;s++)if(Yu(u[s]))return!0;return!1}function du(u){if(!u)return!0;const s=u[0];return u.length<=1?"any"!==s:"=="===s?na(u[1],u[2],"=="):"!="===s?Bc(na(u[1],u[2],"==")):"<"===s||">"===s||"<="===s||">="===s?na(u[1],u[2],s):"any"===s?(c=u.slice(1),["any"].concat(c.map(du))):"all"===s?["all"].concat(u.slice(1).map(du)):"none"===s?["all"].concat(u.slice(1).map(du).map(Bc)):"in"===s?zc(u[1],u.slice(2)):"!in"===s?Bc(zc(u[1],u.slice(2))):"has"===s?So(u[1]):"!has"===s?Bc(So(u[1])):"within"!==s||u;var c}function na(u,s,c){switch(u){case"$type":return[`filter-type-${c}`,s];case"$id":return[`filter-id-${c}`,s];default:return[`filter-${c}`,u,s]}}function zc(u,s){if(0===s.length)return!1;switch(u){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(c=>typeof c!=typeof s[0])?["filter-in-large",u,["literal",s.sort(uh)]]:["filter-in-small",u,["literal",s]]}}function So(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function Bc(u){return["!",u]}function Il(u){if(za(nr(u.value))){const s=nr(u.layerType);return fa(Mr({},u,{expressionContext:"filter",valueSpec:u.styleSpec[`filter_${s||"fill"}`]}))}return $o(u)}function $o(u){const s=u.value,c=u.key;if("array"!==qr(s))return[new qt(c,s,`array expected, ${qr(s)} found`)];const p=u.styleSpec;let y,D=[];if(s.length<1)return[new qt(c,s,"filter array must have at least 1 element")];switch(D=D.concat($a({key:`${c}[0]`,value:s[0],valueSpec:p.filter_operator,style:u.style,styleSpec:u.styleSpec})),gr(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&"$type"===gr(s[1])&&D.push(new qt(c,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":3!==s.length&&D.push(new qt(c,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(y=qr(s[1]),"string"!==y&&D.push(new qt(`${c}[1]`,s[1],`string expected, ${y} found`)));for(let E=2;E<s.length;E++)y=qr(s[E]),"$type"===gr(s[1])?D=D.concat($a({key:`${c}[${E}]`,value:s[E],valueSpec:p.geometry_type,style:u.style,styleSpec:u.styleSpec})):"string"!==y&&"number"!==y&&"boolean"!==y&&D.push(new qt(`${c}[${E}]`,s[E],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let E=1;E<s.length;E++)D=D.concat($o({key:`${c}[${E}]`,value:s[E],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":y=qr(s[1]),2!==s.length?D.push(new qt(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):"string"!==y&&D.push(new qt(`${c}[1]`,s[1],`string expected, ${y} found`));break;case"within":y=qr(s[1]),2!==s.length?D.push(new qt(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):"object"!==y&&D.push(new qt(`${c}[1]`,s[1],`object expected, ${y} found`))}return D}function Lo(u,s){const c=u.key,p=u.style,y=u.styleSpec,D=u.value,E=u.objectKey,P=y[`${s}_${u.layerType}`];if(!P)return[];const N=E.match(/^(.*)-transition$/);if("paint"===s&&N&&P[N[1]]&&P[N[1]].transition)return Fi({key:c,value:D,valueSpec:y.transition,style:p,styleSpec:y});const j=u.valueSpec||P[E];if(!j)return[new qt(c,D,`unknown property "${E}"`)];let Z;if("string"===qr(D)&&ba(j)&&!j.tokens&&(Z=/^{([^}]+)}$/.exec(D)))return[new qt(c,D,`"${E}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const J=[];return"symbol"===u.layerType&&("text-field"===E&&p&&!p.glyphs&&J.push(new qt(c,D,'use of "text-field" requires a style "glyphs" property')),"text-font"===E&&ta(nr(D))&&"identity"===gr(D.type)&&J.push(new qt(c,D,'"text-font" does not support identity functions'))),J.concat(Fi({key:u.key,value:D,valueSpec:j,style:p,styleSpec:y,expressionContext:"property",propertyType:s,propertyKey:E}))}function $l(u){return Lo(u,"paint")}function qi(u){return Lo(u,"layout")}function Ba(u){let s=[];const c=u.value,p=u.key,y=u.style,D=u.styleSpec;c.type||c.ref||s.push(new qt(p,c,'either "type" or "ref" is required'));let E=gr(c.type);const P=gr(c.ref);if(c.id){const N=gr(c.id);for(let j=0;j<u.arrayIndex;j++){const Z=y.layers[j];gr(Z.id)===N&&s.push(new qt(p,c.id,`duplicate layer id "${c.id}", previously used at line ${Z.id.__line__}`))}}if("ref"in c){let N;["type","source","source-layer","filter","layout"].forEach(j=>{j in c&&s.push(new qt(p,c[j],`"${j}" is prohibited for ref layers`))}),y.layers.forEach(j=>{gr(j.id)===P&&(N=j)}),N?N.ref?s.push(new qt(p,c.ref,"ref cannot reference another ref layer")):E=gr(N.type):s.push(new qt(p,c.ref,`ref layer "${P}" not found`))}else if("background"!==E&&"sky"!==E)if(c.source){const N=y.sources&&y.sources[c.source],j=N&&gr(N.type);N?"vector"===j&&"raster"===E?s.push(new qt(p,c.source,`layer "${c.id}" requires a raster source`)):"raster"===j&&"raster"!==E?s.push(new qt(p,c.source,`layer "${c.id}" requires a vector source`)):"vector"!==j||c["source-layer"]?"raster-dem"===j&&"hillshade"!==E?s.push(new qt(p,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==E||!c.paint||!c.paint["line-gradient"]||"geojson"===j&&N.lineMetrics||s.push(new qt(p,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new qt(p,c,`layer "${c.id}" must specify a "source-layer"`)):s.push(new qt(p,c.source,`source "${c.source}" not found`))}else s.push(new qt(p,c,'missing required property "source"'));return s=s.concat(Ya({key:p,value:c,valueSpec:D.layer,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Fi({key:`${p}.type`,value:c.type,valueSpec:D.layer.type,style:u.style,styleSpec:u.styleSpec,object:c,objectKey:"type"}),filter:N=>Il(Mr({layerType:E},N)),layout:N=>Ya({layer:c,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,objectElementValidators:{"*":j=>qi(Mr({layerType:E},j))}}),paint:N=>Ya({layer:c,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,objectElementValidators:{"*":j=>$l(Mr({layerType:E},j))}})}})),s}function Zl(u){const s=u.value,c=u.key,p=qr(s);return"string"!==p?[new qt(c,s,`string expected, ${p} found`)]:[]}const Da={promoteId:function({key:u,value:s}){if("string"===qr(s))return Zl({key:u,value:s});{const c=[];for(const p in s)c.push(...Zl({key:`${u}.${p}`,value:s[p]}));return c}}};function Pl(u){const s=u.value,c=u.key,p=u.styleSpec,y=u.style;if(!s.type)return[new qt(c,s,'"type" is required')];const D=gr(s.type);let E;switch(D){case"vector":case"raster":case"raster-dem":return E=Ya({key:c,value:s,valueSpec:p[`source_${D.replace("-","_")}`],style:u.style,styleSpec:p,objectElementValidators:Da}),E;case"geojson":if(E=Ya({key:c,value:s,valueSpec:p.source_geojson,style:y,styleSpec:p,objectElementValidators:Da}),s.cluster)for(const P in s.clusterProperties){const[N,j]=s.clusterProperties[P],Z="string"==typeof N?[N,["accumulated"],["get",P]]:N;E.push(...fa({key:`${c}.${P}.map`,value:j,expressionContext:"cluster-map"})),E.push(...fa({key:`${c}.${P}.reduce`,value:Z,expressionContext:"cluster-reduce"}))}return E;case"video":return Ya({key:c,value:s,valueSpec:p.source_video,style:y,styleSpec:p});case"image":return Ya({key:c,value:s,valueSpec:p.source_image,style:y,styleSpec:p});case"canvas":return[new qt(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return $a({key:`${c}.type`,value:s.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:y,styleSpec:p})}}function Ps(u){const s=u.value,c=u.styleSpec,p=c.light,y=u.style;let D=[];const E=qr(s);if(void 0===s)return D;if("object"!==E)return D=D.concat([new qt("light",s,`object expected, ${E} found`)]),D;for(const P in s){const N=P.match(/^(.*)-transition$/);D=D.concat(N&&p[N[1]]&&p[N[1]].transition?Fi({key:P,value:s[P],valueSpec:c.transition,style:y,styleSpec:c}):p[P]?Fi({key:P,value:s[P],valueSpec:p[P],style:y,styleSpec:c}):[new qt(P,s[P],`unknown property "${P}"`)])}return D}function jc(u){const s=u.value,c=u.key,p=u.style,y=u.styleSpec,D=y.terrain;let E=[];const P=qr(s);if(void 0===s)return E;if("object"!==P)return E=E.concat([new qt("terrain",s,`object expected, ${P} found`)]),E;for(const N in s){const j=N.match(/^(.*)-transition$/);E=E.concat(j&&D[j[1]]&&D[j[1]].transition?Fi({key:N,value:s[N],valueSpec:y.transition,style:p,styleSpec:y}):D[N]?Fi({key:N,value:s[N],valueSpec:D[N],style:p,styleSpec:y}):[new qt(N,s[N],`unknown property "${N}"`)])}if(s.source){const N=p.sources&&p.sources[s.source],j=N&&gr(N.type);N?"raster-dem"!==j&&E.push(new qt(c,s.source,`terrain cannot be used with a source of type ${j}, it only be used with a "raster-dem" source type`)):E.push(new qt(c,s.source,`source "${s.source}" not found`))}else E.push(new qt(c,s,'terrain is missing required property "source"'));return E}function Vc(u){const s=u.value,c=u.style,p=u.styleSpec,y=p.fog;let D=[];const E=qr(s);if(void 0===s)return D;if("object"!==E)return D=D.concat([new qt("fog",s,`object expected, ${E} found`)]),D;for(const P in s){const N=P.match(/^(.*)-transition$/);D=D.concat(N&&y[N[1]]&&y[N[1]].transition?Fi({key:P,value:s[P],valueSpec:p.transition,style:c,styleSpec:p}):y[P]?Fi({key:P,value:s[P],valueSpec:y[P],style:c,styleSpec:p}):[new qt(P,s[P],`unknown property "${P}"`)])}return D}const Zo={"*":()=>[],array:ql,boolean:function(u){const s=u.value,c=u.key,p=qr(s);return"boolean"!==p?[new qt(c,s,`boolean expected, ${p} found`)]:[]},number:Wl,color:function(u){const s=u.key,c=u.value,p=qr(c);return"string"!==p?[new qt(s,c,`color expected, ${p} found`)]:null===wr.parseCSSColor(c)?[new qt(s,c,`color expected, "${c}" found`)]:[]},constants:fr,enum:$a,filter:Il,function:To,layer:Ba,object:Ya,source:Pl,light:Ps,terrain:jc,fog:Vc,string:Zl,formatted:function(u){return 0===Zl(u).length?[]:fa(u)},resolvedImage:function(u){return 0===Zl(u).length?[]:fa(u)},projection:function(u){const s=u.value,c=u.styleSpec,p=c.projection,y=u.style;let D=[];const E=qr(s);if("object"===E)for(const P in s)D=D.concat(Fi({key:P,value:s[P],valueSpec:p[P],style:y,styleSpec:c}));else"string"!==E&&(D=D.concat([new qt("projection",s,`object or string expected, ${E} found`)]));return D}};function Fi(u){const s=u.value,c=u.valueSpec,p=u.styleSpec;return c.expression&&ta(gr(s))?To(u):c.expression&&Is(nr(s))?fa(u):c.type&&Zo[c.type]?Zo[c.type](u):Ya(Mr({},u,{valueSpec:c.type?p[c.type]:c}))}function ch(u){const s=u.value,c=u.key,p=Zl(u);return p.length||(-1===s.indexOf("{fontstack}")&&p.push(new qt(c,s,'"glyphs" url must include a "{fontstack}" token')),-1===s.indexOf("{range}")&&p.push(new qt(c,s,'"glyphs" url must include a "{range}" token'))),p}function Ea(u,s=Ct){let c=[];return c=c.concat(Fi({key:"",value:u,valueSpec:s.$root,styleSpec:s,style:u,objectElementValidators:{glyphs:ch,"*":()=>[]}})),u.constants&&(c=c.concat(fr({key:"constants",value:u.constants,style:u,styleSpec:s}))),Xl(c)}function Xl(u){return[].concat(u).sort((s,c)=>s.line-c.line)}function js(u){return function(...s){return Xl(u.apply(this,s))}}Ea.source=js(Pl),Ea.light=js(Ps),Ea.terrain=js(jc),Ea.fog=js(Vc),Ea.layer=js(Ba),Ea.filter=js(Il),Ea.paintProperty=js($l),Ea.layoutProperty=js(qi);const Qs=Ea,Uc=Qs.light,mi=Qs.fog,Tu=Qs.paintProperty,Su=Qs.layoutProperty;function ri(u,s){let c=!1;if(s&&s.length)for(const p of s)u.fire(new Un(new Error(p.message))),c=!0;return c}var pc=_o;function _o(u,s,c){var p=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;var y=new Int32Array(this.arrayBuffer);u=y[0],this.d=(s=y[1])+2*(c=y[2]);for(var D=0;D<this.d*this.d;D++){var E=y[3+D],P=y[3+D+1];p.push(E===P?null:y.subarray(E,P))}var N=y[3+p.length+1];this.keys=y.subarray(y[3+p.length],N),this.bboxes=y.subarray(N),this.insert=this._insertReadonly}else{this.d=s+2*c;for(var j=0;j<this.d*this.d;j++)p.push([]);this.keys=[],this.bboxes=[]}this.n=s,this.extent=u,this.padding=c,this.scale=s/u,this.uid=0;var Z=c/s*u;this.min=-Z,this.max=u+Z}_o.prototype.insert=function(u,s,c,p,y){this._forEachCell(s,c,p,y,this._insertCell,this.uid++),this.keys.push(u),this.bboxes.push(s),this.bboxes.push(c),this.bboxes.push(p),this.bboxes.push(y)},_o.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},_o.prototype._insertCell=function(u,s,c,p,y,D){this.cells[y].push(D)},_o.prototype.query=function(u,s,c,p,y){var D=this.min,E=this.max;if(u<=D&&s<=D&&E<=c&&E<=p&&!y)return Array.prototype.slice.call(this.keys);var P=[];return this._forEachCell(u,s,c,p,this._queryCell,P,{},y),P},_o.prototype._queryCell=function(u,s,c,p,y,D,E,P){var N=this.cells[y];if(null!==N)for(var j=this.keys,Z=this.bboxes,J=0;J<N.length;J++){var ee=N[J];if(void 0===E[ee]){var me=4*ee;(P?P(Z[me+0],Z[me+1],Z[me+2],Z[me+3]):u<=Z[me+2]&&s<=Z[me+3]&&c>=Z[me+0]&&p>=Z[me+1])?(E[ee]=!0,D.push(j[ee])):E[ee]=!1}}},_o.prototype._forEachCell=function(u,s,c,p,y,D,E,P){for(var N=this._convertToCellCoord(u),j=this._convertToCellCoord(s),Z=this._convertToCellCoord(c),J=this._convertToCellCoord(p),ee=N;ee<=Z;ee++)for(var me=j;me<=J;me++){var Me=this.d*me+ee;if((!P||P(this._convertFromCellCoord(ee),this._convertFromCellCoord(me),this._convertFromCellCoord(ee+1),this._convertFromCellCoord(me+1)))&&y.call(this,u,s,c,p,Me,D,E,P))return}},_o.prototype._convertFromCellCoord=function(u){return(u-this.padding)/this.scale},_o.prototype._convertToCellCoord=function(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))},_o.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var u=this.cells,s=3+this.cells.length+1+1,c=0,p=0;p<this.cells.length;p++)c+=this.cells[p].length;var y=new Int32Array(s+c+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;for(var D=s,E=0;E<u.length;E++){var P=u[E];y[3+E]=D,y.set(P,D),D+=P.length}return y[3+u.length]=D,y.set(this.keys,D),y[3+u.length+1]=D+=this.keys.length,y.set(this.bboxes,D),D+=this.bboxes.length,y.buffer};const{ImageData:zu,ImageBitmap:Ca}=Le,Hc={};function Gn(u,s,c={}){Object.defineProperty(s,"_classRegistryKey",{value:u,writeable:!1}),Hc[u]={klass:s,omit:c.omit||[],shallow:c.shallow||[]}}Gn("Object",Object),pc.serialize=function(u,s){const c=u.toArrayBuffer();return s&&s.push(c),{buffer:c}},pc.deserialize=function(u){return new pc(u.buffer)},Gn("Grid",pc),Gn("Color",ar),Gn("Error",Error),Gn("ResolvedImage",aa),Gn("StylePropertyFunction",Co),Gn("StyleExpression",cu,{omit:["_evaluator"]}),Gn("ZoomDependentExpression",go),Gn("ZoomConstantExpression",al),Gn("CompoundExpression",hi,{omit:["_evaluate"]});for(const u in mr)mr[u]._classRegistryKey||Gn(`Expression_${u}`,mr[u]);function ja(u){return u&&"undefined"!=typeof ArrayBuffer&&(u instanceof ArrayBuffer||u.constructor&&"ArrayBuffer"===u.constructor.name)}function ra(u){return Ca&&u instanceof Ca}function fu(u,s){if(null==u||"boolean"==typeof u||"number"==typeof u||"string"==typeof u||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(ja(u)||ra(u))return s&&s.push(u),u;if(ArrayBuffer.isView(u)){const c=u;return s&&s.push(c.buffer),c}if(u instanceof zu)return s&&s.push(u.data.buffer),u;if(Array.isArray(u)){const c=[];for(const p of u)c.push(fu(p,s));return c}if("object"==typeof u){const c=u.constructor,p=c._classRegistryKey;if(!p)throw new Error("can't serialize object of unregistered class");const y=c.serialize?c.serialize(u,s):{};if(!c.serialize){for(const D in u){if(!u.hasOwnProperty(D)||Hc[p].omit.indexOf(D)>=0)continue;const E=u[D];y[D]=Hc[p].shallow.indexOf(D)>=0?E:fu(E,s)}u instanceof Error&&(y.message=u.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==p&&(y.$name=p),y}throw new Error("can't serialize object of type "+typeof u)}function Bu(u){if(null==u||"boolean"==typeof u||"number"==typeof u||"string"==typeof u||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||ja(u)||ra(u)||ArrayBuffer.isView(u)||u instanceof zu)return u;if(Array.isArray(u))return u.map(Bu);if("object"==typeof u){const s=u.$name||"Object",{klass:c}=Hc[s];if(!c)throw new Error(`can't deserialize unregistered class ${s}`);if(c.deserialize)return c.deserialize(u);const p=Object.create(c.prototype);for(const y of Object.keys(u)){if("$name"===y)continue;const D=u[y];p[y]=Hc[s].shallow.indexOf(y)>=0?D:Bu(D)}return p}throw new Error("can't deserialize object of type "+typeof u)}class mc{constructor(){this.first=!0}update(s,c){const p=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=p,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=p,!0):(this.lastFloorZoom>p?(this.lastIntegerZoom=p+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<p&&(this.lastIntegerZoom=p,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=p,!0))}}const Za=u=>u>=1536&&u<=1791,gc=u=>u>=1872&&u<=1919,ju=u=>u>=2208&&u<=2303,Pr=u=>u>=11904&&u<=12031,Ar=u=>u>=12032&&u<=12255,Lu=u=>u>=12272&&u<=12287,Vu=u=>u>=12288&&u<=12351,Al=u=>u>=12352&&u<=12447,ma=u=>u>=12448&&u<=12543,hh=u=>u>=12544&&u<=12591,Xa=u=>u>=12704&&u<=12735,un=u=>u>=12736&&u<=12783,ki=u=>u>=12784&&u<=12799,gi=u=>u>=12800&&u<=13055,a=u=>u>=13056&&u<=13311,h=u=>u>=13312&&u<=19903,g=u=>u>=19968&&u<=40959,v=u=>u>=40960&&u<=42127,C=u=>u>=42128&&u<=42191,V=u=>u>=44032&&u<=55215,X=u=>u>=63744&&u<=64255,ye=u=>u>=64336&&u<=65023,Ue=u=>u>=65040&&u<=65055,vt=u=>u>=65072&&u<=65103,Bt=u=>u>=65104&&u<=65135,Gt=u=>u>=65136&&u<=65279,Ln=u=>u>=65280&&u<=65519;function Cn(u){for(const s of u)if(Mi(s.charCodeAt(0)))return!0;return!1}function Yn(u){for(const s of u)if(!sr(s.charCodeAt(0)))return!1;return!0}function sr(u){return!(Za(u)||gc(u)||ju(u)||ye(u)||Gt(u))}function Mi(u){return!(746!==u&&747!==u&&(u<4352||!(Xa(u)||hh(u)||vt(u)&&!(u>=65097&&u<=65103)||X(u)||a(u)||Pr(u)||un(u)||!(!Vu(u)||u>=12296&&u<=12305||u>=12308&&u<=12319||12336===u)||h(u)||g(u)||gi(u)||(s=u,s>=12592&&s<=12687)||(s=>s>=43360&&s<=43391)(u)||(s=>s>=55216&&s<=55295)(u)||(s=>s>=4352&&s<=4607)(u)||V(u)||Al(u)||Lu(u)||(s=>s>=12688&&s<=12703)(u)||Ar(u)||ki(u)||ma(u)&&12540!==u||!(!Ln(u)||65288===u||65289===u||65293===u||u>=65306&&u<=65310||65339===u||65341===u||65343===u||u>=65371&&u<=65503||65507===u||u>=65512&&u<=65519)||!(!Bt(u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||(s=>s>=5120&&s<=5759)(u)||(s=>s>=6320&&s<=6399)(u)||Ue(u)||(s=>s>=19904&&s<=19967)(u)||v(u)||C(u))));var s}function so(u){return!(Mi(u)||(s=u,(c=s)>=128&&c<=255&&(167===s||169===s||174===s||177===s||188===s||189===s||190===s||215===s||247===s)||(c=>c>=8192&&c<=8303)(s)&&(8214===s||8224===s||8225===s||8240===s||8241===s||8251===s||8252===s||8258===s||8263===s||8264===s||8265===s||8273===s)||(c=>c>=8448&&c<=8527)(s)||(c=>c>=8528&&c<=8591)(s)||(c=>c>=8960&&c<=9215)(s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||9003===s||s>=9085&&s<=9114||s>=9150&&s<=9165||9167===s||s>=9169&&s<=9179||s>=9186&&s<=9215)||(c=>c>=9216&&c<=9279)(s)&&9251!==s||(c=>c>=9280&&c<=9311)(s)||(c=>c>=9312&&c<=9471)(s)||(c=>c>=9632&&c<=9727)(s)||(c=>c>=9728&&c<=9983)(s)&&!(s>=9754&&s<=9759)||(c=>c>=11008&&c<=11263)(s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||Vu(s)||ma(s)||(c=>c>=57344&&c<=63743)(s)||vt(s)||Bt(s)||Ln(s)||8734===s||8756===s||8757===s||s>=9984&&s<=10087||s>=10102&&s<=10131||65532===s||65533===s));var s,c}function ko(u){return u>=1424&&u<=2303||ye(u)||Gt(u)}function Ol(u,s){return!(!s&&ko(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||(c=u,c>=6016&&c<=6143));var c}function Ta(u){for(const s of u)if(ko(s.charCodeAt(0)))return!0;return!1}const ku="deferred",M="loading",l="loaded";let m=null,w="unavailable",S=null;const k=function(u){u&&"string"==typeof u&&u.indexOf("NetworkError")>-1&&(w="error"),m&&m(u)};function z(){G.fire(new nn("pluginStateChange",{pluginStatus:w,pluginURL:S}))}const G=new pn,K=function(){return w},oe=function(){if(w!==ku||!S)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");w=M,z(),S&&be({url:S},u=>{u?k(u):(w=l,z())})},le={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>w===l||null!=le.applyArabicShaping,isLoading:()=>w===M,setState(u){w=u.pluginStatus,S=u.pluginURL},isParsed:()=>null!=le.applyArabicShaping&&null!=le.processBidirectionalText&&null!=le.processStyledBidirectionalText,getPluginURL:()=>S};class ce{constructor(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition,this.pitch=c.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new mc,this.transition={},this.pitch=0)}isSupportedScript(s){return function(c,p){for(const y of c)if(!Ol(y.charCodeAt(0),p))return!1;return!0}(s,le.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const s=this.zoom,c=s-Math.floor(s),p=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*p}:{fromScale:.5,toScale:1,t:1-(1-p)*c}}}class Pe{constructor(s,c){this.property=s,this.value=c,this.expression=function(p,y){if(ta(p))return new Co(p,y);if(Is(p)){const D=ll(p,y);if("error"===D.result)throw new Error(D.value.map(E=>`${E.key}: ${E.message}`).join(", "));return D.value}{let D=p;return"string"==typeof p&&"color"===y.type&&(D=ar.parse(p)),{kind:"constant",evaluate:()=>D}}}(void 0===c?s.specification.default:c,s.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(s,c,p){return this.property.possiblyEvaluate(this,s,c,p)}}class je{constructor(s){this.property=s,this.value=new Pe(s,void 0)}transitioned(s,c){return new $e(this.property,this.value,c,ae({},s.transition,this.transition),s.now)}untransitioned(){return new $e(this.property,this.value,null,{},0)}}class et{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return xt(this._values[s].value.value)}setValue(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new je(this._values[s].property)),this._values[s].value=new Pe(this._values[s].property,null===c?void 0:xt(c))}getTransition(s){return xt(this._values[s].transition)}setTransition(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new je(this._values[s].property)),this._values[s].transition=xt(c)||void 0}serialize(){const s={};for(const c of Object.keys(this._values)){const p=this.getValue(c);void 0!==p&&(s[c]=p);const y=this.getTransition(c);void 0!==y&&(s[`${c}-transition`]=y)}return s}transitioned(s,c){const p=new st(this._properties);for(const y of Object.keys(this._values))p._values[y]=this._values[y].transitioned(s,c._values[y]);return p}untransitioned(){const s=new st(this._properties);for(const c of Object.keys(this._values))s._values[c]=this._values[c].untransitioned();return s}}class $e{constructor(s,c,p,y,D){const E=y.delay||0,P=y.duration||0;D=D||0,this.property=s,this.value=c,this.begin=D+E,this.end=this.begin+P,s.specification.transition&&(y.delay||y.duration)&&(this.prior=p)}possiblyEvaluate(s,c,p){const y=s.now||0,D=this.value.possiblyEvaluate(s,c,p),E=this.prior;if(E){if(y>this.end)return this.prior=null,D;if(this.value.isDataDriven())return this.prior=null,D;if(y<this.begin)return E.possiblyEvaluate(s,c,p);{const P=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(s,c,p),D,he(P))}}return D}}class st{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,c,p){const y=new ut(this._properties);for(const D of Object.keys(this._values))y._values[D]=this._values[D].possiblyEvaluate(s,c,p);return y}hasTransition(){for(const s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class Xe{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)}getValue(s){return xt(this._values[s].value)}setValue(s,c){this._values[s]=new Pe(this._values[s].property,null===c?void 0:xt(c))}serialize(){const s={};for(const c of Object.keys(this._values)){const p=this.getValue(c);void 0!==p&&(s[c]=p)}return s}possiblyEvaluate(s,c,p){const y=new ut(this._properties);for(const D of Object.keys(this._values))y._values[D]=this._values[D].possiblyEvaluate(s,c,p);return y}}class at{constructor(s,c,p){this.property=s,this.value=c,this.parameters=p}isConstant(){return"constant"===this.value.kind}constantOr(s){return"constant"===this.value.kind?this.value.value:s}evaluate(s,c,p,y){return this.property.evaluate(this.value,this.parameters,s,c,p,y)}}class ut{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class Ke{constructor(s){this.specification=s}possiblyEvaluate(s,c){return s.expression.evaluate(c)}interpolate(s,c,p){const y=Na[this.specification.type];return y?y(s,c,p):s}}class ft{constructor(s,c){this.specification=s,this.overrides=c}possiblyEvaluate(s,c,p,y){return new at(this,"constant"===s.expression.kind||"camera"===s.expression.kind?{kind:"constant",value:s.expression.evaluate(c,null,{},p,y)}:s.expression,c)}interpolate(s,c,p){if("constant"!==s.value.kind||"constant"!==c.value.kind)return s;if(void 0===s.value.value||void 0===c.value.value)return new at(this,{kind:"constant",value:void 0},s.parameters);const y=Na[this.specification.type];return y?new at(this,{kind:"constant",value:y(s.value.value,c.value.value,p)},s.parameters):s}evaluate(s,c,p,y,D,E){return"constant"===s.kind?s.value:s.evaluate(c,p,y,D,E)}}class Dt extends ft{possiblyEvaluate(s,c,p,y){if(void 0===s.value)return new at(this,{kind:"constant",value:void 0},c);if("constant"===s.expression.kind){const D=s.expression.evaluate(c,null,{},p,y),E="resolvedImage"===s.property.specification.type&&"string"!=typeof D?D.name:D,P=this._calculate(E,E,E,c);return new at(this,{kind:"constant",value:P},c)}if("camera"===s.expression.kind){const D=this._calculate(s.expression.evaluate({zoom:c.zoom-1}),s.expression.evaluate({zoom:c.zoom}),s.expression.evaluate({zoom:c.zoom+1}),c);return new at(this,{kind:"constant",value:D},c)}return new at(this,s.expression,c)}evaluate(s,c,p,y,D,E){if("source"===s.kind){const P=s.evaluate(c,p,y,D,E);return this._calculate(P,P,P,c)}return"composite"===s.kind?this._calculate(s.evaluate({zoom:Math.floor(c.zoom)-1},p,y),s.evaluate({zoom:Math.floor(c.zoom)},p,y),s.evaluate({zoom:Math.floor(c.zoom)+1},p,y),c):s.value}_calculate(s,c,p,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:s,to:c,other:p}:{from:p,to:c,other:s}}interpolate(s){return s}}class Jt{constructor(s){this.specification=s}possiblyEvaluate(s,c,p,y){if(void 0!==s.value){if("constant"===s.expression.kind){const D=s.expression.evaluate(c,null,{},p,y);return this._calculate(D,D,D,c)}return this._calculate(s.expression.evaluate(new ce(Math.floor(c.zoom-1),c)),s.expression.evaluate(new ce(Math.floor(c.zoom),c)),s.expression.evaluate(new ce(Math.floor(c.zoom+1),c)),c)}}_calculate(s,c,p,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:p,to:c}}interpolate(s){return s}}class Zt{constructor(s){this.specification=s}possiblyEvaluate(s,c,p,y){return!!s.expression.evaluate(c,null,{},p,y)}interpolate(){return!1}}class an{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in s){const p=s[c];p.specification.overridable&&this.overridableProperties.push(c);const y=this.defaultPropertyValues[c]=new Pe(p,void 0),D=this.defaultTransitionablePropertyValues[c]=new je(p);this.defaultTransitioningPropertyValues[c]=D.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=y.possiblyEvaluate({})}}}function Qt(u,s){return 256*(u=ne(Math.floor(u),0,255))+ne(Math.floor(s),0,255)}Gn("DataDrivenProperty",ft),Gn("DataConstantProperty",Ke),Gn("CrossFadedDataDrivenProperty",Dt),Gn("CrossFadedProperty",Jt),Gn("ColorRampProperty",Zt);const xn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class on{constructor(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class kn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){const c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Vt(u,s=1){let c=0,p=0;return{members:u.map(y=>{const D=xn[y.type].BYTES_PER_ELEMENT,E=c=In(c,Math.max(s,D)),P=y.components||1;return p=Math.max(p,D),c+=D*P,{name:y.name,type:y.type,components:P,offset:E}}),size:In(c,Math.max(p,s)),alignment:s}}function In(u,s){return Math.ceil(u/s)*s}class Zn extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c){const p=this.length;return this.resize(p+1),this.emplace(p,s,c)}emplace(s,c,p){const y=2*s;return this.int16[y+0]=c,this.int16[y+1]=p,s}}Zn.prototype.bytesPerElement=4,Gn("StructArrayLayout2i4",Zn);class Rr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,p,y){const D=this.length;return this.resize(D+1),this.emplace(D,s,c,p,y)}emplace(s,c,p,y,D){const E=4*s;return this.int16[E+0]=c,this.int16[E+1]=p,this.int16[E+2]=y,this.int16[E+3]=D,s}}Rr.prototype.bytesPerElement=8,Gn("StructArrayLayout4i8",Rr);class Vr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P){const N=this.length;return this.resize(N+1),this.emplace(N,s,c,p,y,D,E,P)}emplace(s,c,p,y,D,E,P,N){const j=6*s,Z=12*s,J=3*s;return this.int16[j+0]=c,this.int16[j+1]=p,this.uint8[Z+4]=y,this.uint8[Z+5]=D,this.uint8[Z+6]=E,this.uint8[Z+7]=P,this.float32[J+2]=N,s}}Vr.prototype.bytesPerElement=12,Gn("StructArrayLayout2i4ub1f12",Vr);class Hr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,p){const y=this.length;return this.resize(y+1),this.emplace(y,s,c,p)}emplace(s,c,p,y){const D=3*s;return this.float32[D+0]=c,this.float32[D+1]=p,this.float32[D+2]=y,s}}Hr.prototype.bytesPerElement=12,Gn("StructArrayLayout3f12",Hr);class Nr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P,N,j,Z){const J=this.length;return this.resize(J+1),this.emplace(J,s,c,p,y,D,E,P,N,j,Z)}emplace(s,c,p,y,D,E,P,N,j,Z,J){const ee=10*s;return this.uint16[ee+0]=c,this.uint16[ee+1]=p,this.uint16[ee+2]=y,this.uint16[ee+3]=D,this.uint16[ee+4]=E,this.uint16[ee+5]=P,this.uint16[ee+6]=N,this.uint16[ee+7]=j,this.uint16[ee+8]=Z,this.uint16[ee+9]=J,s}}Nr.prototype.bytesPerElement=20,Gn("StructArrayLayout10ui20",Nr);class yr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P,N){const j=this.length;return this.resize(j+1),this.emplace(j,s,c,p,y,D,E,P,N)}emplace(s,c,p,y,D,E,P,N,j){const Z=8*s;return this.uint16[Z+0]=c,this.uint16[Z+1]=p,this.uint16[Z+2]=y,this.uint16[Z+3]=D,this.uint16[Z+4]=E,this.uint16[Z+5]=P,this.uint16[Z+6]=N,this.uint16[Z+7]=j,s}}yr.prototype.bytesPerElement=16,Gn("StructArrayLayout8ui16",yr);class Wr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt){const lt=this.length;return this.resize(lt+1),this.emplace(lt,s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt)}emplace(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt,lt){const wt=16*s;return this.int16[wt+0]=c,this.int16[wt+1]=p,this.int16[wt+2]=y,this.int16[wt+3]=D,this.uint16[wt+4]=E,this.uint16[wt+5]=P,this.uint16[wt+6]=N,this.uint16[wt+7]=j,this.int16[wt+8]=Z,this.int16[wt+9]=J,this.int16[wt+10]=ee,this.int16[wt+11]=me,this.int16[wt+12]=Me,this.int16[wt+13]=Ye,this.int16[wt+14]=nt,this.int16[wt+15]=lt,s}}Wr.prototype.bytesPerElement=32,Gn("StructArrayLayout4i4ui4i4i32",Wr);class _i extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){const c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint32[1*s+0]=c,s}}_i.prototype.bytesPerElement=4,Gn("StructArrayLayout1ul4",_i);class ga extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P,N,j,Z,J,ee,me){const Me=this.length;return this.resize(Me+1),this.emplace(Me,s,c,p,y,D,E,P,N,j,Z,J,ee,me)}emplace(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me){const Ye=20*s,nt=10*s;return this.int16[Ye+0]=c,this.int16[Ye+1]=p,this.int16[Ye+2]=y,this.int16[Ye+3]=D,this.int16[Ye+4]=E,this.float32[nt+3]=P,this.float32[nt+4]=N,this.float32[nt+5]=j,this.float32[nt+6]=Z,this.int16[Ye+14]=J,this.uint32[nt+8]=ee,this.uint16[Ye+18]=me,this.uint16[Ye+19]=Me,s}}ga.prototype.bytesPerElement=40,Gn("StructArrayLayout5i4f1i1ul2ui40",ga);class Ja extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P){const N=this.length;return this.resize(N+1),this.emplace(N,s,c,p,y,D,E,P)}emplace(s,c,p,y,D,E,P,N){const j=8*s;return this.int16[j+0]=c,this.int16[j+1]=p,this.int16[j+2]=y,this.int16[j+4]=D,this.int16[j+5]=E,this.int16[j+6]=P,this.int16[j+7]=N,s}}Ja.prototype.bytesPerElement=16,Gn("StructArrayLayout3i2i2i16",Ja);class _a extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D){const E=this.length;return this.resize(E+1),this.emplace(E,s,c,p,y,D)}emplace(s,c,p,y,D,E){const P=4*s,N=8*s;return this.float32[P+0]=c,this.float32[P+1]=p,this.float32[P+2]=y,this.int16[N+6]=D,this.int16[N+7]=E,s}}_a.prototype.bytesPerElement=16,Gn("StructArrayLayout2f1f2i16",_a);class Rl extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,p,y){const D=this.length;return this.resize(D+1),this.emplace(D,s,c,p,y)}emplace(s,c,p,y,D){const E=12*s,P=3*s;return this.uint8[E+0]=c,this.uint8[E+1]=p,this.float32[P+1]=y,this.float32[P+2]=D,s}}Rl.prototype.bytesPerElement=12,Gn("StructArrayLayout2ub2f12",Rl);class Io extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,p){const y=this.length;return this.resize(y+1),this.emplace(y,s,c,p)}emplace(s,c,p,y){const D=3*s;return this.uint16[D+0]=c,this.uint16[D+1]=p,this.uint16[D+2]=y,s}}Io.prototype.bytesPerElement=6,Gn("StructArrayLayout3ui6",Io);class Uu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt,lt,wt,Tt,Ot,At){const Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt,lt,wt,Tt,Ot,At)}emplace(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt,lt,wt,Tt,Ot,At,Nt){const cn=30*s,en=15*s,Nn=60*s;return this.int16[cn+0]=c,this.int16[cn+1]=p,this.int16[cn+2]=y,this.float32[en+2]=D,this.float32[en+3]=E,this.uint16[cn+8]=P,this.uint16[cn+9]=N,this.uint32[en+5]=j,this.uint32[en+6]=Z,this.uint32[en+7]=J,this.uint16[cn+16]=ee,this.uint16[cn+17]=me,this.uint16[cn+18]=Me,this.float32[en+10]=Ye,this.float32[en+11]=nt,this.uint8[Nn+48]=lt,this.uint8[Nn+49]=wt,this.uint8[Nn+50]=Tt,this.uint32[en+13]=Ot,this.int16[cn+28]=At,this.uint8[Nn+58]=Nt,s}}Uu.prototype.bytesPerElement=60,Gn("StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60",Uu);class pu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt,lt,wt,Tt,Ot,At,Nt,cn,en,Nn,En,dn,Dn,Tn,gn){const zn=this.length;return this.resize(zn+1),this.emplace(zn,s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt,lt,wt,Tt,Ot,At,Nt,cn,en,Nn,En,dn,Dn,Tn,gn)}emplace(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt,lt,wt,Tt,Ot,At,Nt,cn,en,Nn,En,dn,Dn,Tn,gn,zn){const $n=38*s,Yr=19*s;return this.int16[$n+0]=c,this.int16[$n+1]=p,this.int16[$n+2]=y,this.float32[Yr+2]=D,this.float32[Yr+3]=E,this.int16[$n+8]=P,this.int16[$n+9]=N,this.int16[$n+10]=j,this.int16[$n+11]=Z,this.int16[$n+12]=J,this.int16[$n+13]=ee,this.uint16[$n+14]=me,this.uint16[$n+15]=Me,this.uint16[$n+16]=Ye,this.uint16[$n+17]=nt,this.uint16[$n+18]=lt,this.uint16[$n+19]=wt,this.uint16[$n+20]=Tt,this.uint16[$n+21]=Ot,this.uint16[$n+22]=At,this.uint16[$n+23]=Nt,this.uint16[$n+24]=cn,this.uint16[$n+25]=en,this.uint16[$n+26]=Nn,this.uint16[$n+27]=En,this.uint16[$n+28]=dn,this.uint32[Yr+15]=Dn,this.float32[Yr+16]=Tn,this.float32[Yr+17]=gn,this.float32[Yr+18]=zn,s}}pu.prototype.bytesPerElement=76,Gn("StructArrayLayout3i2f6i15ui1ul3f76",pu);class yo extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){const c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.float32[1*s+0]=c,s}}yo.prototype.bytesPerElement=4,Gn("StructArrayLayout1f4",yo);class Vs extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,p){const y=this.length;return this.resize(y+1),this.emplace(y,s,c,p)}emplace(s,c,p,y){const D=3*s;return this.int16[D+0]=c,this.int16[D+1]=p,this.int16[D+2]=y,s}}Vs.prototype.bytesPerElement=6,Gn("StructArrayLayout3i6",Vs);class yi extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,p,y){const D=this.length;return this.resize(D+1),this.emplace(D,s,c,p,y)}emplace(s,c,p,y,D){const E=6*s;return this.uint32[3*s+0]=c,this.uint16[E+2]=p,this.uint16[E+3]=y,this.uint16[E+4]=D,s}}yi.prototype.bytesPerElement=12,Gn("StructArrayLayout1ul3ui12",yi);class vo extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c){const p=this.length;return this.resize(p+1),this.emplace(p,s,c)}emplace(s,c,p){const y=2*s;return this.uint16[y+0]=c,this.uint16[y+1]=p,s}}vo.prototype.bytesPerElement=4,Gn("StructArrayLayout2ui4",vo);class ul extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){const c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint16[1*s+0]=c,s}}ul.prototype.bytesPerElement=2,Gn("StructArrayLayout1ui2",ul);class Us extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c){const p=this.length;return this.resize(p+1),this.emplace(p,s,c)}emplace(s,c,p){const y=2*s;return this.float32[y+0]=c,this.float32[y+1]=p,s}}Us.prototype.bytesPerElement=8,Gn("StructArrayLayout2f8",Us);class Nl extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,p,y){const D=this.length;return this.resize(D+1),this.emplace(D,s,c,p,y)}emplace(s,c,p,y,D){const E=4*s;return this.float32[E+0]=c,this.float32[E+1]=p,this.float32[E+2]=y,this.float32[E+3]=D,s}}Nl.prototype.bytesPerElement=16,Gn("StructArrayLayout4f16",Nl);class Gc extends on{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Gc.prototype.size=40;class Va extends ga{get(s){return new Gc(this,s)}}Gn("CollisionBoxArray",Va);class wl extends on{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(s){this._structArray.uint8[this._pos1+49]=s}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(s){this._structArray.uint8[this._pos1+50]=s}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(s){this._structArray.uint32[this._pos4+13]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(s){this._structArray.uint8[this._pos1+58]=s}}wl.prototype.size=60;class Ih extends Uu{get(s){return new wl(this,s)}}Gn("PlacedSymbolArray",Ih);class Ai extends on{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(s){this._structArray.uint32[this._pos4+15]=s}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ai.prototype.size=76;class L extends pu{get(s){return new Ai(this,s)}}Gn("SymbolInstanceArray",L);class U extends yo{getoffsetX(s){return this.float32[1*s+0]}}Gn("GlyphOffsetArray",U);class te extends Vs{getx(s){return this.int16[3*s+0]}gety(s){return this.int16[3*s+1]}gettileUnitDistanceFromAnchor(s){return this.int16[3*s+2]}}Gn("SymbolLineVertexArray",te);class pe extends on{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}pe.prototype.size=12;class Ne extends yi{get(s){return new pe(this,s)}}Gn("FeatureIndexArray",Ne);class St extends on{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}St.prototype.size=4;class hn extends vo{get(s){return new St(this,s)}}Gn("FillExtrusionCentroidArray",hn);const Ur=Vt([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),ji=Vt([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var xo=li(function(u){u.exports=function(s,c){var p,y,D,E,P,N,j,Z;for(y=s.length-(p=3&s.length),D=c,P=3432918353,N=461845907,Z=0;Z<y;)j=255&s.charCodeAt(Z)|(255&s.charCodeAt(++Z))<<8|(255&s.charCodeAt(++Z))<<16|(255&s.charCodeAt(++Z))<<24,++Z,D=27492+(65535&(E=5*(65535&(D=(D^=j=(65535&(j=(j=(65535&j)*P+(((j>>>16)*P&65535)<<16)&4294967295)<<15|j>>>17))*N+(((j>>>16)*N&65535)<<16)&4294967295)<<13|D>>>19))+((5*(D>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(j=0,p){case 3:j^=(255&s.charCodeAt(Z+2))<<16;case 2:j^=(255&s.charCodeAt(Z+1))<<8;case 1:D^=j=(65535&(j=(j=(65535&(j^=255&s.charCodeAt(Z)))*P+(((j>>>16)*P&65535)<<16)&4294967295)<<15|j>>>17))*N+(((j>>>16)*N&65535)<<16)&4294967295}return D^=s.length,D=2246822507*(65535&(D^=D>>>16))+((2246822507*(D>>>16)&65535)<<16)&4294967295,D=3266489909*(65535&(D^=D>>>13))+((3266489909*(D>>>16)&65535)<<16)&4294967295,(D^=D>>>16)>>>0}}),mu=li(function(u){u.exports=function(s,c){for(var p,y=s.length,D=c^y,E=0;y>=4;)p=1540483477*(65535&(p=255&s.charCodeAt(E)|(255&s.charCodeAt(++E))<<8|(255&s.charCodeAt(++E))<<16|(255&s.charCodeAt(++E))<<24))+((1540483477*(p>>>16)&65535)<<16),D=1540483477*(65535&D)+((1540483477*(D>>>16)&65535)<<16)^(p=1540483477*(65535&(p^=p>>>24))+((1540483477*(p>>>16)&65535)<<16)),y-=4,++E;switch(y){case 3:D^=(255&s.charCodeAt(E+2))<<16;case 2:D^=(255&s.charCodeAt(E+1))<<8;case 1:D=1540483477*(65535&(D^=255&s.charCodeAt(E)))+((1540483477*(D>>>16)&65535)<<16)}return D=1540483477*(65535&(D^=D>>>13))+((1540483477*(D>>>16)&65535)<<16),(D^=D>>>15)>>>0}}),Oo=xo,Ic=mu;Oo.murmur3=xo,Oo.murmur2=Ic;class Zh{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,c,p,y){this.ids.push(Sd(s)),this.positions.push(c,p,y)}getPositions(s){const c=Sd(s);let p=0,y=this.ids.length-1;for(;p<y;){const E=p+y>>1;this.ids[E]>=c?y=E:p=E+1}const D=[];for(;this.ids[p]===c;)D.push({index:this.positions[3*p],start:this.positions[3*p+1],end:this.positions[3*p+2]}),p++;return D}static serialize(s,c){const p=new Float64Array(s.ids),y=new Uint32Array(s.positions);return Xh(p,y,0,p.length-1),c&&c.push(p.buffer,y.buffer),{ids:p,positions:y}}static deserialize(s){const c=new Zh;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c}}function Sd(u){const s=+u;return!isNaN(s)&&s<=rt?s:Oo(String(u))}function Xh(u,s,c,p){for(;c<p;){const y=u[c+p>>1];let D=c-1,E=p+1;for(;;){do{D++}while(u[D]<y);do{E--}while(u[E]>y);if(D>=E)break;Ph(u,D,E),Ph(s,3*D,3*E),Ph(s,3*D+1,3*E+1),Ph(s,3*D+2,3*E+2)}E-c<p-E?(Xh(u,s,c,E),c=E+1):(Xh(u,s,E+1,p),p=E)}}function Ph(u,s,c){const p=u[s];u[s]=u[c],u[c]=p}Gn("FeaturePositionMap",Zh);class dh{constructor(s,c){this.gl=s.gl,this.location=c}}class rf extends dh{constructor(s,c){super(s,c),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class Ld extends dh{constructor(s,c){super(s,c),this.current=[0,0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))}}class sf extends dh{constructor(s,c){super(s,c),this.current=ar.transparent}set(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))}}const ax=new Float32Array(16),Oi=new Float32Array(9),lx=new Float32Array(4);function Gy(u){return[Qt(255*u.r,255*u.g),Qt(255*u.b,255*u.a)]}class Xf{constructor(s,c,p){this.value=s,this.uniformNames=c.map(y=>`u_${y}`),this.type=p}setUniform(s,c,p){s.set(p.constantOr(this.value))}getBinding(s,c,p){return"color"===this.type?new sf(s,c):new rf(s,c)}}class Jf{constructor(s,c){this.uniformNames=c.map(p=>`u_${p}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(s,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=c.tl.concat(c.br),this.patternTo=s.tl.concat(s.br)}setUniform(s,c,p,y){const D="u_pattern_to"===y||"u_dash_to"===y?this.patternTo:"u_pattern_from"===y||"u_dash_from"===y?this.patternFrom:"u_pixel_ratio_to"===y?this.pixelRatioTo:"u_pixel_ratio_from"===y?this.pixelRatioFrom:null;D&&s.set(D)}getBinding(s,c,p){return"u_pattern_from"===p||"u_pattern_to"===p||"u_dash_from"===p||"u_dash_to"===p?new Ld(s,c):new rf(s,c)}}class Jh{constructor(s,c,p,y){this.expression=s,this.type=p,this.maxValue=0,this.paintVertexAttributes=c.map(D=>({name:`a_${D}`,type:"Float32",components:"color"===p?2:1,offset:0})),this.paintVertexArray=new y}populatePaintArray(s,c,p,y,D,E){const P=this.paintVertexArray.length,N=this.expression.evaluate(new ce(0),c,{},D,y,E);this.paintVertexArray.resize(s),this._setPaintValue(P,s,N)}updatePaintArray(s,c,p,y,D){const E=this.expression.evaluate({zoom:0},p,y,void 0,D);this._setPaintValue(s,c,E)}_setPaintValue(s,c,p){if("color"===this.type){const y=Gy(p);for(let D=s;D<c;D++)this.paintVertexArray.emplace(D,y[0],y[1])}else{for(let y=s;y<c;y++)this.paintVertexArray.emplace(y,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class fh{constructor(s,c,p,y,D,E){this.expression=s,this.uniformNames=c.map(P=>`u_${P}_t`),this.type=p,this.useIntegerZoom=y,this.zoom=D,this.maxValue=0,this.paintVertexAttributes=c.map(P=>({name:`a_${P}`,type:"Float32",components:"color"===p?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(s,c,p,y,D,E){const P=this.expression.evaluate(new ce(this.zoom),c,{},D,y,E),N=this.expression.evaluate(new ce(this.zoom+1),c,{},D,y,E),j=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(j,s,P,N)}updatePaintArray(s,c,p,y,D){const E=this.expression.evaluate({zoom:this.zoom},p,y,void 0,D),P=this.expression.evaluate({zoom:this.zoom+1},p,y,void 0,D);this._setPaintValue(s,c,E,P)}_setPaintValue(s,c,p,y){if("color"===this.type){const D=Gy(p),E=Gy(y);for(let P=s;P<c;P++)this.paintVertexArray.emplace(P,D[0],D[1],E[0],E[1])}else{for(let D=s;D<c;D++)this.paintVertexArray.emplace(D,p,y);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(y))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,c){const p=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,y=ne(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);s.set(y)}getBinding(s,c,p){return new rf(s,c)}}class Kh{constructor(s,c,p,y,D,E,P){this.expression=s,this.type=p,this.useIntegerZoom=y,this.zoom=D,this.layerId=P,this.paintVertexAttributes=("array"===p?ji:Ur).members;for(let N=0;N<c.length;++N);this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(s,c,p){const y=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(y,s,c.patterns&&c.patterns[this.layerId],p)}updatePaintArray(s,c,p,y,D,E){this._setPaintValues(s,c,p.patterns&&p.patterns[this.layerId],E)}_setPaintValues(s,c,p,y){if(!y||!p)return;const{min:D,mid:E,max:P}=p,N=y[D],j=y[E],Z=y[P];if(N&&j&&Z)for(let J=s;J<c;J++)this._setPaintValue(this.zoomInPaintVertexArray,J,j,N),this._setPaintValue(this.zoomOutPaintVertexArray,J,j,Z)}_setPaintValue(s,c,p,y){s.emplace(c,p.tl[0],p.tl[1],p.br[0],p.br[1],y.tl[0],y.tl[1],y.br[0],y.br[1],p.pixelRatio,y.pixelRatio)}upload(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class _c{constructor(s,c,p=(()=>!0)){this.binders={},this._buffers=[];const y=[];for(const D in s.paint._values){if(!p(D))continue;const E=s.paint.get(D);if(!(E instanceof at&&ba(E.property.specification)))continue;const P=Tg(D,s.type),N=E.value,j=E.property.specification.type,Z=E.property.useIntegerZoom,J=E.property.specification["property-type"],ee="cross-faded"===J||"cross-faded-data-driven"===J,me="line-dasharray"===String(D)&&"constant"!==s.layout.get("line-cap").value.kind;if("constant"!==N.kind||me)if("source"===N.kind||me||ee){const Me=qy(D,j,"source");this.binders[D]=ee?new Kh(N,P,j,Z,c,Me,s.id):new Jh(N,P,j,Me),y.push(`/a_${D}`)}else{const Me=qy(D,j,"composite");this.binders[D]=new fh(N,P,j,Z,c,Me),y.push(`/z_${D}`)}else this.binders[D]=ee?new Jf(N.value,P):new Xf(N.value,P,j),y.push(`/u_${D}`)}this.cacheKey=y.sort().join("")}getMaxValue(s){const c=this.binders[s];return c instanceof Jh||c instanceof fh?c.maxValue:0}populatePaintArrays(s,c,p,y,D,E){for(const P in this.binders){const N=this.binders[P];(N instanceof Jh||N instanceof fh||N instanceof Kh)&&N.populatePaintArray(s,c,p,y,D,E)}}setConstantPatternPositions(s,c){for(const p in this.binders){const y=this.binders[p];y instanceof Jf&&y.setConstantPatternPositions(s,c)}}updatePaintArrays(s,c,p,y,D,E){let P=!1;for(const N in s){const j=c.getPositions(N);for(const Z of j){const J=p.feature(Z.index);for(const ee in this.binders){const me=this.binders[ee];if((me instanceof Jh||me instanceof fh||me instanceof Kh)&&!0===me.expression.isStateDependent){const Me=y.paint.get(ee);me.expression=Me.value,me.updatePaintArray(Z.start,Z.end,J,s[N],D,E),P=!0}}}}return P}defines(){const s=[];for(const c in this.binders){const p=this.binders[c];(p instanceof Xf||p instanceof Jf)&&s.push(...p.uniformNames.map(y=>`#define HAS_UNIFORM_${y}`))}return s}getBinderAttributes(){const s=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof Jh||p instanceof fh||p instanceof Kh)for(let y=0;y<p.paintVertexAttributes.length;y++)s.push(p.paintVertexAttributes[y].name)}return s}getBinderUniforms(){const s=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof Xf||p instanceof Jf||p instanceof fh)for(const y of p.uniformNames)s.push(y)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s,c){const p=[];for(const y in this.binders){const D=this.binders[y];if(D instanceof Xf||D instanceof Jf||D instanceof fh)for(const E of D.uniformNames)if(c[E]){const P=D.getBinding(s,c[E],E);p.push({name:E,property:y,binding:P})}}return p}setUniforms(s,c,p,y){for(const{name:D,property:E,binding:P}of c)this.binders[E].setUniform(P,y,p.get(E),D)}updatePaintBuffers(s){this._buffers=[];for(const c in this.binders){const p=this.binders[c];if(s&&p instanceof Kh){const y=2===s.fromScale?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;y&&this._buffers.push(y)}else(p instanceof Jh||p instanceof fh)&&p.paintVertexBuffer&&this._buffers.push(p.paintVertexBuffer)}}upload(s){for(const c in this.binders){const p=this.binders[c];(p instanceof Jh||p instanceof fh||p instanceof Kh)&&p.upload(s)}this.updatePaintBuffers()}destroy(){for(const s in this.binders){const c=this.binders[s];(c instanceof Jh||c instanceof fh||c instanceof Kh)&&c.destroy()}}}class of{constructor(s,c,p=(()=>!0)){this.programConfigurations={};for(const y of s)this.programConfigurations[y.id]=new _c(y,c,p);this.needsUpload=!1,this._featureMap=new Zh,this._bufferOffset=0}populatePaintArrays(s,c,p,y,D,E,P){for(const N in this.programConfigurations)this.programConfigurations[N].populatePaintArrays(s,c,y,D,E,P);void 0!==c.id&&this._featureMap.add(c.id,p,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,c,p,y,D){for(const E of p)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(s,this._featureMap,c,E,y,D)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}}destroy(){for(const s in this.programConfigurations)this.programConfigurations[s].destroy()}}const Fl={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Tg(u,s){return Fl[u]||[u.replace(`${s}-`,"").replace(/-/g,"_")]}const Kf={"line-pattern":{source:Nr,composite:Nr},"fill-pattern":{source:Nr,composite:Nr},"fill-extrusion-pattern":{source:Nr,composite:Nr},"line-dasharray":{source:yr,composite:yr}},qD={color:{source:Us,composite:Nl},number:{source:yo,composite:Us}};function qy(u,s,c){const p=Kf[u];return p&&p[c]||qD[s][c]}Gn("ConstantBinder",Xf),Gn("CrossFadedConstantBinder",Jf),Gn("SourceExpressionBinder",Jh),Gn("CrossFadedCompositeBinder",Kh),Gn("CompositeExpressionBinder",fh),Gn("ProgramConfiguration",_c,{omit:["_buffers"]}),Gn("ProgramConfigurationSet",of);const Hu="-transition";class bl extends pn{constructor(s,c){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==s.type&&(this.metadata=(s=s).metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,"background"!==s.type&&"sky"!==s.type&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),c.layout&&(this._unevaluatedLayout=new Xe(c.layout)),c.paint)){this._transitionablePaint=new et(c.paint);for(const p in s.paint)this.setPaintProperty(p,s.paint[p],{validate:!1});for(const p in s.layout)this.setLayoutProperty(p,s.layout[p],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ut(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(s){return"visibility"===s?this.visibility:this._unevaluatedLayout.getValue(s)}setLayoutProperty(s,c,p={}){null!=c&&this._validate(Su,`layers.${this.id}.layout.${s}`,s,c,p)||("visibility"!==s?this._unevaluatedLayout.setValue(s,c):this.visibility=c)}getPaintProperty(s){return Ge(s,Hu)?this._transitionablePaint.getTransition(s.slice(0,-Hu.length)):this._transitionablePaint.getValue(s)}setPaintProperty(s,c,p={}){if(null!=c&&this._validate(Tu,`layers.${this.id}.paint.${s}`,s,c,p))return!1;if(Ge(s,Hu))return this._transitionablePaint.setTransition(s.slice(0,-Hu.length),c||void 0),!1;{const y=this._transitionablePaint._values[s],D="cross-faded-data-driven"===y.property.specification["property-type"],E=y.value.isDataDriven(),P=y.value;this._transitionablePaint.setValue(s,c),this._handleSpecialPaintPropertyUpdate(s);const N=this._transitionablePaint._values[s].value;return N.isDataDriven()||E||D||this._handleOverridablePaintPropertyUpdate(s,P,N)}}_handleSpecialPaintPropertyUpdate(s){}getProgramIds(){return null}getProgramConfiguration(s){return null}_handleOverridablePaintPropertyUpdate(s,c,p){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||"none"===this.visibility}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,c){s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,c)}serialize(){const s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),tt(s,(c,p)=>!(void 0===c||"layout"===p&&!Object.keys(c).length||"paint"===p&&!Object.keys(c).length))}_validate(s,c,p,y,D={}){return(!D||!1!==D.validate)&&ri(this,s.call(Qs,{key:c,layerType:this.type,objectKey:p,value:y,styleSpec:Ct,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const s in this.paint._values){const c=this.paint.get(s);if(c instanceof at&&ba(c.property.specification)&&("source"===c.value.kind||"composite"===c.value.kind)&&c.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=hu(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Wy=Vt([{name:"a_pos",components:2,type:"Int16"}],4),{members:Gp}=Wy;class Ua{constructor(s=[]){this.segments=s}prepareSegment(s,c,p,y){let D=this.segments[this.segments.length-1];return s>Ua.MAX_VERTEX_ARRAY_LENGTH&&Re(`Max vertices per segment is ${Ua.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}`),(!D||D.vertexLength+s>Ua.MAX_VERTEX_ARRAY_LENGTH||D.sortKey!==y)&&(D={vertexOffset:c.length,primitiveOffset:p.length,vertexLength:0,primitiveLength:0},void 0!==y&&(D.sortKey=y),this.segments.push(D)),D}get(){return this.segments}destroy(){for(const s of this.segments)for(const c in s.vaos)s.vaos[c].destroy()}static simpleSegment(s,c,p,y){return new Ua([{vertexOffset:s,primitiveOffset:c,vertexLength:p,primitiveLength:y,vaos:{},sortKey:0}])}}Ua.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Gn("SegmentVector",Ua);var Wi=8192;class kd{constructor(s,c){s&&(c?this.setSouthWest(s).setNorthEast(c):4===s.length?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1]))}setNorthEast(s){return this._ne=s instanceof fo?new fo(s.lng,s.lat):fo.convert(s),this}setSouthWest(s){return this._sw=s instanceof fo?new fo(s.lng,s.lat):fo.convert(s),this}extend(s){const c=this._sw,p=this._ne;let y,D;if(s instanceof fo)y=s,D=s;else{if(!(s instanceof kd))return Array.isArray(s)?4===s.length||s.every(Array.isArray)?this.extend(kd.convert(s)):this.extend(fo.convert(s)):this;if(y=s._sw,D=s._ne,!y||!D)return this}return c||p?(c.lng=Math.min(y.lng,c.lng),c.lat=Math.min(y.lat,c.lat),p.lng=Math.max(D.lng,p.lng),p.lat=Math.max(D.lat,p.lat)):(this._sw=new fo(y.lng,y.lat),this._ne=new fo(D.lng,D.lat)),this}getCenter(){return new fo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new fo(this.getWest(),this.getNorth())}getSouthEast(){return new fo(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:c,lat:p}=fo.convert(s);let y=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&y}static convert(s){return!s||s instanceof kd?s:new kd(s)}}const $y=6371008.8;class fo{constructor(s,c){if(isNaN(s)||isNaN(c))throw new Error(`Invalid LngLat object: (${s}, ${c})`);if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new fo(re(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){const c=Math.PI/180,p=this.lat*c,y=s.lat*c,D=Math.sin(p)*Math.sin(y)+Math.cos(p)*Math.cos(y)*Math.cos((s.lng-this.lng)*c);return $y*Math.acos(Math.min(D,1))}toBounds(s=0){const c=360*s/40075017,p=c/Math.cos(Math.PI/180*this.lat);return new kd(new fo(this.lng-p,this.lat-c),new fo(this.lng+p,this.lat+c))}static convert(s){if(s instanceof fo)return s;if(Array.isArray(s)&&(2===s.length||3===s.length))return new fo(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&"object"==typeof s&&null!==s)return new fo(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ux=2*Math.PI*$y;function Sg(u){return ux*Math.cos(u*Math.PI/180)}function Gu(u){return(180+u)/360}function Qf(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function Qh(u,s){return u/Sg(s)}function af(u){return 360*u-180}function qc(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function Lg(u,s){return u*Sg(qc(s))}const ed=85.051129;class qp{constructor(s,c,p=0){this.x=+s,this.y=+c,this.z=+p}static fromLngLat(s,c=0){const p=fo.convert(s);return new qp(Gu(p.lng),Qf(p.lat),Qh(c,p.lat))}toLngLat(){return new fo(af(this.x),qc(this.y))}toAltitude(){return Lg(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ux*(s=qc(this.y),1/Math.cos(s*Math.PI/180));var s}}function kg(u,s,c,p,y,D,E,P,N){const j=(s+p)/2,Z=(c+y)/2,J=new W(j,Z);P(J),function(ee,me,Me,Ye,nt,lt){const wt=Me-nt,Tt=Ye-lt;return Math.abs((Ye-me)*wt-(Me-ee)*Tt)/Math.hypot(wt,Tt)}(J.x,J.y,D.x,D.y,E.x,E.y)>=N?(kg(u,s,c,j,Z,D,J,P,N),kg(u,j,Z,p,y,J,E,P,N)):u.push(E)}function cx(u,s,c){const p=[];let y,D,E;for(const P of u){const{x:N,y:j}=P;s(P),E?kg(p,y,D,N,j,E,P,s,c):p.push(P),y=N,D=j,E=P}return p}const Wp=Math.pow(2,14)-1,$p=-Wp-1;function Zp(u,s){const c=Math.round(u.x*s),p=Math.round(u.y*s);return u.x=ne(c,$p,Wp),u.y=ne(p,$p,Wp),(c<u.x||c>u.x+1||p<u.y||p>u.y+1)&&Re("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function td(u,s,c){const p=u.loadGeometry(),y=u.extent,D=Wi/y;if(s&&c&&"mercator"!==c.projection.name){const E=1<<s.z,{scale:P,x:N,y:j,projection:Z}=c,J=ee=>{const me=af((s.x+ee.x/y)/E),Me=qc((s.y+ee.y/y)/E),Ye=Z.project(me,Me);ee.x=(Ye.x*P-N)*y,ee.y=(Ye.y*P-j)*y};for(let ee=0;ee<p.length;ee++)if(1!==u.type)p[ee]=cx(p[ee],J,1);else{const me=[];for(const Me of p[ee])Me.x<0||Me.x>=y||Me.y<0||Me.y>=y||(J(Me),me.push(Me));p[ee]=me}}for(const E of p)for(const P of E)Zp(P,D);return p}function Wc(u,s){return{type:u.type,id:u.id,properties:u.properties,geometry:s?td(u):[]}}function lf(u,s,c,p,y){u.emplaceBack(2*s+(p+1)/2,2*c+(y+1)/2)}class uf{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Zn,this.indexArray=new Io,this.segments=new Ua,this.programConfigurations=new of(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,p,y){const D=this.layers[0],E=[];let P=null;"circle"===D.type&&(P=D.layout.get("circle-sort-key"));for(const{feature:N,id:j,index:Z,sourceLayerIndex:J}of s){const ee=this.layers[0]._featureFilter.needGeometry,me=Wc(N,ee);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),me,p))continue;const Me=P?P.evaluate(me,{},p):void 0,Ye={id:j,properties:N.properties,type:N.type,sourceLayerIndex:J,index:Z,geometry:ee?me.geometry:td(N,p,y),patterns:{},sortKey:Me};E.push(Ye)}P&&E.sort((N,j)=>N.sortKey-j.sortKey);for(const N of E){const{geometry:j,index:Z,sourceLayerIndex:J}=N,ee=s[Z].feature;this.addFeature(N,j,Z,c.availableImages,p),c.featureIndex.insert(ee,j,Z,J,this.index)}}update(s,c,p,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,p,y)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Gp),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,c,p,y,D){for(const E of c)for(const P of E){const N=P.x,j=P.y;if(N<0||N>=Wi||j<0||j>=Wi)continue;const Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),J=Z.vertexLength;lf(this.layoutVertexArray,N,j,-1,-1),lf(this.layoutVertexArray,N,j,1,-1),lf(this.layoutVertexArray,N,j,1,1),lf(this.layoutVertexArray,N,j,-1,1),this.indexArray.emplaceBack(J,J+1,J+2),this.indexArray.emplaceBack(J,J+3,J+2),Z.vertexLength+=4,Z.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,{},y,D)}}function Zy(u,s){for(let c=0;c<u.length;c++)if(Id(s,u[c]))return!0;for(let c=0;c<s.length;c++)if(Id(u,s[c]))return!0;return!!Ig(u,s)}function hx(u,s,c){return!!Id(u,s)||!!Xp(s,u,c)}function Xy(u,s){if(1===u.length)return Er(s,u[0]);for(let c=0;c<s.length;c++){const p=s[c];for(let y=0;y<p.length;y++)if(Id(u,p[y]))return!0}for(let c=0;c<u.length;c++)if(Er(s,u[c]))return!0;for(let c=0;c<s.length;c++)if(Ig(u,s[c]))return!0;return!1}function Jy(u,s,c){if(u.length>1){if(Ig(u,s))return!0;for(let p=0;p<s.length;p++)if(Xp(s[p],u,c))return!0}for(let p=0;p<u.length;p++)if(Xp(u[p],s,c))return!0;return!1}function Ig(u,s){if(0===u.length||0===s.length)return!1;for(let c=0;c<u.length-1;c++){const p=u[c],y=u[c+1];for(let D=0;D<s.length-1;D++)if(ep(p,y,s[D],s[D+1]))return!0}return!1}function ep(u,s,c,p){return Yt(u,c,p)!==Yt(s,c,p)&&Yt(u,s,c)!==Yt(u,s,p)}function Xp(u,s,c){const p=c*c;if(1===s.length)return u.distSqr(s[0])<p;for(let y=1;y<s.length;y++)if(Ky(u,s[y-1],s[y])<p)return!0;return!1}function Ky(u,s,c){const p=s.distSqr(c);if(0===p)return u.distSqr(s);const y=((u.x-s.x)*(c.x-s.x)+(u.y-s.y)*(c.y-s.y))/p;return u.distSqr(y<0?s:y>1?c:c.sub(s)._mult(y)._add(s))}function Er(u,s){let c,p,y,D=!1;for(let E=0;E<u.length;E++){c=u[E];for(let P=0,N=c.length-1;P<c.length;N=P++)p=c[P],y=c[N],p.y>s.y!=y.y>s.y&&s.x<(y.x-p.x)*(s.y-p.y)/(y.y-p.y)+p.x&&(D=!D)}return D}function Id(u,s){let c=!1;for(let p=0,y=u.length-1;p<u.length;y=p++){const D=u[p],E=u[y];D.y>s.y!=E.y>s.y&&s.x<(E.x-D.x)*(s.y-D.y)/(E.y-D.y)+D.x&&(c=!c)}return c}function dx(u,s,c,p,y){for(const E of u)if(s<=E.x&&c<=E.y&&p>=E.x&&y>=E.y)return!0;const D=[new W(s,c),new W(s,y),new W(p,y),new W(p,c)];if(u.length>2)for(const E of D)if(Id(u,E))return!0;for(let E=0;E<u.length-1;E++)if(Pg(u[E],u[E+1],D))return!0;return!1}function Pg(u,s,c){const p=c[0],y=c[2];if(u.x<p.x&&s.x<p.x||u.x>y.x&&s.x>y.x||u.y<p.y&&s.y<p.y||u.y>y.y&&s.y>y.y)return!1;const D=Yt(u,s,c[0]);return D!==Yt(u,s,c[1])||D!==Yt(u,s,c[2])||D!==Yt(u,s,c[3])}function ph(u,s,c){const p=s.paint.get(u).value;return"constant"===p.kind?p.value:c.programConfigurations.get(s.id).getMaxValue(u)}function Jp(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Qy(u,s,c,p,y){if(!s[0]&&!s[1])return u;const D=W.convert(s)._mult(y);"viewport"===c&&D._rotate(-p);const E=[];for(let P=0;P<u.length;P++)E.push(u[P].sub(D));return E}function ev(u,s,c,p){const y=W.convert(u)._mult(p);return"viewport"===s&&y._rotate(-c),y}Gn("CircleBucket",uf,{omit:["layers"]});const cf=new an({"circle-sort-key":new ft(Ct.layout_circle["circle-sort-key"])});var mh={paint:new an({"circle-radius":new ft(Ct.paint_circle["circle-radius"]),"circle-color":new ft(Ct.paint_circle["circle-color"]),"circle-blur":new ft(Ct.paint_circle["circle-blur"]),"circle-opacity":new ft(Ct.paint_circle["circle-opacity"]),"circle-translate":new Ke(Ct.paint_circle["circle-translate"]),"circle-translate-anchor":new Ke(Ct.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ke(Ct.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ke(Ct.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ft(Ct.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ft(Ct.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ft(Ct.paint_circle["circle-stroke-opacity"])}),layout:cf},gu="undefined"!=typeof Float32Array?Float32Array:Array;function Pd(){var u=new gu(9);return gu!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function Ag(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function Og(u,s,c){var p=s[0],y=s[1],D=s[2],E=s[3],P=s[4],N=s[5],j=s[6],Z=s[7],J=s[8],ee=s[9],me=s[10],Me=s[11],Ye=s[12],nt=s[13],lt=s[14],wt=s[15],Tt=c[0],Ot=c[1],At=c[2],Nt=c[3];return u[0]=Tt*p+Ot*P+At*J+Nt*Ye,u[1]=Tt*y+Ot*N+At*ee+Nt*nt,u[2]=Tt*D+Ot*j+At*me+Nt*lt,u[3]=Tt*E+Ot*Z+At*Me+Nt*wt,u[4]=(Tt=c[4])*p+(Ot=c[5])*P+(At=c[6])*J+(Nt=c[7])*Ye,u[5]=Tt*y+Ot*N+At*ee+Nt*nt,u[6]=Tt*D+Ot*j+At*me+Nt*lt,u[7]=Tt*E+Ot*Z+At*Me+Nt*wt,u[8]=(Tt=c[8])*p+(Ot=c[9])*P+(At=c[10])*J+(Nt=c[11])*Ye,u[9]=Tt*y+Ot*N+At*ee+Nt*nt,u[10]=Tt*D+Ot*j+At*me+Nt*lt,u[11]=Tt*E+Ot*Z+At*Me+Nt*wt,u[12]=(Tt=c[12])*p+(Ot=c[13])*P+(At=c[14])*J+(Nt=c[15])*Ye,u[13]=Tt*y+Ot*N+At*ee+Nt*nt,u[14]=Tt*D+Ot*j+At*me+Nt*lt,u[15]=Tt*E+Ot*Z+At*Me+Nt*wt,u}Math.hypot||(Math.hypot=function(){for(var u=0,s=arguments.length;s--;)u+=arguments[s]*arguments[s];return Math.sqrt(u)});var Rg=Og;function Ad(){var u=new gu(3);return gu!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u}function Ng(u){return Math.hypot(u[0],u[1],u[2])}function hf(u,s,c){var p=new gu(3);return p[0]=u,p[1]=s,p[2]=c,p}function tv(u,s,c){return u[0]=s[0]-c[0],u[1]=s[1]-c[1],u[2]=s[2]-c[2],u}function Od(u,s,c){return u[0]=s[0]*c[0],u[1]=s[1]*c[1],u[2]=s[2]*c[2],u}function df(u,s,c,p){return u[0]=s[0]+c[0]*p,u[1]=s[1]+c[1]*p,u[2]=s[2]+c[2]*p,u}function nv(u,s){var c=s[0],p=s[1],y=s[2],D=c*c+p*p+y*y;return D>0&&(D=1/Math.sqrt(D)),u[0]=s[0]*D,u[1]=s[1]*D,u[2]=s[2]*D,u}function fx(u,s,c){var p=c[0],y=c[1],D=c[2],E=s[0],P=s[1],N=s[2],j=y*N-D*P,Z=D*E-p*N,J=p*P-y*E,ee=y*J-D*Z,me=D*j-p*J,Me=p*Z-y*j,Ye=2*c[3];return Z*=Ye,J*=Ye,me*=2,Me*=2,u[0]=E+(j*=Ye)+(ee*=2),u[1]=P+Z+me,u[2]=N+J+Me,u}var ff,u,px=tv,WD=Od,mx=Ng;function tp(u,s,c){var p=s[0],y=s[1],D=s[2],E=s[3];return u[0]=c[0]*p+c[4]*y+c[8]*D+c[12]*E,u[1]=c[1]*p+c[5]*y+c[9]*D+c[13]*E,u[2]=c[2]*p+c[6]*y+c[10]*D+c[14]*E,u[3]=c[3]*p+c[7]*y+c[11]*D+c[15]*E,u}function Fg(){var u=new gu(4);return gu!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u[3]=1,u}function np(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u}function Kp(u,s,c){c*=.5;var p=s[0],y=s[1],D=s[2],E=s[3],P=Math.sin(c),N=Math.cos(c);return u[0]=p*N+E*P,u[1]=y*N+D*P,u[2]=D*N-y*P,u[3]=E*N-p*P,u}function Rd(u,s){return u[0]===s[0]&&u[1]===s[1]}function rv(u,s,c,p,y,D,E,P,N){if(D&&u.queryGeometry.isAboveHorizon)return!1;D&&(N*=u.pixelToTileUnitsFactor);for(const j of s)for(const Z of j){const J=Z.add(P),ee=y&&c.elevation?c.elevation.exaggeration()*y.getElevationAt(J.x,J.y,!0):0,me=D?J:gx(J,ee,p),Me=D?u.tilespaceRays.map(nt=>Yg(nt,ee)):u.queryGeometry.screenGeometry,Ye=tp([],[Z.x,Z.y,ee,1],p);if(!E&&D?N*=Ye[3]/c.cameraToCenterDistance:E&&!D&&(N*=c.cameraToCenterDistance/Ye[3]),hx(Me,me,N))return!0}return!1}function gx(u,s,c){const p=tp([],[u.x,u.y,s,1],c);return new W(p[0]/p[3],p[1]/p[3])}Ad(),ff=new gu(4),gu!=Float32Array&&(ff[0]=0,ff[1]=0,ff[2]=0,ff[3]=0),Ad(),hf(1,0,0),hf(0,1,0),Fg(),Fg(),Pd(),u=new gu(2),gu!=Float32Array&&(u[0]=0,u[1]=0);const _x=hf(0,0,0),Qp=hf(0,0,1);function Yg(u,s){const c=Ad();return _x[2]=s,u.intersectsPlane(_x,Qp,c),new W(c[0],c[1])}class zg extends uf{}function em(u,{width:s,height:c},p,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==s*c*p)throw new RangeError("mismatched image size")}else y=new Uint8Array(s*c*p);return u.width=s,u.height=c,u.data=y,u}function Bg(u,{width:s,height:c},p){if(s===u.width&&c===u.height)return;const y=em({},{width:s,height:c},p);tm(u,y,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,s),height:Math.min(u.height,c)},p),u.width=s,u.height=c,u.data=y.data}function tm(u,s,c,p,y,D){if(0===y.width||0===y.height)return s;if(y.width>u.width||y.height>u.height||c.x>u.width-y.width||c.y>u.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>s.width||y.height>s.height||p.x>s.width-y.width||p.y>s.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const E=u.data,P=s.data;for(let N=0;N<y.height;N++){const j=((c.y+N)*u.width+c.x)*D,Z=((p.y+N)*s.width+p.x)*D;for(let J=0;J<y.width*D;J++)P[Z+J]=E[j+J]}return s}Gn("HeatmapBucket",zg,{omit:["layers"]});class nd{constructor(s,c){em(this,s,1,c)}resize(s){Bg(this,s,1)}clone(){return new nd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,p,y,D){tm(s,c,p,y,D,1)}}class yc{constructor(s,c){em(this,s,4,c)}resize(s){Bg(this,s,4)}replace(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new yc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,p,y,D){tm(s,c,p,y,D,4)}}Gn("AlphaImage",nd),Gn("RGBAImage",yc);var yx={paint:new an({"heatmap-radius":new ft(Ct.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ft(Ct.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ke(Ct.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Zt(Ct.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ke(Ct.paint_heatmap["heatmap-opacity"])})};function jg(u){const s={},c=u.resolution||256,p=u.clips?u.clips.length:1,y=u.image||new yc({width:c,height:p}),D=(E,P,N)=>{s[u.evaluationKey]=N;const j=u.expression.evaluate(s);y.data[E+P+0]=Math.floor(255*j.r/j.a),y.data[E+P+1]=Math.floor(255*j.g/j.a),y.data[E+P+2]=Math.floor(255*j.b/j.a),y.data[E+P+3]=Math.floor(255*j.a)};if(u.clips)for(let E=0,P=0;E<p;++E,P+=4*c)for(let N=0,j=0;N<c;N++,j+=4){const Z=N/(c-1),{start:J,end:ee}=u.clips[E];D(P,j,J*(1-Z)+ee*Z)}else for(let E=0,P=0;E<c;E++,P+=4)D(0,P,E/(c-1));return y}var vx={paint:new an({"hillshade-illumination-direction":new Ke(Ct.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ke(Ct.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ke(Ct.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ke(Ct.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ke(Ct.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ke(Ct.paint_hillshade["hillshade-accent-color"])})};const rd=Vt([{name:"a_pos",components:2,type:"Int16"}],4),{members:rp}=rd;var nm=Vg,$D=Vg;function Vg(u,s,c){c=c||2;var p,y,D,E,P,N,j,Z=s&&s.length,J=Z?s[0]*c:u.length,ee=xx(u,0,J,c,!0),me=[];if(!ee||ee.next===ee.prev)return me;if(Z&&(ee=function(Ye,nt,lt,wt){var Tt,Ot,At,Nt=[];for(Tt=0,Ot=nt.length;Tt<Ot;Tt++)(At=xx(Ye,nt[Tt]*wt,Tt<Ot-1?nt[Tt+1]*wt:Ye.length,wt,!1))===At.next&&(At.steiner=!0),Nt.push(sv(At));for(Nt.sort(Dx),Tt=0;Tt<Nt.length;Tt++)lt=Nd(lt=ZD(Nt[Tt],lt),lt.next);return lt}(u,s,ee,c)),u.length>80*c){p=D=u[0],y=E=u[1];for(var Me=c;Me<J;Me+=c)(P=u[Me])<p&&(p=P),(N=u[Me+1])<y&&(y=N),P>D&&(D=P),N>E&&(E=N);j=0!==(j=Math.max(D-p,E-y))?1/j:0}return rm(ee,me,c,p,y,j),me}function xx(u,s,c,p,y){var D,E;if(y===av(u,s,c,p)>0)for(D=s;D<c;D+=p)E=om(D,u[D],u[D+1],E);else for(D=c-p;D>=s;D-=p)E=om(D,u[D],u[D+1],E);return E&&sp(E,E.next)&&(Fd(E),E=E.next),E}function Nd(u,s){if(!u)return u;s||(s=u);var c,p=u;do{if(c=!1,p.steiner||!sp(p,p.next)&&0!==Sa(p.prev,p,p.next))p=p.next;else{if(Fd(p),(p=s=p.prev)===p.next)break;c=!0}}while(c||p!==s);return s}function rm(u,s,c,p,y,D,E){if(u){!E&&D&&function(Z,J,ee,me){var Me=Z;do{null===Me.z&&(Me.z=pf(Me.x,Me.y,J,ee,me)),Me.prevZ=Me.prev,Me.nextZ=Me.next,Me=Me.next}while(Me!==Z);Me.prevZ.nextZ=null,Me.prevZ=null,function(Ye){var nt,lt,wt,Tt,Ot,At,Nt,cn,en=1;do{for(lt=Ye,Ye=null,Ot=null,At=0;lt;){for(At++,wt=lt,Nt=0,nt=0;nt<en&&(Nt++,wt=wt.nextZ);nt++);for(cn=en;Nt>0||cn>0&&wt;)0!==Nt&&(0===cn||!wt||lt.z<=wt.z)?(Tt=lt,lt=lt.nextZ,Nt--):(Tt=wt,wt=wt.nextZ,cn--),Ot?Ot.nextZ=Tt:Ye=Tt,Tt.prevZ=Ot,Ot=Tt;lt=wt}Ot.nextZ=null,en*=2}while(At>1)}(Me)}(u,p,y,D);for(var P,N,j=u;u.prev!==u.next;)if(P=u.prev,N=u.next,D?wx(u,p,y,D):iv(u))s.push(P.i/c),s.push(u.i/c),s.push(N.i/c),Fd(u),u=N.next,j=N.next;else if((u=N)===j){E?1===E?rm(u=bx(Nd(u),s,c),s,c,p,y,D,2):2===E&&Mx(u,s,c,p,y,D):rm(Nd(u),s,c,p,y,D,1);break}}}function iv(u){var s=u.prev,c=u,p=u.next;if(Sa(s,c,p)>=0)return!1;for(var y=u.next.next;y!==u.prev;){if(qu(s.x,s.y,c.x,c.y,p.x,p.y,y.x,y.y)&&Sa(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function wx(u,s,c,p){var y=u.prev,D=u,E=u.next;if(Sa(y,D,E)>=0)return!1;for(var P=y.x>D.x?y.x>E.x?y.x:E.x:D.x>E.x?D.x:E.x,N=y.y>D.y?y.y>E.y?y.y:E.y:D.y>E.y?D.y:E.y,j=pf(y.x<D.x?y.x<E.x?y.x:E.x:D.x<E.x?D.x:E.x,y.y<D.y?y.y<E.y?y.y:E.y:D.y<E.y?D.y:E.y,s,c,p),Z=pf(P,N,s,c,p),J=u.prevZ,ee=u.nextZ;J&&J.z>=j&&ee&&ee.z<=Z;){if(J!==u.prev&&J!==u.next&&qu(y.x,y.y,D.x,D.y,E.x,E.y,J.x,J.y)&&Sa(J.prev,J,J.next)>=0||(J=J.prevZ,ee!==u.prev&&ee!==u.next&&qu(y.x,y.y,D.x,D.y,E.x,E.y,ee.x,ee.y)&&Sa(ee.prev,ee,ee.next)>=0))return!1;ee=ee.nextZ}for(;J&&J.z>=j;){if(J!==u.prev&&J!==u.next&&qu(y.x,y.y,D.x,D.y,E.x,E.y,J.x,J.y)&&Sa(J.prev,J,J.next)>=0)return!1;J=J.prevZ}for(;ee&&ee.z<=Z;){if(ee!==u.prev&&ee!==u.next&&qu(y.x,y.y,D.x,D.y,E.x,E.y,ee.x,ee.y)&&Sa(ee.prev,ee,ee.next)>=0)return!1;ee=ee.nextZ}return!0}function bx(u,s,c){var p=u;do{var y=p.prev,D=p.next.next;!sp(y,D)&&Ug(y,p,p.next,D)&&im(y,D)&&im(D,y)&&(s.push(y.i/c),s.push(p.i/c),s.push(D.i/c),Fd(p),Fd(p.next),p=u=D),p=p.next}while(p!==u);return Nd(p)}function Mx(u,s,c,p,y,D){var E=u;do{for(var P=E.next.next;P!==E.prev;){if(E.i!==P.i&&ip(E,P)){var N=sm(E,P);return E=Nd(E,E.next),N=Nd(N,N.next),rm(E,s,c,p,y,D),void rm(N,s,c,p,y,D)}P=P.next}E=E.next}while(E!==u)}function Dx(u,s){return u.x-s.x}function ZD(u,s){var c=function(D,E){var P,N=E,j=D.x,Z=D.y,J=-1/0;do{if(Z<=N.y&&Z>=N.next.y&&N.next.y!==N.y){var ee=N.x+(Z-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(ee<=j&&ee>J){if(J=ee,ee===j){if(Z===N.y)return N;if(Z===N.next.y)return N.next}P=N.x<N.next.x?N:N.next}}N=N.next}while(N!==E);if(!P)return null;if(j===J)return P;var me,Me=P,Ye=P.x,nt=P.y,lt=1/0;N=P;do{j>=N.x&&N.x>=Ye&&j!==N.x&&qu(Z<nt?j:J,Z,Ye,nt,Z<nt?J:j,Z,N.x,N.y)&&(me=Math.abs(Z-N.y)/(j-N.x),im(N,D)&&(me<lt||me===lt&&(N.x>P.x||N.x===P.x&&Ex(P,N)))&&(P=N,lt=me)),N=N.next}while(N!==Me);return P}(u,s);if(!c)return s;var p=sm(c,u),y=Nd(c,c.next);return Nd(p,p.next),s===c?y:s}function Ex(u,s){return Sa(u.prev,u,s.prev)<0&&Sa(s.next,u,u.next)<0}function pf(u,s,c,p,y){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=32767*(u-c)*y)|u<<8))|u<<4))|u<<2))|u<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=32767*(s-p)*y)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function sv(u){var s=u,c=u;do{(s.x<c.x||s.x===c.x&&s.y<c.y)&&(c=s),s=s.next}while(s!==u);return c}function qu(u,s,c,p,y,D,E,P){return(y-E)*(s-P)-(u-E)*(D-P)>=0&&(u-E)*(p-P)-(c-E)*(s-P)>=0&&(c-E)*(D-P)-(y-E)*(p-P)>=0}function ip(u,s){return u.next.i!==s.i&&u.prev.i!==s.i&&!function(c,p){var y=c;do{if(y.i!==c.i&&y.next.i!==c.i&&y.i!==p.i&&y.next.i!==p.i&&Ug(y,y.next,c,p))return!0;y=y.next}while(y!==c);return!1}(u,s)&&(im(u,s)&&im(s,u)&&function(c,p){var y=c,D=!1,E=(c.x+p.x)/2,P=(c.y+p.y)/2;do{y.y>P!=y.next.y>P&&y.next.y!==y.y&&E<(y.next.x-y.x)*(P-y.y)/(y.next.y-y.y)+y.x&&(D=!D),y=y.next}while(y!==c);return D}(u,s)&&(Sa(u.prev,u,s.prev)||Sa(u,s.prev,s))||sp(u,s)&&Sa(u.prev,u,u.next)>0&&Sa(s.prev,s,s.next)>0)}function Sa(u,s,c){return(s.y-u.y)*(c.x-s.x)-(s.x-u.x)*(c.y-s.y)}function sp(u,s){return u.x===s.x&&u.y===s.y}function Ug(u,s,c,p){var y=Gg(Sa(u,s,c)),D=Gg(Sa(u,s,p)),E=Gg(Sa(c,p,u)),P=Gg(Sa(c,p,s));return y!==D&&E!==P||!(0!==y||!Hg(u,c,s))||!(0!==D||!Hg(u,p,s))||!(0!==E||!Hg(c,u,p))||!(0!==P||!Hg(c,s,p))}function Hg(u,s,c){return s.x<=Math.max(u.x,c.x)&&s.x>=Math.min(u.x,c.x)&&s.y<=Math.max(u.y,c.y)&&s.y>=Math.min(u.y,c.y)}function Gg(u){return u>0?1:u<0?-1:0}function im(u,s){return Sa(u.prev,u,u.next)<0?Sa(u,s,u.next)>=0&&Sa(u,u.prev,s)>=0:Sa(u,s,u.prev)<0||Sa(u,u.next,s)<0}function sm(u,s){var c=new ov(u.i,u.x,u.y),p=new ov(s.i,s.x,s.y),y=u.next,D=s.prev;return u.next=s,s.prev=u,c.next=y,y.prev=c,p.next=c,c.prev=p,D.next=p,p.prev=D,p}function om(u,s,c,p){var y=new ov(u,s,c);return p?(y.next=p.next,y.prev=p,p.next.prev=y,p.next=y):(y.prev=y,y.next=y),y}function Fd(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function ov(u,s,c){this.i=u,this.x=s,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function av(u,s,c,p){for(var y=0,D=s,E=c-p;D<c;D+=p)y+=(u[E]-u[D])*(u[D+1]+u[E+1]),E=D;return y}function lv(u,s,c,p,y){uv(u,s,c||0,p||u.length-1,y||Cx)}function uv(u,s,c,p,y){for(;p>c;){if(p-c>600){var D=p-c+1,E=s-c+1,P=Math.log(D),N=.5*Math.exp(2*P/3),j=.5*Math.sqrt(P*N*(D-N)/D)*(E-D/2<0?-1:1);uv(u,s,Math.max(c,Math.floor(s-E*N/D+j)),Math.min(p,Math.floor(s+(D-E)*N/D+j)),y)}var Z=u[s],J=c,ee=p;for(op(u,c,s),y(u[p],Z)>0&&op(u,c,p);J<ee;){for(op(u,J,ee),J++,ee--;y(u[J],Z)<0;)J++;for(;y(u[ee],Z)>0;)ee--}0===y(u[c],Z)?op(u,c,ee):op(u,++ee,p),ee<=s&&(c=ee+1),s<=ee&&(p=ee-1)}}function op(u,s,c){var p=u[s];u[s]=u[c],u[c]=p}function Cx(u,s){return u<s?-1:u>s?1:0}function qg(u,s){const c=u.length;if(c<=1)return[u];const p=[];let y,D;for(let E=0;E<c;E++){const P=Ht(u[E]);0!==P&&(u[E].area=Math.abs(P),void 0===D&&(D=P<0),D===P<0?(y&&p.push(y),y=[u[E]]):y.push(u[E]))}if(y&&p.push(y),s>1)for(let E=0;E<p.length;E++)p[E].length<=s||(lv(p[E],s,1,p[E].length-1,cv),p[E]=p[E].slice(0,s));return p}function cv(u,s){return s.area-u.area}function mf(u,s,c){const p=c.patternDependencies;let y=!1;for(const D of s){const E=D.paint.get(`${u}-pattern`);E.isConstant()||(y=!0);const P=E.constantOr(null);P&&(y=!0,p[P.to]=!0,p[P.from]=!0)}return y}function Wg(u,s,c,p,y){const D=y.patternDependencies;for(const E of s){const P=E.paint.get(`${u}-pattern`).value;if("constant"!==P.kind){let N=P.evaluate({zoom:p-1},c,{},y.availableImages),j=P.evaluate({zoom:p},c,{},y.availableImages),Z=P.evaluate({zoom:p+1},c,{},y.availableImages);N=N&&N.name?N.name:N,j=j&&j.name?j.name:j,Z=Z&&Z.name?Z.name:Z,D[N]=!0,D[j]=!0,D[Z]=!0,c.patterns[E.id]={min:N,mid:j,max:Z}}}return c}Vg.deviation=function(u,s,c,p){var y=s&&s.length,D=Math.abs(av(u,0,y?s[0]*c:u.length,c));if(y)for(var E=0,P=s.length;E<P;E++)D-=Math.abs(av(u,s[E]*c,E<P-1?s[E+1]*c:u.length,c));var N=0;for(E=0;E<p.length;E+=3){var j=p[E]*c,Z=p[E+1]*c,J=p[E+2]*c;N+=Math.abs((u[j]-u[J])*(u[Z+1]-u[j+1])-(u[j]-u[Z])*(u[J+1]-u[j+1]))}return 0===D&&0===N?0:Math.abs((N-D)/D)},Vg.flatten=function(u){for(var s=u[0][0].length,c={vertices:[],holes:[],dimensions:s},p=0,y=0;y<u.length;y++){for(var D=0;D<u[y].length;D++)for(var E=0;E<s;E++)c.vertices.push(u[y][D][E]);y>0&&c.holes.push(p+=u[y-1].length)}return c},nm.default=$D;class gf{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Zn,this.indexArray=new Io,this.indexArray2=new vo,this.programConfigurations=new of(s.layers,s.zoom),this.segments=new Ua,this.segments2=new Ua,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,p,y){this.hasPattern=mf("fill",this.layers,c);const D=this.layers[0].layout.get("fill-sort-key"),E=[];for(const{feature:P,id:N,index:j,sourceLayerIndex:Z}of s){const J=this.layers[0]._featureFilter.needGeometry,ee=Wc(P,J);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),ee,p))continue;const me=D?D.evaluate(ee,{},p,c.availableImages):void 0,Me={id:N,properties:P.properties,type:P.type,sourceLayerIndex:Z,index:j,geometry:J?ee.geometry:td(P,p,y),patterns:{},sortKey:me};E.push(Me)}D&&E.sort((P,N)=>P.sortKey-N.sortKey);for(const P of E){const{geometry:N,index:j,sourceLayerIndex:Z}=P;if(this.hasPattern){const J=Wg("fill",this.layers,P,this.zoom,c);this.patternFeatures.push(J)}else this.addFeature(P,N,j,p,{},c.availableImages);c.featureIndex.insert(s[j].feature,N,j,Z,this.index)}}update(s,c,p,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,p,y)}addFeatures(s,c,p,y){for(const D of this.patternFeatures)this.addFeature(D,D.geometry,D.index,c,p,y)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,rp),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,c,p,y,D,E=[]){for(const P of qg(c,500)){let N=0;for(const Me of P)N+=Me.length;const j=this.segments.prepareSegment(N,this.layoutVertexArray,this.indexArray),Z=j.vertexLength,J=[],ee=[];for(const Me of P){if(0===Me.length)continue;Me!==P[0]&&ee.push(J.length/2);const Ye=this.segments2.prepareSegment(Me.length,this.layoutVertexArray,this.indexArray2),nt=Ye.vertexLength;this.layoutVertexArray.emplaceBack(Me[0].x,Me[0].y),this.indexArray2.emplaceBack(nt+Me.length-1,nt),J.push(Me[0].x),J.push(Me[0].y);for(let lt=1;lt<Me.length;lt++)this.layoutVertexArray.emplaceBack(Me[lt].x,Me[lt].y),this.indexArray2.emplaceBack(nt+lt-1,nt+lt),J.push(Me[lt].x),J.push(Me[lt].y);Ye.vertexLength+=Me.length,Ye.primitiveLength+=Me.length}const me=nm(J,ee);for(let Me=0;Me<me.length;Me+=3)this.indexArray.emplaceBack(Z+me[Me],Z+me[Me+1],Z+me[Me+2]);j.vertexLength+=N,j.primitiveLength+=me.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,D,E,y)}}Gn("FillBucket",gf,{omit:["layers","patternFeatures"]});const Tx=new an({"fill-sort-key":new ft(Ct.layout_fill["fill-sort-key"])});var Ml={paint:new an({"fill-antialias":new Ke(Ct.paint_fill["fill-antialias"]),"fill-opacity":new ft(Ct.paint_fill["fill-opacity"]),"fill-color":new ft(Ct.paint_fill["fill-color"]),"fill-outline-color":new ft(Ct.paint_fill["fill-outline-color"]),"fill-translate":new Ke(Ct.paint_fill["fill-translate"]),"fill-translate-anchor":new Ke(Ct.paint_fill["fill-translate-anchor"]),"fill-pattern":new Dt(Ct.paint_fill["fill-pattern"])}),layout:Tx};const Sx=Vt([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Lx=Vt([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:Yd}=Sx;var $g=_f;function _f(u,s,c,p,y){this.properties={},this.extent=c,this.type=0,this._pbf=u,this._geometry=-1,this._keys=p,this._values=y,u.readFields(kx,this,s)}function kx(u,s,c){1==u?s.id=c.readVarint():2==u?function(p,y){for(var D=p.readVarint()+p.pos;p.pos<D;){var E=y._keys[p.readVarint()],P=y._values[p.readVarint()];y.properties[E]=P}}(c,s):3==u?s.type=c.readVarint():4==u&&(s._geometry=c.pos)}function Ix(u){for(var s,c,p=0,y=0,D=u.length,E=D-1;y<D;E=y++)p+=((c=u[E]).x-(s=u[y]).x)*(s.y+c.y);return p}_f.types=["Unknown","Point","LineString","Polygon"],_f.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var s,c=u.readVarint()+u.pos,p=1,y=0,D=0,E=0,P=[];u.pos<c;){if(y<=0){var N=u.readVarint();p=7&N,y=N>>3}if(y--,1===p||2===p)D+=u.readSVarint(),E+=u.readSVarint(),1===p&&(s&&P.push(s),s=[]),s.push(new W(D,E));else{if(7!==p)throw new Error("unknown command "+p);s&&s.push(s[0].clone())}}return s&&P.push(s),P},_f.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var s=u.readVarint()+u.pos,c=1,p=0,y=0,D=0,E=1/0,P=-1/0,N=1/0,j=-1/0;u.pos<s;){if(p<=0){var Z=u.readVarint();c=7&Z,p=Z>>3}if(p--,1===c||2===c)(y+=u.readSVarint())<E&&(E=y),y>P&&(P=y),(D+=u.readSVarint())<N&&(N=D),D>j&&(j=D);else if(7!==c)throw new Error("unknown command "+c)}return[E,N,P,j]},_f.prototype.toGeoJSON=function(u,s,c){var p,y,D=this.extent*Math.pow(2,c),E=this.extent*u,P=this.extent*s,N=this.loadGeometry(),j=_f.types[this.type];function Z(me){for(var Me=0;Me<me.length;Me++){var Ye=me[Me];me[Me]=[360*(Ye.x+E)/D-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ye.y+P)/D)*Math.PI/180))-90]}}switch(this.type){case 1:var J=[];for(p=0;p<N.length;p++)J[p]=N[p][0];Z(N=J);break;case 2:for(p=0;p<N.length;p++)Z(N[p]);break;case 3:for(N=function(me){var Me=me.length;if(Me<=1)return[me];for(var Ye,nt,lt=[],wt=0;wt<Me;wt++){var Tt=Ix(me[wt]);0!==Tt&&(void 0===nt&&(nt=Tt<0),nt===Tt<0?(Ye&&lt.push(Ye),Ye=[me[wt]]):Ye.push(me[wt]))}return Ye&&lt.push(Ye),lt}(N),p=0;p<N.length;p++)for(y=0;y<N[p].length;y++)Z(N[p][y])}1===N.length?N=N[0]:j="Multi"+j;var ee={type:"Feature",geometry:{type:j,coordinates:N},properties:this.properties};return"id"in this&&(ee.id=this.id),ee};var hv=dv;function dv(u,s){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(XD,this,s),this.length=this._features.length}function XD(u,s,c){15===u?s.version=c.readVarint():1===u?s.name=c.readString():5===u?s.extent=c.readVarint():2===u?s._features.push(c.pos):3===u?s._keys.push(c.readString()):4===u&&s._values.push(function(p){for(var y=null,D=p.readVarint()+p.pos;p.pos<D;){var E=p.readVarint()>>3;y=1===E?p.readString():2===E?p.readFloat():3===E?p.readDouble():4===E?p.readVarint64():5===E?p.readVarint():6===E?p.readSVarint():7===E?p.readBoolean():null}return y}(c))}function JD(u,s,c){if(3===u){var p=new hv(c,c.readVarint()+c.pos);p.length&&(s[p.name]=p)}}dv.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var s=this._pbf.readVarint()+this._pbf.pos;return new $g(this._pbf,s,this.extent,this._keys,this._values)};var $c={VectorTile:function(u,s){this.layers=u.readFields(JD,{},s)},VectorTileFeature:$g,VectorTileLayer:hv};const Wu=$c.VectorTileFeature.types,Zg=Math.pow(2,13);function yf(u,s,c,p,y,D,E,P){u.emplaceBack((s<<1)+E,(c<<1)+D,(Math.floor(p*Zg)<<1)+y,Math.round(P))}class Xg{constructor(){this.acc=new W(0,0),this.polyCount=[]}startRing(s){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new W(s.x,s.y),this.max=new W(s.x,s.y))}append(s,c){this.currentPolyCount.edges++,this.acc._add(s);let p=!!this.borders;const y=this.min,D=this.max;s.x<y.x?(y.x=s.x,p=!0):s.x>D.x&&(D.x=s.x,p=!0),s.y<y.y?(y.y=s.y,p=!0):s.y>D.y&&(D.y=s.y,p=!0),((0===s.x||s.x===Wi)&&s.x===c.x)!=((0===s.y||s.y===Wi)&&s.y===c.y)&&this.processBorderOverlap(s,c),p&&this.checkBorderIntersection(s,c)}checkBorderIntersection(s,c){c.x<0!=s.x<0&&this.addBorderIntersection(0,kr(c.y,s.y,(0-c.x)/(s.x-c.x))),c.x>Wi!=s.x>Wi&&this.addBorderIntersection(1,kr(c.y,s.y,(Wi-c.x)/(s.x-c.x))),c.y<0!=s.y<0&&this.addBorderIntersection(2,kr(c.x,s.x,(0-c.y)/(s.y-c.y))),c.y>Wi!=s.y>Wi&&this.addBorderIntersection(3,kr(c.x,s.x,(Wi-c.y)/(s.y-c.y)))}addBorderIntersection(s,c){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const p=this.borders[s];c<p[0]&&(p[0]=c),c>p[1]&&(p[1]=c)}processBorderOverlap(s,c){if(s.x===c.x){if(s.y===c.y)return;const p=0===s.x?0:1;this.addBorderIntersection(p,c.y),this.addBorderIntersection(p,s.y)}else{const p=0===s.y?2:3;this.addBorderIntersection(p,c.x),this.addBorderIntersection(p,s.x)}}centroid(){const s=this.polyCount.reduce((c,p)=>c+p.edges,0);return 0!==s?this.acc.div(s)._round():new W(0,0)}span(){return new W(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((s,c)=>s+ +(c[0]!==Number.MAX_VALUE),0)}}class Jl{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Rr,this.centroidVertexArray=new hn,this.indexArray=new Io,this.programConfigurations=new of(s.layers,s.zoom),this.segments=new Ua,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id),this.enableTerrain=s.enableTerrain}populate(s,c,p,y){this.features=[],this.hasPattern=mf("fill-extrusion",this.layers,c),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(D){const E=Math.exp(Math.PI*(1-D.y/(1<<D.z)*2));return 80150034*E/(E*E+1)/Wi/(1<<D.z)}(p);for(const{feature:D,id:E,index:P,sourceLayerIndex:N}of s){const j=this.layers[0]._featureFilter.needGeometry,Z=Wc(D,j);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),Z,p))continue;const J={id:E,sourceLayerIndex:N,index:P,geometry:j?Z.geometry:td(D,p,y),properties:D.properties,type:D.type,patterns:{}},ee=this.layoutVertexArray.length;this.hasPattern?this.features.push(Wg("fill-extrusion",this.layers,J,this.zoom,c)):this.addFeature(J,J.geometry,P,p,{},c.availableImages),c.featureIndex.insert(D,J.geometry,P,N,this.index,ee)}this.sortBorders()}addFeatures(s,c,p,y){for(const D of this.features){const{geometry:E}=D;this.addFeature(D,E,D.index,c,p,y)}this.sortBorders()}update(s,c,p,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,p,y)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Yd),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}uploadCentroid(s){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,Lx.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,c,p,y,D,E){const P=this.enableTerrain?new Xg:null;for(const j of qg(c,500)){let Z=0,J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===j.length||(N=j[0]).every(nt=>nt.x<=0)||N.every(nt=>nt.x>=Wi)||N.every(nt=>nt.y<=0)||N.every(nt=>nt.y>=Wi))continue;for(let nt=0;nt<j.length;nt++){const lt=j[nt];if(0===lt.length)continue;Z+=lt.length;let wt=0;P&&P.startRing(lt[0]);for(let Tt=0;Tt<lt.length;Tt++){const Ot=lt[Tt];if(Tt>=1){const At=lt[Tt-1];if(!ap(Ot,At)){P&&P.append(Ot,At),J.vertexLength+4>Ua.MAX_VERTEX_ARRAY_LENGTH&&(J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Nt=Ot.sub(At)._perp(),cn=Nt.x/(Math.abs(Nt.x)+Math.abs(Nt.y)),en=Nt.y>0?1:0,Nn=At.dist(Ot);wt+Nn>32768&&(wt=0),yf(this.layoutVertexArray,Ot.x,Ot.y,cn,en,0,0,wt),yf(this.layoutVertexArray,Ot.x,Ot.y,cn,en,0,1,wt),wt+=Nn,yf(this.layoutVertexArray,At.x,At.y,cn,en,0,0,wt),yf(this.layoutVertexArray,At.x,At.y,cn,en,0,1,wt);const En=J.vertexLength;this.indexArray.emplaceBack(En,En+2,En+1),this.indexArray.emplaceBack(En+1,En+2,En+3),J.vertexLength+=4,J.primitiveLength+=2}}}}if(J.vertexLength+Z>Ua.MAX_VERTEX_ARRAY_LENGTH&&(J=this.segments.prepareSegment(Z,this.layoutVertexArray,this.indexArray)),"Polygon"!==Wu[s.type])continue;const ee=[],me=[],Me=J.vertexLength;for(let nt=0;nt<j.length;nt++){const lt=j[nt];if(0!==lt.length){lt!==j[0]&&me.push(ee.length/2);for(let wt=0;wt<lt.length;wt++){const Tt=lt[wt];yf(this.layoutVertexArray,Tt.x,Tt.y,0,0,1,1,0),ee.push(Tt.x),ee.push(Tt.y),P&&P.currentPolyCount.top++}}}const Ye=nm(ee,me);for(let nt=0;nt<Ye.length;nt+=3)this.indexArray.emplaceBack(Me+Ye[nt],Me+Ye[nt+2],Me+Ye[nt+1]);J.primitiveLength+=Ye.length/3,J.vertexLength+=Z}var N;if(P&&P.polyCount.length>0){if(P.borders){P.vertexArrayOffset=this.centroidVertexArray.length;const j=P.borders,Z=this.featuresOnBorder.push(P)-1;for(let J=0;J<4;J++)j[J][0]!==Number.MAX_VALUE&&this.borders[J].push(Z)}this.encodeCentroid(P.borders?void 0:P.centroid(),P)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,D,E,y)}sortBorders(){for(let s=0;s<4;s++)this.borders[s].sort((c,p)=>this.featuresOnBorder[c].borders[s][0]-this.featuresOnBorder[p].borders[s][0])}encodeCentroid(s,c,p=!0){let y,D;if(s)if(0!==s.y){const P=c.span()._mult(this.tileToMeter);y=(Math.max(s.x,1)<<3)+Math.min(7,Math.round(P.x/10)),D=(Math.max(s.y,1)<<3)+Math.min(7,Math.round(P.y/10))}else y=Math.ceil(7*(s.x+450)),D=0;else y=0,D=+p;let E=p?this.centroidVertexArray.length:c.vertexArrayOffset;for(const P of c.polyCount){p&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*P.edges+P.top);for(let N=0;N<2*P.edges;N++)this.centroidVertexArray.emplace(E++,0,D),this.centroidVertexArray.emplace(E++,y,D);for(let N=0;N<P.top;N++)this.centroidVertexArray.emplace(E++,y,D)}}}function ap(u,s){return u.x===s.x&&(u.x<0||u.x>Wi)||u.y===s.y&&(u.y<0||u.y>Wi)}Gn("FillExtrusionBucket",Jl,{omit:["layers","features"]}),Gn("PartMetadata",Xg);var Jg={paint:new an({"fill-extrusion-opacity":new Ke(Ct["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ft(Ct["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ke(Ct["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ke(Ct["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Dt(Ct["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ft(Ct["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ft(Ct["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ke(Ct["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function lp(u,s){return u.x*s.x+u.y*s.y}function fv(u,s){if(1===u.length){let c=0;const p=s[c++];let y;for(;!y||p.equals(y);)if(y=s[c++],!y)return 1/0;for(;c<s.length;c++){const D=s[c],E=u[0],P=y.sub(p),N=D.sub(p),j=E.sub(p),Z=lp(P,P),J=lp(P,N),ee=lp(N,N),me=lp(j,P),Me=lp(j,N),Ye=Z*ee-J*J,nt=(ee*me-J*Me)/Ye,lt=(Z*Me-J*me)/Ye,wt=p.z*(1-nt-lt)+y.z*nt+D.z*lt;if(isFinite(wt))return wt}return 1/0}{let c=1/0;for(const p of s)c=Math.min(c,p.z);return c}}function Kg(u){const s=new W(u[0],u[1]);return s.z=u[2],s}function Px(u,s,c,p,y,D,E,P){const N=E*y.getElevationAt(u,s,!0,!0),j=0!==D[0],Z=j?0===D[1]?E*(D[0]/7-450):E*function(J,ee,me){const Me=Math.floor(ee[0]/8),Ye=Math.floor(ee[1]/8),nt=10*(ee[0]-8*Me),lt=10*(ee[1]-8*Ye),wt=J.getElevationAt(Me,Ye,!0,!0),Tt=J.getMeterToDEM(me),Ot=Math.floor(.5*(nt*Tt-1)),At=Math.floor(.5*(lt*Tt-1)),Nt=J.tileCoordToPixel(Me,Ye),cn=2*Ot+1,en=2*At+1,Nn=(eo=cn,Gr=en,[(zn=J).getElevationAtPixel($n=Nt.x-Ot,Yr=Nt.y-At,!0),zn.getElevationAtPixel($n+Gr,Yr,!0),zn.getElevationAtPixel($n,Yr+Gr,!0),zn.getElevationAtPixel($n+eo,Yr+Gr,!0)]),En=Math.abs(Nn[0]-Nn[1]),dn=Math.abs(Nn[2]-Nn[3]),Dn=Math.abs(Nn[0]-Nn[2])+Math.abs(Nn[1]-Nn[3]),Tn=Math.min(.25,.5*Tt*(En+dn)/cn),gn=Math.min(.25,.5*Tt*Dn/en);var zn,$n,Yr,eo,Gr;return wt+Math.max(Tn*nt,gn*lt)}(y,D,P):N;return{base:N+(0===c)?-1:c,top:j?Math.max(Z+p,N+c+2):N+p}}const pv=Vt([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Ax}=pv,mv=Vt([{name:"a_packed",components:3,type:"Float32"}]),{members:Ox}=mv,Rx=$c.VectorTileFeature.types,Qg=Math.cos(Math.PI/180*37.5);class am{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new Vr,this.layoutVertexArray2=new Hr,this.indexArray=new Io,this.programConfigurations=new of(s.layers,s.zoom),this.segments=new Ua,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,p,y){this.hasPattern=mf("line",this.layers,c);const D=this.layers[0].layout.get("line-sort-key"),E=[];for(const{feature:Z,id:J,index:ee,sourceLayerIndex:me}of s){const Me=this.layers[0]._featureFilter.needGeometry,Ye=Wc(Z,Me);if(!this.layers[0]._featureFilter.filter(new ce(this.zoom),Ye,p))continue;const nt=D?D.evaluate(Ye,{},p):void 0,lt={id:J,properties:Z.properties,type:Z.type,sourceLayerIndex:me,index:ee,geometry:Me?Ye.geometry:td(Z,p,y),patterns:{},sortKey:nt};E.push(lt)}D&&E.sort((Z,J)=>Z.sortKey-J.sortKey);const{lineAtlas:P,featureIndex:N}=c,j=this.addConstantDashes(P);for(const Z of E){const{geometry:J,index:ee,sourceLayerIndex:me}=Z;if(j&&this.addFeatureDashes(Z,P),this.hasPattern){const Me=Wg("line",this.layers,Z,this.zoom,c);this.patternFeatures.push(Me)}else this.addFeature(Z,J,ee,p,P.positions,c.availableImages);N.insert(s[ee].feature,J,ee,me,this.index)}}addConstantDashes(s){let c=!1;for(const p of this.layers){const y=p.paint.get("line-dasharray").value,D=p.layout.get("line-cap").value;if("constant"!==y.kind||"constant"!==D.kind)c=!0;else{const E=D.value,P=y.value;if(!P)continue;s.addDash(P.from,E),s.addDash(P.to,E),P.other&&s.addDash(P.other,E)}}return c}addFeatureDashes(s,c){const p=this.zoom;for(const y of this.layers){const D=y.paint.get("line-dasharray").value,E=y.layout.get("line-cap").value;if("constant"===D.kind&&"constant"===E.kind)continue;let P,N,j,Z,J,ee;if("constant"===D.kind){const nt=D.value;if(!nt)continue;P=nt.other||nt.to,N=nt.to,j=nt.from}else P=D.evaluate({zoom:p-1},s),N=D.evaluate({zoom:p},s),j=D.evaluate({zoom:p+1},s);"constant"===E.kind?Z=J=ee=E.value:(Z=E.evaluate({zoom:p-1},s),J=E.evaluate({zoom:p},s),ee=E.evaluate({zoom:p+1},s)),c.addDash(P,Z),c.addDash(N,J),c.addDash(j,ee);const me=c.getKey(P,Z),Me=c.getKey(N,J),Ye=c.getKey(j,ee);s.patterns[y.id]={min:me,mid:Me,max:Ye}}}update(s,c,p,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,p,y)}addFeatures(s,c,p,y){for(const D of this.patternFeatures)this.addFeature(D,D.geometry,D.index,c,p,y)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,Ox)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Ax),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&s.properties.hasOwnProperty("mapbox_clip_start")&&s.properties.hasOwnProperty("mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,c,p,y,D,E){const P=this.layers[0].layout,N=P.get("line-join").evaluate(s,{}),j=P.get("line-cap").evaluate(s,{}),Z=P.get("line-miter-limit"),J=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(const ee of c)this.addLine(ee,s,N,j,Z,J);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,p,D,E,y)}addLine(s,c,p,y,D,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let lt=0;lt<s.length-1;lt++)this.totalDistance+=s[lt].dist(s[lt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const P="Polygon"===Rx[c.type];let N=s.length;for(;N>=2&&s[N-1].equals(s[N-2]);)N--;let j=0;for(;j<N-1&&s[j].equals(s[j+1]);)j++;if(N<(P?3:2))return;"bevel"===p&&(D=1.05);const Z=this.overscaling<=16?122880/(512*this.overscaling):0,J=this.segments.prepareSegment(10*N,this.layoutVertexArray,this.indexArray);let ee,me,Me,Ye,nt;this.e1=this.e2=-1,P&&(ee=s[N-2],nt=s[j].sub(ee)._unit()._perp());for(let lt=j;lt<N;lt++){if(Me=lt===N-1?P?s[j+1]:void 0:s[lt+1],Me&&s[lt].equals(Me))continue;nt&&(Ye=nt),ee&&(me=ee),ee=s[lt],nt=Me?Me.sub(ee)._unit()._perp():Ye,Ye=Ye||nt;let wt=Ye.add(nt);0===wt.x&&0===wt.y||wt._unit();const Tt=Ye.x*nt.x+Ye.y*nt.y,Ot=wt.x*nt.x+wt.y*nt.y,At=0!==Ot?1/Ot:1/0,Nt=2*Math.sqrt(2-2*Ot),cn=Ot<Qg&&me&&Me,en=Ye.x*nt.y-Ye.y*nt.x>0;if(cn&&lt>j){const dn=ee.dist(me);if(dn>2*Z){const Dn=ee.sub(ee.sub(me)._mult(Z/dn)._round());this.updateDistance(me,Dn),this.addCurrentVertex(Dn,Ye,0,0,J),me=Dn}}const Nn=me&&Me;let En=Nn?p:P?"butt":y;if(Nn&&"round"===En&&(At<E?En="miter":At<=2&&(En="fakeround")),"miter"===En&&At>D&&(En="bevel"),"bevel"===En&&(At>2&&(En="flipbevel"),At<D&&(En="miter")),me&&this.updateDistance(me,ee),"miter"===En)wt._mult(At),this.addCurrentVertex(ee,wt,0,0,J);else if("flipbevel"===En){if(At>100)wt=nt.mult(-1);else{const dn=At*Ye.add(nt).mag()/Ye.sub(nt).mag();wt._perp()._mult(dn*(en?-1:1))}this.addCurrentVertex(ee,wt,0,0,J),this.addCurrentVertex(ee,wt.mult(-1),0,0,J)}else if("bevel"===En||"fakeround"===En){const dn=-Math.sqrt(At*At-1),Dn=en?dn:0,Tn=en?0:dn;if(me&&this.addCurrentVertex(ee,Ye,Dn,Tn,J),"fakeround"===En){const gn=Math.round(180*Nt/Math.PI/20);for(let zn=1;zn<gn;zn++){let $n=zn/gn;if(.5!==$n){const eo=$n-.5;$n+=$n*eo*($n-1)*((1.0904+Tt*(Tt*(3.55645-1.43519*Tt)-3.2452))*eo*eo+(.848013+Tt*(.215638*Tt-1.06021)))}const Yr=nt.sub(Ye)._mult($n)._add(Ye)._unit()._mult(en?-1:1);this.addHalfVertex(ee,Yr.x,Yr.y,!1,en,0,J)}}Me&&this.addCurrentVertex(ee,nt,-Dn,-Tn,J)}else if("butt"===En)this.addCurrentVertex(ee,wt,0,0,J);else if("square"===En){const dn=me?1:-1;me||this.addCurrentVertex(ee,wt,dn,dn,J),this.addCurrentVertex(ee,wt,0,0,J),me&&this.addCurrentVertex(ee,wt,dn,dn,J)}else"round"===En&&(me&&(this.addCurrentVertex(ee,Ye,0,0,J),this.addCurrentVertex(ee,Ye,1,1,J,!0)),Me&&(this.addCurrentVertex(ee,nt,-1,-1,J,!0),this.addCurrentVertex(ee,nt,0,0,J)));if(cn&&lt<N-1){const dn=ee.dist(Me);if(dn>2*Z){const Dn=ee.add(Me.sub(ee)._mult(Z/dn)._round());this.updateDistance(ee,Dn),this.addCurrentVertex(Dn,nt,0,0,J),ee=Dn}}}}addCurrentVertex(s,c,p,y,D,E=!1){const P=c.y*y-c.x,N=-c.y-c.x*y;this.addHalfVertex(s,c.x+c.y*p,c.y-c.x*p,E,!1,p,D),this.addHalfVertex(s,P,N,E,!0,-y,D)}addHalfVertex({x:s,y:c},p,y,D,E,P,N){this.layoutVertexArray.emplaceBack((s<<1)+(D?1:0),(c<<1)+(E?1:0),Math.round(63*p)+128,Math.round(63*y)+128,1+(0===P?0:P<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineSoFar);const j=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,j),N.primitiveLength++),E?this.e2=j:this.e1=j}updateScaledDistance(){if(this.lineClips){const s=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=s*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(s,c){this.distance+=s.dist(c),this.updateScaledDistance()}}Gn("LineBucket",am,{omit:["layers","patternFeatures"]});const Nx=new an({"line-cap":new ft(Ct.layout_line["line-cap"]),"line-join":new ft(Ct.layout_line["line-join"]),"line-miter-limit":new Ke(Ct.layout_line["line-miter-limit"]),"line-round-limit":new Ke(Ct.layout_line["line-round-limit"]),"line-sort-key":new ft(Ct.layout_line["line-sort-key"])});var lm={paint:new an({"line-opacity":new ft(Ct.paint_line["line-opacity"]),"line-color":new ft(Ct.paint_line["line-color"]),"line-translate":new Ke(Ct.paint_line["line-translate"]),"line-translate-anchor":new Ke(Ct.paint_line["line-translate-anchor"]),"line-width":new ft(Ct.paint_line["line-width"]),"line-gap-width":new ft(Ct.paint_line["line-gap-width"]),"line-offset":new ft(Ct.paint_line["line-offset"]),"line-blur":new ft(Ct.paint_line["line-blur"]),"line-dasharray":new Dt(Ct.paint_line["line-dasharray"]),"line-pattern":new Dt(Ct.paint_line["line-pattern"]),"line-gradient":new Zt(Ct.paint_line["line-gradient"])}),layout:Nx};const gv=new class extends ft{possiblyEvaluate(u,s){return s=new ce(Math.floor(s.zoom),{now:s.now,fadeDuration:s.fadeDuration,zoomHistory:s.zoomHistory,transition:s.transition}),super.possiblyEvaluate(u,s)}evaluate(u,s,c,p){return s=ae({},s,{zoom:Math.floor(s.zoom)}),super.evaluate(u,s,c,p)}}(lm.paint.properties["line-width"].specification);function _v(u,s){return s>0?s+2*u:u}gv.useIntegerZoom=!0;const vf=Vt([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"},{name:"a_z_tile_anchor",components:4,type:"Int16"}],4),Fx=Vt([{name:"a_projected_pos",components:3,type:"Float32"}],4);Vt([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Yx=Vt([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),zx=Vt([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Vt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const yv=Vt([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Bx=Vt([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Vt([{name:"triangle",components:3,type:"Uint16"}]),Vt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Vt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Vt([{type:"Float32",name:"offsetX"}]),Vt([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const gh=128;function e_(u,s){const{expression:c}=s;if("constant"===c.kind)return{kind:"constant",layoutSize:c.evaluate(new ce(u+1))};if("source"===c.kind)return{kind:"source"};{const{zoomStops:p,interpolationType:y}=c;let D=0;for(;D<p.length&&p[D]<=u;)D++;D=Math.max(0,D-1);let E=D;for(;E<p.length&&p[E]<u+1;)E++;E=Math.min(p.length-1,E);const P=p[D],N=p[E];return"composite"===c.kind?{kind:"composite",minZoom:P,maxZoom:N,interpolationType:y}:{kind:"camera",minZoom:P,maxZoom:N,minSize:c.evaluate(new ce(P)),maxSize:c.evaluate(new ce(N)),interpolationType:y}}}function um(u,{uSize:s,uSizeT:c},{lowerSize:p,upperSize:y}){return"source"===u.kind?p/gh:"composite"===u.kind?kr(p/gh,y/gh,c):s}function xf(u,s){let c=0,p=0;if("constant"===u.kind)p=u.layoutSize;else if("source"!==u.kind){const{interpolationType:y,minZoom:D,maxZoom:E}=u,P=y?ne(wa.interpolationFactor(y,s,D,E),0,1):0;"camera"===u.kind?p=kr(u.minSize,u.maxSize,P):c=P}return{uSizeT:c,uSize:p}}var vv=Object.freeze({__proto__:null,getSizeData:e_,evaluateSizeForFeature:um,evaluateSizeForZoom:xf,SIZE_PACK_FACTOR:gh});function jx(u,s,c){return u.sections.forEach(p=>{p.text=function(y,D,E){const P=D.layout.get("text-transform").evaluate(E,{});return"uppercase"===P?y=y.toLocaleUpperCase():"lowercase"===P&&(y=y.toLocaleLowerCase()),le.applyArabicShaping&&(y=le.applyArabicShaping(y)),y}(p.text,s,c)}),u}const wf={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Vx(u){return"\ufe36"===u||"\ufe48"===u||"\ufe38"===u||"\ufe44"===u||"\ufe42"===u||"\ufe3e"===u||"\ufe3c"===u||"\ufe3a"===u||"\ufe18"===u||"\ufe40"===u||"\ufe10"===u||"\ufe13"===u||"\ufe14"===u||"\uff40"===u||"\uffe3"===u||"\ufe11"===u||"\ufe12"===u}function bf(u){return"\ufe35"===u||"\ufe47"===u||"\ufe37"===u||"\ufe43"===u||"\ufe41"===u||"\ufe3d"===u||"\ufe3b"===u||"\ufe39"===u||"\ufe17"===u||"\ufe3f"===u}var Zc=function(u,s,c,p,y){var D,E,P=8*y-p-1,N=(1<<P)-1,j=N>>1,Z=-7,J=c?y-1:0,ee=c?-1:1,me=u[s+J];for(J+=ee,D=me&(1<<-Z)-1,me>>=-Z,Z+=P;Z>0;D=256*D+u[s+J],J+=ee,Z-=8);for(E=D&(1<<-Z)-1,D>>=-Z,Z+=p;Z>0;E=256*E+u[s+J],J+=ee,Z-=8);if(0===D)D=1-j;else{if(D===N)return E?NaN:1/0*(me?-1:1);E+=Math.pow(2,p),D-=j}return(me?-1:1)*E*Math.pow(2,D-p)},Ux=function(u,s,c,p,y,D){var E,P,N,j=8*D-y-1,Z=(1<<j)-1,J=Z>>1,ee=23===y?Math.pow(2,-24)-Math.pow(2,-77):0,me=p?0:D-1,Me=p?1:-1,Ye=s<0||0===s&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(P=isNaN(s)?1:0,E=Z):(E=Math.floor(Math.log(s)/Math.LN2),s*(N=Math.pow(2,-E))<1&&(E--,N*=2),(s+=E+J>=1?ee/N:ee*Math.pow(2,1-J))*N>=2&&(E++,N/=2),E+J>=Z?(P=0,E=Z):E+J>=1?(P=(s*N-1)*Math.pow(2,y),E+=J):(P=s*Math.pow(2,J-1)*Math.pow(2,y),E=0));y>=8;u[c+me]=255&P,me+=Me,P/=256,y-=8);for(E=E<<y|P,j+=y;j>0;u[c+me]=255&E,me+=Me,E/=256,j-=8);u[c+me-Me]|=128*Ye},cm=oo;function oo(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}oo.Varint=0,oo.Fixed64=1,oo.Bytes=2,oo.Fixed32=5;var xv=4294967296,Ku=1/xv,hm="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Xc(u){return u.type===oo.Bytes?u.readVarint()+u.pos:u.pos+1}function t_(u,s,c){var p=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));c.realloc(p);for(var y=c.pos-1;y>=u;y--)c.buf[y+p]=c.buf[y]}function up(u,s){for(var c=0;c<u.length;c++)s.writeVarint(u[c])}function wv(u,s){for(var c=0;c<u.length;c++)s.writeSVarint(u[c])}function bv(u,s){for(var c=0;c<u.length;c++)s.writeFloat(u[c])}function n_(u,s){for(var c=0;c<u.length;c++)s.writeDouble(u[c])}function r_(u,s){for(var c=0;c<u.length;c++)s.writeBoolean(u[c])}function Mv(u,s){for(var c=0;c<u.length;c++)s.writeFixed32(u[c])}function KD(u,s){for(var c=0;c<u.length;c++)s.writeSFixed32(u[c])}function Df(u,s){for(var c=0;c<u.length;c++)s.writeFixed64(u[c])}function i_(u,s){for(var c=0;c<u.length;c++)s.writeSFixed64(u[c])}function cp(u,s){return(u[s]|u[s+1]<<8|u[s+2]<<16)+16777216*u[s+3]}function Ef(u,s,c){u[c]=s,u[c+1]=s>>>8,u[c+2]=s>>>16,u[c+3]=s>>>24}function dm(u,s){return(u[s]|u[s+1]<<8|u[s+2]<<16)+(u[s+3]<<24)}function Hx(u,s,c){s.glyphs=[],1===u&&c.readMessage(Gx,s)}function Gx(u,s,c){if(3===u){const{id:p,bitmap:y,width:D,height:E,left:P,top:N,advance:j}=c.readMessage(qx,{});s.glyphs.push({id:p,bitmap:new nd({width:D+6,height:E+6},y),metrics:{width:D,height:E,left:P,top:N,advance:j}})}else 4===u?s.ascender=c.readSVarint():5===u&&(s.descender=c.readSVarint())}function qx(u,s,c){1===u?s.id=c.readVarint():2===u?s.bitmap=c.readBytes():3===u?s.width=c.readVarint():4===u?s.height=c.readVarint():5===u?s.left=c.readSVarint():6===u?s.top=c.readSVarint():7===u&&(s.advance=c.readVarint())}function s_(u){let s=0,c=0;for(const E of u)s+=E.w*E.h,c=Math.max(c,E.w);u.sort((E,P)=>P.h-E.h);const p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),c),h:1/0}];let y=0,D=0;for(const E of u)for(let P=p.length-1;P>=0;P--){const N=p[P];if(!(E.w>N.w||E.h>N.h)){if(E.x=N.x,E.y=N.y,D=Math.max(D,E.y+E.h),y=Math.max(y,E.x+E.w),E.w===N.w&&E.h===N.h){const j=p.pop();P<p.length&&(p[P]=j)}else E.h===N.h?(N.x+=E.w,N.w-=E.w):E.w===N.w?(N.y+=E.h,N.h-=E.h):(p.push({x:N.x+E.w,y:N.y,w:N.w-E.w,h:E.h}),N.y+=E.h,N.h-=E.h);break}}return{w:y,h:D,fill:s/(y*D)||0}}oo.prototype={destroy:function(){this.buf=null},readFields:function(u,s,c){for(c=c||this.length;this.pos<c;){var p=this.readVarint(),y=p>>3,D=this.pos;this.type=7&p,u(y,s,this),this.pos===D&&this.skip(p)}return s},readMessage:function(u,s){return this.readFields(u,s,this.readVarint()+this.pos)},readFixed32:function(){var u=cp(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=dm(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=cp(this.buf,this.pos)+cp(this.buf,this.pos+4)*xv;return this.pos+=8,u},readSFixed64:function(){var u=cp(this.buf,this.pos)+dm(this.buf,this.pos+4)*xv;return this.pos+=8,u},readFloat:function(){var u=Zc(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=Zc(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var s,c,p=this.buf;return s=127&(c=p[this.pos++]),c<128?s:(s|=(127&(c=p[this.pos++]))<<7,c<128?s:(s|=(127&(c=p[this.pos++]))<<14,c<128?s:(s|=(127&(c=p[this.pos++]))<<21,c<128?s:function(y,D,E){var P,N,j=E.buf;if(P=(112&(N=j[E.pos++]))>>4,N<128||(P|=(127&(N=j[E.pos++]))<<3,N<128)||(P|=(127&(N=j[E.pos++]))<<10,N<128)||(P|=(127&(N=j[E.pos++]))<<17,N<128)||(P|=(127&(N=j[E.pos++]))<<24,N<128)||(P|=(1&(N=j[E.pos++]))<<31,N<128))return function Mf(u,s,c){return c?4294967296*s+(u>>>0):4294967296*(s>>>0)+(u>>>0)}(y,P,D);throw new Error("Expected varint not more than 10 bytes")}(s|=(15&(c=p[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var u=this.readVarint()+this.pos,s=this.pos;return this.pos=u,u-s>=12&&hm?hm.decode(this.buf.subarray(s,u)):function(c,p,y){for(var D="",E=p;E<y;){var P,N,j,Z=c[E],J=null,ee=Z>239?4:Z>223?3:Z>191?2:1;if(E+ee>y)break;1===ee?Z<128&&(J=Z):2===ee?128==(192&(P=c[E+1]))&&(J=(31&Z)<<6|63&P)<=127&&(J=null):3===ee?(N=c[E+2],128==(192&(P=c[E+1]))&&128==(192&N)&&((J=(15&Z)<<12|(63&P)<<6|63&N)<=2047||J>=55296&&J<=57343)&&(J=null)):4===ee&&(N=c[E+2],j=c[E+3],128==(192&(P=c[E+1]))&&128==(192&N)&&128==(192&j)&&((J=(15&Z)<<18|(63&P)<<12|(63&N)<<6|63&j)<=65535||J>=1114112)&&(J=null)),null===J?(J=65533,ee=1):J>65535&&(J-=65536,D+=String.fromCharCode(J>>>10&1023|55296),J=56320|1023&J),D+=String.fromCharCode(J),E+=ee}return D}(this.buf,s,u)},readBytes:function(){var u=this.readVarint()+this.pos,s=this.buf.subarray(this.pos,u);return this.pos=u,s},readPackedVarint:function(u,s){if(this.type!==oo.Bytes)return u.push(this.readVarint(s));var c=Xc(this);for(u=u||[];this.pos<c;)u.push(this.readVarint(s));return u},readPackedSVarint:function(u){if(this.type!==oo.Bytes)return u.push(this.readSVarint());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==oo.Bytes)return u.push(this.readBoolean());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==oo.Bytes)return u.push(this.readFloat());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==oo.Bytes)return u.push(this.readDouble());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==oo.Bytes)return u.push(this.readFixed32());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==oo.Bytes)return u.push(this.readSFixed32());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==oo.Bytes)return u.push(this.readFixed64());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==oo.Bytes)return u.push(this.readSFixed64());var s=Xc(this);for(u=u||[];this.pos<s;)u.push(this.readSFixed64());return u},skip:function(u){var s=7&u;if(s===oo.Varint)for(;this.buf[this.pos++]>127;);else if(s===oo.Bytes)this.pos=this.readVarint()+this.pos;else if(s===oo.Fixed32)this.pos+=4;else{if(s!==oo.Fixed64)throw new Error("Unimplemented type: "+s);this.pos+=8}},writeTag:function(u,s){this.writeVarint(u<<3|s)},realloc:function(u){for(var s=this.length||16;s<this.pos+u;)s*=2;if(s!==this.length){var c=new Uint8Array(s);c.set(this.buf),this.buf=c,this.length=s}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),Ef(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),Ef(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),Ef(this.buf,-1&u,this.pos),Ef(this.buf,Math.floor(u*Ku),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),Ef(this.buf,-1&u,this.pos),Ef(this.buf,Math.floor(u*Ku),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(s,c){var p,y,D,P;if(s>=0?(p=s%4294967296|0,y=s/4294967296|0):(y=~(-s/4294967296),4294967295^(p=~(-s%4294967296))?p=p+1|0:(p=0,y=y+1|0)),s>=0x10000000000000000||s<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),D=p,(P=c).buf[P.pos++]=127&D|128,D>>>=7,P.buf[P.pos++]=127&D|128,D>>>=7,P.buf[P.pos++]=127&D|128,D>>>=7,P.buf[P.pos++]=127&D|128,P.buf[P.pos]=127&(D>>>=7),function(D,E){var P=(7&D)<<4;E.buf[E.pos++]|=P|((D>>>=3)?128:0),D&&(E.buf[E.pos++]=127&D|((D>>>=7)?128:0),D&&(E.buf[E.pos++]=127&D|((D>>>=7)?128:0),D&&(E.buf[E.pos++]=127&D|((D>>>=7)?128:0),D&&(E.buf[E.pos++]=127&D|((D>>>=7)?128:0),D&&(E.buf[E.pos++]=127&D)))))}(y,c)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(Boolean(u))},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var s=this.pos;this.pos=function(p,y,D){for(var E,P,N=0;N<y.length;N++){if((E=y.charCodeAt(N))>55295&&E<57344){if(!P){E>56319||N+1===y.length?(p[D++]=239,p[D++]=191,p[D++]=189):P=E;continue}if(E<56320){p[D++]=239,p[D++]=191,p[D++]=189,P=E;continue}E=P-55296<<10|E-56320|65536,P=null}else P&&(p[D++]=239,p[D++]=191,p[D++]=189,P=null);E<128?p[D++]=E:(E<2048?p[D++]=E>>6|192:(E<65536?p[D++]=E>>12|224:(p[D++]=E>>18|240,p[D++]=E>>12&63|128),p[D++]=E>>6&63|128),p[D++]=63&E|128)}return D}(this.buf,u,this.pos);var c=this.pos-s;c>=128&&t_(s,c,this),this.pos=s-1,this.writeVarint(c),this.pos+=c},writeFloat:function(u){this.realloc(4),Ux(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Ux(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var s=u.length;this.writeVarint(s),this.realloc(s);for(var c=0;c<s;c++)this.buf[this.pos++]=u[c]},writeRawMessage:function(u,s){this.pos++;var c=this.pos;u(s,this);var p=this.pos-c;p>=128&&t_(c,p,this),this.pos=c-1,this.writeVarint(p),this.pos+=p},writeMessage:function(u,s,c){this.writeTag(u,oo.Bytes),this.writeRawMessage(s,c)},writePackedVarint:function(u,s){s.length&&this.writeMessage(u,up,s)},writePackedSVarint:function(u,s){s.length&&this.writeMessage(u,wv,s)},writePackedBoolean:function(u,s){s.length&&this.writeMessage(u,r_,s)},writePackedFloat:function(u,s){s.length&&this.writeMessage(u,bv,s)},writePackedDouble:function(u,s){s.length&&this.writeMessage(u,n_,s)},writePackedFixed32:function(u,s){s.length&&this.writeMessage(u,Mv,s)},writePackedSFixed32:function(u,s){s.length&&this.writeMessage(u,KD,s)},writePackedFixed64:function(u,s){s.length&&this.writeMessage(u,Df,s)},writePackedSFixed64:function(u,s){s.length&&this.writeMessage(u,i_,s)},writeBytesField:function(u,s){this.writeTag(u,oo.Bytes),this.writeBytes(s)},writeFixed32Field:function(u,s){this.writeTag(u,oo.Fixed32),this.writeFixed32(s)},writeSFixed32Field:function(u,s){this.writeTag(u,oo.Fixed32),this.writeSFixed32(s)},writeFixed64Field:function(u,s){this.writeTag(u,oo.Fixed64),this.writeFixed64(s)},writeSFixed64Field:function(u,s){this.writeTag(u,oo.Fixed64),this.writeSFixed64(s)},writeVarintField:function(u,s){this.writeTag(u,oo.Varint),this.writeVarint(s)},writeSVarintField:function(u,s){this.writeTag(u,oo.Varint),this.writeSVarint(s)},writeStringField:function(u,s){this.writeTag(u,oo.Bytes),this.writeString(s)},writeFloatField:function(u,s){this.writeTag(u,oo.Fixed32),this.writeFloat(s)},writeDoubleField:function(u,s){this.writeTag(u,oo.Fixed64),this.writeDouble(s)},writeBooleanField:function(u,s){this.writeVarintField(u,Boolean(s))}};class o_{constructor(s,{pixelRatio:c,version:p,stretchX:y,stretchY:D,content:E}){this.paddedRect=s,this.pixelRatio=c,this.stretchX=y,this.stretchY=D,this.content=E,this.version=p}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Dv{constructor(s,c){const p={},y={};this.haveRenderCallbacks=[];const D=[];this.addImages(s,p,D),this.addImages(c,y,D);const{w:E,h:P}=s_(D),N=new yc({width:E||1,height:P||1});for(const j in s){const Z=s[j],J=p[j].paddedRect;yc.copy(Z.data,N,{x:0,y:0},{x:J.x+1,y:J.y+1},Z.data)}for(const j in c){const Z=c[j],J=y[j].paddedRect,ee=J.x+1,me=J.y+1,Me=Z.data.width,Ye=Z.data.height;yc.copy(Z.data,N,{x:0,y:0},{x:ee,y:me},Z.data),yc.copy(Z.data,N,{x:0,y:Ye-1},{x:ee,y:me-1},{width:Me,height:1}),yc.copy(Z.data,N,{x:0,y:0},{x:ee,y:me+Ye},{width:Me,height:1}),yc.copy(Z.data,N,{x:Me-1,y:0},{x:ee-1,y:me},{width:1,height:Ye}),yc.copy(Z.data,N,{x:0,y:0},{x:ee+Me,y:me},{width:1,height:Ye})}this.image=N,this.iconPositions=p,this.patternPositions=y}addImages(s,c,p){for(const y in s){const D=s[y],E={x:0,y:0,w:D.data.width+2,h:D.data.height+2};p.push(E),c[y]=new o_(E,D),D.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(s,c){s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const p in s.updatedImages)this.patchUpdatedImage(this.iconPositions[p],s.getImage(p),c),this.patchUpdatedImage(this.patternPositions[p],s.getImage(p),c)}patchUpdatedImage(s,c,p){if(!s||!c||s.version===c.version)return;s.version=c.version;const[y,D]=s.tl;p.update(c.data,void 0,{x:y,y:D})}}Gn("ImagePosition",o_),Gn("ImageAtlas",Dv);const Qu={horizontal:1,vertical:2,horizontalOnly:3};class zd{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(s,c){const p=new zd;return p.scale=s||1,p.fontStack=c,p}static forImage(s){const c=new zd;return c.imageName=s,c}}class Bd{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,c){const p=new Bd;for(let y=0;y<s.sections.length;y++){const D=s.sections[y];D.image?p.addImageSection(D):p.addTextSection(D,c)}return p}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSections(){return this.sections}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(s){this.text=function(c,p){let y="";for(let D=0;D<c.length;D++){const E=c.charCodeAt(D+1)||null,P=c.charCodeAt(D-1)||null;y+=!p&&(E&&so(E)&&!wf[c[D+1]]||P&&so(P)&&!wf[c[D-1]])||!wf[c[D]]?c[D]:wf[c[D]]}return y}(this.text,s)}trim(){let s=0;for(let p=0;p<this.text.length&&fm[this.text.charCodeAt(p)];p++)s++;let c=this.text.length;for(let p=this.text.length-1;p>=0&&p>=s&&fm[this.text.charCodeAt(p)];p--)c--;this.text=this.text.substring(s,c),this.sectionIndex=this.sectionIndex.slice(s,c)}substring(s,c){const p=new Bd;return p.text=this.text.substring(s,c),p.sectionIndex=this.sectionIndex.slice(s,c),p.sections=this.sections,p}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,c)=>Math.max(s,this.sections[c].scale),0)}addTextSection(s,c){this.text+=s.text,this.sections.push(zd.forText(s.scale,s.fontStack||c));const p=this.sections.length-1;for(let y=0;y<s.text.length;++y)this.sectionIndex.push(p)}addImageSection(s){const c=s.image?s.image.name:"";if(0===c.length)return void Re("Can't add FormattedSection with an empty image.");const p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCharCode(p),this.sections.push(zd.forImage(c)),this.sectionIndex.push(this.sections.length-1)):Re("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function hp(u,s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye){const nt=Bd.fromFeature(u,y);let lt;J===Qu.vertical&&nt.verticalizePunctuation(ee);const{processBidirectionalText:wt,processStyledBidirectionalText:Tt}=le;if(wt&&1===nt.sections.length){lt=[];const Nt=wt(nt.toString(),h_(nt,j,D,s,p,me,Me));for(const cn of Nt){const en=new Bd;en.text=cn,en.sections=nt.sections;for(let Nn=0;Nn<cn.length;Nn++)en.sectionIndex.push(0);lt.push(en)}}else if(Tt){lt=[];const Nt=Tt(nt.text,nt.sectionIndex,h_(nt,j,D,s,p,me,Me));for(const cn of Nt){const en=new Bd;en.text=cn[0],en.sectionIndex=cn[1],en.sections=nt.sections,lt.push(en)}}else lt=function(Nt,cn){const en=[],Nn=Nt.text;let En=0;for(const dn of cn)en.push(Nt.substring(En,dn)),En=dn;return En<Nn.length&&en.push(Nt.substring(En,Nn.length)),en}(nt,h_(nt,j,D,s,p,me,Me));const Ot=[],At={positionedLines:Ot,text:nt.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:J,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Nt,cn,en,Nn,En,dn,Dn,Tn,gn,zn,$n,Yr){let eo=0,Gr=0,Hs=0;const Bn="right"===Tn?1:"left"===Tn?0:.5;let ao=!1;for(const to of En){const As=to.getSections();for(const Ro of As){if(Ro.imageName)continue;const Kl=cn[Ro.fontStack];if(Kl&&(ao=void 0!==Kl.ascender&&void 0!==Kl.descender,!ao))break}if(!ao)break}let ns=0;for(const to of En){to.trim();const As=to.getMaxScale(),Ro=24*(As-1),Kl={positionedGlyphs:[],lineOffset:0};Nt.positionedLines[ns]=Kl;const ka=Kl.positionedGlyphs;let Dl=0;if(!to.length()){Gr+=dn,++ns;continue}let Ql=0,sa=0;for(let po=0;po<to.length();po++){const Ka=to.getSection(po),Qa=to.getSectionIndex(po),No=to.getCharCode(po);let Ia=Ka.scale,dl=null,wo=null,yu=null,Xo=24,$u=0;const wc=!(gn===Qu.horizontal||!$n&&!Mi(No)||$n&&(fm[No]||(La=No,Za(La)||gc(La)||ju(La)||ye(La)||Gt(La))));if(Ka.imageName){const nc=Nn[Ka.imageName];if(!nc)continue;yu=Ka.imageName,Nt.iconsInText=Nt.iconsInText||!0,wo=nc.paddedRect;const eu=nc.displaySize;Ia=24*Ia/Yr,dl={width:eu[0],height:eu[1],left:1,top:-3,advance:wc?eu[1]:eu[0],localGlyph:!1},$u=ao?-dl.height*Ia:24*As-17-eu[1]*Ia,Xo=dl.advance;const xh=(wc?eu[0]:eu[1])*Ia-24*As;xh>0&&xh>Dl&&(Dl=xh)}else{const nc=en[Ka.fontStack];if(!nc)continue;nc[No]&&(wo=nc[No]);const eu=cn[Ka.fontStack];if(!eu)continue;const xh=eu.glyphs[No];if(!xh)continue;if(dl=xh.metrics,Xo=8203!==No?24:0,ao){const If=void 0!==eu.ascender?Math.abs(eu.ascender):0,Pf=void 0!==eu.descender?Math.abs(eu.descender):0,Af=(If+Pf)*Ia;Ql<Af&&(Ql=Af,sa=(If-Pf)/2*Ia),$u=-If*Ia}else $u=24*(As-Ia)-17}wc?(Nt.verticalizable=!0,ka.push({glyph:No,imageName:yu,x:eo,y:Gr+$u,vertical:wc,scale:Ia,localGlyph:dl.localGlyph,fontStack:Ka.fontStack,sectionIndex:Qa,metrics:dl,rect:wo}),eo+=Xo*Ia+zn):(ka.push({glyph:No,imageName:yu,x:eo,y:Gr+$u,vertical:wc,scale:Ia,localGlyph:dl.localGlyph,fontStack:Ka.fontStack,sectionIndex:Qa,metrics:dl,rect:wo}),eo+=dl.advance*Ia+zn)}0!==ka.length&&(Hs=Math.max(eo-zn,Hs),ao?Ev(ka,Bn,Dl,sa,dn*As/2):Ev(ka,Bn,Dl,0,dn/2)),eo=0;const El=dn*As+Dl;Kl.lineOffset=Math.max(Dl,Ro),Gr+=El,++ns}var La;const ia=Gr,{horizontalAlign:cl,verticalAlign:hl}=Cf(Dn);(function(to,As,Ro,Kl,ka,Dl){const Ql=(As-Ro)*ka,sa=-Dl*Kl;for(const El of to)for(const po of El.positionedGlyphs)po.x+=Ql,po.y+=sa})(Nt.positionedLines,Bn,cl,hl,Hs,ia),Nt.top+=-hl*ia,Nt.bottom=Nt.top+ia,Nt.left+=-cl*Hs,Nt.right=Nt.left+Hs,Nt.hasBaseline=ao}(At,s,c,p,lt,E,P,N,J,j,ee,Ye),!function(Nt){for(const cn of Nt)if(0!==cn.positionedGlyphs.length)return!1;return!0}(Ot)&&At}const fm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Wx={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function a_(u,s,c,p,y,D){if(s.imageName){const E=p[s.imageName];return E?E.displaySize[0]*s.scale*24/D+y:0}{const E=c[s.fontStack],P=E&&E.glyphs[u];return P?P.metrics.advance*s.scale+y:0}}function l_(u,s,c,p){const y=Math.pow(u-s,2);return p?u<s?y/2:2*y:y+Math.abs(c)*c}function jd(u,s,c){let p=0;return 10===u&&(p-=1e4),c&&(p+=150),40!==u&&65288!==u||(p+=50),41!==s&&65289!==s||(p+=50),p}function u_(u,s,c,p,y,D){let E=null,P=l_(s,c,y,D);for(const N of p){const j=l_(s-N.x,c,y,D)+N.badness;j<=P&&(E=N,P=j)}return{index:u,x:s,priorBreak:E,badness:P}}function c_(u){return u?c_(u.priorBreak).concat(u.index):[]}function h_(u,s,c,p,y,D,E){if("point"!==D)return[];if(!u)return[];const P=[],N=function(ee,me,Me,Ye,nt,lt){let wt=0;for(let Tt=0;Tt<ee.length();Tt++){const Ot=ee.getSection(Tt);wt+=a_(ee.getCharCode(Tt),Ot,Ye,nt,me,lt)}return wt/Math.max(1,Math.ceil(wt/Me))}(u,s,c,p,y,E),j=u.text.indexOf("\u200b")>=0;let Z=0;for(let ee=0;ee<u.length();ee++){const me=u.getSection(ee),Me=u.getCharCode(ee);if(fm[Me]||(Z+=a_(Me,me,p,y,s,E)),ee<u.length()-1){const Ye=!((J=Me)<11904||!(Xa(J)||hh(J)||vt(J)||X(J)||a(J)||Pr(J)||un(J)||Vu(J)||h(J)||g(J)||gi(J)||Ln(J)||Al(J)||Lu(J)||Ar(J)||ki(J)||ma(J)||Ue(J)||C(J)||v(J)));(Wx[Me]||Ye||me.imageName)&&P.push(u_(ee+1,Z,N,P,jd(Me,u.getCharCode(ee+1),Ye&&j),!1))}}var J;return c_(u_(u.length(),Z,N,P,0,!0))}function Cf(u){let s=.5,c=.5;switch(u){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:s,verticalAlign:c}}function Ev(u,s,c,p,y){if(!(s||c||p||y))return;const D=u.length-1,E=u[D],P=(E.x+E.metrics.advance*E.scale)*s;for(let N=0;N<=D;N++)u[N].x-=P,u[N].y+=c+p+y}function Cv(u,s,c){const{horizontalAlign:p,verticalAlign:y}=Cf(c),D=s[0]-u.displaySize[0]*p,E=s[1]-u.displaySize[1]*y;return{image:u,top:E,bottom:E+u.displaySize[1],left:D,right:D+u.displaySize[0]}}function d_(u,s,c,p,y,D){const E=u.image;let P;if(E.content){const nt=E.content,lt=E.pixelRatio||1;P=[nt[0]/lt,nt[1]/lt,E.displaySize[0]-nt[2]/lt,E.displaySize[1]-nt[3]/lt]}const N=s.left*D,j=s.right*D;let Z,J,ee,me;"width"===c||"both"===c?(me=y[0]+N-p[3],J=y[0]+j+p[1]):(me=y[0]+(N+j-E.displaySize[0])/2,J=me+E.displaySize[0]);const Me=s.top*D,Ye=s.bottom*D;return"height"===c||"both"===c?(Z=y[1]+Me-p[0],ee=y[1]+Ye+p[2]):(Z=y[1]+(Me+Ye-E.displaySize[1])/2,ee=Z+E.displaySize[1]),{image:E,top:Z,right:J,bottom:ee,left:me,collisionPadding:P}}class Ah extends W{constructor(s,c,p,y,D){super(s,c),this.angle=y,this.z=p,void 0!==D&&(this.segment=D)}clone(){return new Ah(this.x,this.y,this.z,this.angle,this.segment)}}function pm(u,s,c,p,y){if(void 0===s.segment)return!0;let D=s,E=s.segment+1,P=0;for(;P>-c/2;){if(E--,E<0)return!1;P-=u[E].dist(D),D=u[E]}P+=u[E].dist(u[E+1]),E++;const N=[];let j=0;for(;P<c/2;){const Z=u[E],J=u[E+1];if(!J)return!1;let ee=u[E-1].angleTo(Z)-Z.angleTo(J);for(ee=Math.abs((ee+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:P,angleDelta:ee}),j+=ee;P-N[0].distance>p;)j-=N.shift().angleDelta;if(j>y)return!1;E++,P+=Z.dist(J)}return!0}function f_(u){let s=0;for(let c=0;c<u.length-1;c++)s+=u[c].dist(u[c+1]);return s}function dp(u,s,c){return u?.6*s*c:0}function fp(u,s){return Math.max(u?u.right-u.left:0,s?s.right-s.left:0)}function Tv(u,s,c,p,y,D){const E=dp(c,y,D),P=fp(c,p)*D;let N=0;const j=f_(u)/2;for(let Z=0;Z<u.length-1;Z++){const J=u[Z],ee=u[Z+1],me=J.dist(ee);if(N+me>j){const Me=(j-N)/me,Ye=kr(J.x,ee.x,Me),nt=kr(J.y,ee.y,Me),lt=new Ah(Ye,nt,0,ee.angleTo(J),Z);return!E||pm(u,lt,P,E,s)?lt:void 0}N+=me}}function p_(u,s,c,p,y,D,E,P,N){const j=dp(p,D,E),Z=fp(p,y),J=Z*E,ee=0===u[0].x||u[0].x===N||0===u[0].y||u[0].y===N;return s-J<s/4&&(s=J+s/4),m_(u,ee?s/2*P%s:(Z/2+2*D)*E*P%s,s,j,c,J,ee,!1,N)}function m_(u,s,c,p,y,D,E,P,N){const j=D/2,Z=f_(u);let J=0,ee=s-c,me=[];for(let Me=0;Me<u.length-1;Me++){const Ye=u[Me],nt=u[Me+1],lt=Ye.dist(nt),wt=nt.angleTo(Ye);for(;ee+c<J+lt;){ee+=c;const Tt=(ee-J)/lt,Ot=kr(Ye.x,nt.x,Tt),At=kr(Ye.y,nt.y,Tt);if(Ot>=0&&Ot<N&&At>=0&&At<N&&ee-j>=0&&ee+j<=Z){const Nt=new Ah(Ot,At,0,wt,Me);Nt._round(),p&&!pm(u,Nt,D,p,y)||me.push(Nt)}}J+=lt}return P||me.length||E||(me=m_(u,J/2,c,p,y,D,E,!0,N)),me}function mm(u,s,c,p,y){const D=[];for(let E=0;E<u.length;E++){const P=u[E];let N;for(let j=0;j<P.length-1;j++){let Z=P[j],J=P[j+1];Z.x<s&&J.x<s||(Z.x<s?Z=new W(s,Z.y+(s-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round():J.x<s&&(J=new W(s,Z.y+(s-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round()),Z.y<c&&J.y<c||(Z.y<c?Z=new W(Z.x+(c-Z.y)/(J.y-Z.y)*(J.x-Z.x),c)._round():J.y<c&&(J=new W(Z.x+(c-Z.y)/(J.y-Z.y)*(J.x-Z.x),c)._round()),Z.x>=p&&J.x>=p||(Z.x>=p?Z=new W(p,Z.y+(p-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round():J.x>=p&&(J=new W(p,Z.y+(p-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round()),Z.y>=y&&J.y>=y||(Z.y>=y?Z=new W(Z.x+(y-Z.y)/(J.y-Z.y)*(J.x-Z.x),y)._round():J.y>=y&&(J=new W(Z.x+(y-Z.y)/(J.y-Z.y)*(J.x-Z.x),y)._round()),N&&Z.equals(N[N.length-1])||(N=[Z],D.push(N)),N.push(J)))))}}return D}Gn("Anchor",Ah);const Oh=1e20;function Sv(u,s,c,p,y,D,E,P,N){for(let j=s;j<s+p;j++)g_(u,c*D+j,D,y,E,P,N);for(let j=c;j<c+y;j++)g_(u,j*D+s,1,p,E,P,N)}function g_(u,s,c,p,y,D,E){D[0]=0,E[0]=-Oh,E[1]=Oh,y[0]=u[s];for(let P=1,N=0,j=0;P<p;P++){y[P]=u[s+P*c];const Z=P*P;do{const J=D[N];j=(y[P]-y[J]+Z-J*J)/(P-J)/2}while(j<=E[N]&&--N>-1);N++,D[N]=P,E[N]=j,E[N+1]=Oh}for(let P=0,N=0;P<p;P++){for(;E[N+1]<P;)N++;const j=D[N],Z=P-j;u[s+P*c]=y[j]+Z*Z}}const __={none:0,ideographs:1,all:2};class Tf{constructor(s,c,p){this.requestManager=s,this.localGlyphMode=c,this.localFontFamily=p,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(s){this.url=s}getGlyphs(s,c){const p=[];for(const y in s)for(const D of s[y])p.push({stack:y,id:D});fe(p,({stack:y,id:D},E)=>{let P=this.entries[y];P||(P=this.entries[y]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let N=P.glyphs[D];if(void 0!==N)return void E(null,{stack:y,id:D,glyph:N});if(N=this._tinySDF(P,y,D),N)return P.glyphs[D]=N,void E(null,{stack:y,id:D,glyph:N});const j=Math.floor(D/256);if(256*j>65535)return void E(new Error("glyphs > 65535 not supported"));if(P.ranges[j])return void E(null,{stack:y,id:D,glyph:N});let Z=P.requests[j];Z||(Z=P.requests[j]=[],Tf.loadGlyphRange(y,j,this.url,this.requestManager,(J,ee)=>{if(ee){P.ascender=ee.ascender,P.descender=ee.descender;for(const me in ee.glyphs)this._doesCharSupportLocalGlyph(+me)||(P.glyphs[+me]=ee.glyphs[+me]);P.ranges[j]=!0}for(const me of Z)me(J,ee);delete P.requests[j]})),Z.push((J,ee)=>{J?E(J):ee&&E(null,{stack:y,id:D,glyph:ee.glyphs[D]||null})})},(y,D)=>{if(y)c(y);else if(D){const E={};for(const{stack:P,id:N,glyph:j}of D)void 0===E[P]&&(E[P]={}),void 0===E[P].glyphs&&(E[P].glyphs={}),E[P].glyphs[N]=j&&{id:j.id,bitmap:j.bitmap.clone(),metrics:j.metrics},E[P].ascender=this.entries[P].ascender,E[P].descender=this.entries[P].descender;c(null,E)}})}_doesCharSupportLocalGlyph(s){return this.localGlyphMode!==__.none&&(this.localGlyphMode===__.all?!!this.localFontFamily:!!this.localFontFamily&&(g(s)||V(s)||Al(s)||ma(s))||Vu(s))}_tinySDF(s,c,p){const y=this.localFontFamily;if(!y||!this._doesCharSupportLocalGlyph(p))return;let D=s.tinySDF;if(!D){let Ye="400";/bold/i.test(c)?Ye="900":/medium/i.test(c)?Ye="500":/light/i.test(c)&&(Ye="200"),D=s.tinySDF=new Tf.TinySDF({fontFamily:y,fontWeight:Ye,fontSize:48,buffer:6,radius:16}),D.fontWeight=Ye}if(this.localGlyphs[D.fontWeight][p])return this.localGlyphs[D.fontWeight][p];const E=String.fromCharCode(p),{data:P,width:N,height:j,glyphWidth:Z,glyphHeight:J,glyphLeft:ee,glyphTop:me,glyphAdvance:Me}=D.draw(E);return this.localGlyphs[D.fontWeight][p]={id:p,bitmap:new nd({width:N,height:j},P),metrics:{width:Z/2,height:J/2,left:ee/2,top:me/2-27,advance:Me/2,localGlyph:!0}}}}function y_(u,s,c,p){const y=[],D=u.image,E=D.pixelRatio,P=D.paddedRect.w-2,N=D.paddedRect.h-2,j=u.right-u.left,Z=u.bottom-u.top,J=D.stretchX||[[0,P]],ee=D.stretchY||[[0,N]],me=(dn,Dn)=>dn+Dn[1]-Dn[0],Me=J.reduce(me,0),Ye=ee.reduce(me,0),nt=P-Me,lt=N-Ye;let wt=0,Tt=Me,Ot=0,At=Ye,Nt=0,cn=nt,en=0,Nn=lt;if(D.content&&p){const dn=D.content;wt=Sf(J,0,dn[0]),Ot=Sf(ee,0,dn[1]),Tt=Sf(J,dn[0],dn[2]),At=Sf(ee,dn[1],dn[3]),Nt=dn[0]-wt,en=dn[1]-Ot,cn=dn[2]-dn[0]-Tt,Nn=dn[3]-dn[1]-At}const En=(dn,Dn,Tn,gn)=>{const zn=x_(dn.stretch-wt,Tt,j,u.left),$n=pp(dn.fixed-Nt,cn,dn.stretch,Me),Yr=x_(Dn.stretch-Ot,At,Z,u.top),eo=pp(Dn.fixed-en,Nn,Dn.stretch,Ye),Gr=x_(Tn.stretch-wt,Tt,j,u.left),Hs=pp(Tn.fixed-Nt,cn,Tn.stretch,Me),Bn=x_(gn.stretch-Ot,At,Z,u.top),ao=pp(gn.fixed-en,Nn,gn.stretch,Ye),ns=new W(zn,Yr),La=new W(Gr,Yr),ia=new W(Gr,Bn),cl=new W(zn,Bn),hl=new W($n/E,eo/E),to=new W(Hs/E,ao/E),As=s*Math.PI/180;if(As){const ka=Math.sin(As),Dl=Math.cos(As),Ql=[Dl,-ka,ka,Dl];ns._matMult(Ql),La._matMult(Ql),cl._matMult(Ql),ia._matMult(Ql)}const Ro=dn.stretch+dn.fixed,Kl=Dn.stretch+Dn.fixed;return{tl:ns,tr:La,bl:cl,br:ia,tex:{x:D.paddedRect.x+1+Ro,y:D.paddedRect.y+1+Kl,w:Tn.stretch+Tn.fixed-Ro,h:gn.stretch+gn.fixed-Kl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:hl,pixelOffsetBR:to,minFontScaleX:cn/E/j,minFontScaleY:Nn/E/Z,isSDF:c}};if(p&&(D.stretchX||D.stretchY)){const dn=v_(J,nt,Me),Dn=v_(ee,lt,Ye);for(let Tn=0;Tn<dn.length-1;Tn++){const gn=dn[Tn],zn=dn[Tn+1];for(let $n=0;$n<Dn.length-1;$n++)y.push(En(gn,Dn[$n],zn,Dn[$n+1]))}}else y.push(En({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:P+1},{fixed:0,stretch:N+1}));return y}function Sf(u,s,c){let p=0;for(const y of u)p+=Math.max(s,Math.min(c,y[1]))-Math.max(s,Math.min(c,y[0]));return p}function v_(u,s,c){const p=[{fixed:-1,stretch:0}];for(const[y,D]of u){const E=p[p.length-1];p.push({fixed:y-E.stretch,stretch:E.stretch}),p.push({fixed:y-E.stretch,stretch:E.stretch+(D-y)})}return p.push({fixed:s+1,stretch:c}),p}function x_(u,s,c,p){return u/s*c+p}function pp(u,s,c,p){return u-s*c/p}function $x(u,s,c,p){const y=s+u.positionedLines[p].lineOffset;return 0===p?c+y/2:c+(y+(s+u.positionedLines[p-1].lineOffset))/2}Tf.loadGlyphRange=function(u,s,c,p,y){const D=256*s,E=D+255,P=p.transformRequest(p.normalizeGlyphsURL(c).replace("{fontstack}",u).replace("{range}",`${D}-${E}`),xr.Glyphs);be(P,(N,j)=>{if(N)y(N);else if(j){const Z={},J=new cm(j).readFields(Hx,{});for(const ee of J.glyphs)Z[ee.id]=ee;y(null,{glyphs:Z,ascender:J.ascender,descender:J.descender})}})},Tf.TinySDF=class{constructor({fontSize:u=24,buffer:s=3,radius:c=8,cutoff:p=.25,fontFamily:y="sans-serif",fontWeight:D="normal",fontStyle:E="normal"}){this.buffer=s,this.cutoff=p,this.radius=c;const P=this.size=u+4*s,N=this._createCanvas(P),j=this.ctx=N.getContext("2d",{willReadFrequently:!0});j.font=`${E} ${D} ${u}px ${y}`,j.textBaseline="alphabetic",j.textAlign="left",j.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(u){const s=document.createElement("canvas");return s.width=s.height=u,s}draw(u){const{width:s,actualBoundingBoxAscent:c,actualBoundingBoxDescent:p,actualBoundingBoxLeft:y,actualBoundingBoxRight:D}=this.ctx.measureText(u),E=Math.floor(c),P=Math.min(this.size-this.buffer,Math.ceil(D-y)),N=Math.min(this.size-this.buffer,Math.ceil(c)+Math.ceil(p)),j=P+2*this.buffer,Z=N+2*this.buffer,J=j*Z,ee=new Uint8ClampedArray(J),me={data:ee,width:j,height:Z,glyphWidth:P,glyphHeight:N,glyphTop:E,glyphLeft:0,glyphAdvance:s};if(0===P||0===N)return me;const{ctx:Me,buffer:Ye,gridInner:nt,gridOuter:lt}=this;Me.clearRect(Ye,Ye,P,N),Me.fillText(u,Ye,Ye+E+1);const wt=Me.getImageData(Ye,Ye,P,N);lt.fill(Oh,0,J),nt.fill(0,0,J);for(let Tt=0;Tt<N;Tt++)for(let Ot=0;Ot<P;Ot++){const At=wt.data[4*(Tt*P+Ot)+3]/255;if(0===At)continue;const Nt=(Tt+Ye)*j+Ot+Ye;if(1===At)lt[Nt]=0,nt[Nt]=Oh;else{const cn=.5-At;lt[Nt]=cn>0?cn*cn:0,nt[Nt]=cn<0?cn*cn:0}}Sv(lt,0,0,j,Z,j,this.f,this.v,this.z),Sv(nt,Ye,Ye,P,N,j,this.f,this.v,this.z);for(let Tt=0;Tt<J;Tt++){const Ot=Math.sqrt(lt[Tt])-Math.sqrt(nt[Tt]);ee[Tt]=Math.round(255-255*(Ot/this.radius+this.cutoff))}return me}};class Lv{constructor(s=[],c=Zx){if(this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(let p=(this.length>>1)-1;p>=0;p--)this._down(p)}push(s){this.data.push(s),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const s=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),s}peek(){return this.data[0]}_up(s){const{data:c,compare:p}=this,y=c[s];for(;s>0;){const D=s-1>>1,E=c[D];if(p(y,E)>=0)break;c[s]=E,s=D}c[s]=y}_down(s){const{data:c,compare:p}=this,y=this.length>>1,D=c[s];for(;s<y;){let E=1+(s<<1),P=c[E];const N=E+1;if(N<this.length&&p(c[N],P)<0&&(E=N,P=c[N]),p(P,D)>=0)break;c[s]=P,s=E}c[s]=D}}function Zx(u,s){return u<s?-1:u>s?1:0}function Xx(u,s=1,c=!1){let p=1/0,y=1/0,D=-1/0,E=-1/0;const P=u[0];for(let me=0;me<P.length;me++){const Me=P[me];(!me||Me.x<p)&&(p=Me.x),(!me||Me.y<y)&&(y=Me.y),(!me||Me.x>D)&&(D=Me.x),(!me||Me.y>E)&&(E=Me.y)}const N=Math.min(D-p,E-y);let j=N/2;const Z=new Lv([],Jc);if(0===N)return new W(p,y);for(let me=p;me<D;me+=N)for(let Me=y;Me<E;Me+=N)Z.push(new Lf(me+j,Me+j,j,u));let J=function(me){let Me=0,Ye=0,nt=0;const lt=me[0];for(let wt=0,Tt=lt.length,Ot=Tt-1;wt<Tt;Ot=wt++){const At=lt[wt],Nt=lt[Ot],cn=At.x*Nt.y-Nt.x*At.y;Ye+=(At.x+Nt.x)*cn,nt+=(At.y+Nt.y)*cn,Me+=3*cn}return new Lf(Ye/Me,nt/Me,0,me)}(u),ee=Z.length;for(;Z.length;){const me=Z.pop();(me.d>J.d||!J.d)&&(J=me,c&&console.log("found best %d after %d probes",Math.round(1e4*me.d)/1e4,ee)),me.max-J.d<=s||(j=me.h/2,Z.push(new Lf(me.p.x-j,me.p.y-j,j,u)),Z.push(new Lf(me.p.x+j,me.p.y-j,j,u)),Z.push(new Lf(me.p.x-j,me.p.y+j,j,u)),Z.push(new Lf(me.p.x+j,me.p.y+j,j,u)),ee+=4)}return c&&(console.log(`num probes: ${ee}`),console.log(`best distance: ${J.d}`)),J.p}function Jc(u,s){return s.max-u.max}function Lf(u,s,c,p){this.p=new W(u,s),this.h=c,this.d=function(y,D){let E=!1,P=1/0;for(let N=0;N<D.length;N++){const j=D[N];for(let Z=0,J=j.length,ee=J-1;Z<J;ee=Z++){const me=j[Z],Me=j[ee];me.y>y.y!=Me.y>y.y&&y.x<(Me.x-me.x)*(y.y-me.y)/(Me.y-me.y)+me.x&&(E=!E),P=Math.min(P,Ky(y,me,Me))}}return(E?1:-1)*Math.sqrt(P)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}const gm=Number.POSITIVE_INFINITY,Jx=Math.sqrt(2);function kv(u,s){return s[1]!==gm?function(c,p,y){let D=0,E=0;switch(p=Math.abs(p),y=Math.abs(y),c){case"top-right":case"top-left":case"top":E=y-7;break;case"bottom-right":case"bottom-left":case"bottom":E=7-y}switch(c){case"top-right":case"bottom-right":case"right":D=-p;break;case"top-left":case"bottom-left":case"left":D=p}return[D,E]}(u,s[0],s[1]):function(c,p){let y=0,D=0;p<0&&(p=0);const E=p/Jx;switch(c){case"top-right":case"top-left":D=E-7;break;case"bottom-right":case"bottom-left":D=7-E;break;case"bottom":D=7-p;break;case"top":D=p-7}switch(c){case"top-right":case"bottom-right":y=-E;break;case"top-left":case"bottom-left":y=E;break;case"left":y=p;break;case"right":y=-p}return[y,D]}(u,s[0])}function Kx(u,s,c,p,y,D,E,P,N){u.createArrays(),u.tilePixelRatio=Wi/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const j=u.layers[0].layout,Z=u.layers[0]._unevaluatedLayout._values,J={};if("composite"===u.textSizeData.kind){const{minZoom:Me,maxZoom:Ye}=u.textSizeData;J.compositeTextSizes=[Z["text-size"].possiblyEvaluate(new ce(Me),P),Z["text-size"].possiblyEvaluate(new ce(Ye),P)]}if("composite"===u.iconSizeData.kind){const{minZoom:Me,maxZoom:Ye}=u.iconSizeData;J.compositeIconSizes=[Z["icon-size"].possiblyEvaluate(new ce(Me),P),Z["icon-size"].possiblyEvaluate(new ce(Ye),P)]}J.layoutTextSize=Z["text-size"].possiblyEvaluate(new ce(N+1),P),J.layoutIconSize=Z["icon-size"].possiblyEvaluate(new ce(N+1),P),J.textMaxSize=Z["text-size"].possiblyEvaluate(new ce(18),P);const ee="map"===j.get("text-rotation-alignment")&&"point"!==j.get("symbol-placement"),me=j.get("text-size");for(const Me of u.features){const Ye=j.get("text-font").evaluate(Me,{},P).join(","),nt=me.evaluate(Me,{},P),lt=J.layoutTextSize.evaluate(Me,{},P),wt=(J.layoutIconSize.evaluate(Me,{},P),{horizontal:{},vertical:void 0}),Tt=Me.text;let Ot,At=[0,0];if(Tt){const en=Tt.toString(),Nn=24*j.get("text-letter-spacing").evaluate(Me,{},P),En=24*j.get("text-line-height").evaluate(Me,{},P),dn=Yn(en)?Nn:0,Dn=j.get("text-anchor").evaluate(Me,{},P),Tn=j.get("text-variable-anchor");if(!Tn){const Gr=j.get("text-radial-offset").evaluate(Me,{},P);At=Gr?kv(Dn,[24*Gr,gm]):j.get("text-offset").evaluate(Me,{},P).map(Hs=>24*Hs)}let gn=ee?"center":j.get("text-justify").evaluate(Me,{},P);const zn=j.get("symbol-placement"),$n="point"===zn,Yr="point"===zn?24*j.get("text-max-width").evaluate(Me,{},P):0,eo=Gr=>{u.allowVerticalPlacement&&Cn(en)&&(wt.vertical=hp(Tt,s,c,y,Ye,Yr,En,Dn,Gr,dn,At,Qu.vertical,!0,zn,lt,nt))};if(!ee&&Tn){const Gr="auto"===gn?Tn.map(Bn=>w_(Bn)):[gn];let Hs=!1;for(let Bn=0;Bn<Gr.length;Bn++){const ao=Gr[Bn];if(!wt.horizontal[ao])if(Hs)wt.horizontal[ao]=wt.horizontal[0];else{const ns=hp(Tt,s,c,y,Ye,Yr,En,"center",ao,dn,At,Qu.horizontal,!1,zn,lt,nt);ns&&(wt.horizontal[ao]=ns,Hs=1===ns.positionedLines.length)}}eo("left")}else{if("auto"===gn&&(gn=w_(Dn)),$n||j.get("text-writing-mode").indexOf("horizontal")>=0||!Cn(en)){const Gr=hp(Tt,s,c,y,Ye,Yr,En,Dn,gn,dn,At,Qu.horizontal,!1,zn,lt,nt);Gr&&(wt.horizontal[gn]=Gr)}eo("point"===zn?"left":gn)}}let Nt=!1;if(Me.icon&&Me.icon.name){const en=p[Me.icon.name];en&&(Ot=Cv(y[Me.icon.name],j.get("icon-offset").evaluate(Me,{},P),j.get("icon-anchor").evaluate(Me,{},P)),Nt=en.sdf,void 0===u.sdfIcons?u.sdfIcons=en.sdf:u.sdfIcons!==en.sdf&&Re("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(en.pixelRatio!==u.pixelRatio||0!==j.get("icon-rotate").constantOr(1))&&(u.iconsNeedLinear=!0))}const cn=Av(wt.horizontal)||wt.vertical;u.iconsInText||(u.iconsInText=!!cn&&cn.iconsInText),(cn||Ot)&&Iv(u,Me,wt,Ot,p,J,lt,0,At,Nt,E,P)}D&&u.generateCollisionDebugBuffers(N,u.collisionBoxArray)}function w_(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Iv(u,s,c,p,y,D,E,P,N,j,Z,J){let ee=D.textMaxSize.evaluate(s,{},J);void 0===ee&&(ee=E);const me=u.layers[0].layout,Me=me.get("icon-offset").evaluate(s,{},J),Ye=Av(c.horizontal)||c.vertical,nt=E/24,lt=u.tilePixelRatio*ee/24,wt=u.tilePixelRatio*me.get("symbol-spacing"),Tt=me.get("text-padding")*u.tilePixelRatio,Ot=me.get("icon-padding")*u.tilePixelRatio,At=it(me.get("text-max-angle")),Nt="map"===me.get("text-rotation-alignment")&&"point"!==me.get("symbol-placement"),cn="map"===me.get("icon-rotation-alignment")&&"point"!==me.get("symbol-placement"),en=me.get("symbol-placement"),Nn=wt/2,En=me.get("icon-text-fit");let dn;p&&"none"!==En&&(u.allowVerticalPlacement&&c.vertical&&(dn=d_(p,c.vertical,En,me.get("icon-text-fit-padding"),Me,nt)),Ye&&(p=d_(p,Ye,En,me.get("icon-text-fit-padding"),Me,nt)));const Dn=(Tn,gn)=>{gn.x<0||gn.x>=Wi||gn.y<0||gn.y>=Wi||function(zn,$n,Yr,eo,Gr,Hs,Bn,ao,ns,La,ia,cl,hl,to,As,Ro,Kl,ka,Dl,Ql,sa,El,po,Ka,Qa){const No=zn.addToLineVertexArray($n,eo);let Ia,dl,wo,yu,Xo,$u,wc,nc=0,eu=0,xh=0,If=0,Pf=-1,Af=-1;const wh={};let O_=Oo(""),Kv=0,Om=0;if(void 0===ns._unevaluatedLayout.getValue("text-radial-offset")?[Kv,Om]=ns.layout.get("text-offset").evaluate(sa,{},Qa).map(bc=>24*bc):(Kv=24*ns.layout.get("text-radial-offset").evaluate(sa,{},Qa),Om=gm),zn.allowVerticalPlacement&&Gr.vertical){const bc=Gr.vertical;if(As)$u=$t(bc),ao&&(wc=$t(ao));else{const Iu=ns.layout.get("text-rotate").evaluate(sa,{},Qa)+90;wo=di(La,Yr,$n,ia,cl,hl,bc,to,Iu,Ro),ao&&(yu=di(La,Yr,$n,ia,cl,hl,ao,ka,Iu))}}if(Hs){const bc=ns.layout.get("icon-rotate").evaluate(sa,{},Qa),Iu="none"!==ns.layout.get("icon-text-fit"),Cp=y_(Hs,bc,po,Iu),Rm=ao?y_(ao,bc,po,Iu):void 0;dl=di(La,Yr,$n,ia,cl,hl,Hs,ka,bc),nc=4*Cp.length;const N_=zn.iconSizeData;let Of=null;"source"===N_.kind?(Of=[gh*ns.layout.get("icon-size").evaluate(sa,{},Qa)],Of[0]>id&&Re(`${zn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===N_.kind&&(Of=[gh*El.compositeIconSizes[0].evaluate(sa,{},Qa),gh*El.compositeIconSizes[1].evaluate(sa,{},Qa)],(Of[0]>id||Of[1]>id)&&Re(`${zn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),zn.addSymbols(zn.icon,Cp,Of,Ql,Dl,sa,!1,Yr,$n,No.lineStartIndex,No.lineLength,-1,Ka,Qa),Pf=zn.icon.placedSymbolArray.length-1,Rm&&(eu=4*Rm.length,zn.addSymbols(zn.icon,Rm,Of,Ql,Dl,sa,Qu.vertical,Yr,$n,No.lineStartIndex,No.lineLength,-1,Ka,Qa),Af=zn.icon.placedSymbolArray.length-1)}for(const bc in Gr.horizontal){const Iu=Gr.horizontal[bc];Ia||(O_=Oo(Iu.text),As?Xo=$t(Iu):Ia=di(La,Yr,$n,ia,cl,hl,Iu,to,ns.layout.get("text-rotate").evaluate(sa,{},Qa),Ro));const Cp=1===Iu.positionedLines.length;if(xh+=Pv(zn,Yr,$n,Iu,Bn,ns,As,sa,Ro,No,Gr.vertical?Qu.horizontal:Qu.horizontalOnly,Cp?Object.keys(Gr.horizontal):[bc],wh,Pf,El,Ka,Qa),Cp)break}Gr.vertical&&(If+=Pv(zn,Yr,$n,Gr.vertical,Bn,ns,As,sa,Ro,No,Qu.vertical,["vertical"],wh,Af,El,Ka,Qa));let ld=-1;const R_=(bc,Iu)=>bc?Math.max(bc,Iu):Iu;ld=R_(Xo,ld),ld=R_($u,ld),ld=R_(wc,ld);const rE=ld>-1?1:0;zn.glyphOffsetArray.length>=_h.MAX_GLYPHS&&Re("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==sa.sortKey&&zn.addToSortKeyRanges(zn.symbolInstances.length,sa.sortKey),zn.symbolInstances.emplaceBack(Yr.x,Yr.y,Yr.z,$n.x,$n.y,wh.right>=0?wh.right:-1,wh.center>=0?wh.center:-1,wh.left>=0?wh.left:-1,wh.vertical>=0?wh.vertical:-1,Pf,Af,O_,void 0!==Ia?Ia:zn.collisionBoxArray.length,void 0!==Ia?Ia+1:zn.collisionBoxArray.length,void 0!==wo?wo:zn.collisionBoxArray.length,void 0!==wo?wo+1:zn.collisionBoxArray.length,void 0!==dl?dl:zn.collisionBoxArray.length,void 0!==dl?dl+1:zn.collisionBoxArray.length,yu||zn.collisionBoxArray.length,yu?yu+1:zn.collisionBoxArray.length,ia,xh,If,nc,eu,rE,0,Kv,Om,ld)}(u,gn,gn,Tn,c,p,y,dn,u.layers[0],u.collisionBoxArray,s.index,s.sourceLayerIndex,u.index,Tt,Nt,N,0,Ot,cn,Me,s,D,j,Z,J)};if("line"===en)for(const Tn of mm(s.geometry,0,0,Wi,Wi)){const gn=p_(Tn,wt,At,c.vertical||Ye,p,24,lt,u.overscaling,Wi);for(const zn of gn){const $n=Ye;$n&&Ov(u,$n.text,Nn,zn)||Dn(Tn,zn)}}else if("line-center"===en){for(const Tn of s.geometry)if(Tn.length>1){const gn=Tv(Tn,At,c.vertical||Ye,p,24,lt);gn&&Dn(Tn,gn)}}else if("Polygon"===s.type)for(const Tn of qg(s.geometry,0)){const gn=Xx(Tn,16);Dn(Tn[0],new Ah(gn.x,gn.y,0,0,void 0))}else if("LineString"===s.type)for(const Tn of s.geometry)Dn(Tn,new Ah(Tn[0].x,Tn[0].y,0,0,void 0));else if("Point"===s.type)for(const Tn of s.geometry)for(const gn of Tn)Dn([gn],new Ah(gn.x,gn.y,0,0,void 0))}const id=32640;function Pv(u,s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye,nt){const lt=function(Ot,At,Nt,cn,en,Nn,En,dn){const Dn=[];if(0===At.positionedLines.length)return Dn;const Tn=cn.layout.get("text-rotate").evaluate(Nn,{})*Math.PI/180,gn=function(Gr){const Hs=Gr[0],Bn=Gr[1],ao=Hs*Bn;return ao>0?[Hs,-Bn]:ao<0?[-Hs,Bn]:0===Hs?[Bn,Hs]:[Bn,-Hs]}(Nt);let zn=Math.abs(At.top-At.bottom);for(const Gr of At.positionedLines)zn-=Gr.lineOffset;const $n=At.positionedLines.length,Yr=zn/$n;let eo=At.top-Nt[1];for(let Gr=0;Gr<$n;++Gr){const Hs=At.positionedLines[Gr];eo=$x(At,Yr,eo,Gr);for(const Bn of Hs.positionedGlyphs){if(!Bn.rect)continue;const ao=Bn.rect||{};let ns=4,La=!0,ia=1,cl=0;if(Bn.imageName){const wo=En[Bn.imageName];if(!wo)continue;if(wo.sdf){Re("SDF images are not supported in formatted text and will be ignored.");continue}La=!1,ia=wo.pixelRatio,ns=1/ia}const hl=(en||dn)&&Bn.vertical,to=Bn.metrics.advance*Bn.scale/2,As=Bn.metrics,Ro=Bn.rect;if(null===Ro)continue;dn&&At.verticalizable&&(cl=Bn.imageName?to-Bn.metrics.width*Bn.scale/2:0);const Kl=en?[Bn.x+to,Bn.y]:[0,0];let ka=[0,0],Dl=[0,0],Ql=!1;en||(hl?(Dl=[Bn.x+to+gn[0],Bn.y+gn[1]-cl],Ql=!0):ka=[Bn.x+to+Nt[0],Bn.y+Nt[1]-cl]);const sa=Ro.w*Bn.scale/(ia*(Bn.localGlyph?2:1)),El=Ro.h*Bn.scale/(ia*(Bn.localGlyph?2:1));let po,Ka,Qa,No;if(hl){const wo=Bn.y-eo,yu=new W(-to,to-wo),Xo=-Math.PI/2,$u=new W(...Dl);po=new W(-to+ka[0],ka[1]),po._rotateAround(Xo,yu)._add($u),po.x+=-wo+to,po.y-=(As.left-ns)*Bn.scale;const wc=Bn.imageName?As.advance*Bn.scale:24*Bn.scale,nc=String.fromCharCode(Bn.glyph);Vx(nc)?po.x+=(1-ns)*Bn.scale:bf(nc)?po.x+=wc-As.height*Bn.scale+(-ns-1)*Bn.scale:po.x+=Bn.imageName||As.width+2*ns===Ro.w&&As.height+2*ns===Ro.h?(wc-El)/2:(wc-(As.height+2*ns)*Bn.scale)/2,Ka=new W(po.x,po.y-sa),Qa=new W(po.x+El,po.y),No=new W(po.x+El,po.y-sa)}else{const wo=(As.left-ns)*Bn.scale-to+ka[0],yu=(-As.top-ns)*Bn.scale+ka[1],Xo=wo+sa,$u=yu+El;po=new W(wo,yu),Ka=new W(Xo,yu),Qa=new W(wo,$u),No=new W(Xo,$u)}if(Tn){let wo;wo=en?new W(0,0):Ql?new W(gn[0],gn[1]):new W(Nt[0],Nt[1]),po._rotateAround(Tn,wo),Ka._rotateAround(Tn,wo),Qa._rotateAround(Tn,wo),No._rotateAround(Tn,wo)}const Ia=new W(0,0),dl=new W(0,0);Dn.push({tl:po,tr:Ka,bl:Qa,br:No,tex:ao,writingMode:At.writingMode,glyphOffset:Kl,sectionIndex:Bn.sectionIndex,isSDF:La,pixelOffsetTL:Ia,pixelOffsetBR:dl,minFontScaleX:0,minFontScaleY:0})}}return Dn}(0,p,N,D,E,P,y,u.allowVerticalPlacement),wt=u.textSizeData;let Tt=null;"source"===wt.kind?(Tt=[gh*D.layout.get("text-size").evaluate(P,{},nt)],Tt[0]>id&&Re(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===wt.kind&&(Tt=[gh*Me.compositeTextSizes[0].evaluate(P,{},nt),gh*Me.compositeTextSizes[1].evaluate(P,{},nt)],(Tt[0]>id||Tt[1]>id)&&Re(`${u.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),u.addSymbols(u.text,lt,Tt,N,E,P,Z,s,c,j.lineStartIndex,j.lineLength,me,Ye,nt);for(const Ot of J)ee[Ot]=u.text.placedSymbolArray.length-1;return 4*lt.length}function Av(u){for(const s in u)return u[s];return null}function di(u,s,c,p,y,D,E,P,N,j){let Z=E.top,J=E.bottom,ee=E.left,me=E.right;const Me=E.collisionPadding;if(Me&&(ee-=Me[0],Z-=Me[1],me+=Me[2],J+=Me[3]),N){const Ye=new W(ee,Z),nt=new W(me,Z),lt=new W(ee,J),wt=new W(me,J),Tt=it(N);let Ot=new W(0,0);j&&(Ot=new W(j[0],j[1])),Ye._rotateAround(Tt,Ot),nt._rotateAround(Tt,Ot),lt._rotateAround(Tt,Ot),wt._rotateAround(Tt,Ot),ee=Math.min(Ye.x,nt.x,lt.x,wt.x),me=Math.max(Ye.x,nt.x,lt.x,wt.x),Z=Math.min(Ye.y,nt.y,lt.y,wt.y),J=Math.max(Ye.y,nt.y,lt.y,wt.y)}return u.emplaceBack(s.x,s.y,s.z,c.x,c.y,ee,Z,me,J,P,p,y,D),u.length-1}function $t(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const s=u.bottom-u.top;return s>0?Math.max(10,s):null}function Ov(u,s,c,p){const y=u.compareText;if(s in y){const D=y[s];for(let E=D.length-1;E>=0;E--)if(p.dist(D[E])<c)return!0}else y[s]=[];return y[s].push(p),!1}const Rv=$c.VectorTileFeature.types,_m=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ec(u,s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye){const nt=Z?Math.min(id,Math.round(Z[0])):0,lt=Z?Math.min(id,Math.round(Z[1])):0;u.emplaceBack(s,c,Math.round(32*E),Math.round(32*P),N,j,(nt<<1)+(J?1:0),lt,16*ee,16*me,256*Me,256*Ye,p,y,D,0)}function ym(u,s,c){u.emplaceBack(s.x,s.y,c),u.emplaceBack(s.x,s.y,c),u.emplaceBack(s.x,s.y,c),u.emplaceBack(s.x,s.y,c)}function Qx(u){for(const s of u.sections)if(Ta(s.text))return!0;return!1}class mp{constructor(s){this.layoutVertexArray=new Wr,this.indexArray=new Io,this.programConfigurations=s,this.segments=new Ua,this.dynamicLayoutVertexArray=new Hr,this.opacityVertexArray=new _i,this.placedSymbolArray=new Ih}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(s,c,p,y){this.isEmpty()||(p&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,vf.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,Fx.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,_m,!0),this.opacityVertexBuffer.itemSize=1),(p||y)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Gn("SymbolBuffers",mp);class Kc{constructor(s,c,p){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new p,this.segments=new Ua,this.collisionVertexArray=new Rl,this.collisionVertexArrayExt=new Hr}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,Yx.members,!0),this.collisionVertexBufferExt=s.createVertexBuffer(this.collisionVertexArrayExt,zx.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Gn("CollisionBuffers",Kc);class _h{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(E=>E.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ag([]),this.placementViewportMatrix=Ag([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=e_(this.zoom,c["text-size"]),this.iconSizeData=e_(this.zoom,c["icon-size"]);const p=this.layers[0].layout,y=p.get("symbol-sort-key"),D=p.get("symbol-z-order");this.canOverlap=p.get("text-allow-overlap")||p.get("icon-allow-overlap")||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==D&&void 0!==y.constantOr(1),this.sortFeaturesByY=("viewport-y"===D||"auto"===D&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=p.get("text-writing-mode").map(E=>Qu[E]),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=s.sourceID}createArrays(){this.text=new mp(new of(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new mp(new of(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new U,this.lineVertexArray=new te,this.symbolInstances=new L}calculateGlyphDependencies(s,c,p,y,D){for(let E=0;E<s.length;E++)if(c[s.charCodeAt(E)]=!0,y&&D){const P=wf[s.charAt(E)];P&&(c[P.charCodeAt(0)]=!0)}}populate(s,c,p,y){const D=this.layers[0],E=D.layout,P=E.get("text-font"),N=E.get("text-field"),j=E.get("icon-image"),Z=("constant"!==N.value.kind||N.value.value instanceof Ha&&!N.value.value.isEmpty()||N.value.value.toString().length>0)&&("constant"!==P.value.kind||P.value.value.length>0),J="constant"!==j.value.kind||!!j.value.value||Object.keys(j.parameters).length>0,ee=E.get("symbol-sort-key");if(this.features=[],!Z&&!J)return;const me=c.iconDependencies,Me=c.glyphDependencies,Ye=c.availableImages,nt=new ce(this.zoom);for(const{feature:lt,id:wt,index:Tt,sourceLayerIndex:Ot}of s){const At=D._featureFilter.needGeometry,Nt=Wc(lt,At);if(!D._featureFilter.filter(nt,Nt,p))continue;let cn,en;if(At||(Nt.geometry=td(lt,p,y)),Z){const En=D.getValueAndResolveTokens("text-field",Nt,p,Ye),dn=Ha.factory(En);Qx(dn)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===K()||this.hasRTLText&&le.isParsed())&&(cn=jx(dn,D,Nt))}if(J){const En=D.getValueAndResolveTokens("icon-image",Nt,p,Ye);en=En instanceof aa?En:aa.fromString(En)}if(!cn&&!en)continue;const Nn=this.sortFeaturesByKey?ee.evaluate(Nt,{},p):void 0;if(this.features.push({id:wt,text:cn,icon:en,index:Tt,sourceLayerIndex:Ot,geometry:Nt.geometry,properties:lt.properties,type:Rv[lt.type],sortKey:Nn}),en&&(me[en.name]=!0),cn){const En=P.evaluate(Nt,{},p).join(","),dn="map"===E.get("text-rotation-alignment")&&"point"!==E.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qu.vertical)>=0;for(const Dn of cn.sections)if(Dn.image)me[Dn.image.name]=!0;else{const Tn=Cn(cn.toString()),gn=Dn.fontStack||En,zn=Me[gn]=Me[gn]||{};this.calculateGlyphDependencies(Dn.text,zn,dn,this.allowVerticalPlacement,Tn)}}}"line"===E.get("symbol-placement")&&(this.features=function(lt){const wt={},Tt={},Ot=[];let At=0;function Nt(En){Ot.push(lt[En]),At++}function cn(En,dn,Dn){const Tn=Tt[En];return delete Tt[En],Tt[dn]=Tn,Ot[Tn].geometry[0].pop(),Ot[Tn].geometry[0]=Ot[Tn].geometry[0].concat(Dn[0]),Tn}function en(En,dn,Dn){const Tn=wt[dn];return delete wt[dn],wt[En]=Tn,Ot[Tn].geometry[0].shift(),Ot[Tn].geometry[0]=Dn[0].concat(Ot[Tn].geometry[0]),Tn}function Nn(En,dn,Dn){const Tn=Dn?dn[0][dn[0].length-1]:dn[0][0];return`${En}:${Tn.x}:${Tn.y}`}for(let En=0;En<lt.length;En++){const dn=lt[En],Dn=dn.geometry,Tn=dn.text?dn.text.toString():null;if(!Tn){Nt(En);continue}const gn=Nn(Tn,Dn),zn=Nn(Tn,Dn,!0);if(gn in Tt&&zn in wt&&Tt[gn]!==wt[zn]){const $n=en(gn,zn,Dn),Yr=cn(gn,zn,Ot[$n].geometry);delete wt[gn],delete Tt[zn],Tt[Nn(Tn,Ot[Yr].geometry,!0)]=Yr,Ot[$n].geometry=null}else gn in Tt?cn(gn,zn,Dn):zn in wt?en(gn,zn,Dn):(Nt(En),wt[gn]=At-1,Tt[zn]=At-1)}return Ot.filter(En=>En.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((lt,wt)=>lt.sortKey-wt.sortKey)}update(s,c,p,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,p,y),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,p,y))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,c){const p=this.lineVertexArray.length;if(void 0!==s.segment){let y=s.dist(c[s.segment+1]),D=s.dist(c[s.segment]);const E={};for(let P=s.segment+1;P<c.length;P++)E[P]={x:c[P].x,y:c[P].y,tileUnitDistanceFromAnchor:y},P<c.length-1&&(y+=c[P+1].dist(c[P]));for(let P=s.segment||0;P>=0;P--)E[P]={x:c[P].x,y:c[P].y,tileUnitDistanceFromAnchor:D},P>0&&(D+=c[P-1].dist(c[P]));for(let P=0;P<c.length;P++){const N=E[P];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(s,c,p,y,D,E,P,N,j,Z,J,ee,me,Me){const Ye=s.indexArray,nt=s.layoutVertexArray,lt=s.segments.prepareSegment(4*c.length,nt,Ye,this.canOverlap?E.sortKey:void 0),wt=this.glyphOffsetArray.length,Tt=lt.vertexLength,Ot=this.allowVerticalPlacement&&P===Qu.vertical?Math.PI/2:0,At=E.text&&E.text.sections;for(let Nt=0;Nt<c.length;Nt++){const{tl:cn,tr:en,bl:Nn,br:En,tex:dn,pixelOffsetTL:Dn,pixelOffsetBR:Tn,minFontScaleX:gn,minFontScaleY:zn,glyphOffset:$n,isSDF:Yr,sectionIndex:eo}=c[Nt],Gr=lt.vertexLength,Hs=$n[1];ec(nt,N.x,N.y,N.z,j.x,j.y,cn.x,Hs+cn.y,dn.x,dn.y,p,Yr,Dn.x,Dn.y,gn,zn),ec(nt,N.x,N.y,N.z,j.x,j.y,en.x,Hs+en.y,dn.x+dn.w,dn.y,p,Yr,Tn.x,Dn.y,gn,zn),ec(nt,N.x,N.y,N.z,j.x,j.y,Nn.x,Hs+Nn.y,dn.x,dn.y+dn.h,p,Yr,Dn.x,Tn.y,gn,zn),ec(nt,N.x,N.y,N.z,j.x,j.y,En.x,Hs+En.y,dn.x+dn.w,dn.y+dn.h,p,Yr,Tn.x,Tn.y,gn,zn),ym(s.dynamicLayoutVertexArray,N,Ot),Ye.emplaceBack(Gr,Gr+1,Gr+2),Ye.emplaceBack(Gr+1,Gr+2,Gr+3),lt.vertexLength+=4,lt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack($n[0]),Nt!==c.length-1&&eo===c[Nt+1].sectionIndex||s.programConfigurations.populatePaintArrays(nt.length,E,E.index,{},me,Me,At&&At[eo])}s.placedSymbolArray.emplaceBack(N.x,N.y,N.z,j.x,j.y,wt,this.glyphOffsetArray.length-wt,Tt,Z,J,j.segment,p?p[0]:0,p?p[1]:0,y[0],y[1],P,0,!1,0,ee,0)}_commitLayoutVertex(s,c,p,y,D,E,P){s.emplaceBack(c,p,y,D,E,Math.round(P.x),Math.round(P.y))}_addCollisionDebugVertices(s,c,p,y,D,E,P){const N=p.segments.prepareSegment(4,p.layoutVertexArray,p.indexArray),j=N.vertexLength,Z=P.tileAnchorX,J=P.tileAnchorY;for(let me=0;me<4;me++)p.collisionVertexArray.emplaceBack(0,0,0,0);p.collisionVertexArrayExt.emplaceBack(c,-s.padding,-s.padding),p.collisionVertexArrayExt.emplaceBack(c,s.padding,-s.padding),p.collisionVertexArrayExt.emplaceBack(c,s.padding,s.padding),p.collisionVertexArrayExt.emplaceBack(c,-s.padding,s.padding),this._commitLayoutVertex(p.layoutVertexArray,y,D,E,Z,J,new W(s.x1,s.y1)),this._commitLayoutVertex(p.layoutVertexArray,y,D,E,Z,J,new W(s.x2,s.y1)),this._commitLayoutVertex(p.layoutVertexArray,y,D,E,Z,J,new W(s.x2,s.y2)),this._commitLayoutVertex(p.layoutVertexArray,y,D,E,Z,J,new W(s.x1,s.y2)),N.vertexLength+=4;const ee=p.indexArray;ee.emplaceBack(j,j+1),ee.emplaceBack(j+1,j+2),ee.emplaceBack(j+2,j+3),ee.emplaceBack(j+3,j),N.primitiveLength+=4}_addTextDebugCollisionBoxes(s,c,p,y,D,E){for(let P=y;P<D;P++){const N=p.get(P),j=this.getSymbolInstanceTextSize(s,E,c,P);this._addCollisionDebugVertices(N,j,this.textCollisionBox,N.projectedAnchorX,N.projectedAnchorY,N.projectedAnchorZ,E)}}_addIconDebugCollisionBoxes(s,c,p,y,D,E){for(let P=y;P<D;P++){const N=p.get(P),j=this.getSymbolInstanceIconSize(s,c,P);this._addCollisionDebugVertices(N,j,this.iconCollisionBox,N.projectedAnchorX,N.projectedAnchorY,N.projectedAnchorZ,E)}}generateCollisionDebugBuffers(s,c){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Kc(Ja,yv.members,vo),this.iconCollisionBox=new Kc(Ja,yv.members,vo);const p=xf(this.iconSizeData,s),y=xf(this.textSizeData,s);for(let D=0;D<this.symbolInstances.length;D++){const E=this.symbolInstances.get(D);this._addTextDebugCollisionBoxes(y,s,c,E.textBoxStartIndex,E.textBoxEndIndex,E),this._addTextDebugCollisionBoxes(y,s,c,E.verticalTextBoxStartIndex,E.verticalTextBoxEndIndex,E),this._addIconDebugCollisionBoxes(p,s,c,E.iconBoxStartIndex,E.iconBoxEndIndex,E),this._addIconDebugCollisionBoxes(p,s,c,E.verticalIconBoxStartIndex,E.verticalIconBoxEndIndex,E)}}getSymbolInstanceTextSize(s,c,p,y){const D=this.text.placedSymbolArray.get(c.rightJustifiedTextSymbolIndex>=0?c.rightJustifiedTextSymbolIndex:c.centerJustifiedTextSymbolIndex>=0?c.centerJustifiedTextSymbolIndex:c.leftJustifiedTextSymbolIndex>=0?c.leftJustifiedTextSymbolIndex:c.verticalPlacedTextSymbolIndex>=0?c.verticalPlacedTextSymbolIndex:y),E=um(this.textSizeData,s,D)/24;return this.tilePixelRatio*E}getSymbolInstanceIconSize(s,c,p){const y=this.icon.placedSymbolArray.get(p),D=um(this.iconSizeData,s,y);return this.tilePixelRatio*D}_commitDebugCollisionVertexUpdate(s,c,p){s.emplaceBack(c,-p,-p),s.emplaceBack(c,p,-p),s.emplaceBack(c,p,p),s.emplaceBack(c,-p,p)}_updateTextDebugCollisionBoxes(s,c,p,y,D,E){for(let P=y;P<D;P++){const N=p.get(P),j=this.getSymbolInstanceTextSize(s,E,c,P);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,j,N.padding)}}_updateIconDebugCollisionBoxes(s,c,p,y,D){for(let E=y;E<D;E++){const P=p.get(E),N=this.getSymbolInstanceIconSize(s,c,E);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,N,P.padding)}}updateCollisionDebugBuffers(s,c){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const p=xf(this.iconSizeData,s),y=xf(this.textSizeData,s);for(let D=0;D<this.symbolInstances.length;D++){const E=this.symbolInstances.get(D);this._updateTextDebugCollisionBoxes(y,s,c,E.textBoxStartIndex,E.textBoxEndIndex,E),this._updateTextDebugCollisionBoxes(y,s,c,E.verticalTextBoxStartIndex,E.verticalTextBoxEndIndex,E),this._updateIconDebugCollisionBoxes(p,s,c,E.iconBoxStartIndex,E.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(p,s,c,E.verticalIconBoxStartIndex,E.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(s,c,p,y,D,E,P,N,j){const Z={};for(let J=c;J<p;J++){const ee=s.get(J);Z.textBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,padding:ee.padding,projectedAnchorX:ee.projectedAnchorX,projectedAnchorY:ee.projectedAnchorY,projectedAnchorZ:ee.projectedAnchorZ,tileAnchorX:ee.tileAnchorX,tileAnchorY:ee.tileAnchorY},Z.textFeatureIndex=ee.featureIndex;break}for(let J=y;J<D;J++){const ee=s.get(J);Z.verticalTextBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,padding:ee.padding,projectedAnchorX:ee.projectedAnchorX,projectedAnchorY:ee.projectedAnchorY,projectedAnchorZ:ee.projectedAnchorZ,tileAnchorX:ee.tileAnchorX,tileAnchorY:ee.tileAnchorY},Z.verticalTextFeatureIndex=ee.featureIndex;break}for(let J=E;J<P;J++){const ee=s.get(J);Z.iconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,padding:ee.padding,projectedAnchorX:ee.projectedAnchorX,projectedAnchorY:ee.projectedAnchorY,projectedAnchorZ:ee.projectedAnchorZ,tileAnchorX:ee.tileAnchorX,tileAnchorY:ee.tileAnchorY},Z.iconFeatureIndex=ee.featureIndex;break}for(let J=N;J<j;J++){const ee=s.get(J);Z.verticalIconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,padding:ee.padding,projectedAnchorX:ee.projectedAnchorX,projectedAnchorY:ee.projectedAnchorY,projectedAnchorZ:ee.projectedAnchorZ,tileAnchorX:ee.tileAnchorX,tileAnchorY:ee.tileAnchorY},Z.verticalIconFeatureIndex=ee.featureIndex;break}return Z}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const p=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,c){const p=s.placedSymbolArray.get(c),y=p.vertexStartIndex+4*p.numGlyphs;for(let D=p.vertexStartIndex;D<y;D+=4)s.indexArray.emplaceBack(D,D+1,D+2),s.indexArray.emplaceBack(D+1,D+2,D+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const c=Math.sin(s),p=Math.cos(s),y=[],D=[],E=[];for(let P=0;P<this.symbolInstances.length;++P){E.push(P);const N=this.symbolInstances.get(P);y.push(0|Math.round(c*N.tileAnchorX+p*N.tileAnchorY)),D.push(N.featureIndex)}return E.sort((P,N)=>y[P]-y[N]||D[N]-D[P]),E}addToSortKeyRanges(s,c){const p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===c?p.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const p=this.symbolInstances.get(c);this.featureSortOrder.push(p.featureIndex),[p.rightJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.leftJustifiedTextSymbolIndex].forEach((y,D,E)=>{y>=0&&E.indexOf(y)===D&&this.addIndicesForPlacedSymbol(this.text,y)}),p.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,p.verticalPlacedTextSymbolIndex),p.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.placedIconSymbolIndex),p.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Gn("SymbolBucket",_h,{omit:["layers","collisionBoxArray","features","compareText"]}),_h.MAX_GLYPHS=65535,_h.addDynamicAttributes=ym;const Nv=new an({"symbol-placement":new Ke(Ct.layout_symbol["symbol-placement"]),"symbol-spacing":new Ke(Ct.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ke(Ct.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ft(Ct.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ke(Ct.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ke(Ct.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ke(Ct.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ke(Ct.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ke(Ct.layout_symbol["icon-rotation-alignment"]),"icon-size":new ft(Ct.layout_symbol["icon-size"]),"icon-text-fit":new Ke(Ct.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ke(Ct.layout_symbol["icon-text-fit-padding"]),"icon-image":new ft(Ct.layout_symbol["icon-image"]),"icon-rotate":new ft(Ct.layout_symbol["icon-rotate"]),"icon-padding":new Ke(Ct.layout_symbol["icon-padding"]),"icon-keep-upright":new Ke(Ct.layout_symbol["icon-keep-upright"]),"icon-offset":new ft(Ct.layout_symbol["icon-offset"]),"icon-anchor":new ft(Ct.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ke(Ct.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ke(Ct.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ke(Ct.layout_symbol["text-rotation-alignment"]),"text-field":new ft(Ct.layout_symbol["text-field"]),"text-font":new ft(Ct.layout_symbol["text-font"]),"text-size":new ft(Ct.layout_symbol["text-size"]),"text-max-width":new ft(Ct.layout_symbol["text-max-width"]),"text-line-height":new ft(Ct.layout_symbol["text-line-height"]),"text-letter-spacing":new ft(Ct.layout_symbol["text-letter-spacing"]),"text-justify":new ft(Ct.layout_symbol["text-justify"]),"text-radial-offset":new ft(Ct.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ke(Ct.layout_symbol["text-variable-anchor"]),"text-anchor":new ft(Ct.layout_symbol["text-anchor"]),"text-max-angle":new Ke(Ct.layout_symbol["text-max-angle"]),"text-writing-mode":new Ke(Ct.layout_symbol["text-writing-mode"]),"text-rotate":new ft(Ct.layout_symbol["text-rotate"]),"text-padding":new Ke(Ct.layout_symbol["text-padding"]),"text-keep-upright":new Ke(Ct.layout_symbol["text-keep-upright"]),"text-transform":new ft(Ct.layout_symbol["text-transform"]),"text-offset":new ft(Ct.layout_symbol["text-offset"]),"text-allow-overlap":new Ke(Ct.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ke(Ct.layout_symbol["text-ignore-placement"]),"text-optional":new Ke(Ct.layout_symbol["text-optional"])});var gp={paint:new an({"icon-opacity":new ft(Ct.paint_symbol["icon-opacity"]),"icon-color":new ft(Ct.paint_symbol["icon-color"]),"icon-halo-color":new ft(Ct.paint_symbol["icon-halo-color"]),"icon-halo-width":new ft(Ct.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ft(Ct.paint_symbol["icon-halo-blur"]),"icon-translate":new Ke(Ct.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ke(Ct.paint_symbol["icon-translate-anchor"]),"text-opacity":new ft(Ct.paint_symbol["text-opacity"]),"text-color":new ft(Ct.paint_symbol["text-color"],{runtimeType:Xi,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new ft(Ct.paint_symbol["text-halo-color"]),"text-halo-width":new ft(Ct.paint_symbol["text-halo-width"]),"text-halo-blur":new ft(Ct.paint_symbol["text-halo-blur"]),"text-translate":new Ke(Ct.paint_symbol["text-translate"]),"text-translate-anchor":new Ke(Ct.paint_symbol["text-translate-anchor"])}),layout:Nv};class ew{constructor(s){this.type=s.property.overrides?s.property.overrides.runtimeType:co,this.defaultValue=s}evaluate(s){if(s.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Gn("FormatSectionOverride",ew,{omit:["defaultValue"]});class _p extends bl{constructor(s){super(s,gp)}recalculate(s,c){super.recalculate(s,c),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const p=this.layout.get("text-writing-mode");if(p){const y=[];for(const D of p)y.indexOf(D)<0&&y.push(D);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(s,c,p,y){const D=this.layout.get(s).evaluate(c,{},p,y),E=this._unevaluatedLayout._values[s];return E.isDataDriven()||Is(E.value)||!D?D:(P=c.properties,D.replace(/{([^{}]+)}/g,(j,Z)=>Z in P?String(P[Z]):""));var P}createBucket(s){return new _h(s)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const s of gp.paint.overridableProperties){if(!_p.hasPaintOverride(this.layout,s))continue;const c=this.paint.get(s),p=new ew(c),y=new cu(p,c.property.specification);let D=null;D="constant"===c.value.kind||"source"===c.value.kind?new al("source",y):new go("composite",y,c.value.zoomStops,c.value._interpolationType),this.paint._values[s]=new at(c.property,D,c.parameters)}}_handleOverridablePaintPropertyUpdate(s,c,p){return!(!this.layout||c.isDataDriven()||p.isDataDriven())&&_p.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,c){const p=s.get("text-field"),y=gp.paint.properties[c];let D=!1;const E=P=>{for(const N of P)if(y.overrides&&y.overrides.hasOverride(N))return void(D=!0)};if("constant"===p.value.kind&&p.value.value instanceof Ha)E(p.value.value.sections);else if("source"===p.value.kind){const P=j=>{D||(j instanceof qa&&zi(j.value)===Di?E(j.value.sections):j instanceof Sl?E(j.sections):j.eachChild(P))},N=p.value;N._styleExpression&&P(N._styleExpression.expression)}return D}getProgramConfiguration(s){return new _c(this,s)}}var QD={paint:new an({"background-color":new Ke(Ct.paint_background["background-color"]),"background-pattern":new Jt(Ct.paint_background["background-pattern"]),"background-opacity":new Ke(Ct.paint_background["background-opacity"])})},vm={paint:new an({"raster-opacity":new Ke(Ct.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ke(Ct.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ke(Ct.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ke(Ct.paint_raster["raster-brightness-max"]),"raster-saturation":new Ke(Ct.paint_raster["raster-saturation"]),"raster-contrast":new Ke(Ct.paint_raster["raster-contrast"]),"raster-resampling":new Ke(Ct.paint_raster["raster-resampling"]),"raster-fade-duration":new Ke(Ct.paint_raster["raster-fade-duration"])})};class xm extends bl{constructor(s){super(s,{}),this.implementation=s}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(s){this.implementation.onAdd&&this.implementation.onAdd(s,s.painter.context.gl)}onRemove(s){this.implementation.onRemove&&this.implementation.onRemove(s,s.painter.context.gl)}}var b_={paint:new an({"sky-type":new Ke(Ct.paint_sky["sky-type"]),"sky-atmosphere-sun":new Ke(Ct.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Ke(Ct.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Ke(Ct.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Ke(Ct.paint_sky["sky-gradient-radius"]),"sky-gradient":new Zt(Ct.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Ke(Ct.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Ke(Ct.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Ke(Ct.paint_sky["sky-opacity"])})};function yp(u,s,c){const p=hf(0,0,1),y=np(Fg());return function(D,E,P){P*=.5;var N=E[0],j=E[1],Z=E[2],J=E[3],ee=Math.sin(P),me=Math.cos(P);D[0]=N*me-Z*ee,D[1]=j*me+J*ee,D[2]=Z*me+N*ee,D[3]=J*me-j*ee}(y,y,c?-it(u)+Math.PI:it(u)),Kp(y,y,-it(s)),fx(p,p,y),nv(p,p)}const M_={circle:class extends bl{constructor(u){super(u,mh)}createBucket(u){return new uf(u)}queryRadius(u){const s=u;return ph("circle-radius",this,s)+ph("circle-stroke-width",this,s)+Jp(this.paint.get("circle-translate"))}queryIntersectsFeature(u,s,c,p,y,D,E,P){const N=ev(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),D.angle,u.pixelToTileUnitsFactor),j=this.paint.get("circle-radius").evaluate(s,c)+this.paint.get("circle-stroke-width").evaluate(s,c);return rv(u,p,D,E,P,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),N,j)}getProgramIds(){return["circle"]}getProgramConfiguration(u){return new _c(this,u)}},heatmap:class extends bl{createBucket(u){return new zg(u)}constructor(u){super(u,yx),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){"heatmap-color"===u&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=jg({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return ph("heatmap-radius",this,u)}queryIntersectsFeature(u,s,c,p,y,D,E,P){const N=this.paint.get("heatmap-radius").evaluate(s,c);return rv(u,p,D,E,P,!0,!0,new W(0,0),N)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(u){return new _c(this,u)}},hillshade:class extends bl{constructor(u){super(u,vx)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(u){return new _c(this,u)}},fill:class extends bl{constructor(u){super(u,Ml)}getProgramIds(){const u=this.paint.get("fill-pattern"),s=u&&u.constantOr(1),c=[s?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&c.push(s&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),c}getProgramConfiguration(u){return new _c(this,u)}recalculate(u,s){super.recalculate(u,s);const c=this.paint._values["fill-outline-color"];"constant"===c.value.kind&&void 0===c.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new gf(u)}queryRadius(){return Jp(this.paint.get("fill-translate"))}queryIntersectsFeature(u,s,c,p,y,D){return!u.queryGeometry.isAboveHorizon&&Xy(Qy(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),D.angle,u.pixelToTileUnitsFactor),p)}isTileClipped(){return!0}},"fill-extrusion":class extends bl{constructor(u){super(u,Jg)}createBucket(u){return new Jl(u)}queryRadius(){return Jp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(u){return new _c(this,u)}queryIntersectsFeature(u,s,c,p,y,D,E,P,N){const j=ev(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),D.angle,u.pixelToTileUnitsFactor),Z=this.paint.get("fill-extrusion-height").evaluate(s,c),J=this.paint.get("fill-extrusion-base").evaluate(s,c),ee=[0,0],me=P&&D.elevation,Me=D.elevation?D.elevation.exaggeration():1;if(me){const lt=u.tile.getBucket(this).centroidVertexArray,wt=N+1;if(wt<lt.length){const Tt=lt.get(wt);ee[0]=Tt.a_centroid_pos0,ee[1]=Tt.a_centroid_pos1}}if(0===ee[0]&&1===ee[1])return!1;const Ye=(lt=p,wt=J,Tt=Z,Ot=j,At=E,(Nt=me?P:null)?function(En,dn,Dn,Tn,gn,zn,$n,Yr,eo){const Gr=[],Hs=[],Bn=[0,0,0,1];for(const ao of En){const ns=[],La=[];for(const ia of ao){const cl=ia.x+Tn.x,hl=ia.y+Tn.y,to=Px(cl,hl,dn,Dn,zn,$n,Yr,eo);Bn[0]=cl,Bn[1]=hl,Bn[2]=to.base,Bn[3]=1,tp(Bn,Bn,gn),Bn[3]=Math.max(Bn[3],1e-5);const As=Kg([Bn[0]/Bn[3],Bn[1]/Bn[3],Bn[2]/Bn[3]]);Bn[0]=cl,Bn[1]=hl,Bn[2]=to.top,Bn[3]=1,tp(Bn,Bn,gn),Bn[3]=Math.max(Bn[3],1e-5);const Ro=Kg([Bn[0]/Bn[3],Bn[1]/Bn[3],Bn[2]/Bn[3]]);ns.push(As),La.push(Ro)}Gr.push(ns),Hs.push(La)}return[Gr,Hs]}(lt,wt,Tt,Ot,At,Nt,ee,Me,D.center.lat):function(En,dn,Dn,Tn,gn){const zn=[],$n=[],Yr=gn[8]*dn,eo=gn[9]*dn,Gr=gn[10]*dn,Hs=gn[11]*dn,Bn=gn[8]*Dn,ao=gn[9]*Dn,ns=gn[10]*Dn,La=gn[11]*Dn;for(const ia of En){const cl=[],hl=[];for(const to of ia){const As=to.x+Tn.x,Ro=to.y+Tn.y,Kl=gn[0]*As+gn[4]*Ro+gn[12],ka=gn[1]*As+gn[5]*Ro+gn[13],Dl=gn[2]*As+gn[6]*Ro+gn[14],Ql=gn[3]*As+gn[7]*Ro+gn[15],sa=Kl+Yr,El=ka+eo,po=Dl+Gr,Ka=Math.max(Ql+Hs,1e-5),Qa=Kl+Bn,No=ka+ao,Ia=Dl+ns,dl=Math.max(Ql+La,1e-5),wo=new W(sa/Ka,El/Ka);wo.z=po/Ka,cl.push(wo);const yu=new W(Qa/dl,No/dl);yu.z=Ia/dl,hl.push(yu)}zn.push(cl),$n.push(hl)}return[zn,$n]}(lt,wt,Tt,Ot,At)),nt=u.queryGeometry;var lt,wt,Tt,Ot,At,Nt;return function(lt,wt,Tt){let Ot=1/0;Xy(Tt,wt)&&(Ot=fv(Tt,wt[0]));for(let At=0;At<wt.length;At++){const Nt=wt[At],cn=lt[At];for(let en=0;en<Nt.length-1;en++){const Nn=Nt[en],En=[Nn,Nt[en+1],cn[en+1],cn[en],Nn];Zy(Tt,En)&&(Ot=Math.min(Ot,fv(Tt,En)))}}return Ot!==1/0&&Ot}(Ye[0],Ye[1],nt.isPointQuery()?nt.screenBounds:nt.screenGeometry)}},line:class extends bl{constructor(u){super(u,lm),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(u){if("line-gradient"===u){const s=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=s._styleExpression&&s._styleExpression.expression instanceof Ti,this.gradientVersion=(this.gradientVersion+1)%rt}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,s){super.recalculate(u,s),this.paint._values["line-floorwidth"]=gv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new am(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(u){return new _c(this,u)}queryRadius(u){const s=u,c=_v(ph("line-width",this,s),ph("line-gap-width",this,s)),p=ph("line-offset",this,s);return c/2+Math.abs(p)+Jp(this.paint.get("line-translate"))}queryIntersectsFeature(u,s,c,p,y,D){if(u.queryGeometry.isAboveHorizon)return!1;const E=Qy(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),D.angle,u.pixelToTileUnitsFactor),P=u.pixelToTileUnitsFactor/2*_v(this.paint.get("line-width").evaluate(s,c),this.paint.get("line-gap-width").evaluate(s,c)),N=this.paint.get("line-offset").evaluate(s,c);return N&&(p=function(j,Z){const J=[],ee=new W(0,0);for(let me=0;me<j.length;me++){const Me=j[me],Ye=[];for(let nt=0;nt<Me.length;nt++){const lt=Me[nt-1],wt=Me[nt],Tt=Me[nt+1],Ot=0===nt?ee:wt.sub(lt)._unit()._perp(),At=nt===Me.length-1?ee:Tt.sub(wt)._unit()._perp(),Nt=Ot._add(At)._unit();Nt._mult(1/(Nt.x*At.x+Nt.y*At.y)),Ye.push(Nt._mult(Z)._add(wt))}J.push(Ye)}return J}(p,N*u.pixelToTileUnitsFactor)),function(j,Z,J){for(let ee=0;ee<Z.length;ee++){const me=Z[ee];if(j.length>=3)for(let Me=0;Me<me.length;Me++)if(Id(j,me[Me]))return!0;if(Jy(j,me,J))return!0}return!1}(E,p,P)}isTileClipped(){return!0}},symbol:_p,background:class extends bl{constructor(u){super(u,QD)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends bl{constructor(u){super(u,vm)}getProgramIds(){return["raster"]}},sky:class extends bl{constructor(u){super(u,b_),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){"sky-gradient"===u?this._updateColorRamp():"sky-atmosphere-sun"!==u&&"sky-atmosphere-halo-color"!==u&&"sky-atmosphere-color"!==u&&"sky-atmosphere-sun-intensity"!==u||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=jg({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const s=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==s.azimuthal||this._lightPosition.polar!==s.polar}}getCenter(u,s){const c=this.paint.get("sky-type");if("atmosphere"===c){const p=this.paint.get("sky-atmosphere-sun"),y=!p,D=u.style.light,E=D.properties.get("position");return y&&"viewport"===D.properties.get("anchor")&&Re("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),y?yp(E.azimuthal,90-E.polar,s):yp(p[0],90-p[1],s)}if("gradient"===c){const p=this.paint.get("sky-gradient-center");return yp(p[0],90-p[1],s)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return"atmosphere"===u?["skyboxCapture","skybox"]:"gradient"===u?["skyboxGradient"]:null}}},{HTMLImageElement:tw,HTMLCanvasElement:Fv,HTMLVideoElement:Yv,ImageData:zv,ImageBitmap:wm}=Le;class vp{constructor(s,c,p,y){this.context=s,this.format=p,this.texture=s.gl.createTexture(),this.update(c,y)}update(s,c,p){const{width:y,height:D}=s,{context:E}=this,{gl:P}=E;if(P.bindTexture(P.TEXTURE_2D,this.texture),E.pixelStoreUnpackFlipY.set(!1),E.pixelStoreUnpack.set(1),E.pixelStoreUnpackPremultiplyAlpha.set(this.format===P.RGBA&&(!c||!1!==c.premultiply)),p||this.size&&this.size[0]===y&&this.size[1]===D){const{x:N,y:j}=p||{x:0,y:0};s instanceof tw||s instanceof Fv||s instanceof Yv||s instanceof zv||wm&&s instanceof wm?P.texSubImage2D(P.TEXTURE_2D,0,N,j,P.RGBA,P.UNSIGNED_BYTE,s):P.texSubImage2D(P.TEXTURE_2D,0,N,j,y,D,P.RGBA,P.UNSIGNED_BYTE,s.data)}else this.size=[y,D],s instanceof tw||s instanceof Fv||s instanceof Yv||s instanceof zv||wm&&s instanceof wm?P.texImage2D(P.TEXTURE_2D,0,this.format,this.format,P.UNSIGNED_BYTE,s):P.texImage2D(P.TEXTURE_2D,0,this.format,y,D,0,this.format,P.UNSIGNED_BYTE,s.data);this.useMipmap=Boolean(c&&c.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&P.generateMipmap(P.TEXTURE_2D)}bind(s,c){const{context:p}=this,{gl:y}=p;y.bindTexture(y.TEXTURE_2D,this.texture),s!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,s),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.useMipmap?s===y.NEAREST?y.NEAREST_MIPMAP_NEAREST:y.LINEAR_MIPMAP_NEAREST:s),this.filter=s),c!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,c),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}class Bv{constructor(s,c){this.width=s,this.height=c,this.nextRow=0,this.image=new nd({width:s,height:c}),this.positions={},this.uploaded=!1}getDash(s,c){const p=this.getKey(s,c);return this.positions[p]}trim(){const s=this.width,c=this.height=Te(this.nextRow);this.image.resize({width:s,height:c})}getKey(s,c){return s.join(",")+c}getDashRanges(s,c,p){const y=[];let D=s.length%2==1?-s[s.length-1]*p:0,E=s[0]*p,P=!0;y.push({left:D,right:E,isDash:P,zeroLength:0===s[0]});let N=s[0];for(let j=1;j<s.length;j++){P=!P;const Z=s[j];D=N*p,N+=Z,E=N*p,y.push({left:D,right:E,isDash:P,zeroLength:0===Z})}return y}addRoundDash(s,c,p){const y=c/2;for(let D=-p;D<=p;D++){const E=this.width*(this.nextRow+p+D);let P=0,N=s[P];for(let j=0;j<this.width;j++){j/N.right>1&&(N=s[++P]);const Z=Math.abs(j-N.left),J=Math.abs(j-N.right),ee=Math.min(Z,J);let me;const Me=D/p*(y+1);if(N.isDash){const Ye=y-Math.abs(Me);me=Math.sqrt(ee*ee+Ye*Ye)}else me=y-Math.sqrt(ee*ee+Me*Me);this.image.data[E+j]=Math.max(0,Math.min(255,me+128))}}}addRegularDash(s,c){for(let N=s.length-1;N>=0;--N){const j=s[N],Z=s[N+1];j.zeroLength?s.splice(N,1):Z&&Z.isDash===j.isDash&&(Z.left=j.left,s.splice(N,1))}const p=s[0],y=s[s.length-1];p.isDash===y.isDash&&(p.left=y.left-this.width,y.right=p.right+this.width);const D=this.width*this.nextRow;let E=0,P=s[E];for(let N=0;N<this.width;N++){N/P.right>1&&(P=s[++E]);const j=Math.abs(N-P.left),Z=Math.abs(N-P.right),J=Math.min(j,Z);this.image.data[D+N]=Math.max(0,Math.min(255,(P.isDash?J:-J)+c+128))}}addDash(s,c){const p=this.getKey(s,c);if(this.positions[p])return this.positions[p];const y="round"===c,D=y?7:0,E=2*D+1;if(this.nextRow+E>this.height)return Re("LineAtlas out of space"),null;0===s.length&&s.push(1);let P=0;for(let Z=0;Z<s.length;Z++)s[Z]<0&&(Re("Negative value is found in line dasharray, replacing values with 0"),s[Z]=0),P+=s[Z];if(0!==P){const Z=this.width/P,J=this.getDashRanges(s,this.width,Z);y?this.addRoundDash(J,Z,D):this.addRegularDash(J,"square"===c?.5*Z:0)}const N=this.nextRow+D;this.nextRow+=E;const j={tl:[N,D],br:[P,0]};return this.positions[p]=j,j}}Gn("LineAtlas",Bv);class nw{constructor(s){this._callback=s,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const eE=Le.performance;function D_(u){const s=u?u.url.toString():void 0;return eE.getEntriesByName(s)}class jv{constructor(){this.tasks={},this.taskQueue=[],Pt(["process"],this),this.invoker=new nw(this.process),this.nextId=0}add(s,c){const p=this.nextId++,y=function({type:D,isSymbolTile:E,zoom:P}){return P=P||0,"message"===D?0:"maybePrepare"!==D||E?"parseTile"!==D||E?"parseTile"===D&&E?300-P:"maybePrepare"===D&&E?400-P:500:200-P:100-P}(c);if(0===y){_n();try{s()}finally{}return{cancel:()=>{}}}return this.tasks[p]={fn:s,metadata:c,priority:y,id:p},this.taskQueue.push(p),this.invoker.trigger(),{cancel:()=>{delete this.tasks[p]}}}process(){_n();try{if(this.taskQueue=this.taskQueue.filter(p=>!!this.tasks[p]),!this.taskQueue.length)return;const s=this.pick();if(null===s)return;const c=this.tasks[s];if(delete this.tasks[s],this.taskQueue.length&&this.invoker.trigger(),!c)return;c.fn()}finally{}}pick(){let s=null,c=1/0;for(let y=0;y<this.taskQueue.length;y++){const D=this.tasks[this.taskQueue[y]];D.priority<c&&(c=D.priority,s=y)}if(null===s)return null;const p=this.taskQueue[s];return this.taskQueue.splice(s,1),p}remove(){this.invoker.remove()}}function bm(u,s){const c=Math.pow(2,-u.z),p=u.x*c,y=(u.x+1)*c,D=u.y*c,E=(u.y+1)*c;if("mercator"===s.name)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:s};const P=af(p),N=af(y),j=qc(D),Z=qc(E),J=s.project(P,j),ee=s.project(N,j),me=s.project(N,Z),Me=s.project(P,Z);let Ye=Math.min(J.x,ee.x,me.x,Me.x),nt=Math.min(J.y,ee.y,me.y,Me.y),lt=Math.max(J.x,ee.x,me.x,Me.x),wt=Math.max(J.y,ee.y,me.y,Me.y);const Tt=c/16;function Ot(Nt,cn,en,Nn,En,dn){const Dn=(en+En)/2,Tn=(Nn+dn)/2,gn=s.project(af(Dn),qc(Tn)),zn=Math.max(0,Ye-gn.x,nt-gn.y,gn.x-lt,gn.y-wt);Ye=Math.min(Ye,gn.x),lt=Math.max(lt,gn.x),nt=Math.min(nt,gn.y),wt=Math.max(wt,gn.y),zn>Tt&&(Ot(Nt,gn,en,Nn,Dn,Tn),Ot(gn,cn,Dn,Tn,En,dn))}Ot(J,ee,p,D,y,D),Ot(ee,me,y,D,y,E),Ot(me,Me,y,E,p,E),Ot(Me,J,p,E,p,D),Ye-=Tt,nt-=Tt,lt+=Tt,wt+=Tt;const At=1/Math.max(lt-Ye,wt-nt);return{scale:At,x:Ye*At,y:nt*At,x2:lt*At,y2:wt*At,projection:s}}function Mm(u,s,c){var p=2*Math.PI*6378137/256/Math.pow(2,c);return[u*p-2*Math.PI*6378137/2,s*p-2*Math.PI*6378137/2]}class Vv{constructor(s,c,p){this.z=s,this.x=c,this.y=p,this.key=Dm(0,s,s,c,p)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,c){const p=(D=this.y,E=this.z,P=Mm(256*(y=this.x),256*(D=Math.pow(2,E)-D-1),E),N=Mm(256*(y+1),256*(D+1),E),P[0]+","+P[1]+","+N[0]+","+N[1]);var y,D,E,P,N;const j=function(Z,J,ee){let me,Me="";for(let Ye=Z;Ye>0;Ye--)me=1<<Ye-1,Me+=(J&me?1:0)+(ee&me?2:0);return Me}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===c?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",j).replace("{bbox-epsg-3857}",p)}toString(){return`${this.z}/${this.x}/${this.y}`}}class rw{constructor(s,c){this.wrap=s,this.canonical=c,this.key=Dm(s,c.z,c.z,c.x,c.y)}}class tc{constructor(s,c,p,y,D){this.overscaledZ=s,this.wrap=c,this.canonical=new Vv(p,+y,+D),this.key=0===c&&s===p?this.canonical.key:Dm(c,s,p,y,D)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){const c=this.canonical.z-s;return s>this.canonical.z?new tc(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new tc(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(s,c=!0){if(this.overscaledZ===s&&c)return this.key;if(s>this.canonical.z)return Dm(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y);{const p=this.canonical.z-s;return Dm(this.wrap*+c,s,s,this.canonical.x>>p,this.canonical.y>>p)}}isChildOf(s){if(s.wrap!==this.wrap)return!1;const c=this.canonical.z-s.canonical.z;return 0===s.overscaledZ||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c}children(s){if(this.overscaledZ>=s)return[new tc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,p=2*this.canonical.x,y=2*this.canonical.y;return[new tc(c,this.wrap,c,p,y),new tc(c,this.wrap,c,p+1,y),new tc(c,this.wrap,c,p,y+1),new tc(c,this.wrap,c,p+1,y+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new tc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new tc(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new rw(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Dm(u,s,c,p,y){const D=1<<Math.min(c,22);let E=D*(y%D)+p%D;return u&&c<22&&(E+=D*D*((u<0?-2*u-1:2*u)%(1<<2*(22-c)))),16*(32*E+c)+(s-c)}Gn("CanonicalTileID",Vv),Gn("OverscaledTileID",tc,{omit:["projMatrix"]});class iw{constructor(s){this._stringToNumber={},this._numberToString=[];for(let c=0;c<s.length;c++){const p=s[c];this._stringToNumber[p]=c,this._numberToString[c]=p}}encode(s){return this._stringToNumber[s]}decode(s){return this._numberToString[s]}}class sw{constructor(s,c,p,y,D){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=p,s._y=y,this.properties=s.properties,this.id=D}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){const s={geometry:this.geometry};for(const c in this)"_geometry"!==c&&"_vectorTileFeature"!==c&&(s[c]=this[c]);return s}}var tE=Vt([{name:"a_pos",type:"Int16",components:2}]);const Vd=new Uint16Array(8184);for(let u=0;u<2046;u++){let s=u+2,c=0,p=0,y=0,D=0,E=0,P=0;for(1&s?y=D=E=32:c=p=P=32;(s>>=1)>1;){const j=c+y>>1,Z=p+D>>1;1&s?(y=c,D=p,c=E,p=P):(c=y,p=D,y=E,D=P),E=j,P=Z}const N=4*u;Vd[N+0]=c,Vd[N+1]=p,Vd[N+2]=y,Vd[N+3]=D}const _u=new Uint16Array(2178),yh=new Uint8Array(1089),Em=new Uint16Array(1089);function E_(u){return 0===u?-.03125:32===u?.03125:0}var xp=Vt([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const C_={type:2,extent:Wi,loadGeometry:()=>[[new W(0,0),new W(8193,0),new W(8193,8193),new W(0,8193),new W(0,0)]]};class Cm{constructor(s,c,p,y,D){this.tileID=s,this.uid=Fe(),this.uses=0,this.tileSize=c,this.tileZoom=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=D,this.expiredRequestCount=0,this.state="loading",y&&y.transform&&(this.projection=y.transform.projection)}registerFadeDuration(s){const c=s+this.timeAdded;c<Xr.now()||this.fadeEndTime&&c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=bm(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(s,c,p){if(this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(y,D){const E={};if(!D)return E;for(const P of y){const N=P.layerIds.map(j=>D.getLayer(j)).filter(Boolean);if(0!==N.length){P.layers=N,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(j=>N.filter(Z=>Z.id===j)[0]));for(const j of N)E[j.id]=P}}return E}(s.buckets,c.style),this.hasSymbolBuckets=!1;for(const y in this.buckets){const D=this.buckets[y];if(D instanceof _h){if(this.hasSymbolBuckets=!0,!p)break;D.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const y in this.buckets){const D=this.buckets[y];if(D instanceof _h&&D.hasRTLText){this.hasRTLText=!0,le.isLoading()||le.isLoaded()||"deferred"!==K()||oe();break}}this.queryPadding=0;for(const y in this.buckets){const D=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(y).queryRadius(D))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage),s.lineAtlas&&(this.lineAtlas=s.lineAtlas)}else this.collisionBoxArray=new Va}unloadVectorData(){if(this.hasData()){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(s){return this.buckets[s.id]}upload(s){for(const p in this.buckets){const y=this.buckets[p];y.uploadPending()&&y.upload(s)}const c=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new vp(s,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new vp(s,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new vp(s,this.lineAtlas.image,c.ALPHA),this.lineAtlas.uploaded=!0)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,c,p,y,D,E,P,N){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:y,pixelPosMatrix:P,transform:E,params:D,tileTransform:this.tileTransform},s,c,p):{}}querySourceFeatures(s,c){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const y=p.loadVTLayers(),D=c?c.sourceLayer:"",E=y._geojsonTileLayer||y[D];if(!E)return;const P=hu(c&&c.filter),{z:N,x:j,y:Z}=this.tileID.canonical,J={z:N,x:j,y:Z};for(let ee=0;ee<E.length;ee++){const me=E.feature(ee);if(P.needGeometry){const nt=Wc(me,!0);if(!P.filter(new ce(this.tileID.overscaledZ),nt,this.tileID.canonical))continue}else if(!P.filter(new ce(this.tileID.overscaledZ),me))continue;const Me=p.getId(me,D),Ye=new sw(me,N,j,Z,Me);Ye.tile=J,s.push(Ye)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const c=this.expirationTime;if(s.cacheControl){const p=bt(s.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const p=Date.now();let y=!1;if(this.expirationTime>p)y=!1;else if(c)if(this.expirationTime<c)y=!0;else{const D=this.expirationTime-c;D?this.expirationTime=p+Math.max(D,3e4):y=!0}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(s,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(s).length||!c)return;const p=this.latestFeatureIndex.loadVTLayers(),y=c.style.listImages();for(const D in this.buckets){if(!c.style.hasLayer(D))continue;const E=this.buckets[D],P=E.layers[0].sourceLayer||"_geojsonTileLayer",N=p[P],j=s[P];if(!N||!j||0===Object.keys(j).length)continue;if(E.update(j,N,y,this.imageAtlas&&this.imageAtlas.patternPositions||{}),E instanceof am||E instanceof gf){const J=c.style._getSourceCache(E.layers[0].source);c._terrain&&c._terrain.enabled&&J&&E.programConfigurations.needsUpload&&c._terrain._clearRenderCacheForTile(J.id,this.tileID)}const Z=c&&c.style&&c.style.getLayer(D);Z&&(this.queryPadding=Math.max(this.queryPadding,Z.queryRadius(E)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Xr.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=Xr.now()+s}setDependencies(s,c){const p={};for(const y of c)p[y]=!0;this.dependencies[s]=p}hasDependency(s,c){for(const p of s){const y=this.dependencies[p];if(y)for(const D of c)if(y[D])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(s,c){if(!c||"mercator"===c.name||this._tileDebugBuffer)return;const p=td(C_,this.tileID.canonical,this.tileTransform)[0],y=new Zn,D=new ul;for(let E=0;E<p.length;E++){const{x:P,y:N}=p[E];y.emplaceBack(P,N),D.emplaceBack(E)}D.emplaceBack(0),this._tileDebugIndexBuffer=s.createIndexBuffer(D),this._tileDebugBuffer=s.createVertexBuffer(y,xp.members),this._tileDebugSegments=Ua.simpleSegment(0,0,y.length,D.length)}_makeTileBoundsBuffers(s,c){if(this._tileBoundsBuffer||!c||"mercator"===c.name)return;const p=td(C_,this.tileID.canonical,this.tileTransform)[0];let y,D;if(this.isRaster){const E=function(P,N){const j=bm(P,N),Z=Math.pow(2,P.z);for(let nt=0;nt<33;nt++)for(let lt=0;lt<33;lt++){const wt=af((P.x+(lt+E_(lt))/32)/Z),Tt=qc((P.y+(nt+E_(nt))/32)/Z),Ot=N.project(wt,Tt),At=33*nt+lt;_u[2*At+0]=Math.round((Ot.x*j.scale-j.x)*Wi),_u[2*At+1]=Math.round((Ot.y*j.scale-j.y)*Wi)}yh.fill(0),Em.fill(0);for(let nt=2045;nt>=0;nt--){const lt=4*nt,wt=Vd[lt+0],Tt=Vd[lt+1],Ot=Vd[lt+2],At=Vd[lt+3],Nt=wt+Ot>>1,cn=Tt+At>>1,en=Nt+cn-Tt,Nn=cn+wt-Nt,En=33*Tt+wt,dn=33*At+Ot,Dn=33*cn+Nt,Tn=Math.hypot((_u[2*En+0]+_u[2*dn+0])/2-_u[2*Dn+0],(_u[2*En+1]+_u[2*dn+1])/2-_u[2*Dn+1])>=16;if(yh[Dn]=yh[Dn]||(Tn?1:0),nt<1022){const gn=33*(Tt+Nn>>1)+(wt+en>>1),zn=33*(At+Nn>>1)+(Ot+en>>1);yh[Dn]=yh[Dn]||yh[gn]||yh[zn]}}const J=new Rr,ee=new Io;let me=0;function Me(nt,lt){const wt=33*lt+nt;return 0===Em[wt]&&(J.emplaceBack(_u[2*wt+0],_u[2*wt+1],nt*Wi/32,lt*Wi/32),Em[wt]=++me),Em[wt]-1}function Ye(nt,lt,wt,Tt,Ot,At){const Nt=nt+wt>>1,cn=lt+Tt>>1;if(Math.abs(nt-Ot)+Math.abs(lt-At)>1&&yh[33*cn+Nt])Ye(Ot,At,nt,lt,Nt,cn),Ye(wt,Tt,Ot,At,Nt,cn);else{const en=Me(nt,lt),Nn=Me(wt,Tt),En=Me(Ot,At);ee.emplaceBack(en,Nn,En)}}return Ye(0,0,32,32,32,0),Ye(32,32,0,0,0,32),{vertices:J,indices:ee}}(this.tileID.canonical,c);y=E.vertices,D=E.indices}else{y=new Rr,D=new Io;for(const{x:P,y:N}of p)y.emplaceBack(P,N,0,0);const E=nm(y.int16,void 0,4);for(let P=0;P<E.length;P+=3)D.emplaceBack(E[P],E[P+1],E[P+2])}this._tileBoundsBuffer=s.createVertexBuffer(y,xp.members),this._tileBoundsIndexBuffer=s.createIndexBuffer(D),this._tileBoundsSegments=Ua.simpleSegment(0,0,y.length,D.length)}}class ow{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,c,p){const y=String(c);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][y]=this.stateChanges[s][y]||{},ae(this.stateChanges[s][y],p),null===this.deletedStates[s]){this.deletedStates[s]={};for(const D in this.state[s])D!==y&&(this.deletedStates[s][D]=null)}else if(this.deletedStates[s]&&null===this.deletedStates[s][y]){this.deletedStates[s][y]={};for(const D in this.state[s][y])p[D]||(this.deletedStates[s][y][D]=null)}else for(const D in p)this.deletedStates[s]&&this.deletedStates[s][y]&&null===this.deletedStates[s][y][D]&&delete this.deletedStates[s][y][D]}removeFeatureState(s,c,p){if(null===this.deletedStates[s])return;const y=String(c);if(this.deletedStates[s]=this.deletedStates[s]||{},p&&void 0!==c)null!==this.deletedStates[s][y]&&(this.deletedStates[s][y]=this.deletedStates[s][y]||{},this.deletedStates[s][y][p]=null);else if(void 0!==c)if(this.stateChanges[s]&&this.stateChanges[s][y])for(p in this.deletedStates[s][y]={},this.stateChanges[s][y])this.deletedStates[s][y][p]=null;else this.deletedStates[s][y]=null;else this.deletedStates[s]=null}getState(s,c){const p=String(c),y=ae({},(this.state[s]||{})[p],(this.stateChanges[s]||{})[p]);if(null===this.deletedStates[s])return{};if(this.deletedStates[s]){const D=this.deletedStates[s][c];if(null===D)return{};for(const E in D)delete y[E]}return y}initializeTileState(s,c){s.setFeatureState(this.state,c)}coalesceChanges(s,c){const p={};for(const y in this.stateChanges){this.state[y]=this.state[y]||{};const D={};for(const E in this.stateChanges[y])this.state[y][E]||(this.state[y][E]={}),ae(this.state[y][E],this.stateChanges[y][E]),D[E]=this.state[y][E];p[y]=D}for(const y in this.deletedStates){this.state[y]=this.state[y]||{};const D={};if(null===this.deletedStates[y])for(const E in this.state[y])D[E]={},this.state[y][E]={};else for(const E in this.deletedStates[y]){if(null===this.deletedStates[y][E])this.state[y][E]={};else for(const P of Object.keys(this.deletedStates[y][E]))delete this.state[y][E][P];D[E]=this.state[y][E]}p[y]=p[y]||{},ae(p[y],D)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(p).length)for(const y in s)s[y].setFeatureState(p,c)}}class Nh{constructor(s){this.size=s,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(s,c){const p=this.toIdx(s,c);return{min:this.minimums[p],max:this.maximums[p]}}isLeaf(s,c){return this.leaves[this.toIdx(s,c)]}toIdx(s,c){return c*this.size+s}}function T_(u,s,c,p){let y=0,D=Number.MAX_VALUE;for(let E=0;E<3;E++)if(Math.abs(p[E])<1e-15){if(c[E]<u[E]||c[E]>s[E])return null}else{const P=1/p[E];let N=(u[E]-c[E])*P,j=(s[E]-c[E])*P;if(N>j){const Z=N;N=j,j=Z}if(N>y&&(y=N),j<D&&(D=j),y>D)return null}return y}function Uv(u,s,c,p,y,D,E,P,N,j,Z){const J=p-u,ee=y-s,me=D-c,Me=E-u,Ye=P-s,nt=N-c,lt=Z[1]*nt-Z[2]*Ye,wt=Z[2]*Me-Z[0]*nt,Tt=Z[0]*Ye-Z[1]*Me,Ot=J*lt+ee*wt+me*Tt;if(Math.abs(Ot)<1e-15)return null;const At=1/Ot,Nt=j[0]-u,cn=j[1]-s,en=j[2]-c,Nn=(Nt*lt+cn*wt+en*Tt)*At;if(Nn<0||Nn>1)return null;const En=cn*me-en*ee,dn=en*J-Nt*me,Dn=Nt*ee-cn*J,Tn=(Z[0]*En+Z[1]*dn+Z[2]*Dn)*At;return Tn<0||Nn+Tn>1?null:(Me*En+Ye*dn+nt*Dn)*At}function Tm(u,s,c){return(u-s)/(c-s)}function Hv(u,s,c,p,y,D,E,P,N){const j=1<<c,Z=D-p,J=E-y,ee=(u+1)/j*Z+p,me=(s+0)/j*J+y,Me=(s+1)/j*J+y;P[0]=(u+0)/j*Z+p,P[1]=me,N[0]=ee,N[1]=Me}class S_{constructor(s){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=s,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const c=function(D){const E=Math.ceil(Math.log2(D.dim/8)),P=[];let N=Math.ceil(Math.pow(2,E));const j=1/N,Z=(me,Me,Ye,nt,lt)=>{const wt=nt?1:0,Tt=(me+1)*Ye-wt,Ot=Me*Ye,At=(Me+1)*Ye-wt;lt[0]=me*Ye,lt[1]=Ot,lt[2]=Tt,lt[3]=At};let J=new Nh(N);const ee=[];for(let me=0;me<N*N;me++){Z(me%N,Math.floor(me/N),j,!1,ee);const Me=sd(ee[0],ee[1],D),Ye=sd(ee[2],ee[1],D),nt=sd(ee[2],ee[3],D),lt=sd(ee[0],ee[3],D);J.minimums.push(Math.min(Me,Ye,nt,lt)),J.maximums.push(Math.max(Me,Ye,nt,lt)),J.leaves.push(1)}for(P.push(J),N/=2;N>=1;N/=2){const me=P[P.length-1];J=new Nh(N);for(let Me=0;Me<N*N;Me++){Z(Me%N,Math.floor(Me/N),2,!0,ee);const Ye=me.getElevation(ee[0],ee[1]),nt=me.getElevation(ee[2],ee[1]),lt=me.getElevation(ee[2],ee[3]),wt=me.getElevation(ee[0],ee[3]),Tt=me.isLeaf(ee[0],ee[1]),Ot=me.isLeaf(ee[2],ee[1]),At=me.isLeaf(ee[2],ee[3]),Nt=me.isLeaf(ee[0],ee[3]),cn=Math.min(Ye.min,nt.min,lt.min,wt.min),en=Math.max(Ye.max,nt.max,lt.max,wt.max),Nn=Tt&&Ot&&At&&Nt;J.maximums.push(en),J.minimums.push(cn),J.leaves.push(en-cn<=5&&Nn?1:0)}P.push(J)}return P}(this.dem),p=c.length-1,y=c[p];this._addNode(y.minimums[0],y.maximums[0],y.leaves[0]),this._construct(c,0,0,p,0)}raycastRoot(s,c,p,y,D,E,P=1){return T_([s,c,-100],[p,y,this.maximums[0]*P],D,E)}raycast(s,c,p,y,D,E,P=1){if(!this.nodeCount)return null;const N=this.raycastRoot(s,c,p,y,D,E,P);if(null==N)return null;const j=[],Z=[],J=[],ee=[],me=[{idx:0,t:N,nodex:0,nodey:0,depth:0}];for(;me.length>0;){const{idx:Me,t:Ye,nodex:nt,nodey:lt,depth:wt}=me.pop();if(this.leaves[Me]){Hv(nt,lt,wt,s,c,p,y,J,ee);const Ot=1<<wt,At=(nt+0)/Ot,Nt=(nt+1)/Ot,cn=(lt+0)/Ot,en=(lt+1)/Ot,Nn=sd(At,cn,this.dem)*P,En=sd(Nt,cn,this.dem)*P,dn=sd(Nt,en,this.dem)*P,Dn=sd(At,en,this.dem)*P,Tn=Uv(J[0],J[1],Nn,ee[0],J[1],En,ee[0],ee[1],dn,D,E),gn=Uv(ee[0],ee[1],dn,J[0],ee[1],Dn,J[0],J[1],Nn,D,E),zn=Math.min(null!==Tn?Tn:Number.MAX_VALUE,null!==gn?gn:Number.MAX_VALUE);if(zn!==Number.MAX_VALUE)return zn;{const $n=df([],D,E,Ye);if(Gv(Nn,En,Dn,dn,Tm($n[0],J[0],ee[0]),Tm($n[1],J[1],ee[1]))>=$n[2])return Ye}continue}let Tt=0;for(let Ot=0;Ot<this._siblingOffset.length;Ot++){Hv((nt<<1)+this._siblingOffset[Ot][0],(lt<<1)+this._siblingOffset[Ot][1],wt+1,s,c,p,y,J,ee),J[2]=-100,ee[2]=this.maximums[this.childOffsets[Me]+Ot]*P;const At=T_(J,ee,D,E);if(null!=At){const Nt=At;j[Ot]=Nt;let cn=!1;for(let en=0;en<Tt&&!cn;en++)Nt>=j[Z[en]]&&(Z.splice(en,0,Ot),cn=!0);cn||(Z[Tt]=Ot),Tt++}}for(let Ot=0;Ot<Tt;Ot++){const At=Z[Ot];me.push({idx:this.childOffsets[Me]+At,t:j[At],nodex:(nt<<1)+this._siblingOffset[At][0],nodey:(lt<<1)+this._siblingOffset[At][1],depth:wt+1})}}return null}_addNode(s,c,p){return this.minimums.push(s),this.maximums.push(c),this.leaves.push(p),this.childOffsets.push(0),this.nodeCount++}_construct(s,c,p,y,D){if(1===s[y].isLeaf(c,p))return;this.childOffsets[D]||(this.childOffsets[D]=this.nodeCount);const E=y-1,P=s[E];let N,j=0;for(let Z=0;Z<this._siblingOffset.length;Z++){const J=2*c+this._siblingOffset[Z][0],ee=2*p+this._siblingOffset[Z][1],me=P.getElevation(J,ee),Me=P.isLeaf(J,ee),Ye=this._addNode(me.min,me.max,Me);Me&&(j|=1<<Z),N||(N=Ye)}for(let Z=0;Z<this._siblingOffset.length;Z++)j&1<<Z||this._construct(s,2*c+this._siblingOffset[Z][0],2*p+this._siblingOffset[Z][1],E,N+Z)}}function Gv(u,s,c,p,y,D){return kr(kr(u,c,D),kr(s,p,D),y)}function sd(u,s,c){const p=c.dim,y=ne(u*p-.5,0,p-1),D=ne(s*p-.5,0,p-1),E=Math.floor(y),P=Math.floor(D),N=Math.min(E+1,p-1),j=Math.min(P+1,p-1);return Gv(c.get(E,P),c.get(N,P),c.get(E,j),c.get(N,j),y-E,D-P)}const kf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Fh{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(s,c,p,y=!1,D=!1){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(p&&"mapbox"!==p&&"terrarium"!==p)return Re(`"${p}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=c.height;const E=this.dim=c.height-2;if(this.data=new Uint32Array(c.data.buffer),this.encoding=p||"mapbox",this.borderReady=y,!y){for(let P=0;P<E;P++)this.data[this._idx(-1,P)]=this.data[this._idx(0,P)],this.data[this._idx(E,P)]=this.data[this._idx(E-1,P)],this.data[this._idx(P,-1)]=this.data[this._idx(P,0)],this.data[this._idx(P,E)]=this.data[this._idx(P,E-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(E,-1)]=this.data[this._idx(E-1,0)],this.data[this._idx(-1,E)]=this.data[this._idx(0,E-1)],this.data[this._idx(E,E)]=this.data[this._idx(E-1,E-1)],D&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new S_(this)}get(s,c,p=!1){const y=new Uint8Array(this.data.buffer);p&&(s=ne(s,-1,this.dim),c=ne(c,-1,this.dim));const D=4*this._idx(s,c);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(y[D],y[D+1],y[D+2])}static getUnpackVector(s){return kf[s]}get unpackVector(){return kf[this.encoding]}_idx(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)}_unpackMapbox(s,c,p){return(256*s*256+256*c+p)/10-1e4}_unpackTerrarium(s,c,p){return 256*s+c+p/256-32768}static pack(s,c){const p=[0,0,0,0],y=Fh.getUnpackVector(c);let D=Math.floor((s+y[3])/y[2]);return p[2]=D%256,D=Math.floor(D/256),p[1]=D%256,D=Math.floor(D/256),p[0]=D,p}getPixels(){return new yc({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(s,c,p){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let y=c*this.dim,D=c*this.dim+this.dim,E=p*this.dim,P=p*this.dim+this.dim;switch(c){case-1:y=D-1;break;case 1:D=y+1}switch(p){case-1:E=P-1;break;case 1:P=E+1}const N=-c*this.dim,j=-p*this.dim;for(let Z=E;Z<P;Z++)for(let J=y;J<D;J++)this.data[this._idx(J,Z)]=s.data[this._idx(J+N,Z+j)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}Gn("DEMData",Fh),Gn("DemMinMaxQuadTree",S_,{omit:["dem"]});class L_{constructor(s,c){this.max=s,this.onRemove=c,this.reset()}reset(){for(const s in this.data)for(const c of this.data[s])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(s,c,p){const y=s.wrapped().key;void 0===this.data[y]&&(this.data[y]=[]);const D={value:c,timeout:void 0};if(void 0!==p&&(D.timeout=setTimeout(()=>{this.remove(s,D)},p)),this.data[y].push(D),this.order.push(y),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const c=this.data[s].shift();return c.timeout&&clearTimeout(c.timeout),0===this.data[s].length&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),c.value}getByKey(s){const c=this.data[s];return c?c[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,c){if(!this.has(s))return this;const p=s.wrapped().key,y=void 0===c?0:this.data[p].indexOf(c),D=this.data[p][y];return this.data[p].splice(y,1),D.timeout&&clearTimeout(D.timeout),0===this.data[p].length&&delete this.data[p],this.onRemove(D.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(s){const c=[];for(const p in this.data)for(const y of this.data[p])s(y.value)||c.push(y);for(const p of c)this.remove(p.value.tileID,p)}}class eh{constructor(s,c,p){this.func=s,this.mask=c,this.range=p}}eh.ReadOnly=!1,eh.ReadWrite=!0,eh.disabled=new eh(519,eh.ReadOnly,[0,1]);class od{constructor(s,c,p,y,D,E){this.test=s,this.ref=c,this.mask=p,this.fail=y,this.depthFail=D,this.pass=E}}od.disabled=new od({func:519,mask:0},0,0,7680,7680,7680);class vh{constructor(s,c,p){this.blendFunction=s,this.blendColor=c,this.mask=p}}vh.Replace=[1,0],vh.disabled=new vh(vh.Replace,ar.transparent,[!1,!1,!1,!1]),vh.unblended=new vh(vh.Replace,ar.transparent,[!0,!0,!0,!0]),vh.alphaBlended=new vh([1,771],ar.transparent,[!0,!0,!0,!0]);class vc{constructor(s,c,p){this.enable=s,this.mode=c,this.frontFace=p}}vc.disabled=new vc(!1,1029,2305),vc.backCCW=new vc(!0,1029,2305),vc.backCW=new vc(!0,1029,2304),vc.frontCW=new vc(!0,1028,2304),vc.frontCCW=new vc(!0,1028,2305);class Yh extends pn{constructor(s,c,p){super(),this.id=s,this._onlySymbols=p,c.on("data",y=>{"source"===y.dataType&&"metadata"===y.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===y.dataType&&"content"===y.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),c.on("error",()=>{this._sourceErrored=!0}),this._source=c,this._tiles={},this._cache=new L_(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ow}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const s in this._tiles){const c=this._tiles[s];if("loaded"!==c.state&&"errored"!==c.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(s,c){return s.isSymbolTile=this._onlySymbols,this._source.loadTile(s,c)}_unloadTile(s){if(this._source.unloadTile)return this._source.unloadTile(s,()=>{})}_abortTile(s){if(this._source.abortTile)return this._source.abortTile(s,()=>{})}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const c in this._tiles){const p=this._tiles[c];p.upload(s),p.prepare(this.map.style.imageManager)}}getIds(){return we(this._tiles).map(s=>s.tileID).sort(k_).map(s=>s.key)}getRenderableIds(s){const c=[];for(const p in this._tiles)this._isIdRenderable(+p,s)&&c.push(this._tiles[p]);return s?c.sort((p,y)=>{const D=p.tileID,E=y.tileID,P=new W(D.canonical.x,D.canonical.y)._rotate(this.transform.angle),N=new W(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return D.overscaledZ-E.overscaledZ||N.y-P.y||N.x-P.x}).map(p=>p.tileID.key):c.map(p=>p.tileID).sort(k_).map(p=>p.key)}hasRenderableParent(s){const c=this.findLoadedParent(s,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(s,c){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(c||!this._tiles[s].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const s in this._tiles)"errored"!==this._tiles[s].state&&this._reloadTile(+s,"reloading")}}_reloadTile(s,c){const p=this._tiles[s];p&&("loading"!==p.state&&(p.state=c),this._loadTile(p,this._tileLoaded.bind(this,p,s,c)))}_tileLoaded(s,c,p,y){if(y)return s.state="errored",void(404!==y.status?this._source.fire(new Un(y,{tile:s})):this.update(this.transform));s.timeAdded=Xr.now(),"expired"===p&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(c,s),"raster-dem"===this.getSource().type&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),this._source.fire(new nn("data",{dataType:"source",tile:s,coord:s.tileID,sourceCacheId:this.id}))}_backfillDEM(s){const c=this.getRenderableIds();for(let y=0;y<c.length;y++){const D=c[y];if(s.neighboringTiles&&s.neighboringTiles[D]){const E=this.getTileByID(D);p(s,E),p(E,s)}}function p(y,D){if(!y.dem||y.dem.borderReady)return;y.needsHillshadePrepare=!0,y.needsDEMTextureUpload=!0;let E=D.tileID.canonical.x-y.tileID.canonical.x;const P=D.tileID.canonical.y-y.tileID.canonical.y,N=Math.pow(2,y.tileID.canonical.z),j=D.tileID.key;0===E&&0===P||Math.abs(P)>1||(Math.abs(E)>1&&(1===Math.abs(E+N)?E+=N:1===Math.abs(E-N)&&(E-=N)),D.dem&&y.dem&&(y.dem.backfillBorder(D.dem,E,P),y.neighboringTiles&&y.neighboringTiles[j]&&(y.neighboringTiles[j].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,c,p,y){for(const D in this._tiles){let E=this._tiles[D];if(y[D]||!E.hasData()||E.tileID.overscaledZ<=c||E.tileID.overscaledZ>p)continue;let P=E.tileID;for(;E&&E.tileID.overscaledZ>c+1;){const j=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[j.key],E&&E.hasData()&&(P=j)}let N=P;for(;N.overscaledZ>c;)if(N=N.scaledTo(N.overscaledZ-1),s[N.key]){y[P.key]=P;break}}}findLoadedParent(s,c){if(s.key in this._loadedParentTiles){const p=this._loadedParentTiles[s.key];return p&&p.tileID.overscaledZ>=c?p:null}for(let p=s.overscaledZ-1;p>=c;p--){const y=s.scaledTo(p),D=this._getLoadedTile(y);if(D)return D}}_getLoadedTile(s){const c=this._tiles[s.key];return c&&c.hasData()?c:this._cache.getByKey(this._source.reparseOverscaled?s.wrapped().key:s.canonical.key)}updateCacheSize(s,c){c=c||this._source.tileSize;const p=Math.ceil(s.width/c)+1,y=Math.ceil(s.height/c)+1,D=Math.floor(p*y*5),E="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,D):D;this._cache.setMaxSize(E)}handleWrapJump(s){const c=Math.round((s-(void 0===this._prevLng?s:this._prevLng))/360);if(this._prevLng=s,c){const p={};for(const y in this._tiles){const D=this._tiles[y];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+c),p[D.tileID.key]=D}this._tiles=p;for(const y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(const y in this._tiles)this._setTileReloadTimer(+y,this._tiles[y])}}update(s,c,p){if(this.transform=s,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!p)return;let y;this.updateCacheSize(s,c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(P=>new tc(P.canonical.z,P.wrap,P.canonical.z,P.canonical.x,P.canonical.y)):(y=s.coveringTiles({tileSize:c||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!p,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(y=y.filter(P=>this._source.hasTile(P)))):y=[];const D=this._updateRetainedTiles(y);if(wp(this._source.type)&&0!==y.length){const P={},N={},j=Object.keys(D);for(const J of j){const ee=D[J],me=this._tiles[J];if(!me||me.fadeEndTime&&me.fadeEndTime<=Xr.now())continue;const Me=this.findLoadedParent(ee,Math.max(ee.overscaledZ-Yh.maxOverzooming,this._source.minzoom));Me&&(this._addTile(Me.tileID),P[Me.tileID.key]=Me.tileID),N[J]=ee}const Z=y[y.length-1].overscaledZ;for(const J in this._tiles){const ee=this._tiles[J];if(D[J]||!ee.hasData())continue;let me=ee.tileID;for(;me.overscaledZ>Z;){me=me.scaledTo(me.overscaledZ-1);const Me=this._tiles[me.key];if(Me&&Me.hasData()&&N[me.key]){D[J]=ee.tileID;break}}}for(const J in P)D[J]||(this._coveredTiles[J]=!0,D[J]=P[J])}for(const P in D)this._tiles[P].clearFadeHold();const E=function(P,N){const j=[];for(const Z in P)Z in N||j.push(Z);return j}(this._tiles,D);for(const P of E){const N=this._tiles[P];N.hasSymbolBuckets&&!N.holdingForFade()?N.setHoldDuration(this.map._fadeDuration):N.hasSymbolBuckets&&!N.symbolFadeFinished()||this._removeTile(+P)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(+s)}_updateRetainedTiles(s){const c={};if(0===s.length)return c;const p={},y=s.reduce((j,Z)=>Math.min(j,Z.overscaledZ),1/0),D=s[0].overscaledZ,E=Math.max(D-Yh.maxOverzooming,this._source.minzoom),P=Math.max(D+Yh.maxUnderzooming,this._source.minzoom),N={};for(const j of s){const Z=this._addTile(j);c[j.key]=j,Z.hasData()||y<this._source.maxzoom&&(N[j.key]=j)}this._retainLoadedChildren(N,y,P,c);for(const j of s){let Z=this._tiles[j.key];if(Z.hasData())continue;if(j.canonical.z>=this._source.maxzoom){const ee=j.children(this._source.maxzoom)[0],me=this.getTile(ee);if(me&&me.hasData()){c[ee.key]=ee;continue}}else{const ee=j.children(this._source.maxzoom);if(c[ee[0].key]&&c[ee[1].key]&&c[ee[2].key]&&c[ee[3].key])continue}let J=Z.wasRequested();for(let ee=j.overscaledZ-1;ee>=E;--ee){const me=j.scaledTo(ee);if(p[me.key]||(p[me.key]=!0,Z=this.getTile(me),!Z&&J&&(Z=this._addTile(me)),Z&&(c[me.key]=me,J=Z.wasRequested(),Z.hasData())))break}}return c}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const c=[];let p,y=this._tiles[s].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){p=this._loadedParentTiles[y.key];break}c.push(y.key);const D=y.scaledTo(y.overscaledZ-1);if(p=this._getLoadedTile(D),p)break;y=D}for(const D of c)this._loadedParentTiles[D]=p}}_addTile(s){let c=this._tiles[s.key];if(c)return c;c=this._cache.getAndRemove(s),c&&(this._setTileReloadTimer(s.key,c),c.tileID=s,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,c)));const p=Boolean(c);if(!p){const y=this.map?this.map.painter:null;c=new Cm(s,this._source.tileSize*s.overscaleFactor(),this.transform.tileZoom,y,"raster"===this._source.type||"raster-dem"===this._source.type),this._loadTile(c,this._tileLoaded.bind(this,c,s.key,c.state))}return c?(c.uses++,this._tiles[s.key]=c,p||this._source.fire(new nn("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c):null}_setTileReloadTimer(s,c){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const p=c.getExpiryTimeout();p&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},p))}_removeTile(s){const c=this._tiles[s];c&&(c.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),c.uses>0||(c.hasData()&&"reloading"!==c.state?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(+s);this._source._clear&&this._source._clear(),this._cache.reset()}tilesIn(s,c,p){const y=[],D=this.transform;if(!D)return y;for(const E in this._tiles){const P=this._tiles[E];if(p&&P.clearQueryDebugViz(),P.holdingForFade())continue;const N=s.containsTile(P,D,c);N&&y.push(N)}return y}getVisibleCoordinates(s){const c=this.getRenderableIds(s).map(p=>this._tiles[p].tileID);for(const p of c)p.projMatrix=this.transform.calculateProjMatrix(p.toUnwrapped());return c}hasTransition(){if(this._source.hasTransition())return!0;if(wp(this._source.type))for(const s in this._tiles){const c=this._tiles[s];if(void 0!==c.fadeEndTime&&c.fadeEndTime>=Xr.now())return!0}return!1}setFeatureState(s,c,p){this._state.updateState(s=s||"_geojsonTileLayer",c,p)}removeFeatureState(s,c,p){this._state.removeFeatureState(s=s||"_geojsonTileLayer",c,p)}getFeatureState(s,c){return this._state.getState(s=s||"_geojsonTileLayer",c)}setDependencies(s,c,p){const y=this._tiles[s];y&&y.setDependencies(c,p)}reloadTilesForDependencies(s,c){for(const p in this._tiles)this._tiles[p].hasDependency(s,c)&&this._reloadTile(+p,"reloading");this._cache.filter(p=>!p.hasDependency(s,c))}}function k_(u,s){const c=Math.abs(2*u.wrap)-+(u.wrap<0),p=Math.abs(2*s.wrap)-+(s.wrap<0);return u.overscaledZ-s.overscaledZ||p-c||s.canonical.y-u.canonical.y||s.canonical.x-u.canonical.x}function wp(u){return"raster"===u||"image"===u||"video"===u}Yh.maxOverzooming=10,Yh.maxUnderzooming=3;class km{constructor(s,c,p){this._demTile=s,this._dem=this._demTile.dem,this._scale=c,this._offset=p}static create(s,c,p){const y=p||s.findDEMTileFor(c);if(!y||!y.dem)return;const D=y.dem,E=y.tileID,P=1<<c.canonical.z-E.canonical.z;return new km(y,y.tileSize/Wi/P,[(c.canonical.x/P-E.canonical.x)*D.dim,(c.canonical.y/P-E.canonical.y)*D.dim])}tileCoordToPixel(s,c){const p=c*this._scale+this._offset[1],y=Math.floor(s*this._scale+this._offset[0]),D=Math.floor(p);return new W(y,D)}getElevationAt(s,c,p,y){const D=s*this._scale+this._offset[0],E=c*this._scale+this._offset[1],P=Math.floor(D),N=Math.floor(E),j=this._dem;return y=!!y,p?kr(kr(j.get(P,N,y),j.get(P,N+1,y),E-N),kr(j.get(P+1,N,y),j.get(P+1,N+1,y),E-N),D-P):j.get(P,N,y)}getElevationAtPixel(s,c,p){return this._dem.get(s,c,!!p)}getMeterToDEM(s){return(1<<this._demTile.tileID.canonical.z)*Qh(1,s)*this._dem.stride}}class I_{constructor(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new pc(Wi,16,0),this.featureIndexArray=new Ne,this.promoteId=c}insert(s,c,p,y,D,E=0){const P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,y,D,E);const N=this.grid;for(let j=0;j<c.length;j++){const Z=c[j],J=[1/0,1/0,-1/0,-1/0];for(let ee=0;ee<Z.length;ee++){const me=Z[ee];J[0]=Math.min(J[0],me.x),J[1]=Math.min(J[1],me.y),J[2]=Math.max(J[2],me.x),J[3]=Math.max(J[3],me.y)}J[0]<Wi&&J[1]<Wi&&J[2]>=0&&J[3]>=0&&N.insert(P,J[0],J[1],J[2],J[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new $c.VectorTile(new cm(this.rawTileData)).layers,this.sourceLayerCoder=new iw(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const s in this.vtLayers)this.vtFeatures[s]=[]}return this.vtLayers}query(s,c,p,y){this.loadVTLayers();const D=s.params||{},E=hu(D.filter),P=s.tileResult,N=s.transform,j=P.bufferedTilespaceBounds,Z=this.grid.query(j.min.x,j.min.y,j.max.x,j.max.y,(Me,Ye,nt,lt)=>dx(P.bufferedTilespaceGeometry,Me,Ye,nt,lt));Z.sort(qv);let J=null;N.elevation&&Z.length>0&&(J=km.create(N.elevation,this.tileID));const ee={};let me;for(let Me=0;Me<Z.length;Me++){const Ye=Z[Me];if(Ye===me)continue;me=Ye;const nt=this.featureIndexArray.get(Ye);let lt=null;this.loadMatchingFeature(ee,nt,E,D.layers,D.availableImages,c,p,y,(wt,Tt,Ot,At=0)=>(lt||(lt=td(wt,this.tileID.canonical,s.tileTransform)),Tt.queryIntersectsFeature(P,wt,Ot,lt,this.z,s.transform,s.pixelPosMatrix,J,At)))}return ee}loadMatchingFeature(s,c,p,y,D,E,P,N,j){const{featureIndex:Z,bucketIndex:J,sourceLayerIndex:ee,layoutVertexArrayOffset:me}=c,Me=this.bucketLayerIDs[J];if(y&&!function(wt,Tt){for(let Ot=0;Ot<wt.length;Ot++)if(Tt.indexOf(wt[Ot])>=0)return!0;return!1}(y,Me))return;const Ye=this.sourceLayerCoder.decode(ee),nt=this.vtLayers[Ye].feature(Z);if(p.needGeometry){const wt=Wc(nt,!0);if(!p.filter(new ce(this.tileID.overscaledZ),wt,this.tileID.canonical))return}else if(!p.filter(new ce(this.tileID.overscaledZ),nt))return;const lt=this.getId(nt,Ye);for(let wt=0;wt<Me.length;wt++){const Tt=Me[wt];if(y&&y.indexOf(Tt)<0)continue;const Ot=E[Tt];if(!Ot)continue;let At={};void 0!==lt&&N&&(At=N.getState(Ot.sourceLayer||"_geojsonTileLayer",lt));const Nt=ae({},P[Tt]);Nt.paint=aw(Nt.paint,Ot.paint,nt,At,D),Nt.layout=aw(Nt.layout,Ot.layout,nt,At,D);const cn=!j||j(nt,Ot,At,me);if(!cn)continue;const en=new sw(nt,this.z,this.x,this.y,lt);en.layer=Nt;let Nn=s[Tt];void 0===Nn&&(Nn=s[Tt]=[]),Nn.push({featureIndex:Z,feature:en,intersectionZ:cn})}}lookupSymbolFeatures(s,c,p,y,D,E,P,N){const j={};this.loadVTLayers();const Z=hu(D);for(const J of s)this.loadMatchingFeature(j,{bucketIndex:p,sourceLayerIndex:y,featureIndex:J,layoutVertexArrayOffset:0},Z,E,P,N,c);return j}loadFeature(s){const{featureIndex:c,sourceLayerIndex:p}=s;this.loadVTLayers();const y=this.sourceLayerCoder.decode(p),D=this.vtFeatures[y];if(D[c])return D[c];const E=this.vtLayers[y].feature(c);return D[c]=E,E}hasLayer(s){for(const c of this.bucketLayerIDs)for(const p of c)if(s===p)return!0;return!1}getId(s,c){let p=s.id;return this.promoteId&&(p=s.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[c]],"boolean"==typeof p&&(p=Number(p))),p}}function aw(u,s,c,p,y){return Mt(u,(D,E)=>{const P=s instanceof ut?s.get(E):null;return P&&P.evaluate?P.evaluate(c,p,y):P})}function qv(u,s){return s-u}Gn("FeatureIndex",I_,{omit:["rawTileData","sourceLayerCoder"]});class P_{constructor(s){const c={},p=[];for(const P in s){const N=s[P],j=c[P]={};for(const Z in N.glyphs){const J=N.glyphs[+Z];if(!J||0===J.bitmap.width||0===J.bitmap.height)continue;const ee=J.metrics.localGlyph?2:1,me={x:0,y:0,w:J.bitmap.width+2*ee,h:J.bitmap.height+2*ee};p.push(me),j[Z]=me}}const{w:y,h:D}=s_(p),E=new nd({width:y||1,height:D||1});for(const P in s){const N=s[P];for(const j in N.glyphs){const Z=N.glyphs[+j];if(!Z||0===Z.bitmap.width||0===Z.bitmap.height)continue;const J=c[P][j],ee=Z.metrics.localGlyph?2:1;nd.copy(Z.bitmap,E,{x:0,y:0},{x:J.x+ee,y:J.y+ee},Z.bitmap)}}this.image=E,this.positions=c}}Gn("GlyphAtlas",P_);class lw{constructor(s){this.tileID=new tc(s.tileID.overscaledZ,s.tileID.wrap,s.tileID.canonical.z,s.tileID.canonical.x,s.tileID.canonical.y),this.tileZoom=s.tileZoom,this.uid=s.uid,this.zoom=s.zoom,this.canonical=s.tileID.canonical,this.pixelRatio=s.pixelRatio,this.tileSize=s.tileSize,this.source=s.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=s.showCollisionBoxes,this.collectResourceTiming=!!s.collectResourceTiming,this.returnDependencies=!!s.returnDependencies,this.promoteId=s.promoteId,this.enableTerrain=!!s.enableTerrain,this.isSymbolTile=s.isSymbolTile,s.projection&&(this.tileTransform=bm(s.tileID.canonical,s.projection))}parse(s,c,p,y,D){this.status="parsing",this.data=s,this.collisionBoxArray=new Va;const E=new iw(Object.keys(s.layers).sort()),P=new I_(this.tileID,this.promoteId);P.bucketLayerIDs=[];const N={},j=new Bv(256,256),Z={featureIndex:P,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:j,availableImages:p},J=c.familiesBySource[this.source];for(const At in J){const Nt=s.layers[At];if(!Nt)continue;let cn=!1,en=!1;for(const dn of J[At])"symbol"===dn[0].type?cn=!0:en=!0;if(!0===this.isSymbolTile&&!cn||!1===this.isSymbolTile&&!en)continue;1===Nt.version&&Re(`Vector tile source "${this.source}" layer "${At}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Nn=E.encode(At),En=[];for(let dn=0;dn<Nt.length;dn++){const Dn=Nt.feature(dn),Tn=P.getId(Dn,At);En.push({feature:Dn,id:Tn,index:dn,sourceLayerIndex:Nn})}for(const dn of J[At]){const Dn=dn[0];void 0!==this.isSymbolTile&&"symbol"===Dn.type!==this.isSymbolTile||Dn.minzoom&&this.zoom<Math.floor(Dn.minzoom)||Dn.maxzoom&&this.zoom>=Dn.maxzoom||"none"!==Dn.visibility&&(Im(dn,this.zoom,p),(N[Dn.id]=Dn.createBucket({index:P.bucketLayerIDs.length,layers:dn,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Nn,sourceID:this.source,enableTerrain:this.enableTerrain,availableImages:p})).populate(En,Z,this.tileID.canonical,this.tileTransform),P.bucketLayerIDs.push(dn.map(Tn=>Tn.id)))}}let ee,me,Me,Ye;j.trim();const nt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},lt=Mt(Z.glyphDependencies,At=>Object.keys(At).map(Number));Object.keys(lt).length?y.send("getGlyphs",{uid:this.uid,stacks:lt},(At,Nt)=>{ee||(ee=At,me=Nt,Ot.call(this))},void 0,!1,nt):me={};const wt=Object.keys(Z.iconDependencies);wt.length?y.send("getImages",{icons:wt,source:this.source,tileID:this.tileID,type:"icons"},(At,Nt)=>{ee||(ee=At,Me=Nt,Ot.call(this))},void 0,!1,nt):Me={};const Tt=Object.keys(Z.patternDependencies);function Ot(){if(ee)return D(ee);if(me&&Me&&Ye){const At=new P_(me),Nt=new Dv(Me,Ye);for(const cn in N){const en=N[cn];en instanceof _h?(Im(en.layers,this.zoom,p),Kx(en,me,At.positions,Me,Nt.iconPositions,this.showCollisionBoxes,p,this.tileID.canonical,this.tileZoom)):en.hasPattern&&(en instanceof am||en instanceof gf||en instanceof Jl)&&(Im(en.layers,this.zoom,p),en.addFeatures(Z,this.tileID.canonical,Nt.patternPositions,p))}this.status="done",D(null,{buckets:we(N).filter(cn=>!cn.isEmpty()),featureIndex:P,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:At.image,lineAtlas:j,imageAtlas:Nt,glyphMap:this.returnDependencies?me:null,iconMap:this.returnDependencies?Me:null,glyphPositions:this.returnDependencies?At.positions:null})}}Tt.length?y.send("getImages",{icons:Tt,source:this.source,tileID:this.tileID,type:"patterns"},(At,Nt)=>{ee||(ee=At,Ye=Nt,Ot.call(this))},void 0,!1,nt):Ye={},Ot.call(this)}}function Im(u,s,c){const p=new ce(s);for(const y of u)y.recalculate(p,c)}class Wv{constructor(s){this.entries={},this.scheduler=s}request(s,c,p,y){const D=this.entries[s]=this.entries[s]||{callbacks:[]};if(D.result){const[E,P]=D.result;return this.scheduler?this.scheduler.add(()=>{y(E,P)},c):y(E,P),()=>{}}return D.callbacks.push(y),D.cancel||(D.cancel=p((E,P)=>{D.result=[E,P];for(const N of D.callbacks)this.scheduler?this.scheduler.add(()=>{N(E,P)},c):N(E,P);setTimeout(()=>delete this.entries[s],3e3)})),()=>{D.result||(D.callbacks=D.callbacks.filter(E=>E!==y),D.callbacks.length||(D.cancel(),delete this.entries[s]))}}}function $v(u,s,c){const p=JSON.stringify(u.request);return u.data&&(this.deduped.entries[p]={result:[null,u.data]}),this.deduped.request(p,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},y=>{const D=be(u.request,(E,P,N,j)=>{E?y(E):P&&y(null,{vectorTile:c?void 0:new $c.VectorTile(new cm(P)),rawData:P,cacheControl:N,expires:j})});return()=>{D.cancel(),y()}},s)}var xc={name:"albers",range:[4,7],center:[-96,37.5],parallels:[29.5,45.5],conic:!0,initializeConstants(){if(this.constants&&Rd(this.parallels,this.constants.parallels))return;const u=Math.sin(it(this.parallels[0])),s=(u+Math.sin(it(this.parallels[1])))/2,c=1+u*(2*s-u),p=Math.sqrt(c)/s;this.constants={n:s,c,r0:p,parallels:this.parallels}},project(u,s){this.initializeConstants();const c=it(u-this.center[0]),p=it(s),{n:y,c:D,r0:E}=this.constants,P=Math.sqrt(D-2*y*Math.sin(p))/y;return{x:P*Math.sin(c*y),y:P*Math.cos(c*y)-E}},unproject(u,s){this.initializeConstants();const{n:c,c:p,r0:y}=this.constants,D=y+s;let E=Math.atan2(u,Math.abs(D))*Math.sign(D);D*c<0&&(E-=Math.PI*Math.sign(u)*Math.sign(D));const P=it(this.center[0])*c;E=re(E,-Math.PI-P,Math.PI-P);const N=Q(E/c)+this.center[0],j=Math.asin(ne((p-(u*u+D*D)*c*c)/(2*c),-1,1)),Z=ne(Q(j),-85.051129,ed);return new fo(N,Z)}};const bp=1.340264,Mp=-.081106,Pm=893e-6,Am=.003796,Dp=Math.sqrt(3)/2;var nE={name:"equalEarth",center:[0,0],range:[3.5,7],project(u,s){s=s/180*Math.PI,u=u/180*Math.PI;const c=Math.asin(Dp*Math.sin(s)),p=c*c,y=p*p*p;return{x:.5*(u*Math.cos(c)/(Dp*(bp+3*Mp*p+y*(7*Pm+9*Am*p)))/Math.PI+.5),y:1-.5*(c*(bp+Mp*p+y*(Pm+Am*p))/Math.PI+1)}},unproject(u,s){u=(2*u-.5)*Math.PI;let c=s=(2*(1-s)-1)*Math.PI,p=c*c,y=p*p*p;for(let j,Z,J,ee=0;ee<12&&(Z=c*(bp+Mp*p+y*(Pm+Am*p))-s,J=bp+3*Mp*p+y*(7*Pm+9*Am*p),j=Z/J,c=ne(c-j,-Math.PI/3,Math.PI/3),p=c*c,y=p*p*p,!(Math.abs(j)<1e-12));++ee);const D=Dp*u*(bp+3*Mp*p+y*(7*Pm+9*Am*p))/Math.cos(c),E=Math.asin(Math.sin(c)/Dp),P=ne(180*D/Math.PI,-180,180),N=ne(180*E/Math.PI,-85.051129,ed);return new fo(P,N)}},uw={name:"equirectangular",wrap:!0,center:[0,0],range:[3.5,7],project:(u,s)=>({x:.5+u/360,y:.5-s/360}),unproject(u,s){const c=360*(u-.5),p=ne(360*(.5-s),-85.051129,ed);return new fo(c,p)}};const ad=Math.PI/2;function Ep(u){return Math.tan((ad+u)/2)}var cw={name:"lambertConformalConic",range:[3.5,7],center:[0,30],parallels:[30,30],conic:!0,initializeConstants(){if(this.constants&&Rd(this.parallels,this.constants.parallels))return;const u=it(this.parallels[0]),s=it(this.parallels[1]),c=Math.cos(u),p=u===s?Math.sin(u):Math.log(c/Math.cos(s))/Math.log(Ep(s)/Ep(u)),y=c*Math.pow(Ep(u),p)/p;this.constants={n:p,f:y,parallels:this.parallels}},project(u,s){this.initializeConstants(),s=it(s),u=it(u-this.center[0]);const c=1e-6,{n:p,f:y}=this.constants;y>0?s<-ad+c&&(s=-ad+c):s>ad-c&&(s=ad-c);const D=y/Math.pow(Ep(s),p),E=D*Math.sin(p*u),P=y-D*Math.cos(p*u);return{x:.5*(E/Math.PI+.5),y:1-.5*(P/Math.PI+.5)}},unproject(u,s){this.initializeConstants(),u=(2*u-.5)*Math.PI,s=(2*(1-s)-.5)*Math.PI;const{n:c,f:p}=this.constants,y=p-s,D=Math.sign(y),E=Math.sign(c)*Math.sqrt(u*u+y*y);let P=Math.atan2(u,Math.abs(y))*D;y*c<0&&(P-=Math.PI*Math.sign(u)*D);const N=ne(Q(P/c)+this.center[0],-180,180),j=ne(Q(2*Math.atan(Math.pow(p/E,1/c))-ad),-85.051129,ed);return new fo(N,j)}},hw={name:"mercator",wrap:!0,center:[0,0],project:(u,s)=>({x:Gu(u),y:Qf(s)}),unproject(u,s){const c=af(u),p=qc(s);return new fo(c,p)}};const Zv=it(ed);var Xv={name:"naturalEarth",center:[0,0],range:[3.5,7],project(u,s){const c=(s=it(s))*s,p=c*c;return{x:.5*((u=it(u))*(.8707-.131979*c+p*(p*(.003971*c-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(s*(1.007226+c*(.015085+p*(.028874*c-.044475-.005916*p)))/Math.PI+1)}},unproject(u,s){u=(2*u-.5)*Math.PI;let c=s=(2*(1-s)-1)*Math.PI,p=25,y=0,D=c*c;do{D=c*c;const N=D*D;y=(c*(1.007226+D*(.015085+N*(.028874*D-.044475-.005916*N)))-s)/(1.007226+D*(.045255+N*(.259866*D-.311325-.005916*11*N))),c=ne(c-y,-Zv,Zv)}while(Math.abs(y)>1e-6&&--p>0);D=c*c;const E=ne(Q(u/(.8707+D*(D*(D*D*D*(.003971-.001529*D)-.013791)-.131979))),-180,180),P=Q(c);return new fo(E,P)}};const Jv=it(ed),A_={albers:xc,equalEarth:nE,equirectangular:uw,lambertConformalConic:cw,mercator:hw,naturalEarth:Xv,winkelTripel:{name:"winkelTripel",center:[0,0],range:[3.5,7],project(u,s){s=it(s),u=it(u);const c=Math.cos(s),p=2/Math.PI,y=Math.acos(c*Math.cos(u/2)),D=Math.sin(y)/y,E=.5*(u*p+2*c*Math.sin(u/2)/D)||0,P=.5*(s+Math.sin(s)/D)||0;return{x:.5*(E/Math.PI+.5),y:1-.5*(P/Math.PI+1)}},unproject(u,s){let c=u=(2*u-.5)*Math.PI,p=s=(2*(1-s)-1)*Math.PI,y=25;const D=1e-6;let E=0,P=0;do{const N=Math.cos(p),j=Math.sin(p),Z=2*j*N,J=j*j,ee=N*N,me=Math.cos(c/2),Me=Math.sin(c/2),Ye=2*me*Me,nt=Me*Me,lt=1-ee*me*me,wt=lt?1/lt:0,Tt=lt?Math.acos(N*me)*Math.sqrt(1/lt):0,Ot=.5*(2*Tt*N*Me+2*c/Math.PI)-u,At=.5*(Tt*j+p)-s,Nt=.5*wt*(ee*nt+Tt*N*me*J)+1/Math.PI,cn=wt*(Ye*Z/4-Tt*j*Me),en=.125*wt*(Z*Me-Tt*j*ee*Ye),Nn=.5*wt*(J*me+Tt*nt*N)+.5,En=cn*en-Nn*Nt;E=(At*cn-Ot*Nn)/En,P=(Ot*en-At*Nt)/En,c=ne(c-E,-Math.PI,Math.PI),p=ne(p-P,-Jv,Jv)}while((Math.abs(E)>D||Math.abs(P)>D)&&--y>0);return new fo(Q(c),Q(p))}}};d.ARRAY_TYPE=gu,d.AUTH_ERR_MSG=_t,d.Actor=class{constructor(u,s,c){this.target=u,this.parent=s,this.mapId=c,this.callbacks={},this.cancelCallbacks={},Pt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=_n()?u:Le,this.scheduler=new jv}send(u,s,c,p,y=!1,D){const E=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(c.metadata=D,this.callbacks[E]=c);const P=On(this.globalScope)?void 0:[];return this.target.postMessage({id:E,type:u,hasCallback:!!c,targetMapId:p,mustQueue:y,sourceMapId:this.mapId,data:fu(s,P)},P),{cancel:()=>{c&&delete this.callbacks[E],this.target.postMessage({id:E,type:"<cancel>",targetMapId:p,sourceMapId:this.mapId})}}}receive(u){const s=u.data,c=s.id;if(c&&(!s.targetMapId||this.mapId===s.targetMapId))if("<cancel>"===s.type){const p=this.cancelCallbacks[c];delete this.cancelCallbacks[c],p&&p.cancel()}else if(s.mustQueue||_n()){const p=this.callbacks[c];this.cancelCallbacks[c]=this.scheduler.add(()=>this.processTask(c,s),p&&p.metadata||{type:"message"})}else this.processTask(c,s)}processTask(u,s){if("<response>"===s.type){const c=this.callbacks[u];delete this.callbacks[u],c&&(s.error?c(Bu(s.error)):c(null,Bu(s.data)))}else{const c=On(this.globalScope)?void 0:[],p=s.hasCallback?(D,E)=>{delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:D?fu(D):null,data:fu(E,c)},c)}:D=>{},y=Bu(s.data);if(this.parent[s.type])this.parent[s.type](s.sourceMapId,y,p);else if(this.parent.getWorkerSource){const D=s.type.split(".");this.parent.getWorkerSource(s.sourceMapId,D[0],y.source)[D[1]](y,p)}else p(new Error(`Could not find function ${s.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},d.CanonicalTileID=Vv,d.Color=ar,d.ColorMode=vh,d.CullFaceMode=vc,d.DEMData=Fh,d.DataConstantProperty=Ke,d.DedupedRequest=Wv,d.DepthMode=eh,d.EXTENT=Wi,d.Elevation=class{getAtPointOrZero(u,s=0){return this.getAtPoint(u,s)||0}getAtPoint(u,s,c=!0){null==s&&(s=null);const p=this._source();if(!p||u.y<0||u.y>1)return s;const y=p.getSource().maxzoom,D=1<<y,E=Math.floor(u.x),P=u.x-E,N=new tc(y,E,y,Math.floor(P*D),Math.floor(u.y*D)),j=this.findDEMTileFor(N);if(!j||!j.dem)return s;const Z=j.dem,J=1<<j.tileID.canonical.z,ee=(P*J-j.tileID.canonical.x)*Z.dim,me=(u.y*J-j.tileID.canonical.y)*Z.dim,Me=Math.floor(ee),Ye=Math.floor(me);return(c?this.exaggeration():1)*kr(kr(Z.get(Me,Ye),Z.get(Me,Ye+1),me-Ye),kr(Z.get(Me+1,Ye),Z.get(Me+1,Ye+1),me-Ye),ee-Me)}getAtTileOffset(u,s,c){const p=1<<u.canonical.z;return this.getAtPointOrZero(new qp(u.wrap+(u.canonical.x+s/Wi)/p,(u.canonical.y+c/Wi)/p))}getForTilePoints(u,s,c,p){const y=km.create(this,u,p);return!!y&&(s.forEach(D=>{D[2]=this.exaggeration()*y.getElevationAt(D[0],D[1],c)}),!0)}getMinMaxForTile(u){const s=this.findDEMTileFor(u);if(!s||!s.dem)return null;const c=s.dem.tree,p=s.tileID,y=1<<u.canonical.z-p.canonical.z;let D=u.canonical.x/y-p.canonical.x,E=u.canonical.y/y-p.canonical.y,P=0;for(let N=0;N<u.canonical.z-p.canonical.z&&!c.leaves[P];N++){D*=2,E*=2;const j=2*Math.floor(E)+Math.floor(D);P=c.childOffsets[P]+j,D%=1,E%=1}return{min:this.exaggeration()*c.minimums[P],max:this.exaggeration()*c.maximums[P]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,s,c){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},d.ErrorEvent=Un,d.EvaluationParameters=ce,d.Event=nn,d.Evented=pn,d.GlyphManager=Tf,d.ImagePosition=o_,d.LineAtlas=Bv,d.LngLat=fo,d.LngLatBounds=kd,d.LocalGlyphMode=__,d.MAX_MERCATOR_LATITUDE=ed,d.MAX_SAFE_INTEGER=rt,d.MercatorCoordinate=qp,d.ONE_EM=24,d.OverscaledTileID=tc,d.Properties=an,d.RGBAImage=yc,d.RequestManager=class{constructor(u,s,c){this._transformRequestFn=u,this._customAccessToken=s,this._silenceAuthErrors=!!c,this._createSkuToken()}_createSkuToken(){const u=function(){let s="";for(let c=0;c<10;c++)s+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ze,s].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=u.token,this._skuTokenExpiresAt=u.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(u,s){return this._transformRequestFn&&this._transformRequestFn(u,s)||{url:u}}normalizeStyleURL(u,s){if(!zt(u))return u;const c=Ut(u);return c.path=`/styles/v1${c.path}`,this._makeAPIURL(c,this._customAccessToken||s)}normalizeGlyphsURL(u,s){if(!zt(u))return u;const c=Ut(u);return c.path=`/fonts/v1${c.path}`,this._makeAPIURL(c,this._customAccessToken||s)}normalizeSourceURL(u,s){if(!zt(u))return u;const c=Ut(u);return c.path=`/v4/${c.authority}.json`,c.params.push("secure"),this._makeAPIURL(c,this._customAccessToken||s)}normalizeSpriteURL(u,s,c,p){const y=Ut(u);return zt(u)?(y.path=`/styles/v1${y.path}/sprite${s}${c}`,this._makeAPIURL(y,this._customAccessToken||p)):(y.path+=`${s}${c}`,qn(y))}normalizeTileURL(u,s,c){if(this._isSkuTokenExpired()&&this._createSkuToken(),u&&!zt(u))return u;const p=Ut(u);p.path=p.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${s||c&&"raster"!==p.authority&&512===c?"@2x":""}${oi.supported?".webp":"$1"}`),"raster"===p.authority?p.path=`/${or.RASTER_URL_PREFIX}${p.path}`:(p.path=p.path.replace(/^.+\/v4\//,"/"),p.path=`/${or.TILE_URL_VERSION}${p.path}`);const y=this._customAccessToken||function(D){for(const E of D){const P=E.match(/^access_token=(.*)$/);if(P)return P[1]}return null}(p.params)||or.ACCESS_TOKEN;return or.REQUIRE_ACCESS_TOKEN&&y&&this._skuToken&&p.params.push(`sku=${this._skuToken}`),this._makeAPIURL(p,y)}canonicalizeTileURL(u,s){const c=Ut(u);if(!c.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!c.path.match(/\.[\w]+$/))return u;let p="mapbox://";c.path.match(/^\/raster\/v1\//)?p+=`raster/${c.path.replace(`/${or.RASTER_URL_PREFIX}/`,"")}`:p+=`tiles/${c.path.replace(`/${or.TILE_URL_VERSION}/`,"")}`;let y=c.params;return s&&(y=y.filter(D=>!D.match(/^access_token=/))),y.length&&(p+=`?${y.join("&")}`),p}canonicalizeTileset(u,s){const c=!!s&&zt(s),p=[];for(const y of u.tiles||[])sn(y)?p.push(this.canonicalizeTileURL(y,c)):p.push(y);return p}_makeAPIURL(u,s){const c="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",p=Ut(or.API_URL);if(u.protocol=p.protocol,u.authority=p.authority,"http"===u.protocol){const y=u.params.indexOf("secure");y>=0&&u.params.splice(y,1)}if("/"!==p.path&&(u.path=`${p.path}${u.path}`),!or.REQUIRE_ACCESS_TOKEN)return qn(u);if(s=s||or.ACCESS_TOKEN,!this._silenceAuthErrors){if(!s)throw new Error(`An API access token is required to use Mapbox GL. ${c}`);if("s"===s[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${c}`)}return u.params=u.params.filter(y=>-1===y.indexOf("access_token")),u.params.push(`access_token=${s||""}`),qn(u)}},d.ResourceType=xr,d.SegmentVector=Ua,d.SourceCache=Yh,d.StencilMode=od,d.StructArrayLayout1ui2=ul,d.StructArrayLayout2f1f2i16=_a,d.StructArrayLayout2i4=Zn,d.StructArrayLayout2ui4=vo,d.StructArrayLayout3f12=Hr,d.StructArrayLayout3ui6=Io,d.StructArrayLayout4i8=Rr,d.Texture=vp,d.Tile=Cm,d.Transitionable=et,d.Uniform1f=rf,d.Uniform1i=class extends dh{constructor(u,s){super(u,s),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},d.Uniform2f=class extends dh{constructor(u,s){super(u,s),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},d.Uniform3f=class extends dh{constructor(u,s){super(u,s),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},d.Uniform4f=Ld,d.UniformColor=sf,d.UniformMatrix2f=class extends dh{constructor(u,s){super(u,s),this.current=lx}set(u){for(let s=0;s<4;s++)if(u[s]!==this.current[s]){this.current=u,this.gl.uniformMatrix2fv(this.location,!1,u);break}}},d.UniformMatrix3f=class extends dh{constructor(u,s){super(u,s),this.current=Oi}set(u){for(let s=0;s<9;s++)if(u[s]!==this.current[s]){this.current=u,this.gl.uniformMatrix3fv(this.location,!1,u);break}}},d.UniformMatrix4f=class extends dh{constructor(u,s){super(u,s),this.current=ax}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let s=1;s<16;s++)if(u[s]!==this.current[s]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},d.UnwrappedTileID=rw,d.ValidationError=qt,d.VectorTileWorkerSource=class extends pn{constructor(u,s,c,p,y){super(),this.actor=u,this.layerIndex=s,this.availableImages=c,this.loadVectorData=y||$v,this.loading={},this.loaded={},this.deduped=new Wv(u.scheduler),this.isSpriteLoaded=p,this.scheduler=u.scheduler}loadTile(u,s){const c=u.uid,p=u&&u.request,y=p&&p.collectResourceTiming,D=this.loading[c]=new lw(u);D.abort=this.loadVectorData(u,(E,P)=>{const N=!this.loading[c];if(delete this.loading[c],N||E||!P)return D.status="done",N||(this.loaded[c]=D),s(E);const j=P.rawData,Z={};P.expires&&(Z.expires=P.expires),P.cacheControl&&(Z.cacheControl=P.cacheControl),D.vectorTile=P.vectorTile||new $c.VectorTile(new cm(j));const J=()=>{D.parse(D.vectorTile,this.layerIndex,this.availableImages,this.actor,(ee,me)=>{if(ee||!me)return s(ee);const Me={};if(y){const Ye=D_(p);Ye.length>0&&(Me.resourceTiming=JSON.parse(JSON.stringify(Ye)))}s(null,ae({rawTileData:j.slice(0)},me,Z,Me))})};this.isSpriteLoaded?J():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(J,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom}):J()}),this.loaded=this.loaded||{},this.loaded[c]=D})}reloadTile(u,s){const c=this.loaded,p=u.uid,y=this;if(c&&c[p]){const D=c[p];D.showCollisionBoxes=u.showCollisionBoxes,D.enableTerrain=!!u.enableTerrain;const E=(P,N)=>{const j=D.reloadCallback;j&&(delete D.reloadCallback,D.parse(D.vectorTile,y.layerIndex,this.availableImages,y.actor,j)),s(P,N)};"parsing"===D.status?D.reloadCallback=E:"done"===D.status&&(D.vectorTile?D.parse(D.vectorTile,this.layerIndex,this.availableImages,this.actor,E):E())}}abortTile(u,s){const c=u.uid,p=this.loading[c];p&&(p.abort&&p.abort(),delete this.loading[c]),s()}removeTile(u,s){const c=this.loaded,p=u.uid;c&&c[p]&&delete c[p],s()}},d.WritingMode=Qu,d.ZoomHistory=mc,d.add=function(u,s,c){return u[0]=s[0]+c[0],u[1]=s[1]+c[1],u[2]=s[2]+c[2],u},d.addDynamicAttributes=ym,d.altitudeFromMercatorZ=Lg,d.asyncAll=fe,d.bezier=xe,d.bindAll=Pt,d.boundsAttributes=xp,d.bufferConvexPolygon=function(u,s){const c=[];for(let p=0;p<u.length;p++){const y=re(p-1,-1,u.length-1),D=re(p+1,-1,u.length-1),E=u[p],P=u[D],N=u[y].sub(E).unit(),j=P.sub(E).unit(),Z=j.angleWithSep(N.x,N.y),J=N.add(j).unit().mult(-1*s/Math.sin(Z/2));c.push(E.add(J))}return c},d.cacheEntryPossiblyAdded=function(u){oa++,oa>Ys&&(u.getActor().send("enforceCacheSizeLimit",ai),oa=0)},d.clamp=ne,d.clearTileCache=function(u){const s=Le.caches.delete(qs);u&&s.catch(u).then(()=>u())},d.clipLine=mm,d.clone=function(u){var s=new gu(3);return s[0]=u[0],s[1]=u[1],s[2]=u[2],s},d.clone$1=function(u){var s=new gu(16);return s[0]=u[0],s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4],s[5]=u[5],s[6]=u[6],s[7]=u[7],s[8]=u[8],s[9]=u[9],s[10]=u[10],s[11]=u[11],s[12]=u[12],s[13]=u[13],s[14]=u[14],s[15]=u[15],s},d.clone$2=xt,d.collisionCircleLayout=Bx,d.config=or,d.conjugate=function(u,s){return u[0]=-s[0],u[1]=-s[1],u[2]=-s[2],u[3]=s[3],u},d.copy=function(u,s){return u[0]=s[0],u[1]=s[1],u[2]=s[2],u},d.create=Ad,d.create$1=function(){var u=new gu(16);return gu!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},d.create$2=Pd,d.createExpression=Ni,d.createLayout=Vt,d.createStyleLayer=function(u){return"custom"===u.type?new xm(u):new M_[u.type](u)},d.cross=function(u,s,c){var p=s[0],y=s[1],D=s[2],E=c[0],P=c[1],N=c[2];return u[0]=y*N-D*P,u[1]=D*E-p*N,u[2]=p*P-y*E,u},d.degToRad=it,d.div=function(u,s,c){return u[0]=s[0]/c[0],u[1]=s[1]/c[1],u[2]=s[2]/c[2],u},d.dot=function(u,s){return u[0]*s[0]+u[1]*s[1]+u[2]*s[2]},d.dot$1=function(u,s){return u[0]*s[0]+u[1]*s[1]+u[2]*s[2]+u[3]*s[3]},d.ease=se,d.easeCubicInOut=he,d.emitValidationErrors=ri,d.endsWith=Ge,d.enforceCacheSizeLimit=function(u){mn(),es&&es.then(s=>{s.keys().then(c=>{for(let p=0;p<c.length-u;p++)s.delete(c[p])})})},d.evaluateSizeForFeature=um,d.evaluateSizeForZoom=xf,d.evaluateVariableOffset=kv,d.evented=G,d.exactEquals=function(u,s){return u[0]===s[0]&&u[1]===s[1]&&u[2]===s[2]&&u[3]===s[3]},d.exactEquals$1=function(u,s){return u[0]===s[0]&&u[1]===s[1]&&u[2]===s[2]},d.exported=Xr,d.exported$1=oi,d.extend=ae,d.filterObject=tt,d.fromMat4=function(u,s){return u[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[4],u[4]=s[5],u[5]=s[6],u[6]=s[8],u[7]=s[9],u[8]=s[10],u},d.fromQuat=function(u,s){var c=s[0],p=s[1],y=s[2],D=s[3],E=c+c,P=p+p,N=y+y,j=c*E,Z=p*E,J=p*P,ee=y*E,me=y*P,Me=y*N,Ye=D*E,nt=D*P,lt=D*N;return u[0]=1-J-Me,u[1]=Z+lt,u[2]=ee-nt,u[3]=0,u[4]=Z-lt,u[5]=1-j-Me,u[6]=me+Ye,u[7]=0,u[8]=ee+nt,u[9]=me-Ye,u[10]=1-j-J,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},d.fromRotation=function(u,s){var c=Math.sin(s),p=Math.cos(s);return u[0]=p,u[1]=c,u[2]=0,u[3]=-c,u[4]=p,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},d.fromScaling=function(u,s){return u[0]=s[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=s[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},d.furthestTileCorner=function(u){const s=Math.round((u+45+360)%360/90)%4;return ve[s]},d.getAABBPointSquareDist=function(u,s,c){let p=0;for(let y=0;y<2;++y){const D=c?c[y]:0;u[y]>D&&(p+=(u[y]-D)*(u[y]-D)),s[y]<D&&(p+=(D-s[y])*(D-s[y]))}return p},d.getAnchorAlignment=Cf,d.getAnchorJustification=w_,d.getBounds=function(u){let s=1/0,c=1/0,p=-1/0,y=-1/0;for(const D of u)s=Math.min(s,D.x),c=Math.min(c,D.y),p=Math.max(p,D.x),y=Math.max(y,D.y);return{min:new W(s,c),max:new W(p,y)}},d.getImage=It,d.getJSON=function(u,s){return de(ae(u,{type:"json"}),s)},d.getMapSessionAPI=Js,d.getPerformanceMeasurement=D_,d.getProjection=function(u){const s=A_[u.name];if(!s)throw new Error(`Invalid projection name: ${u.name}`);return s.conic?function(c,p){if(p.parallels&&Math.abs(p.parallels[0]+p.parallels[1])<.01){let y=function(D){const E=Math.max(.01,Math.cos(it(D))),P=1/(2*Math.max(Math.PI*E,1/E));return{wrap:!0,project(N,j){const Z=it(N)*E,J=Math.sin(it(j))/E;return{x:Z*P+.5,y:-J*P+.5}},unproject(N,j){const Z=-(j-.5)/P,J=ne(Q((N-.5)/P)/E,-180,180),ee=Math.asin(ne(Z*E,-1,1)),me=ne(Q(ee),-85.051129,ed);return new fo(J,me)}}}(p.parallels[0]);if("lambertConformalConic"===p.name){const{project:D,unproject:E}=A_.mercator;y={wrap:!0,project:D,unproject:E}}return ae({},c,p,y)}return ae({},c,p)}(s,u):s},d.getRTLTextPluginStatus=K,d.getReferrer=We,d.getTilePoint=function(u,{x:s,y:c},p=0){return new W(((s-p)*u.scale-u.x)*Wi,(c*u.scale-u.y)*Wi)},d.getTileVec3=function(u,s,c=0){return hf(((s.x-c)*u.scale-u.x)*Wi,(s.y*u.scale-u.y)*Wi,Lg(s.z,s.y))},d.getVideo=function(u,s){const c=Le.document.createElement("video");c.muted=!0,c.onloadstart=function(){s(null,c)};for(let p=0;p<u.length;p++){const y=Le.document.createElement("source");yt(u[p])||(c.crossOrigin="Anonymous"),y.src=u[p],c.appendChild(y)}return{cancel:()=>{}}},d.identity=Ag,d.identity$1=np,d.invert=function(u,s){var c=s[0],p=s[1],y=s[2],D=s[3],E=s[4],P=s[5],N=s[6],j=s[7],Z=s[8],J=s[9],ee=s[10],me=s[11],Me=s[12],Ye=s[13],nt=s[14],lt=s[15],wt=c*P-p*E,Tt=c*N-y*E,Ot=c*j-D*E,At=p*N-y*P,Nt=p*j-D*P,cn=y*j-D*N,en=Z*Ye-J*Me,Nn=Z*nt-ee*Me,En=Z*lt-me*Me,dn=J*nt-ee*Ye,Dn=J*lt-me*Ye,Tn=ee*lt-me*nt,gn=wt*Tn-Tt*Dn+Ot*dn+At*En-Nt*Nn+cn*en;return gn?(u[0]=(P*Tn-N*Dn+j*dn)*(gn=1/gn),u[1]=(y*Dn-p*Tn-D*dn)*gn,u[2]=(Ye*cn-nt*Nt+lt*At)*gn,u[3]=(ee*Nt-J*cn-me*At)*gn,u[4]=(N*En-E*Tn-j*Nn)*gn,u[5]=(c*Tn-y*En+D*Nn)*gn,u[6]=(nt*Ot-Me*cn-lt*Tt)*gn,u[7]=(Z*cn-ee*Ot+me*Tt)*gn,u[8]=(E*Dn-P*En+j*en)*gn,u[9]=(p*En-c*Dn-D*en)*gn,u[10]=(Me*Nt-Ye*Ot+lt*wt)*gn,u[11]=(J*Ot-Z*Nt-me*wt)*gn,u[12]=(P*Nn-E*dn-N*en)*gn,u[13]=(c*dn-p*Nn+y*en)*gn,u[14]=(Ye*Tt-Me*At-nt*wt)*gn,u[15]=(Z*At-J*Tt+ee*wt)*gn,u):null},d.isMapAuthenticated=function(u){return xi.has(u)},d.isMapboxURL=zt,d.latFromMercatorY=qc,d.len=mx,d.length=Ng,d.length$1=function(u){return Math.hypot(u[0],u[1],u[2],u[3])},d.loadVectorTile=$v,d.makeRequest=de,d.mercatorXfromLng=Gu,d.mercatorYfromLat=Qf,d.mercatorZfromAltitude=Qh,d.mul=function(u,s,c){return u[0]=s[0]*c[0],u[1]=s[1]*c[1],u[2]=s[2]*c[2],u[3]=s[3]*c[3],u},d.mul$1=Rg,d.mul$2=WD,d.multiply=Og,d.multiply$1=Od,d.nextPowerOfTwo=Te,d.normalize=nv,d.normalize$1=function(u,s){var c=s[0],p=s[1],y=s[2],D=s[3],E=c*c+p*p+y*y+D*D;return E>0&&(E=1/Math.sqrt(E)),u[0]=c*E,u[1]=p*E,u[2]=y*E,u[3]=D*E,u},d.number=kr,d.ortho=function(u,s,c,p,y,D,E){var P=1/(s-c),N=1/(p-y),j=1/(D-E);return u[0]=-2*P,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*N,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*j,u[11]=0,u[12]=(s+c)*P,u[13]=(y+p)*N,u[14]=(E+D)*j,u[15]=1,u},d.pbf=cm,d.perspective=function(u,s,c,p,y){var D,E=1/Math.tan(s/2);return u[0]=E/c,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=E,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,null!=y&&y!==1/0?(u[10]=(y+p)*(D=1/(p-y)),u[14]=2*y*p*D):(u[10]=-1,u[14]=-2*p),u},d.pick=function(u,s){const c={};for(let p=0;p<s.length;p++){const y=s[p];y in u&&(c[y]=u[y])}return c},d.plugin=le,d.pointGeometry=W,d.polygonIntersectsBox=dx,d.polygonIntersectsPolygon=Zy,d.polygonizeBounds=function(u,s,c=0,p=!0){const y=new W(c,c),D=u.sub(y),E=s.add(y),P=[D,new W(E.x,D.y),E,new W(D.x,E.y)];return p&&P.push(D),P},d.posAttributes=tE,d.postMapLoadEvent=vi,d.postTurnstileEvent=Ui,d.potpack=s_,d.prevPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},d.radToDeg=Q,d.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],d.registerForPluginStateChange=function(u){return u({pluginStatus:w,pluginURL:S}),G.on("pluginStateChange",u),u},d.removeAuthState=function(u){xi.delete(u)},d.renderColorRamp=jg,d.rotateX=function(u,s,c){var p=Math.sin(c),y=Math.cos(c),D=s[4],E=s[5],P=s[6],N=s[7],j=s[8],Z=s[9],J=s[10],ee=s[11];return s!==u&&(u[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[3],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[4]=D*y+j*p,u[5]=E*y+Z*p,u[6]=P*y+J*p,u[7]=N*y+ee*p,u[8]=j*y-D*p,u[9]=Z*y-E*p,u[10]=J*y-P*p,u[11]=ee*y-N*p,u},d.rotateX$1=Kp,d.rotateY=function(u,s,c){var p=Math.sin(c),y=Math.cos(c),D=s[0],E=s[1],P=s[2],N=s[3],j=s[8],Z=s[9],J=s[10],ee=s[11];return s!==u&&(u[4]=s[4],u[5]=s[5],u[6]=s[6],u[7]=s[7],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[0]=D*y-j*p,u[1]=E*y-Z*p,u[2]=P*y-J*p,u[3]=N*y-ee*p,u[8]=D*p+j*y,u[9]=E*p+Z*y,u[10]=P*p+J*y,u[11]=N*p+ee*y,u},d.rotateZ=function(u,s,c){var p=Math.sin(c),y=Math.cos(c),D=s[0],E=s[1],P=s[2],N=s[3],j=s[4],Z=s[5],J=s[6],ee=s[7];return s!==u&&(u[8]=s[8],u[9]=s[9],u[10]=s[10],u[11]=s[11],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[0]=D*y+j*p,u[1]=E*y+Z*p,u[2]=P*y+J*p,u[3]=N*y+ee*p,u[4]=j*y-D*p,u[5]=Z*y-E*p,u[6]=J*y-P*p,u[7]=ee*y-N*p,u},d.rotateZ$1=function(u,s,c){c*=.5;var p=s[0],y=s[1],D=s[2],E=s[3],P=Math.sin(c),N=Math.cos(c);return u[0]=p*N+y*P,u[1]=y*N-p*P,u[2]=D*N+E*P,u[3]=E*N-D*P,u},d.scale=function(u,s,c){return u[0]=s[0]*c,u[1]=s[1]*c,u[2]=s[2]*c,u},d.scale$1=function(u,s,c){var p=c[0],y=c[1],D=c[2];return u[0]=s[0]*p,u[1]=s[1]*p,u[2]=s[2]*p,u[3]=s[3]*p,u[4]=s[4]*y,u[5]=s[5]*y,u[6]=s[6]*y,u[7]=s[7]*y,u[8]=s[8]*D,u[9]=s[9]*D,u[10]=s[10]*D,u[11]=s[11]*D,u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15],u},d.scale$2=function(u,s,c){return u[0]=s[0]*c,u[1]=s[1]*c,u[2]=s[2]*c,u[3]=s[3]*c,u},d.scaleAndAdd=df,d.setCacheLimits=function(u,s){ai=u,Ys=s},d.setRTLTextPlugin=function(u,s,c=!1){if(w===ku||w===M||w===l)throw new Error("setRTLTextPlugin cannot be called multiple times.");S=Xr.resolveURL(u),w=ku,m=s,z(),c||oe()},d.smoothstep=function(u,s,c){return(c=ne((c-u)/(s-u),0,1))*c*(3-2*c)},d.spec=Ct,d.storeAuthState=function(u,s){s?xi.add(u):xi.delete(u)},d.sub=px,d.subtract=tv,d.symbolSize=vv,d.tileTransform=bm,d.transformMat3=function(u,s,c){var p=s[0],y=s[1],D=s[2];return u[0]=p*c[0]+y*c[3]+D*c[6],u[1]=p*c[1]+y*c[4]+D*c[7],u[2]=p*c[2]+y*c[5]+D*c[8],u},d.transformMat4=tp,d.transformMat4$1=function(u,s,c){var p=s[0],y=s[1],D=s[2],E=c[3]*p+c[7]*y+c[11]*D+c[15];return u[0]=(c[0]*p+c[4]*y+c[8]*D+c[12])/(E=E||1),u[1]=(c[1]*p+c[5]*y+c[9]*D+c[13])/E,u[2]=(c[2]*p+c[6]*y+c[10]*D+c[14])/E,u},d.transformQuat=fx,d.translate=function(u,s,c){var p,y,D,E,P,N,j,Z,J,ee,me,Me,Ye=c[0],nt=c[1],lt=c[2];return s===u?(u[12]=s[0]*Ye+s[4]*nt+s[8]*lt+s[12],u[13]=s[1]*Ye+s[5]*nt+s[9]*lt+s[13],u[14]=s[2]*Ye+s[6]*nt+s[10]*lt+s[14],u[15]=s[3]*Ye+s[7]*nt+s[11]*lt+s[15]):(y=s[1],D=s[2],E=s[3],P=s[4],N=s[5],j=s[6],Z=s[7],J=s[8],ee=s[9],me=s[10],Me=s[11],u[0]=p=s[0],u[1]=y,u[2]=D,u[3]=E,u[4]=P,u[5]=N,u[6]=j,u[7]=Z,u[8]=J,u[9]=ee,u[10]=me,u[11]=Me,u[12]=p*Ye+P*nt+J*lt+s[12],u[13]=y*Ye+N*nt+ee*lt+s[13],u[14]=D*Ye+j*nt+me*lt+s[14],u[15]=E*Ye+Z*nt+Me*lt+s[15]),u},d.triggerPluginCompletionEvent=k,d.uniqueId=Fe,d.validateCustomStyleLayer=function(u){const s=[],c=u.id;return void 0===c&&s.push({message:`layers.${c}: missing required property "id"`}),void 0===u.render&&s.push({message:`layers.${c}: missing required method "render"`}),u.renderingMode&&"2d"!==u.renderingMode&&"3d"!==u.renderingMode&&s.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),s},d.validateFog=mi,d.validateLight=Uc,d.validateStyle=Qs,d.values=we,d.vectorTile=$c,d.version=O,d.warnOnce=Re,d.window=Le,d.wrap=re}),I(0,function(d){function O(We){const de=typeof We;if("number"===de||"boolean"===de||"string"===de||null==We)return JSON.stringify(We);if(Array.isArray(We)){let ot="[";for(const yt of We)ot+=`${O(yt)},`;return`${ot}]`}const be=Object.keys(We).sort();let Qe="{";for(let ot=0;ot<be.length;ot++)Qe+=`${JSON.stringify(be[ot])}:${O(We[be[ot]])},`;return`${Qe}}`}function H(We){let de="";for(const be of d.refProperties)de+=`/${O(We[be])}`;return de}class q{constructor(de){this.keyCache={},de&&this.replace(de)}replace(de){this._layerConfigs={},this._layers={},this.update(de,[])}update(de,be){for(const ot of de)this._layerConfigs[ot.id]=ot,(this._layers[ot.id]=d.createStyleLayer(ot)).compileFilter(),this.keyCache[ot.id]&&delete this.keyCache[ot.id];for(const ot of be)delete this.keyCache[ot],delete this._layerConfigs[ot],delete this._layers[ot];this.familiesBySource={};const Qe=function(ot,yt){const ht={};for(let Et=0;Et<ot.length;Et++){const It=yt&&yt[ot[Et].id]||H(ot[Et]);yt&&(yt[ot[Et].id]=It);let jt=ht[It];jt||(jt=ht[It]=[]),jt.push(ot[Et])}const kt=[];for(const Et in ht)kt.push(ht[Et]);return kt}(d.values(this._layerConfigs),this.keyCache);for(const ot of Qe){const yt=ot.map(ln=>this._layers[ln.id]),ht=yt[0];if("none"===ht.visibility)continue;const kt=ht.source||"";let Et=this.familiesBySource[kt];Et||(Et=this.familiesBySource[kt]={});const It=ht.sourceLayer||"_geojsonTileLayer";let jt=Et[It];jt||(jt=Et[It]=[]),jt.push(yt)}}}const{ImageBitmap:W}=d.window;class ie{loadTile(de,be){const{uid:Qe,encoding:ot,rawImageData:yt,padding:ht,buildQuadTree:kt}=de,Et=W&&yt instanceof W?this.getImageData(yt,ht):yt;be(null,new d.DEMData(Qe,Et,ot,ht<1,kt))}getImageData(de,be){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const Qe=this.offscreenCanvasContext.getImageData(-be,-be,de.width+2*be,de.height+2*be);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new d.RGBAImage({width:Qe.width,height:Qe.height},Qe.data)}}var Le=function We(de,be){var Qe,ot=de&&de.type;if("FeatureCollection"===ot)for(Qe=0;Qe<de.features.length;Qe++)We(de.features[Qe],be);else if("GeometryCollection"===ot)for(Qe=0;Qe<de.geometries.length;Qe++)We(de.geometries[Qe],be);else if("Feature"===ot)We(de.geometry,be);else if("Polygon"===ot)rt(de.coordinates,be);else if("MultiPolygon"===ot)for(Qe=0;Qe<de.coordinates.length;Qe++)rt(de.coordinates[Qe],be);return de};function rt(We,de){if(0!==We.length){qe(We[0],de);for(var be=1;be<We.length;be++)qe(We[be],!de)}}function qe(We,de){for(var be=0,Qe=0,ot=0,yt=We.length,ht=yt-1;ot<yt;ht=ot++){var kt=(We[ot][0]-We[ht][0])*(We[ht][1]+We[ot][1]),Et=be+kt;Qe+=Math.abs(be)>=Math.abs(kt)?be-Et+kt:kt-Et+be,be=Et}be+Qe>=0!=!!de&&We.reverse()}const Ee=d.vectorTile.VectorTileFeature.prototype.toGeoJSON;class it{constructor(de){this._feature=de,this.extent=d.EXTENT,this.type=de.type,this.properties=de.tags,"id"in de&&!isNaN(de.id)&&(this.id=parseInt(de.id,10))}loadGeometry(){if(1===this._feature.type){const de=[];for(const be of this._feature.geometry)de.push([new d.pointGeometry(be[0],be[1])]);return de}{const de=[];for(const be of this._feature.geometry){const Qe=[];for(const ot of be)Qe.push(new d.pointGeometry(ot[0],ot[1]));de.push(Qe)}return de}}toGeoJSON(de,be,Qe){return Ee.call(this,de,be,Qe)}}class Q{constructor(de){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=d.EXTENT,this.length=de.length,this._features=de}feature(de){return new it(this._features[de])}}var ve=d.vectorTile.VectorTileFeature,he=xe;function xe(We,de){this.options=de||{},this.features=We,this.length=We.length}function se(We,de){this.id="number"==typeof We.id?We.id:void 0,this.type=We.type,this.rawGeometry=1===We.type?[We.geometry]:We.geometry,this.properties=We.tags,this.extent=de||4096}xe.prototype.feature=function(We){return new se(this.features[We],this.options.extent)},se.prototype.loadGeometry=function(){var We=this.rawGeometry;this.geometry=[];for(var de=0;de<We.length;de++){for(var be=We[de],Qe=[],ot=0;ot<be.length;ot++)Qe.push(new d.pointGeometry(be[ot][0],be[ot][1]));this.geometry.push(Qe)}return this.geometry},se.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var We=this.geometry,de=1/0,be=-1/0,Qe=1/0,ot=-1/0,yt=0;yt<We.length;yt++)for(var ht=We[yt],kt=0;kt<ht.length;kt++){var Et=ht[kt];de=Math.min(de,Et.x),be=Math.max(be,Et.x),Qe=Math.min(Qe,Et.y),ot=Math.max(ot,Et.y)}return[de,Qe,be,ot]},se.prototype.toGeoJSON=ve.prototype.toGeoJSON;var ne=fe,re=he;function fe(We){var de=new d.pbf;return function(be,Qe){for(var ot in be.layers)Qe.writeMessage(3,we,be.layers[ot])}(We,de),de.finish()}function we(We,de){var be;de.writeVarintField(15,We.version||1),de.writeStringField(1,We.name||""),de.writeVarintField(5,We.extent||4096);var Qe={keys:[],values:[],keycache:{},valuecache:{}};for(be=0;be<We.length;be++)Qe.feature=We.feature(be),de.writeMessage(2,ae,Qe);var ot=Qe.keys;for(be=0;be<ot.length;be++)de.writeStringField(3,ot[be]);var yt=Qe.values;for(be=0;be<yt.length;be++)de.writeMessage(4,Xt,yt[be])}function ae(We,de){var be=We.feature;void 0!==be.id&&de.writeVarintField(1,be.id),de.writeMessage(2,ct,We),de.writeVarintField(3,be.type),de.writeMessage(4,Te,be)}function ct(We,de){var be=We.feature,Qe=We.keys,ot=We.values,yt=We.keycache,ht=We.valuecache;for(var kt in be.properties){var Et=be.properties[kt],It=yt[kt];if(null!==Et){void 0===It&&(Qe.push(kt),yt[kt]=It=Qe.length-1),de.writeVarint(It);var jt=typeof Et;"string"!==jt&&"boolean"!==jt&&"number"!==jt&&(Et=JSON.stringify(Et));var ln=jt+":"+Et,nn=ht[ln];void 0===nn&&(ot.push(Et),ht[ln]=nn=ot.length-1),de.writeVarint(nn)}}}function Fe(We,de){return(de<<3)+(7&We)}function Je(We){return We<<1^We>>31}function Te(We,de){for(var be=We.loadGeometry(),Qe=We.type,ot=0,yt=0,ht=be.length,kt=0;kt<ht;kt++){var Et=be[kt],It=1;1===Qe&&(It=Et.length),de.writeVarint(Fe(1,It));for(var jt=3===Qe?Et.length-1:Et.length,ln=0;ln<jt;ln++){1===ln&&1!==Qe&&de.writeVarint(Fe(2,jt-1));var nn=Et[ln].x-ot,Un=Et[ln].y-yt;de.writeVarint(Je(nn)),de.writeVarint(Je(Un)),ot+=nn,yt+=Un}3===Qe&&de.writeVarint(Fe(7,1))}}function Xt(We,de){var be=typeof We;"string"===be?de.writeStringField(1,We):"boolean"===be?de.writeBooleanField(7,We):"number"===be&&(We%1!=0?de.writeDoubleField(3,We):We<0?de.writeSVarintField(6,We):de.writeVarintField(5,We))}function Pt(We,de,be,Qe,ot,yt){if(ot-Qe<=be)return;const ht=Qe+ot>>1;Ge(We,de,ht,Qe,ot,yt%2),Pt(We,de,be,Qe,ht-1,yt+1),Pt(We,de,be,ht+1,ot,yt+1)}function Ge(We,de,be,Qe,ot,yt){for(;ot>Qe;){if(ot-Qe>600){const It=ot-Qe+1,jt=be-Qe+1,ln=Math.log(It),nn=.5*Math.exp(2*ln/3),Un=.5*Math.sqrt(ln*nn*(It-nn)/It)*(jt-It/2<0?-1:1);Ge(We,de,be,Math.max(Qe,Math.floor(be-jt*nn/It+Un)),Math.min(ot,Math.floor(be+(It-jt)*nn/It+Un)),yt)}const ht=de[2*be+yt];let kt=Qe,Et=ot;for(Mt(We,de,Qe,be),de[2*ot+yt]>ht&&Mt(We,de,Qe,ot);kt<Et;){for(Mt(We,de,kt,Et),kt++,Et--;de[2*kt+yt]<ht;)kt++;for(;de[2*Et+yt]>ht;)Et--}de[2*Qe+yt]===ht?Mt(We,de,Qe,Et):(Et++,Mt(We,de,Et,ot)),Et<=be&&(Qe=Et+1),be<=Et&&(ot=Et-1)}}function Mt(We,de,be,Qe){tt(We,be,Qe),tt(de,2*be,2*Qe),tt(de,2*be+1,2*Qe+1)}function tt(We,de,be){const Qe=We[de];We[de]=We[be],We[be]=Qe}function xt(We,de,be,Qe){const ot=We-be,yt=de-Qe;return ot*ot+yt*yt}ne.fromVectorTileJs=fe,ne.fromGeojsonVt=function(We,de){de=de||{};var be={};for(var Qe in We)be[Qe]=new he(We[Qe].features,de),be[Qe].name=Qe,be[Qe].version=de.version,be[Qe].extent=de.extent;return fe({layers:be})},ne.GeoJSONWrapper=re;const gt=We=>We[0],Re=We=>We[1];class Yt{constructor(de,be=gt,Qe=Re,ot=64,yt=Float64Array){this.nodeSize=ot,this.points=de;const ht=de.length<65536?Uint16Array:Uint32Array,kt=this.ids=new ht(de.length),Et=this.coords=new yt(2*de.length);for(let It=0;It<de.length;It++)kt[It]=It,Et[2*It]=be(de[It]),Et[2*It+1]=Qe(de[It]);Pt(kt,Et,ot,0,kt.length-1,0)}range(de,be,Qe,ot){return function(yt,ht,kt,Et,It,jt,ln){const nn=[0,yt.length-1,0],Un=[];let pn,Ct;for(;nn.length;){const qt=nn.pop(),fr=nn.pop(),Mr=nn.pop();if(fr-Mr<=ln){for(let pr=Mr;pr<=fr;pr++)pn=ht[2*pr],Ct=ht[2*pr+1],pn>=kt&&pn<=It&&Ct>=Et&&Ct<=jt&&Un.push(yt[pr]);continue}const gr=Math.floor((Mr+fr)/2);pn=ht[2*gr],Ct=ht[2*gr+1],pn>=kt&&pn<=It&&Ct>=Et&&Ct<=jt&&Un.push(yt[gr]);const nr=(qt+1)%2;(0===qt?kt<=pn:Et<=Ct)&&(nn.push(Mr),nn.push(gr-1),nn.push(nr)),(0===qt?It>=pn:jt>=Ct)&&(nn.push(gr+1),nn.push(fr),nn.push(nr))}return Un}(this.ids,this.coords,de,be,Qe,ot,this.nodeSize)}within(de,be,Qe){return function(ot,yt,ht,kt,Et,It){const jt=[0,ot.length-1,0],ln=[],nn=Et*Et;for(;jt.length;){const Un=jt.pop(),pn=jt.pop(),Ct=jt.pop();if(pn-Ct<=It){for(let nr=Ct;nr<=pn;nr++)xt(yt[2*nr],yt[2*nr+1],ht,kt)<=nn&&ln.push(ot[nr]);continue}const qt=Math.floor((Ct+pn)/2),fr=yt[2*qt],Mr=yt[2*qt+1];xt(fr,Mr,ht,kt)<=nn&&ln.push(ot[qt]);const gr=(Un+1)%2;(0===Un?ht-Et<=fr:kt-Et<=Mr)&&(jt.push(Ct),jt.push(qt-1),jt.push(gr)),(0===Un?ht+Et>=fr:kt+Et>=Mr)&&(jt.push(qt+1),jt.push(pn),jt.push(gr))}return ln}(this.ids,this.coords,de,be,Qe,this.nodeSize)}}const Ht={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:We=>We},_n=Math.fround||(bt=new Float32Array(1),We=>(bt[0]=+We,bt[0]));var bt;class Qn{constructor(de){this.options=or(Object.create(Ht),de),this.trees=new Array(this.options.maxZoom+1)}load(de){const{log:be,minZoom:Qe,maxZoom:ot,nodeSize:yt}=this.options;be&&console.time("total time");const ht=`prepare ${de.length} points`;be&&console.time(ht),this.points=de;let kt=[];for(let Et=0;Et<de.length;Et++)de[Et].geometry&&kt.push(Pn(de[Et],Et));this.trees[ot+1]=new Yt(kt,oi,Zi,yt,Float32Array),be&&console.timeEnd(ht);for(let Et=ot;Et>=Qe;Et--){const It=+Date.now();kt=this._cluster(kt,Et),this.trees[Et]=new Yt(kt,oi,Zi,yt,Float32Array),be&&console.log("z%d: %d clusters in %dms",Et,kt.length,+Date.now()-It)}return be&&console.timeEnd("total time"),this}getClusters(de,be){let Qe=((de[0]+180)%360+360)%360-180;const ot=Math.max(-90,Math.min(90,de[1]));let yt=180===de[2]?180:((de[2]+180)%360+360)%360-180;const ht=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)Qe=-180,yt=180;else if(Qe>yt){const jt=this.getClusters([Qe,ot,180,ht],be),ln=this.getClusters([-180,ot,yt,ht],be);return jt.concat(ln)}const kt=this.trees[this._limitZoom(be)],Et=kt.range(wn(Qe),Xr(ht),wn(yt),Xr(ot)),It=[];for(const jt of Et){const ln=kt.points[jt];It.push(ln.numPoints?Sn(ln):this.points[ln.index])}return It}getChildren(de){const be=this._getOriginId(de),Qe=this._getOriginZoom(de),ot="No cluster with the specified id.",yt=this.trees[Qe];if(!yt)throw new Error(ot);const ht=yt.points[be];if(!ht)throw new Error(ot);const kt=this.options.radius/(this.options.extent*Math.pow(2,Qe-1)),Et=yt.within(ht.x,ht.y,kt),It=[];for(const jt of Et){const ln=yt.points[jt];ln.parentId===de&&It.push(ln.numPoints?Sn(ln):this.points[ln.index])}if(0===It.length)throw new Error(ot);return It}getLeaves(de,be,Qe){const ot=[];return this._appendLeaves(ot,de,be=be||10,Qe=Qe||0,0),ot}getTile(de,be,Qe){const ot=this.trees[this._limitZoom(de)],yt=Math.pow(2,de),{extent:ht,radius:kt}=this.options,Et=kt/ht,It=(Qe-Et)/yt,jt=(Qe+1+Et)/yt,ln={features:[]};return this._addTileFeatures(ot.range((be-Et)/yt,It,(be+1+Et)/yt,jt),ot.points,be,Qe,yt,ln),0===be&&this._addTileFeatures(ot.range(1-Et/yt,It,1,jt),ot.points,yt,Qe,yt,ln),be===yt-1&&this._addTileFeatures(ot.range(0,It,Et/yt,jt),ot.points,-1,Qe,yt,ln),ln.features.length?ln:null}getClusterExpansionZoom(de){let be=this._getOriginZoom(de)-1;for(;be<=this.options.maxZoom;){const Qe=this.getChildren(de);if(be++,1!==Qe.length)break;de=Qe[0].properties.cluster_id}return be}_appendLeaves(de,be,Qe,ot,yt){const ht=this.getChildren(be);for(const kt of ht){const Et=kt.properties;if(Et&&Et.cluster?yt+Et.point_count<=ot?yt+=Et.point_count:yt=this._appendLeaves(de,Et.cluster_id,Qe,ot,yt):yt<ot?yt++:de.push(kt),de.length===Qe)break}return yt}_addTileFeatures(de,be,Qe,ot,yt,ht){for(const kt of de){const Et=be[kt],It=Et.numPoints;let jt,ln,nn;if(It)jt=On(Et),ln=Et.x,nn=Et.y;else{const Ct=this.points[Et.index];jt=Ct.properties,ln=wn(Ct.geometry.coordinates[0]),nn=Xr(Ct.geometry.coordinates[1])}const Un={type:1,geometry:[[Math.round(this.options.extent*(ln*yt-Qe)),Math.round(this.options.extent*(nn*yt-ot))]],tags:jt};let pn;It?pn=Et.id:this.options.generateId?pn=Et.index:this.points[Et.index].id&&(pn=this.points[Et.index].id),void 0!==pn&&(Un.id=pn),ht.features.push(Un)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(+de,this.options.maxZoom+1))}_cluster(de,be){const Qe=[],{radius:ot,extent:yt,reduce:ht,minPoints:kt}=this.options,Et=ot/(yt*Math.pow(2,be));for(let It=0;It<de.length;It++){const jt=de[It];if(jt.zoom<=be)continue;jt.zoom=be;const ln=this.trees[be+1],nn=ln.within(jt.x,jt.y,Et),Un=jt.numPoints||1;let pn=Un;for(const Ct of nn){const qt=ln.points[Ct];qt.zoom>be&&(pn+=qt.numPoints||1)}if(pn>Un&&pn>=kt){let Ct=jt.x*Un,qt=jt.y*Un,fr=ht&&Un>1?this._map(jt,!0):null;const Mr=(It<<5)+(be+1)+this.points.length;for(const gr of nn){const nr=ln.points[gr];if(nr.zoom<=be)continue;nr.zoom=be;const pr=nr.numPoints||1;Ct+=nr.x*pr,qt+=nr.y*pr,nr.parentId=Mr,ht&&(fr||(fr=this._map(jt,!0)),ht(fr,this._map(nr)))}jt.parentId=Mr,Qe.push(fn(Ct/pn,qt/pn,Mr,pn,fr))}else if(Qe.push(jt),pn>1)for(const Ct of nn){const qt=ln.points[Ct];qt.zoom<=be||(qt.zoom=be,Qe.push(qt))}}return Qe}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,be){if(de.numPoints)return be?or({},de.properties):de.properties;const Qe=this.points[de.index].properties,ot=this.options.map(Qe);return be&&ot===Qe?or({},ot):ot}}function fn(We,de,be,Qe,ot){return{x:_n(We),y:_n(de),zoom:1/0,id:be,parentId:-1,numPoints:Qe,properties:ot}}function Pn(We,de){const[be,Qe]=We.geometry.coordinates;return{x:_n(wn(be)),y:_n(Xr(Qe)),zoom:1/0,index:de,parentId:-1}}function Sn(We){return{type:"Feature",id:We.id,properties:On(We),geometry:{type:"Point",coordinates:[(de=We.x,360*(de-.5)),Li(We.y)]}};var de}function On(We){const de=We.numPoints,be=de>=1e4?`${Math.round(de/1e3)}k`:de>=1e3?Math.round(de/100)/10+"k":de;return or(or({},We.properties),{cluster:!0,cluster_id:We.id,point_count:de,point_count_abbreviated:be})}function wn(We){return We/360+.5}function Xr(We){const de=Math.sin(We*Math.PI/180),be=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return be<0?0:be>1?1:be}function Li(We){const de=(180-360*We)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function or(We,de){for(const be in de)We[be]=de[be];return We}function oi(We){return We.x}function Zi(We){return We.y}function Lt(We,de,be,Qe){for(var ot,yt=Qe,ht=be-de>>1,kt=be-de,Et=We[de],It=We[de+1],jt=We[be],ln=We[be+1],nn=de+3;nn<be;nn+=3){var Un=Oe(We[nn],We[nn+1],Et,It,jt,ln);if(Un>yt)ot=nn,yt=Un;else if(Un===yt){var pn=Math.abs(nn-ht);pn<kt&&(ot=nn,kt=pn)}}yt>Qe&&(ot-de>3&&Lt(We,de,ot,Qe),We[ot+2]=yt,be-ot>3&&Lt(We,ot,be,Qe))}function Oe(We,de,be,Qe,ot,yt){var ht=ot-be,kt=yt-Qe;if(0!==ht||0!==kt){var Et=((We-be)*ht+(de-Qe)*kt)/(ht*ht+kt*kt);Et>1?(be=ot,Qe=yt):Et>0&&(be+=ht*Et,Qe+=kt*Et)}return(ht=We-be)*ht+(kt=de-Qe)*kt}function ke(We,de,be,Qe){var ot={id:void 0===We?null:We,type:de,geometry:be,tags:Qe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(yt){var ht=yt.geometry,kt=yt.type;if("Point"===kt||"MultiPoint"===kt||"LineString"===kt)De(yt,ht);else if("Polygon"===kt||"MultiLineString"===kt)for(var Et=0;Et<ht.length;Et++)De(yt,ht[Et]);else if("MultiPolygon"===kt)for(Et=0;Et<ht.length;Et++)for(var It=0;It<ht[Et].length;It++)De(yt,ht[Et][It])}(ot),ot}function De(We,de){for(var be=0;be<de.length;be+=3)We.minX=Math.min(We.minX,de[be]),We.minY=Math.min(We.minY,de[be+1]),We.maxX=Math.max(We.maxX,de[be]),We.maxY=Math.max(We.maxY,de[be+1])}function Ze(We,de,be,Qe){if(de.geometry){var ot=de.geometry.coordinates,yt=de.geometry.type,ht=Math.pow(be.tolerance/((1<<be.maxZoom)*be.extent),2),kt=[],Et=de.id;if(be.promoteId?Et=de.properties[be.promoteId]:be.generateId&&(Et=Qe||0),"Point"===yt)_t(ot,kt);else if("MultiPoint"===yt)for(var It=0;It<ot.length;It++)_t(ot[It],kt);else if("LineString"===yt)zt(ot,kt,ht,!1);else if("MultiLineString"===yt){if(be.lineMetrics){for(It=0;It<ot.length;It++)zt(ot[It],kt=[],ht,!1),We.push(ke(Et,"LineString",kt,de.properties));return}sn(ot,kt,ht,!1)}else if("Polygon"===yt)sn(ot,kt,ht,!0);else{if("MultiPolygon"!==yt){if("GeometryCollection"===yt){for(It=0;It<de.geometry.geometries.length;It++)Ze(We,{id:Et,geometry:de.geometry.geometries[It],properties:de.properties},be,Qe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(It=0;It<ot.length;It++){var jt=[];sn(ot[It],jt,ht,!0),kt.push(jt)}}We.push(ke(Et,yt,kt,de.properties))}}function _t(We,de){de.push(Kt(We[0])),de.push(Ut(We[1])),de.push(0)}function zt(We,de,be,Qe){for(var ot,yt,ht=0,kt=0;kt<We.length;kt++){var Et=Kt(We[kt][0]),It=Ut(We[kt][1]);de.push(Et),de.push(It),de.push(0),kt>0&&(ht+=Qe?(ot*It-Et*yt)/2:Math.sqrt(Math.pow(Et-ot,2)+Math.pow(It-yt,2))),ot=Et,yt=It}var jt=de.length-3;de[2]=1,Lt(de,0,jt,be),de[jt+2]=1,de.size=Math.abs(ht),de.start=0,de.end=de.size}function sn(We,de,be,Qe){for(var ot=0;ot<We.length;ot++){var yt=[];zt(We[ot],yt,be,Qe),de.push(yt)}}function Kt(We){return We/360+.5}function Ut(We){var de=Math.sin(We*Math.PI/180),be=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return be<0?0:be>1?1:be}function qn(We,de,be,Qe,ot,yt,ht,kt){if(Qe/=de,yt>=(be/=de)&&ht<Qe)return We;if(ht<be||yt>=Qe)return null;for(var Et=[],It=0;It<We.length;It++){var jt=We[It],ln=jt.geometry,nn=jt.type,Un=0===ot?jt.minX:jt.minY,pn=0===ot?jt.maxX:jt.maxY;if(Un>=be&&pn<Qe)Et.push(jt);else if(!(pn<be||Un>=Qe)){var Ct=[];if("Point"===nn||"MultiPoint"===nn)dr(ln,Ct,be,Qe,ot);else if("LineString"===nn)tn(ln,Ct,be,Qe,ot,!1,kt.lineMetrics);else if("MultiLineString"===nn)Ui(ln,Ct,be,Qe,ot,!1);else if("Polygon"===nn)Ui(ln,Ct,be,Qe,ot,!0);else if("MultiPolygon"===nn)for(var qt=0;qt<ln.length;qt++){var fr=[];Ui(ln[qt],fr,be,Qe,ot,!0),fr.length&&Ct.push(fr)}if(Ct.length){if(kt.lineMetrics&&"LineString"===nn){for(qt=0;qt<Ct.length;qt++)Et.push(ke(jt.id,nn,Ct[qt],jt.tags));continue}"LineString"!==nn&&"MultiLineString"!==nn||(1===Ct.length?(nn="LineString",Ct=Ct[0]):nn="MultiLineString"),"Point"!==nn&&"MultiPoint"!==nn||(nn=3===Ct.length?"Point":"MultiPoint"),Et.push(ke(jt.id,nn,Ct,jt.tags))}}}return Et.length?Et:null}function dr(We,de,be,Qe,ot){for(var yt=0;yt<We.length;yt+=3){var ht=We[yt+ot];ht>=be&&ht<=Qe&&(de.push(We[yt]),de.push(We[yt+1]),de.push(We[yt+2]))}}function tn(We,de,be,Qe,ot,yt,ht){for(var kt,Et,It=br(We),jt=0===ot?vi:Ss,ln=We.start,nn=0;nn<We.length-3;nn+=3){var Un=We[nn],pn=We[nn+1],Ct=We[nn+2],qt=We[nn+3],fr=We[nn+4],Mr=0===ot?Un:pn,gr=0===ot?qt:fr,nr=!1;ht&&(kt=Math.sqrt(Math.pow(Un-qt,2)+Math.pow(pn-fr,2))),Mr<be?gr>be&&(Et=jt(It,Un,pn,qt,fr,be),ht&&(It.start=ln+kt*Et)):Mr>Qe?gr<Qe&&(Et=jt(It,Un,pn,qt,fr,Qe),ht&&(It.start=ln+kt*Et)):$r(It,Un,pn,Ct),gr<be&&Mr>=be&&(Et=jt(It,Un,pn,qt,fr,be),nr=!0),gr>Qe&&Mr<=Qe&&(Et=jt(It,Un,pn,qt,fr,Qe),nr=!0),!yt&&nr&&(ht&&(It.end=ln+kt*Et),de.push(It),It=br(We)),ht&&(ln+=kt)}var pr=We.length-3;Un=We[pr],pn=We[pr+1],Ct=We[pr+2],(Mr=0===ot?Un:pn)>=be&&Mr<=Qe&&$r(It,Un,pn,Ct),pr=It.length-3,yt&&pr>=3&&(It[pr]!==It[0]||It[pr+1]!==It[1])&&$r(It,It[0],It[1],It[2]),It.length&&de.push(It)}function br(We){var de=[];return de.size=We.size,de.start=We.start,de.end=We.end,de}function Ui(We,de,be,Qe,ot,yt){for(var ht=0;ht<We.length;ht++)tn(We[ht],de,be,Qe,ot,yt,!1)}function $r(We,de,be,Qe){We.push(de),We.push(be),We.push(Qe)}function vi(We,de,be,Qe,ot,yt){var ht=(yt-de)/(Qe-de);return We.push(yt),We.push(be+(ot-be)*ht),We.push(1),ht}function Ss(We,de,be,Qe,ot,yt){var ht=(yt-be)/(ot-be);return We.push(de+(Qe-de)*ht),We.push(yt),We.push(1),ht}function Js(We,de){for(var be=[],Qe=0;Qe<We.length;Qe++){var ot,yt=We[Qe],ht=yt.type;if("Point"===ht||"MultiPoint"===ht||"LineString"===ht)ot=xi(yt.geometry,de);else if("MultiLineString"===ht||"Polygon"===ht){ot=[];for(var kt=0;kt<yt.geometry.length;kt++)ot.push(xi(yt.geometry[kt],de))}else if("MultiPolygon"===ht)for(ot=[],kt=0;kt<yt.geometry.length;kt++){for(var Et=[],It=0;It<yt.geometry[kt].length;It++)Et.push(xi(yt.geometry[kt][It],de));ot.push(Et)}be.push(ke(yt.id,ht,ot,yt.tags))}return be}function xi(We,de){var be=[];be.size=We.size,void 0!==We.start&&(be.start=We.start,be.end=We.end);for(var Qe=0;Qe<We.length;Qe+=3)be.push(We[Qe]+de,We[Qe+1],We[Qe+2]);return be}function qs(We,de){if(We.transformed)return We;var be,Qe,ot,yt=1<<We.z,ht=We.x,kt=We.y;for(be=0;be<We.features.length;be++){var Et=We.features[be],It=Et.geometry,jt=Et.type;if(Et.geometry=[],1===jt)for(Qe=0;Qe<It.length;Qe+=2)Et.geometry.push(es(It[Qe],It[Qe+1],de,yt,ht,kt));else for(Qe=0;Qe<It.length;Qe++){var ln=[];for(ot=0;ot<It[Qe].length;ot+=2)ln.push(es(It[Qe][ot],It[Qe][ot+1],de,yt,ht,kt));Et.geometry.push(ln)}}return We.transformed=!0,We}function es(We,de,be,Qe,ot,yt){return[Math.round(be*(We*Qe-ot)),Math.round(be*(de*Qe-yt))]}function wi(We,de,be,Qe,ot){for(var yt=de===ot.maxZoom?0:ot.tolerance/((1<<de)*ot.extent),ht={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:be,y:Qe,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},kt=0;kt<We.length;kt++){ht.numFeatures++,ai(ht,We[kt],yt,ot);var Et=We[kt].minX,It=We[kt].minY,jt=We[kt].maxX,ln=We[kt].maxY;Et<ht.minX&&(ht.minX=Et),It<ht.minY&&(ht.minY=It),jt>ht.maxX&&(ht.maxX=jt),ln>ht.maxY&&(ht.maxY=ln)}return ht}function ai(We,de,be,Qe){var ot=de.geometry,yt=de.type,ht=[];if("Point"===yt||"MultiPoint"===yt)for(var kt=0;kt<ot.length;kt+=3)ht.push(ot[kt]),ht.push(ot[kt+1]),We.numPoints++,We.numSimplified++;else if("LineString"===yt)Ys(ht,ot,We,be,!1,!1);else if("MultiLineString"===yt||"Polygon"===yt)for(kt=0;kt<ot.length;kt++)Ys(ht,ot[kt],We,be,"Polygon"===yt,0===kt);else if("MultiPolygon"===yt)for(var Et=0;Et<ot.length;Et++){var It=ot[Et];for(kt=0;kt<It.length;kt++)Ys(ht,It[kt],We,be,!0,0===kt)}if(ht.length){var jt=de.tags||null;if("LineString"===yt&&Qe.lineMetrics){for(var ln in jt={},de.tags)jt[ln]=de.tags[ln];jt.mapbox_clip_start=ot.start/ot.size,jt.mapbox_clip_end=ot.end/ot.size}var nn={geometry:ht,type:"Polygon"===yt||"MultiPolygon"===yt?3:"LineString"===yt||"MultiLineString"===yt?2:1,tags:jt};null!==de.id&&(nn.id=de.id),We.features.push(nn)}}function Ys(We,de,be,Qe,ot,yt){var ht=Qe*Qe;if(Qe>0&&de.size<(ot?ht:Qe))be.numPoints+=de.length/3;else{for(var kt=[],Et=0;Et<de.length;Et+=3)(0===Qe||de[Et+2]>ht)&&(be.numSimplified++,kt.push(de[Et]),kt.push(de[Et+1])),be.numPoints++;ot&&function(It,jt){for(var ln=0,nn=0,Un=It.length,pn=Un-2;nn<Un;pn=nn,nn+=2)ln+=(It[nn]-It[pn])*(It[nn+1]+It[pn+1]);if(ln>0===jt)for(nn=0,Un=It.length;nn<Un/2;nn+=2){var Ct=It[nn],qt=It[nn+1];It[nn]=It[Un-2-nn],It[nn+1]=It[Un-1-nn],It[Un-2-nn]=Ct,It[Un-1-nn]=qt}}(kt,yt),We.push(kt)}}function mn(We,de){var be=(de=this.options=function(ot,yt){for(var ht in yt)ot[ht]=yt[ht];return ot}(Object.create(this.options),de)).debug;if(be&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");var ot,yt,ht,kt,Et,It,Qe=function(ot,yt){var ht=[];if("FeatureCollection"===ot.type)for(var kt=0;kt<ot.features.length;kt++)Ze(ht,ot.features[kt],yt,kt);else Ze(ht,"Feature"===ot.type?ot:{geometry:ot},yt);return ht}(We,de);this.tiles={},this.tileCoords=[],be&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ot=Qe,yt=de,ht=yt.buffer/yt.extent,kt=ot,Et=qn(ot,1,-1-ht,ht,0,-1,2,yt),It=qn(ot,1,1-ht,2+ht,0,-1,2,yt),(Et||It)&&(kt=qn(ot,1,-ht,1+ht,0,-1,2,yt)||[],Et&&(kt=Js(Et,1).concat(kt)),It&&(kt=kt.concat(Js(It,-1)))),Qe=kt).length&&this.splitTile(Qe,0,0,0),be&&(Qe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function rl(We,de,be){return 32*((1<<We)*be+de)+We}function oa(We,de){const be=We.tileID.canonical;if(!this._geoJSONIndex)return de(null,null);const Qe=this._geoJSONIndex.getTile(be.z,be.x,be.y);if(!Qe)return de(null,null);const ot=new Q(Qe.features);let yt=ne(ot);0===yt.byteOffset&&yt.byteLength===yt.buffer.byteLength||(yt=new Uint8Array(yt)),de(null,{vectorTile:ot,rawData:yt.buffer})}mn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},mn.prototype.splitTile=function(We,de,be,Qe,ot,yt,ht){for(var kt=[We,de,be,Qe],Et=this.options,It=Et.debug;kt.length;){Qe=kt.pop(),be=kt.pop(),de=kt.pop(),We=kt.pop();var jt=1<<de,ln=rl(de,be,Qe),nn=this.tiles[ln];if(!nn&&(It>1&&console.time("creation"),nn=this.tiles[ln]=wi(We,de,be,Qe,Et),this.tileCoords.push({z:de,x:be,y:Qe}),It)){It>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,be,Qe,nn.numFeatures,nn.numPoints,nn.numSimplified),console.timeEnd("creation"));var Un="z"+de;this.stats[Un]=(this.stats[Un]||0)+1,this.total++}if(nn.source=We,ot){if(de===Et.maxZoom||de===ot)continue;var pn=1<<ot-de;if(be!==Math.floor(yt/pn)||Qe!==Math.floor(ht/pn))continue}else if(de===Et.indexMaxZoom||nn.numPoints<=Et.indexMaxPoints)continue;if(nn.source=null,0!==We.length){It>1&&console.time("clipping");var Ct,qt,fr,Mr,gr,nr,pr=.5*Et.buffer/Et.extent,ou=.5-pr,co=.5+pr,rn=1+pr;Ct=qt=fr=Mr=null,gr=qn(We,jt,be-pr,be+co,0,nn.minX,nn.maxX,Et),nr=qn(We,jt,be+ou,be+rn,0,nn.minX,nn.maxX,Et),We=null,gr&&(Ct=qn(gr,jt,Qe-pr,Qe+co,1,nn.minY,nn.maxY,Et),qt=qn(gr,jt,Qe+ou,Qe+rn,1,nn.minY,nn.maxY,Et),gr=null),nr&&(fr=qn(nr,jt,Qe-pr,Qe+co,1,nn.minY,nn.maxY,Et),Mr=qn(nr,jt,Qe+ou,Qe+rn,1,nn.minY,nn.maxY,Et),nr=null),It>1&&console.timeEnd("clipping"),kt.push(Ct||[],de+1,2*be,2*Qe),kt.push(qt||[],de+1,2*be,2*Qe+1),kt.push(fr||[],de+1,2*be+1,2*Qe),kt.push(Mr||[],de+1,2*be+1,2*Qe+1)}}},mn.prototype.getTile=function(We,de,be){var Qe=this.options,ot=Qe.extent,yt=Qe.debug;if(We<0||We>24)return null;var ht=1<<We,kt=rl(We,de=(de%ht+ht)%ht,be);if(this.tiles[kt])return qs(this.tiles[kt],ot);yt>1&&console.log("drilling down to z%d-%d-%d",We,de,be);for(var Et,It=We,jt=de,ln=be;!Et&&It>0;)It--,jt=Math.floor(jt/2),ln=Math.floor(ln/2),Et=this.tiles[rl(It,jt,ln)];return Et&&Et.source?(yt>1&&console.log("found parent tile z%d-%d-%d",It,jt,ln),yt>1&&console.time("drilling down"),this.splitTile(Et.source,It,jt,ln,We,de,be),yt>1&&console.timeEnd("drilling down"),this.tiles[kt]?qs(this.tiles[kt],ot):null):null};class xr extends d.VectorTileWorkerSource{constructor(de,be,Qe,ot,yt){super(de,be,Qe,ot,oa),yt&&(this.loadGeoJSON=yt)}loadData(de,be){const Qe=de&&de.request,ot=Qe&&Qe.collectResourceTiming;this.loadGeoJSON(de,(yt,ht)=>{if(yt||!ht)return be(yt);if("object"!=typeof ht)return be(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{Le(ht,!0);try{if(de.filter){const Et=d.createExpression(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Et.result)throw new Error(Et.value.map(jt=>`${jt.key}: ${jt.message}`).join(", "));const It=ht.features.filter(jt=>Et.value.evaluate({zoom:0},jt));ht={type:"FeatureCollection",features:It}}this._geoJSONIndex=de.cluster?new Qn(function({superclusterOptions:Et,clusterProperties:It}){if(!It||!Et)return Et;const jt={},ln={},nn={accumulated:null,zoom:0},Un={properties:null},pn=Object.keys(It);for(const Ct of pn){const[qt,fr]=It[Ct],Mr=d.createExpression(fr),gr=d.createExpression("string"==typeof qt?[qt,["accumulated"],["get",Ct]]:qt);jt[Ct]=Mr.value,ln[Ct]=gr.value}return Et.map=Ct=>{Un.properties=Ct;const qt={};for(const fr of pn)qt[fr]=jt[fr].evaluate(nn,Un);return qt},Et.reduce=(Ct,qt)=>{Un.properties=qt;for(const fr of pn)nn.accumulated=Ct[fr],Ct[fr]=ln[fr].evaluate(nn,Un)},Et}(de)).load(ht.features):new mn(Et=ht,de.geojsonVtOptions)}catch(Et){return be(Et)}this.loaded={};const kt={};if(ot){const Et=d.getPerformanceMeasurement(Qe);Et&&(kt.resourceTiming={},kt.resourceTiming[de.source]=JSON.parse(JSON.stringify(Et)))}be(null,kt)}var Et})}reloadTile(de,be){const Qe=this.loaded;return Qe&&Qe[de.uid]?super.reloadTile(de,be):this.loadTile(de,be)}loadGeoJSON(de,be){if(de.request)d.getJSON(de.request,be);else{if("string"!=typeof de.data)return be(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return be(null,JSON.parse(de.data))}catch(Qe){return be(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,be){try{be(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(Qe){be(Qe)}}getClusterChildren(de,be){try{be(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(Qe){be(Qe)}}getClusterLeaves(de,be){try{be(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(Qe){be(Qe)}}}class Fo{constructor(de){this.self=de,this.actor=new d.Actor(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=d.getProjection({name:"mercator"}),this.workerSourceTypes={vector:d.VectorTileWorkerSource,geojson:xr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(be,Qe)=>{if(this.workerSourceTypes[be])throw new Error(`Worker source with name "${be}" already registered.`);this.workerSourceTypes[be]=Qe},this.self.registerRTLTextPlugin=be=>{if(d.plugin.isParsed())throw new Error("RTL text plugin already registered.");d.plugin.applyArabicShaping=be.applyArabicShaping,d.plugin.processBidirectionalText=be.processBidirectionalText,d.plugin.processStyledBidirectionalText=be.processStyledBidirectionalText}}clearCaches(de,be,Qe){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],Qe()}checkIfReady(de,be,Qe){Qe()}setReferrer(de,be){this.referrer=be}spriteLoaded(de,be){this.isSpriteLoaded[de]=be;for(const Qe in this.workerSources[de]){const ot=this.workerSources[de][Qe];for(const yt in ot)ot[yt]instanceof d.VectorTileWorkerSource&&(ot[yt].isSpriteLoaded=be,ot[yt].fire(new d.Event("isSpriteLoaded")))}}setImages(de,be,Qe){this.availableImages[de]=be;for(const ot in this.workerSources[de]){const yt=this.workerSources[de][ot];for(const ht in yt)yt[ht].availableImages=be}Qe()}enableTerrain(de,be,Qe){this.terrain=be,Qe()}setProjection(de,be){this.projections[de]=d.getProjection(be)}setLayers(de,be,Qe){this.getLayerIndex(de).replace(be),Qe()}updateLayers(de,be,Qe){this.getLayerIndex(de).update(be.layers,be.removedIds),Qe()}loadTile(de,be,Qe){const ot=this.enableTerrain?d.extend({enableTerrain:this.terrain},be):be;ot.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,be.type,be.source).loadTile(ot,Qe)}loadDEMTile(de,be,Qe){const ot=this.enableTerrain?d.extend({buildQuadTree:this.terrain},be):be;this.getDEMWorkerSource(de,be.source).loadTile(ot,Qe)}reloadTile(de,be,Qe){const ot=this.enableTerrain?d.extend({enableTerrain:this.terrain},be):be;ot.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,be.type,be.source).reloadTile(ot,Qe)}abortTile(de,be,Qe){this.getWorkerSource(de,be.type,be.source).abortTile(be,Qe)}removeTile(de,be,Qe){this.getWorkerSource(de,be.type,be.source).removeTile(be,Qe)}removeSource(de,be,Qe){if(!this.workerSources[de]||!this.workerSources[de][be.type]||!this.workerSources[de][be.type][be.source])return;const ot=this.workerSources[de][be.type][be.source];delete this.workerSources[de][be.type][be.source],void 0!==ot.removeSource?ot.removeSource(be,Qe):Qe()}loadWorkerSource(de,be,Qe){try{this.self.importScripts(be.url),Qe()}catch(ot){Qe(ot.toString())}}syncRTLPluginState(de,be,Qe){try{d.plugin.setState(be);const ot=d.plugin.getPluginURL();if(d.plugin.isLoaded()&&!d.plugin.isParsed()&&null!=ot){this.self.importScripts(ot);const yt=d.plugin.isParsed();Qe(yt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ot}`),yt)}}catch(ot){Qe(ot.toString())}}getAvailableImages(de){let be=this.availableImages[de];return be||(be=[]),be}getLayerIndex(de){let be=this.layerIndexes[de];return be||(be=this.layerIndexes[de]=new q),be}getWorkerSource(de,be,Qe){return this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][be]||(this.workerSources[de][be]={}),this.workerSources[de][be][Qe]||(this.workerSources[de][be][Qe]=new this.workerSourceTypes[be]({send:(ot,yt,ht,kt,Et,It)=>{this.actor.send(ot,yt,ht,de,Et,It)},scheduler:this.actor.scheduler},this.getLayerIndex(de),this.getAvailableImages(de),this.isSpriteLoaded[de])),this.workerSources[de][be][Qe]}getDEMWorkerSource(de,be){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][be]||(this.demWorkerSources[de][be]=new ie),this.demWorkerSources[de][be]}enforceCacheSizeLimit(de,be){d.enforceCacheSizeLimit(be)}getWorkerPerformanceMetrics(de,be,Qe){Qe(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Fo(self)),Fo}),I(0,function(d){var O=H;function H(M){return l=M,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,S,k=new Blob([""],{type:"text/javascript"}),z=URL.createObjectURL(k);try{S=new Worker(z),w=!0}catch(G){w=!1}return S&&S.terminate(),URL.revokeObjectURL(z),w}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var w=document.createElement("canvas");w.width=w.height=1;var S=w.getContext("2d");if(!S)return!1;var k=S.getImageData(0,0,1,1);return k&&k.width===w.width}()||(void 0===q[m=l&&l.failIfMajorPerformanceCaveat]&&(q[m]=function(w){var S,z,G,K,k=(z=w,G=document.createElement("canvas"),(K=Object.create(H.webGLContextAttributes)).failIfMajorPerformanceCaveat=z,G.getContext("webgl",K)||G.getContext("experimental-webgl",K));if(!k)return!1;try{S=k.createShader(k.VERTEX_SHADER)}catch(z){return!1}return!(!S||k.isContextLost())&&(k.shaderSource(S,"void main() {}"),k.compileShader(S),!0===k.getShaderParameter(S,k.COMPILE_STATUS))}(m)),!q[m]||document.documentMode));var l,m}var q={};function W(M,l){if(Array.isArray(M)){if(!Array.isArray(l)||M.length!==l.length)return!1;for(let m=0;m<M.length;m++)if(!W(M[m],l[m]))return!1;return!0}if("object"==typeof M&&null!==M&&null!==l){if("object"!=typeof l||Object.keys(M).length!==Object.keys(l).length)return!1;for(const m in M)if(!W(M[m],l[m]))return!1;return!0}return M===l}H.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ie={create:function(M,l,m){const w=d.window.document.createElement(M);return void 0!==l&&(w.className=l),m&&m.appendChild(w),w},createNS:function(M,l){return d.window.document.createElementNS(M,l)}},Le=d.window.document&&d.window.document.documentElement.style,rt=Le&&void 0!==Le.userSelect?"userSelect":"WebkitUserSelect";let qe;ie.disableDrag=function(){Le&&rt&&(qe=Le[rt],Le[rt]="none")},ie.enableDrag=function(){Le&&rt&&(Le[rt]=qe)},ie.setTransform=function(M,l){M.style.transform=l};let Ee=!1;try{const M=Object.defineProperty({},"passive",{get(){Ee=!0}});d.window.addEventListener("test",M,M),d.window.removeEventListener("test",M,M)}catch(M){Ee=!1}ie.addEventListener=function(M,l,m,w={}){M.addEventListener(l,m,"passive"in w&&Ee?w:w.capture)},ie.removeEventListener=function(M,l,m,w={}){M.removeEventListener(l,m,"passive"in w&&Ee?w:w.capture)};const it=function(M){M.preventDefault(),M.stopPropagation(),d.window.removeEventListener("click",it,!0)};function Q(M,l,m){const w=M.offsetWidth===l.width?1:M.offsetWidth/l.width;return new d.pointGeometry((m.clientX-l.left)*w,(m.clientY-l.top)*w)}function ve(M,l){var m=l[0],w=l[1],S=l[2],k=l[3],z=m*k-S*w;return z?(M[0]=k*(z=1/z),M[1]=-w*z,M[2]=-S*z,M[3]=m*z,M):null}ie.suppressClick=function(){d.window.addEventListener("click",it,!0),d.window.setTimeout(()=>{d.window.removeEventListener("click",it,!0)},0)},ie.mousePos=function(M,l){const m=M.getBoundingClientRect();return Q(M,m,l)},ie.touchPos=function(M,l){const m=M.getBoundingClientRect(),w=[];for(let S=0;S<l.length;S++)w.push(Q(M,m,l[S]));return w},ie.mouseButton=function(M){return void 0!==d.window.InstallTrigger&&2===M.button&&M.ctrlKey&&d.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:M.button},ie.remove=function(M){M.parentNode&&M.parentNode.removeChild(M)};class he{constructor(l,m){this.pos=l,this.dir=m}intersectsPlane(l,m,w){const S=d.dot(m,this.dir);if(Math.abs(S)<1e-6)return!1;const k=d.dot(d.sub(d.create(),l,this.pos),m)/S,z=d.scaleAndAdd(d.create(),this.pos,this.dir,k);return d.copy(w,z),!0}}class xe{constructor(l,m){this.points=l,this.planes=m}static fromInvProjectionMatrix(l,m,w){const S=Math.pow(2,w),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(G=>{const K=d.transformMat4([],G,l),oe=1/K[3]/m*S;return d.mul(K,K,[oe,oe,1/K[3],oe])}),z=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(G=>{const K=d.sub([],k[G[0]],k[G[1]]),oe=d.sub([],k[G[2]],k[G[1]]),le=d.normalize([],d.cross([],K,oe)),ce=-d.dot(le,k[G[1]]);return le.concat(ce)});return new xe(k,z)}}class se{constructor(l,m){this.min=l,this.max=m,this.center=d.scale([],d.add([],this.min,this.max),.5)}quadrant(l){const m=[l%2==0,l<2],w=d.clone(this.min),S=d.clone(this.max);for(let k=0;k<m.length;k++)w[k]=m[k]?this.min[k]:this.center[k],S[k]=m[k]?this.center[k]:this.max[k];return S[2]=this.max[2],new se(w,S)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}distanceZ(l){return Math.max(Math.min(this.max[2],l[2]),this.min[2])-l[2]}intersects(l){const m=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let w=!0;for(let S=0;S<l.planes.length;S++){const k=l.planes[S];let z=0;for(let G=0;G<m.length;G++)z+=d.dot$1(k,m[G])>=0;if(0===z)return 0;z!==m.length&&(w=!1)}if(w)return 2;for(let S=0;S<3;S++){let k=Number.MAX_VALUE,z=-Number.MAX_VALUE;for(let G=0;G<l.points.length;G++){const K=l.points[G][S]-this.min[S];k=Math.min(k,K),z=Math.max(z,K)}if(z<0||k>this.max[S]-this.min[S])return 0}return 1}}function ne(M){const{userImage:l}=M;return!!(l&&l.render&&l.render())&&(M.data.replace(new Uint8Array(l.data.buffer)),!0)}class re extends d.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new d.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:m,callback:w}of this.requestors)this._notify(m,w);this.requestors=[]}}getImage(l){return this.images[l]}addImage(l,m){this._validate(l,m)&&(this.images[l]=m)}_validate(l,m){let w=!0;return this._validateStretch(m.stretchX,m.data&&m.data.width)||(this.fire(new d.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),w=!1),this._validateStretch(m.stretchY,m.data&&m.data.height)||(this.fire(new d.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),w=!1),this._validateContent(m.content,m)||(this.fire(new d.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),w=!1),w}_validateStretch(l,m){if(!l)return!0;let w=0;for(const S of l){if(S[0]<w||S[1]<S[0]||m<S[1])return!1;w=S[1]}return!0}_validateContent(l,m){return!(l&&(4!==l.length||l[0]<0||m.data.width<l[0]||l[1]<0||m.data.height<l[1]||l[2]<0||m.data.width<l[2]||l[3]<0||m.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,m){m.version=this.images[l].version+1,this.images[l]=m,this.updatedImages[l]=!0}removeImage(l){const m=this.images[l];delete this.images[l],delete this.patterns[l],m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,m){let w=!0;if(!this.isLoaded())for(const S of l)this.images[S]||(w=!1);this.isLoaded()||w?this._notify(l,m):this.requestors.push({ids:l,callback:m})}_notify(l,m){const w={};for(const S of l){this.images[S]||this.fire(new d.Event("styleimagemissing",{id:S}));const k=this.images[S];k?w[S]={data:k.data.clone(),pixelRatio:k.pixelRatio,sdf:k.sdf,version:k.version,stretchX:k.stretchX,stretchY:k.stretchY,content:k.content,hasRenderCallback:Boolean(k.userImage&&k.userImage.render)}:d.warnOnce(`Image "${S}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,w)}getPixelSize(){const{width:l,height:m}=this.atlasImage;return{width:l,height:m}}getPattern(l){const m=this.patterns[l],w=this.getImage(l);if(!w)return null;if(m&&m.position.version===w.version)return m.position;if(m)m.position.version=w.version;else{const S={w:w.data.width+2,h:w.data.height+2,x:0,y:0},k=new d.ImagePosition(S,w);this.patterns[l]={bin:S,position:k}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const m=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new d.Texture(l,this.atlasImage,m.RGBA),this.atlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const k in this.patterns)l.push(this.patterns[k].bin);const{w:m,h:w}=d.potpack(l),S=this.atlasImage;S.resize({width:m||1,height:w||1});for(const k in this.patterns){const{bin:z}=this.patterns[k],G=z.x+1,K=z.y+1,oe=this.images[k].data,le=oe.width,ce=oe.height;d.RGBAImage.copy(oe,S,{x:0,y:0},{x:G,y:K},{width:le,height:ce}),d.RGBAImage.copy(oe,S,{x:0,y:ce-1},{x:G,y:K-1},{width:le,height:1}),d.RGBAImage.copy(oe,S,{x:0,y:0},{x:G,y:K+ce},{width:le,height:1}),d.RGBAImage.copy(oe,S,{x:le-1,y:0},{x:G-1,y:K},{width:1,height:ce}),d.RGBAImage.copy(oe,S,{x:0,y:0},{x:G+le,y:K},{width:1,height:ce})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const m of l){if(this.callbackDispatchedThisFrame[m])continue;this.callbackDispatchedThisFrame[m]=!0;const w=this.images[m];ne(w)&&this.updateImage(m,w)}}}const fe=new d.Properties({anchor:new d.DataConstantProperty(d.spec.light.anchor),position:new class{constructor(){this.specification=d.spec.light.position}possiblyEvaluate(M,l){return function([m,w,S]){const k=d.degToRad(w+90),z=d.degToRad(S);return{x:m*Math.cos(k)*Math.sin(z),y:m*Math.sin(k)*Math.sin(z),z:m*Math.cos(z),azimuthal:w,polar:S}}(M.expression.evaluate(l))}interpolate(M,l,m){return{x:d.number(M.x,l.x,m),y:d.number(M.y,l.y,m),z:d.number(M.z,l.z,m),azimuthal:d.number(M.azimuthal,l.azimuthal,m),polar:d.number(M.polar,l.polar,m)}}},color:new d.DataConstantProperty(d.spec.light.color),intensity:new d.DataConstantProperty(d.spec.light.intensity)}),we="-transition";class ae extends d.Evented{constructor(l){super(),this._transitionable=new d.Transitionable(fe),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,m={}){if(!this._validate(d.validateLight,l,m))for(const w in l){const S=l[w];d.endsWith(w,we)?this._transitionable.setTransition(w.slice(0,-we.length),S):this._transitionable.setValue(w,S)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,m,w){return(!w||!1!==w.validate)&&d.emitValidationErrors(this,l.call(d.validateStyle,d.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:d.spec})))}}const ct=new d.Properties({source:new d.DataConstantProperty(d.spec.terrain.source),exaggeration:new d.DataConstantProperty(d.spec.terrain.exaggeration)}),Fe="-transition";class Je extends d.Evented{constructor(l){super(),this._transitionable=new d.Transitionable(ct),this.set(l),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(l){for(const m in l){const w=l[m];d.endsWith(m,Fe)?this._transitionable.setTransition(m.slice(0,-Fe.length),w):this._transitionable.setValue(m,w)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}}function Te(M,l,m,w){const S=d.smoothstep(45,65,m),[k,z]=Xt(M,w),G=d.length(l);let K=1-Math.min(1,Math.exp((G-k)/(z-k)*-6));return K*=K*K,K=Math.min(1,1.00747*K),K*S*M.alpha}function Xt(M,l){const m=.5/Math.tan(.5*l);return[M.range[0]+m,M.range[1]+m]}const Pt=new d.Properties({range:new d.DataConstantProperty(d.spec.fog.range),color:new d.DataConstantProperty(d.spec.fog.color),"horizon-blend":new d.DataConstantProperty(d.spec.fog["horizon-blend"])}),Ge="-transition";class Mt extends d.Evented{constructor(l,m){super(),this._transitionable=new d.Transitionable(Pt),this.set(l),this._transitioning=this._transitionable.untransitioned(),this._transform=m}isSoftDisabled(){return"mercator"!==this._transform.projection.name}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(l,m={}){if(!this._validate(d.validateFog,l,m))for(const w in l){const S=l[w];d.endsWith(w,Ge)?this._transitionable.setTransition(w.slice(0,-Ge.length),S):this._transitionable.setValue(w,S)}}getOpacity(l){if(this.isSoftDisabled())return 0;const m=this.properties&&this.properties.get("color")||1;return d.smoothstep(45,65,l)*m.a}getOpacityAtLatLng(l,m){return this.isSoftDisabled()?0:function(w,S,k){const z=d.MercatorCoordinate.fromLngLat(S),G=k.elevation?k.elevation.getAtPointOrZero(z):0,K=[z.x,z.y,G];return d.transformMat4$1(K,K,k.mercatorFogMatrix),Te(w,K,k.pitch,k._fov)}(this.state,l,m)}getFovAdjustedRange(l){return this.isSoftDisabled()?[0,1]:Xt(this.state,l)}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,m,w){return(!w||!1!==w.validate)&&d.emitValidationErrors(this,l.call(d.validateStyle,d.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:d.spec})))}}class tt{constructor(l,m){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=d.uniqueId();const w=this.workerPool.acquire(this.id);for(let S=0;S<w.length;S++){const k=new tt.Actor(w[S],m,this.id);k.name=`Worker ${S}`,this.actors.push(k)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(l,m,w){d.asyncAll(this.actors,(S,k)=>{S.send(l,m,k)},w=w||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}function xt(M,l,m){return l*(d.EXTENT/(M.tileSize*Math.pow(2,m-M.tileID.overscaledZ)))}tt.Actor=d.Actor;class gt{constructor(l,m,w,S){this.screenBounds=l,this.cameraPoint=m,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=w,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(k=>S.pointCoordinate3D(k)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(l,m){let w,S;if(l instanceof d.pointGeometry||"number"==typeof l[0]){const k=d.pointGeometry.convert(l);w=[d.pointGeometry.convert(l)],S=m.isPointAboveHorizon(k)}else{const k=d.pointGeometry.convert(l[0]),z=d.pointGeometry.convert(l[1]);w=[k,z],S=d.polygonizeBounds(k,z).every(G=>m.isPointAboveHorizon(G))}return new gt(w,m.getCameraPoint(),S,m)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(l){return d.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],l)}bufferedCameraGeometry(l){const m=this.screenBounds[0],w=1===this.screenBounds.length?this.screenBounds[0].add(new d.pointGeometry(1,1)):this.screenBounds[1],S=d.polygonizeBounds(m,w,0,!1);return this.cameraPoint.y>w.y&&(this.cameraPoint.x>m.x&&this.cameraPoint.x<w.x?S.splice(3,0,this.cameraPoint):this.cameraPoint.x>=w.x?S[2]=this.cameraPoint:this.cameraPoint.x<=m.x&&(S[3]=this.cameraPoint)),d.bufferConvexPolygon(S,l)}containsTile(l,m,w){const S=l.queryPadding+1,k=l.tileID.wrap,z=w?this._bufferedCameraMercator(S,m).map(et=>d.getTilePoint(l.tileTransform,et,k)):this._bufferedScreenMercator(S,m).map(et=>d.getTilePoint(l.tileTransform,et,k)),G=this.screenGeometryMercator.map(et=>d.getTileVec3(l.tileTransform,et,k)),K=G.map(et=>new d.pointGeometry(et[0],et[1])),oe=m.getFreeCameraOptions().position||new d.MercatorCoordinate(0,0,0),le=d.getTileVec3(l.tileTransform,oe,k),ce=G.map(et=>{const $e=d.sub(et,et,le);return d.normalize($e,$e),new he(le,$e)}),Pe=xt(l,1,m.zoom);if(d.polygonIntersectsBox(z,0,0,d.EXTENT,d.EXTENT))return{queryGeometry:this,tilespaceGeometry:K,tilespaceRays:ce,bufferedTilespaceGeometry:z,bufferedTilespaceBounds:(je=d.getBounds(z),je.min.x=d.clamp(je.min.x,0,d.EXTENT),je.min.y=d.clamp(je.min.y,0,d.EXTENT),je.max.x=d.clamp(je.max.x,0,d.EXTENT),je.max.y=d.clamp(je.max.y,0,d.EXTENT),je),tile:l,tileID:l.tileID,pixelToTileUnitsFactor:Pe};var je}_bufferedScreenMercator(l,m){const w=Re(l);if(this._screenRaycastCache[w])return this._screenRaycastCache[w];{const S=this.bufferedScreenGeometry(l).map(k=>m.pointCoordinate3D(k));return this._screenRaycastCache[w]=S,S}}_bufferedCameraMercator(l,m){const w=Re(l);if(this._cameraRaycastCache[w])return this._cameraRaycastCache[w];{const S=this.bufferedCameraGeometry(l).map(k=>m.pointCoordinate3D(k));return this._cameraRaycastCache[w]=S,S}}}function Re(M){return 100*M|0}function Yt(M,l,m){const w=function(S,k){if(S)return m(S);if(k){const z=d.pick(d.extend(k,M),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);k.vector_layers&&(z.vectorLayers=k.vector_layers,z.vectorLayerIds=z.vectorLayers.map(G=>G.id)),z.tiles=l.canonicalizeTileset(z,M.url),m(null,z)}};return M.url?d.getJSON(l.transformRequest(l.normalizeSourceURL(M.url),d.ResourceType.Source),w):d.exported.frame(()=>w(null,M))}class Ht{constructor(l,m,w){this.bounds=d.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=m||0,this.maxzoom=w||24}validateBounds(l){return Array.isArray(l)&&4===l.length?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const m=Math.pow(2,l.z),w=Math.floor(d.mercatorXfromLng(this.bounds.getWest())*m),S=Math.floor(d.mercatorYfromLat(this.bounds.getNorth())*m),k=Math.ceil(d.mercatorXfromLng(this.bounds.getEast())*m),z=Math.ceil(d.mercatorYfromLat(this.bounds.getSouth())*m);return l.x>=w&&l.x<k&&l.y>=S&&l.y<z}}class _n{constructor(l,m,w){this.context=l;const S=l.gl;this.buffer=S.createBuffer(),this.dynamicDraw=Boolean(w),this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const m=this.context.gl;this.context.unbindVAO(),this.bind(),m.bufferSubData(m.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const bt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Qn{constructor(l,m,w,S){this.length=m.length,this.attributes=w,this.itemSize=m.bytesPerElement,this.dynamicDraw=S,this.context=l;const k=l.gl;this.buffer=k.createBuffer(),l.bindVertexBuffer.set(this.buffer),k.bufferData(k.ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete m.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){const m=this.context.gl;this.bind(),m.bufferSubData(m.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,m){for(let w=0;w<this.attributes.length;w++){const S=m.attributes[this.attributes[w].name];void 0!==S&&l.enableVertexAttribArray(S)}}setVertexAttribPointers(l,m,w){for(let S=0;S<this.attributes.length;S++){const k=this.attributes[S],z=m.attributes[k.name];void 0!==z&&l.vertexAttribPointer(z,k.components,l[bt[k.type]],!1,this.itemSize,k.offset+this.itemSize*(w||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class fn{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Pn extends fn{getDefault(){return d.Color.transparent}set(l){const m=this.current;(l.r!==m.r||l.g!==m.g||l.b!==m.b||l.a!==m.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Sn extends fn{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class On extends fn{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class wn extends fn{getDefault(){return[!0,!0,!0,!0]}set(l){const m=this.current;(l[0]!==m[0]||l[1]!==m[1]||l[2]!==m[2]||l[3]!==m[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Xr extends fn{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class Li extends fn{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class or extends fn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const m=this.current;(l.func!==m.func||l.ref!==m.ref||l.mask!==m.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class oi extends fn{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const m=this.current;(l[0]!==m[0]||l[1]!==m[1]||l[2]!==m[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class Zi extends fn{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;l?m.enable(m.STENCIL_TEST):m.disable(m.STENCIL_TEST),this.current=l,this.dirty=!1}}class Lt extends fn{getDefault(){return[0,1]}set(l){const m=this.current;(l[0]!==m[0]||l[1]!==m[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class Oe extends fn{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;l?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),this.current=l,this.dirty=!1}}class ke extends fn{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class De extends fn{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;l?m.enable(m.BLEND):m.disable(m.BLEND),this.current=l,this.dirty=!1}}class Ze extends fn{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const m=this.current;(l[0]!==m[0]||l[1]!==m[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class _t extends fn{getDefault(){return d.Color.transparent}set(l){const m=this.current;(l.r!==m.r||l.g!==m.g||l.b!==m.b||l.a!==m.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class zt extends fn{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class sn extends fn{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;l?m.enable(m.CULL_FACE):m.disable(m.CULL_FACE),this.current=l,this.dirty=!1}}class Kt extends fn{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class Ut extends fn{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class qn extends fn{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class dr extends fn{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class tn extends fn{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const m=this.current;(l[0]!==m[0]||l[1]!==m[1]||l[2]!==m[2]||l[3]!==m[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class br extends fn{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class Ui extends fn{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;m.bindRenderbuffer(m.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class $r extends fn{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;m.bindTexture(m.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class vi extends fn{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;m.bindBuffer(m.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Ss extends fn{getDefault(){return null}set(l){const m=this.gl;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Js extends fn{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class xi extends fn{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class qs extends fn{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class es extends fn{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class wi extends fn{constructor(l,m){super(l),this.context=l,this.parent=m}getDefault(){return null}}class ai extends wi{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class Ys extends wi{attachment(){return this.gl.DEPTH_ATTACHMENT}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,this.attachment(),m.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class mn extends Ys{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class rl{constructor(l,m,w,S){this.context=l,this.width=m,this.height=w;const k=this.framebuffer=l.gl.createFramebuffer();this.colorAttachment=new ai(l,k),S&&(this.depthAttachment=new Ys(l,k))}destroy(){const l=this.context.gl,m=this.colorAttachment.get();if(m&&l.deleteTexture(m),this.depthAttachment){const w=this.depthAttachment.get();w&&l.deleteRenderbuffer(w)}l.deleteFramebuffer(this.framebuffer)}}class oa{constructor(l){this.gl=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Pn(this),this.clearDepth=new Sn(this),this.clearStencil=new On(this),this.colorMask=new wn(this),this.depthMask=new Xr(this),this.stencilMask=new Li(this),this.stencilFunc=new or(this),this.stencilOp=new oi(this),this.stencilTest=new Zi(this),this.depthRange=new Lt(this),this.depthTest=new Oe(this),this.depthFunc=new ke(this),this.blend=new De(this),this.blendFunc=new Ze(this),this.blendColor=new _t(this),this.blendEquation=new zt(this),this.cullFace=new sn(this),this.cullFaceSide=new Kt(this),this.frontFace=new Ut(this),this.program=new qn(this),this.activeTexture=new dr(this),this.viewport=new tn(this),this.bindFramebuffer=new br(this),this.bindRenderbuffer=new Ui(this),this.bindTexture=new $r(this),this.bindVertexBuffer=new vi(this),this.bindElementBuffer=new Ss(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Js(this),this.pixelStoreUnpack=new xi(this),this.pixelStoreUnpackPremultiplyAlpha=new qs(this),this.pixelStoreUnpackFlipY=new es(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=l.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(l.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,m){return new _n(this,l,m)}createVertexBuffer(l,m,w){return new Qn(this,l,m,w)}createRenderbuffer(l,m,w){const S=this.gl,k=S.createRenderbuffer();return this.bindRenderbuffer.set(k),S.renderbufferStorage(S.RENDERBUFFER,l,m,w),this.bindRenderbuffer.set(null),k}createFramebuffer(l,m,w){return new rl(this,l,m,w)}clear({color:l,depth:m,stencil:w}){const S=this.gl;let k=0;l&&(k|=S.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),void 0!==m&&(k|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),void 0!==w&&(k|=S.STENCIL_BUFFER_BIT,this.clearStencil.set(w),this.stencilMask.set(255)),S.clear(k)}setCullFace(l){!1===l.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){W(l.blendFunction,d.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class xr extends d.Evented{constructor(l,m,w,S){super(),this.id=l,this.dispatcher=w,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=d.extend({type:"raster"},m),d.extend(this,d.pick(m,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new d.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Yt(this._options,this.map._requestManager,(l,m)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new d.ErrorEvent(l)):m&&(d.extend(this,m),m.bounds&&(this.tileBounds=new Ht(m.bounds,this.minzoom,this.maxzoom)),d.postTurnstileEvent(m.tiles),this.fire(new d.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new d.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return d.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,m){const w=d.exported.devicePixelRatio>=2,S=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),w,this.tileSize);l.request=d.getImage(this.map._requestManager.transformRequest(S,d.ResourceType.Tile),(k,z,G,K)=>{if(delete l.request,l.aborted)l.state="unloaded",m(null);else if(k)l.state="errored",m(k);else if(z){this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:G,expires:K});const oe=this.map.painter.context,le=oe.gl;l.texture=this.map.painter.getTileTexture(z.width),l.texture?l.texture.update(z,{useMipmap:!0}):(l.texture=new d.Texture(oe,z,le.RGBA,{useMipmap:!0}),l.texture.bind(le.LINEAR,le.CLAMP_TO_EDGE),oe.extTextureFilterAnisotropic&&le.texParameterf(le.TEXTURE_2D,oe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,oe.extTextureFilterAnisotropicMax)),l.state="loaded",d.cacheEntryPossiblyAdded(this.dispatcher),m(null)}})}abortTile(l,m){l.request&&(l.request.cancel(),delete l.request),m()}unloadTile(l,m){l.texture&&this.map.painter.saveTileTexture(l.texture),m()}hasTransition(){return!1}}let Fo;class We extends d.Evented{constructor(l,m,w,S){super(),this.id=l,this.dispatcher=w,this.coordinates=m.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=m}load(l,m){this._loaded=!1,this.fire(new d.Event("dataloading",{dataType:"source"})),this.url=this.options.url,d.getImage(this.map._requestManager.transformRequest(this.url,d.ResourceType.Image),(w,S)=>{this._loaded=!0,w?this.fire(new d.ErrorEvent(w)):S&&(this.image=d.exported.getImageData(S),l&&(this.coordinates=l),m&&m(),this._finishLoading())})}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new d.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}setCoordinates(l){this.coordinates=l,delete this._boundsArray;const m=l.map(d.MercatorCoordinate.fromLngLat);return this.tileID=function(w){let S=1/0,k=1/0,z=-1/0,G=-1/0;for(const ce of w)S=Math.min(S,ce.x),k=Math.min(k,ce.y),z=Math.max(z,ce.x),G=Math.max(G,ce.y);const K=Math.max(z-S,G-k),oe=Math.max(0,Math.floor(-Math.log(K)/Math.LN2)),le=Math.pow(2,oe);return new d.CanonicalTileID(oe,Math.floor((S+z)/2*le),Math.floor((k+G)/2*le))}(m),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new d.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){delete this._boundsArray}_makeBoundsArray(){const l=d.tileTransform(this.tileID,this.map.transform.projection),m=this.coordinates.map(w=>{const S=l.projection.project(w[0],w[1]);return d.getTilePoint(l,S)._round()});return this._boundsArray=new d.StructArrayLayout4i8,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,d.EXTENT,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,d.EXTENT),this._boundsArray.emplaceBack(m[2].x,m[2].y,d.EXTENT,d.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const l=this.map.painter.context,m=l.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,d.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=d.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new d.Texture(l,this.image,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));for(const w in this.tiles){const S=this.tiles[w];"loaded"!==S.state&&(S.state="loaded",S.texture=this.texture)}}loadTile(l,m){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},m(null)):(l.state="errored",m(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const de={vector:class extends d.Evented{constructor(M,l,m,w){if(super(),this.id=M,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,d.extend(this,d.pick(l,["url","scheme","tileSize","promoteId"])),this._options=d.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w),this._tileWorkers={},this._deduped=new d.DedupedRequest}load(){this._loaded=!1,this.fire(new d.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Yt(this._options,this.map._requestManager,(M,l)=>{this._tileJSONRequest=null,this._loaded=!0,M?this.fire(new d.ErrorEvent(M)):l&&(d.extend(this,l),l.bounds&&(this.tileBounds=new Ht(l.bounds,this.minzoom,this.maxzoom)),d.postTurnstileEvent(l.tiles,this.map._requestManager._customAccessToken),this.fire(new d.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new d.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(M){return!this.tileBounds||this.tileBounds.contains(M.canonical)}onAdd(M){this.map=M,this.load()}setSourceProperty(M){this._tileJSONRequest&&this._tileJSONRequest.cancel(),M();const l=this.map.style._getSourceCaches(this.id);for(const m of l)m.clearTiles();this.load()}setTiles(M){return this.setSourceProperty(()=>{this._options.tiles=M}),this}setUrl(M){return this.setSourceProperty(()=>{this.url=M,this._options.url=M}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return d.extend({},this._options)}loadTile(M,l){const m=this.map._requestManager.normalizeTileURL(M.tileID.canonical.url(this.tiles,this.scheme)),w={request:this.map._requestManager.transformRequest(m,d.ResourceType.Tile),data:void 0,uid:M.uid,tileID:M.tileID,tileZoom:M.tileZoom,zoom:M.tileID.overscaledZ,tileSize:this.tileSize*M.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:d.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:M.isSymbolTile};if(w.request.collectResourceTiming=this._collectResourceTiming,M.actor&&"expired"!==M.state)"loading"===M.state?M.reloadCallback=l:M.request=M.actor.send("reloadTile",w,S.bind(this));else if(M.actor=this._tileWorkers[m]=this._tileWorkers[m]||this.dispatcher.getActor(),this.dispatcher.ready)M.request=M.actor.send("loadTile",w,S.bind(this),void 0,!0);else{const k=d.loadVectorTile.call({deduped:this._deduped},w,(z,G)=>{z||!G?S.call(this,z):(w.data={cacheControl:G.cacheControl,expires:G.expires,rawData:G.rawData.slice(0)},M.actor&&M.actor.send("loadTile",w,S.bind(this),void 0,!0))},!0);M.request={cancel:k}}function S(k,z){return delete M.request,M.aborted?l(null):k&&404!==k.status?l(k):(z&&z.resourceTiming&&(M.resourceTiming=z.resourceTiming),this.map._refreshExpiredTiles&&z&&M.setExpiryData(z),M.loadVectorData(z,this.map.painter),d.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(M.reloadCallback&&(this.loadTile(M,M.reloadCallback),M.reloadCallback=null)))}}abortTile(M){M.request&&(M.request.cancel(),delete M.request),M.actor&&M.actor.send("abortTile",{uid:M.uid,type:this.type,source:this.id})}unloadTile(M){M.unloadVectorData(),M.actor&&M.actor.send("removeTile",{uid:M.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:xr,"raster-dem":class extends xr{constructor(M,l,m,w){super(M,l,m,w),this.type="raster-dem",this.maxzoom=22,this._options=d.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}loadTile(M,l){const m=this.map._requestManager.normalizeTileURL(M.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function w(S,k){S&&(M.state="errored",l(S)),k&&(M.dem=k,M.dem.onDeserialize(),M.needsHillshadePrepare=!0,M.needsDEMTextureUpload=!0,M.state="loaded",l(null))}M.request=d.getImage(this.map._requestManager.transformRequest(m,d.ResourceType.Tile),function(S,k,z,G){if(delete M.request,M.aborted)M.state="unloaded",l(null);else if(S)M.state="errored",l(S);else if(k){this.map._refreshExpiredTiles&&M.setExpiryData({cacheControl:z,expires:G});const K=d.window.ImageBitmap&&k instanceof d.window.ImageBitmap&&(null==Fo&&(Fo=d.window.OffscreenCanvas&&new d.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof d.window.createImageBitmap),Fo),oe=1-(k.width-d.prevPowerOfTwo(k.width))/2;oe<1||M.neighboringTiles||(M.neighboringTiles=this._getNeighboringTiles(M.tileID));const le=K?k:d.exported.getImageData(k,oe),ce={uid:M.uid,coord:M.tileID,source:this.id,rawImageData:le,encoding:this.encoding,padding:oe};M.actor&&"expired"!==M.state||(M.actor=this.dispatcher.getActor(),M.actor.send("loadDEMTile",ce,w.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(M){const l=M.canonical,m=Math.pow(2,l.z),w=(l.x-1+m)%m,S=0===l.x?M.wrap-1:M.wrap,k=(l.x+1+m)%m,z=l.x+1===m?M.wrap+1:M.wrap,G={};return G[new d.OverscaledTileID(M.overscaledZ,S,l.z,w,l.y).key]={backfilled:!1},G[new d.OverscaledTileID(M.overscaledZ,z,l.z,k,l.y).key]={backfilled:!1},l.y>0&&(G[new d.OverscaledTileID(M.overscaledZ,S,l.z,w,l.y-1).key]={backfilled:!1},G[new d.OverscaledTileID(M.overscaledZ,M.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},G[new d.OverscaledTileID(M.overscaledZ,z,l.z,k,l.y-1).key]={backfilled:!1}),l.y+1<m&&(G[new d.OverscaledTileID(M.overscaledZ,S,l.z,w,l.y+1).key]={backfilled:!1},G[new d.OverscaledTileID(M.overscaledZ,M.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},G[new d.OverscaledTileID(M.overscaledZ,z,l.z,k,l.y+1).key]={backfilled:!1}),G}unloadTile(M){M.demTexture&&this.map.painter.saveTileTexture(M.demTexture),M.fbo&&(M.fbo.destroy(),delete M.fbo),M.dem&&delete M.dem,delete M.neighboringTiles,M.state="unloaded"}},geojson:class extends d.Evented{constructor(M,l,m,w){super(),this.id=M,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=m.getActor(),this.setEventedParent(w),this._data=l.data,this._options=d.extend({},l),this._collectResourceTiming=l.collectResourceTiming,void 0!==l.maxzoom&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const S=d.EXTENT/this.tileSize;this.workerOptions=d.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(void 0!==l.buffer?l.buffer:128)*S,tolerance:(void 0!==l.tolerance?l.tolerance:.375)*S,extent:d.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:void 0!==l.clusterMaxZoom?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:d.EXTENT,radius:(void 0!==l.clusterRadius?l.clusterRadius:50)*S,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}onAdd(M){this.map=M,this.setData(this._data)}setData(M){return this._data=M,this._updateWorkerData(),this}getClusterExpansionZoom(M,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:M,source:this.id},l),this}getClusterChildren(M,l){return this.actor.send("geojson.getClusterChildren",{clusterId:M,source:this.id},l),this}getClusterLeaves(M,l,m,w){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:M,limit:l,offset:m},w),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new d.Event("dataloading",{dataType:"source"})),this._loaded=!1;const M=d.extend({},this.workerOptions),l=this._data;"string"==typeof l?(M.request=this.map._requestManager.transformRequest(d.exported.resolveURL(l),d.ResourceType.Source),M.request.collectResourceTiming=this._collectResourceTiming):M.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,M,(m,w)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new d.ErrorEvent(m));else{const S={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&w&&w.resourceTiming&&w.resourceTiming[this.id]&&(S.resourceTiming=w.resourceTiming[this.id]),this.fire(new d.Event("data",S)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(M,l){const m=M.actor?"reloadTile":"loadTile";M.actor=this.actor,M.request=this.actor.send(m,{type:this.type,uid:M.uid,tileID:M.tileID,tileZoom:M.tileZoom,zoom:M.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:d.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(w,S)=>(delete M.request,M.unloadVectorData(),M.aborted?l(null):w?l(w):(M.loadVectorData(S,this.map.painter,"reloadTile"===m),l(null))),void 0,"loadTile"===m)}abortTile(M){M.request&&(M.request.cancel(),delete M.request),M.aborted=!0}unloadTile(M){M.unloadVectorData(),this.actor.send("removeTile",{uid:M.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return d.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends We{constructor(M,l,m,w){super(M,l,m,w),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const M=this.options;this.urls=[];for(const l of M.urls)this.urls.push(this.map._requestManager.transformRequest(l,d.ResourceType.Source).url);d.getVideo(this.urls,(l,m)=>{this._loaded=!0,l?this.fire(new d.ErrorEvent(l)):m&&(this.video=m,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(M){if(this.video){const l=this.video.seekable;M<l.start(0)||M>l.end(0)?this.fire(new d.ErrorEvent(new d.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=M}}getVideo(){return this.video}onAdd(M){this.map||(this.map=M,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const M=this.map.painter.context,l=M.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=M.createVertexBuffer(this._boundsArray,d.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=d.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new d.Texture(M,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE));for(const m in this.tiles){const w=this.tiles[m];"loaded"!==w.state&&(w.state="loaded",w.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:We,canvas:class extends We{constructor(M,l,m,w){super(M,l,m,w),l.coordinates?Array.isArray(l.coordinates)&&4===l.coordinates.length&&!l.coordinates.some(S=>!Array.isArray(S)||2!==S.length||S.some(k=>"number"!=typeof k))||this.fire(new d.ErrorEvent(new d.ValidationError(`sources.${M}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new d.ErrorEvent(new d.ValidationError(`sources.${M}`,null,'missing required property "coordinates"'))),l.animate&&"boolean"!=typeof l.animate&&this.fire(new d.ErrorEvent(new d.ValidationError(`sources.${M}`,null,'optional "animate" property must be a boolean value'))),l.canvas?"string"==typeof l.canvas||l.canvas instanceof d.window.HTMLCanvasElement||this.fire(new d.ErrorEvent(new d.ValidationError(`sources.${M}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new d.ErrorEvent(new d.ValidationError(`sources.${M}`,null,'missing required property "canvas"'))),this.options=l,this.animate=void 0===l.animate||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof d.window.HTMLCanvasElement?this.options.canvas:d.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new d.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(M){this.map=M,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let M=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,M=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,M=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const l=this.map.painter.context,m=l.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,d.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=d.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(M||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new d.Texture(l,this.canvas,m.RGBA,{premultiply:!0});for(const w in this.tiles){const S=this.tiles[w];"loaded"!==S.state&&(S.state="loaded",S.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const M of[this.canvas.width,this.canvas.height])if(isNaN(M)||M<=0)return!0;return!1}}},be=function(M,l,m,w){const S=new de[l.type](M,l,m,w);if(S.id!==M)throw new Error(`Expected Source id to be ${M} instead of ${S.id}`);return d.bindAll(["load","abort","unload","serialize","prepare"],S),S};function Qe(M,l){const m=d.identity([]);return d.scale$1(m,m,[.5*M.width,.5*-M.height,1]),d.translate(m,m,[1,-1,0]),d.multiply(m,m,M.calculateProjMatrix(l.toUnwrapped()))}function ot(M,l,m,w,S,k,z,G=!1){const K=M.tilesIn(w,z,G);K.sort(ht);const oe=[];for(const ce of K)oe.push({wrappedTileID:ce.tile.tileID.wrapped().key,queryResults:ce.tile.queryRenderedFeatures(l,m,M._state,ce,S,k,Qe(M.transform,ce.tile.tileID),G)});const le=function(ce){const Pe={},je={};for(const et of ce){const $e=et.queryResults,st=et.wrappedTileID,Xe=je[st]=je[st]||{};for(const at in $e){const ut=$e[at],Ke=Xe[at]=Xe[at]||{},ft=Pe[at]=Pe[at]||[];for(const Dt of ut)Ke[Dt.featureIndex]||(Ke[Dt.featureIndex]=!0,ft.push(Dt))}}return Pe}(oe);for(const ce in le)le[ce].forEach(Pe=>{const je=Pe.feature,et=M.getFeatureState(je.layer["source-layer"],je.id);je.source=je.layer.source,je.layer["source-layer"]&&(je.sourceLayer=je.layer["source-layer"]),je.state=et});return le}function yt(M,l){const m=M.getRenderableIds().map(k=>M.getTileByID(k)),w=[],S={};for(let k=0;k<m.length;k++){const z=m[k],G=z.tileID.canonical.key;S[G]||(S[G]=!0,z.querySourceFeatures(w,l))}return w}function ht(M,l){const m=M.tileID,w=l.tileID;return m.overscaledZ-w.overscaledZ||m.canonical.y-w.canonical.y||m.wrap-w.wrap||m.canonical.x-w.canonical.x}function kt(){return null!=ku.workerClass?new ku.workerClass:new d.window.Worker(ku.workerUrl)}const Et="mapboxgl_preloaded_worker_pool";class It{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<It.workerCount;)this.workers.push(new kt);return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],0===this.numActive()&&(this.workers.forEach(m=>{m.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Et]}numActive(){return Object.keys(this.active).length}}let jt;function ln(){return jt||(jt=new It),jt}function nn(M,l){const m={};for(const w in M)"ref"!==w&&(m[w]=M[w]);return d.refProperties.forEach(w=>{w in l&&(m[w]=l[w])}),m}function Un(M){M=M.slice();const l=Object.create(null);for(let m=0;m<M.length;m++)l[M[m].id]=M[m];for(let m=0;m<M.length;m++)"ref"in M[m]&&(M[m]=nn(M[m],l[M[m].ref]));return M}It.workerCount=2;const pn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Ct(M,l,m){m.push({command:pn.addSource,args:[M,l[M]]})}function qt(M,l,m){l.push({command:pn.removeSource,args:[M]}),m[M]=!0}function fr(M,l,m,w){qt(M,m,w),Ct(M,l,m)}function Mr(M,l,m){let w;for(w in M[m])if(M[m].hasOwnProperty(w)&&"data"!==w&&!W(M[m][w],l[m][w]))return!1;for(w in l[m])if(l[m].hasOwnProperty(w)&&"data"!==w&&!W(M[m][w],l[m][w]))return!1;return!0}function gr(M,l,m,w,S,k){let z;for(z in l=l||{},M=M||{})M.hasOwnProperty(z)&&(W(M[z],l[z])||m.push({command:k,args:[w,z,l[z],S]}));for(z in l)l.hasOwnProperty(z)&&!M.hasOwnProperty(z)&&(W(M[z],l[z])||m.push({command:k,args:[w,z,l[z],S]}))}function nr(M){return M.id}function pr(M,l){return M[l.id]=l,M}class ou{constructor(l,m){this.reset(l,m)}reset(l,m){this.points=l||[],this._distances=[0];for(let w=1;w<this.points.length;w++)this._distances[w]=this._distances[w-1]+this.points[w].dist(this.points[w-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(m||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(1===this.points.length)return this.points[0];l=d.clamp(l,0,1);let m=1,w=this._distances[m];const S=l*this.paddedLength+this.padding;for(;w<S&&m<this._distances.length;)w=this._distances[++m];const k=m-1,z=this._distances[k],G=w-z,K=G>0?(S-z)/G:0;return this.points[k].mult(1-K).add(this.points[m].mult(K))}}class co{constructor(l,m,w){const S=this.boxCells=[],k=this.circleCells=[];this.xCellCount=Math.ceil(l/w),this.yCellCount=Math.ceil(m/w);for(let z=0;z<this.xCellCount*this.yCellCount;z++)S.push([]),k.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=m,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/m,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,m,w,S,k){this._forEachCell(m,w,S,k,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(m),this.bboxes.push(w),this.bboxes.push(S),this.bboxes.push(k)}insertCircle(l,m,w,S){this._forEachCell(m-S,w-S,m+S,w+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(m),this.circles.push(w),this.circles.push(S)}_insertBoxCell(l,m,w,S,k,z){this.boxCells[k].push(z)}_insertCircleCell(l,m,w,S,k,z){this.circleCells[k].push(z)}_query(l,m,w,S,k,z){if(w<0||l>this.width||S<0||m>this.height)return!k&&[];const G=[];if(l<=0&&m<=0&&this.width<=w&&this.height<=S){if(k)return!0;for(let K=0;K<this.boxKeys.length;K++)G.push({key:this.boxKeys[K],x1:this.bboxes[4*K],y1:this.bboxes[4*K+1],x2:this.bboxes[4*K+2],y2:this.bboxes[4*K+3]});for(let K=0;K<this.circleKeys.length;K++){const oe=this.circles[3*K],le=this.circles[3*K+1],ce=this.circles[3*K+2];G.push({key:this.circleKeys[K],x1:oe-ce,y1:le-ce,x2:oe+ce,y2:le+ce})}return z?G.filter(z):G}return this._forEachCell(l,m,w,S,this._queryCell,G,{hitTest:k,seenUids:{box:{},circle:{}}},z),k?G.length>0:G}_queryCircle(l,m,w,S,k){const z=l-w,G=l+w,K=m-w,oe=m+w;if(G<0||z>this.width||oe<0||K>this.height)return!S&&[];const le=[];return this._forEachCell(z,K,G,oe,this._queryCellCircle,le,{hitTest:S,circle:{x:l,y:m,radius:w},seenUids:{box:{},circle:{}}},k),S?le.length>0:le}query(l,m,w,S,k){return this._query(l,m,w,S,!1,k)}hitTest(l,m,w,S,k){return this._query(l,m,w,S,!0,k)}hitTestCircle(l,m,w,S){return this._queryCircle(l,m,w,!0,S)}_queryCell(l,m,w,S,k,z,G,K){const oe=G.seenUids,le=this.boxCells[k];if(null!==le){const Pe=this.bboxes;for(const je of le)if(!oe.box[je]){oe.box[je]=!0;const et=4*je;if(l<=Pe[et+2]&&m<=Pe[et+3]&&w>=Pe[et+0]&&S>=Pe[et+1]&&(!K||K(this.boxKeys[je]))){if(G.hitTest)return z.push(!0),!0;z.push({key:this.boxKeys[je],x1:Pe[et],y1:Pe[et+1],x2:Pe[et+2],y2:Pe[et+3]})}}}const ce=this.circleCells[k];if(null!==ce){const Pe=this.circles;for(const je of ce)if(!oe.circle[je]){oe.circle[je]=!0;const et=3*je;if(this._circleAndRectCollide(Pe[et],Pe[et+1],Pe[et+2],l,m,w,S)&&(!K||K(this.circleKeys[je]))){if(G.hitTest)return z.push(!0),!0;{const $e=Pe[et],st=Pe[et+1],Xe=Pe[et+2];z.push({key:this.circleKeys[je],x1:$e-Xe,y1:st-Xe,x2:$e+Xe,y2:st+Xe})}}}}}_queryCellCircle(l,m,w,S,k,z,G,K){const oe=G.circle,le=G.seenUids,ce=this.boxCells[k];if(null!==ce){const je=this.bboxes;for(const et of ce)if(!le.box[et]){le.box[et]=!0;const $e=4*et;if(this._circleAndRectCollide(oe.x,oe.y,oe.radius,je[$e+0],je[$e+1],je[$e+2],je[$e+3])&&(!K||K(this.boxKeys[et])))return z.push(!0),!0}}const Pe=this.circleCells[k];if(null!==Pe){const je=this.circles;for(const et of Pe)if(!le.circle[et]){le.circle[et]=!0;const $e=3*et;if(this._circlesCollide(je[$e],je[$e+1],je[$e+2],oe.x,oe.y,oe.radius)&&(!K||K(this.circleKeys[et])))return z.push(!0),!0}}}_forEachCell(l,m,w,S,k,z,G,K){const oe=this._convertToXCellCoord(l),le=this._convertToYCellCoord(m),ce=this._convertToXCellCoord(w),Pe=this._convertToYCellCoord(S);for(let je=oe;je<=ce;je++)for(let et=le;et<=Pe;et++)if(k.call(this,l,m,w,S,this.xCellCount*et+je,z,G,K))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,m,w,S,k,z){const G=S-l,K=k-m,oe=w+z;return oe*oe>G*G+K*K}_circleAndRectCollide(l,m,w,S,k,z,G){const K=(z-S)/2,oe=Math.abs(l-(S+K));if(oe>K+w)return!1;const le=(G-k)/2,ce=Math.abs(m-(k+le));if(ce>le+w)return!1;if(oe<=K||ce<=le)return!0;const Pe=oe-K,je=ce-le;return Pe*Pe+je*je<=w*w}}const rn=Math.tan(85*Math.PI/180);function rr(M,l,m,w,S){const k=d.create$1();if(l){const z=ve([],S);k[0]=z[0],k[1]=z[1],k[4]=z[2],k[5]=z[3],m||d.rotateZ(k,k,w.angle)}else d.multiply(k,w.labelPlaneMatrix,M);return k}function Fr(M,l,m,w,S){if(l){const k=d.clone$1(M),z=d.identity([]);return z[0]=S[0],z[1]=S[1],z[4]=S[2],z[5]=S[3],d.multiply(k,k,z),m||d.rotateZ(k,k,-w.angle),k}return w.glCoordMatrix}function Xi(M,l,m=0){const w=[M.x,M.y,m,1];m?d.transformMat4(w,w,l):li(w,w,l);const S=w[3];return{point:new d.pointGeometry(w[0]/S,w[1]/S),signedDistanceFromCamera:S}}function Jo(M,l){return Math.min(.5+M/l*.5,1.5)}function Vn(M,l){const m=M[0]/M[3],w=M[1]/M[3];return m>=-l[0]&&m<=l[0]&&w>=-l[1]&&w<=l[1]}function Ou(M,l,m,w,S,k,z,G,K){const oe=w?M.textSizeData:M.iconSizeData,le=d.evaluateSizeForZoom(oe,m.transform.zoom),ce=[256/m.width*2+1,256/m.height*2+1],Pe=w?M.text.dynamicLayoutVertexArray:M.icon.dynamicLayoutVertexArray;Pe.clear();const je=M.lineVertexArray,et=w?M.text.placedSymbolArray:M.icon.placedSymbolArray,$e=m.transform.width/m.transform.height;let st=!1;for(let Xe=0;Xe<et.length;Xe++){const at=et.get(Xe);if(at.writingMode!==d.WritingMode.vertical||st||0!==Xe&&et.get(Xe-1).writingMode===d.WritingMode.horizontal||(st=!0),at.hidden||at.writingMode===d.WritingMode.vertical&&!st){Jr(at.numGlyphs,Pe);continue}st=!1;const ut=new d.pointGeometry(at.tileAnchorX,at.tileAnchorY),Ke=K?K(ut):0,ft=[ut.x,ut.y,Ke],Dt=[...ft,1];if(d.transformMat4(Dt,Dt,l),!Vn(Dt,ce)){Jr(at.numGlyphs,Pe);continue}const Jt=Jo(m.transform.cameraToCenterDistance,Dt[3]),Zt=d.evaluateSizeForFeature(oe,le,at),an=z?Zt/Jt:Zt*Jt,Qt=Xi(new d.pointGeometry(ft[0],ft[1]),S,ft[2]);if(Qt.signedDistanceFromCamera<=0){Jr(at.numGlyphs,Pe);continue}let xn={};const on=z?null:K,kn=Oa(at,an,!1,G,l,S,k,M.glyphOffsetArray,je,Pe,Qt.point,ut,xn,$e,on);st=kn.useVertical,on&&kn.needsFlipping&&(xn={}),(kn.notEnoughRoom||st||kn.needsFlipping&&Oa(at,an,!0,G,l,S,k,M.glyphOffsetArray,je,Pe,Qt.point,ut,xn,$e,on).notEnoughRoom)&&Jr(at.numGlyphs,Pe)}w?M.text.dynamicLayoutVertexBuffer.updateData(Pe):M.icon.dynamicLayoutVertexBuffer.updateData(Pe)}function Di(M,l,m,w,S,k,z,G,K,oe,le,ce,Pe){const je=G.glyphStartIndex+G.numGlyphs,et=G.lineStartIndex,$e=G.lineStartIndex+G.lineLength,st=l.getoffsetX(G.glyphStartIndex),Xe=l.getoffsetX(je-1),at=Ko(M*st,m,w,S,k,z,G.segment,et,$e,K,oe,le,ce,Pe,!0);if(!at)return null;const ut=Ko(M*Xe,m,w,S,k,z,G.segment,et,$e,K,oe,le,ce,Pe,!0);return ut?{first:at,last:ut}:null}function Ul(M,l,m,w){return M.writingMode===d.WritingMode.horizontal&&Math.abs(m.y-l.y)>Math.abs(m.x-l.x)*w?{useVertical:!0}:M.writingMode===d.WritingMode.vertical?l.y<m.y?{needsFlipping:!0}:null:0!==M.flipState&&function(S,k,z){const G=(k.x-S.x)*z;return 0===G||Math.abs((k.y-S.y)/G)>rn}(l,m,w)?1===M.flipState?{needsFlipping:!0}:null:l.x>m.x?{needsFlipping:!0}:null}function Oa(M,l,m,w,S,k,z,G,K,oe,le,ce,Pe,je,et){const $e=l/24,st=M.lineOffsetX*$e,Xe=M.lineOffsetY*$e;let at;if(M.numGlyphs>1){const ut=M.glyphStartIndex+M.numGlyphs,Ke=M.lineStartIndex,ft=M.lineStartIndex+M.lineLength,Dt=Di($e,G,st,Xe,m,le,ce,M,K,k,Pe,et,!1);if(!Dt)return{notEnoughRoom:!0};const Jt=Xi(Dt.first.point,z).point,Zt=Xi(Dt.last.point,z).point;if(w&&!m){const an=Ul(M,Jt,Zt,je);if(M.flipState=an&&an.needsFlipping?1:2,an)return an}at=[Dt.first];for(let an=M.glyphStartIndex+1;an<ut-1;an++)at.push(Ko($e*G.getoffsetX(an),st,Xe,m,le,ce,M.segment,Ke,ft,K,k,Pe,et,!1,!1));at.push(Dt.last)}else{if(w&&!m){const Ke=Xi(ce,S).point,ft=M.lineStartIndex+M.segment+1,Dt=new d.pointGeometry(K.getx(ft),K.gety(ft)),Jt=Xi(Dt,S),Zt=Ul(M,Ke,Jt.signedDistanceFromCamera>0?Jt.point:ti(ce,Dt,Ke,1,S,void 0),je);if(M.flipState=Zt&&Zt.needsFlipping?1:2,Zt)return Zt}const ut=Ko($e*G.getoffsetX(M.glyphStartIndex),st,Xe,m,le,ce,M.segment,M.lineStartIndex,M.lineStartIndex+M.lineLength,K,k,Pe,et,!1,!1);if(!ut)return{notEnoughRoom:!0};at=[ut]}for(const ut of at)d.addDynamicAttributes(oe,ut.point,ut.angle);return{}}function Wn(M,l,m){const w={x:M.x,y:M.y,z:0};if(!m)return Xi(w,l,w.z);const S=m(M);return Xi(new d.pointGeometry(w.x,w.y),l,w.z+S)}function ti(M,l,m,w,S,k){const z=Wn(M.add(M.sub(l)._unit()),S,k).point,G=m.sub(z);return m.add(G._mult(w/G.mag()))}function Ko(M,l,m,w,S,k,z,G,K,oe,le,ce,Pe,je,et){const $e=w?M-l:M+l;let st=$e>0?1:-1,Xe=0;w&&(st*=-1,Xe=Math.PI),st<0&&(Xe+=Math.PI);let at=st>0?G+z:G+z+1,ut=S,Ke=S,ft=0,Dt=0;const Jt=Math.abs($e),Zt=[],an=[];let Qt=k;const xn=()=>{const Rr=at-st;return 0===ft?k:new d.pointGeometry(oe.getx(Rr),oe.gety(Rr))},on=()=>ti(xn(),Qt,Ke,Jt-ft+1,le,Pe);for(;ft+Dt<=Jt;){if(at+=st,at<G||at>=K)return null;if(Ke=ut,Zt.push(ut),je&&an.push(Qt||xn()),ut=ce[at],void 0===ut){Qt=new d.pointGeometry(oe.getx(at),oe.gety(at));const Rr=Wn(Qt,le,Pe);ut=Rr.signedDistanceFromCamera>0?ce[at]=Rr.point:on()}else Qt=null;ft+=Dt,Dt=Ke.dist(ut)}et&&Pe&&(Qt=Qt||new d.pointGeometry(oe.getx(at),oe.gety(at)),ce[at]=ut=void 0===ce[at]?ut:on(),Dt=Ke.dist(ut));const kn=(Jt-ft)/Dt,Vt=ut.sub(Ke),In=Vt.mult(kn)._add(Ke);m&&In._add(Vt._unit()._perp()._mult(m*st));const Zn=Xe+Math.atan2(ut.y-Ke.y,ut.x-Ke.x);return Zt.push(In),je&&(Qt=Qt||new d.pointGeometry(oe.getx(at),oe.gety(at)),an.push(function(Rr,Vr,Hr){const Nr=1-Hr;return new d.pointGeometry(Rr.x*Nr+Vr.x*Hr,Rr.y*Nr+Vr.y*Hr)}(an.length>0?an[an.length-1]:Qt,Qt,kn))),{point:In,angle:Zn,path:Zt,tilePath:an}}const ah=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Jr(M,l){for(let m=0;m<M;m++){const w=l.length;l.resize(w+4),l.float32.set(ah,3*w)}}function li(M,l,m){const w=l[0],S=l[1];return M[0]=m[0]*w+m[4]*S+m[12],M[1]=m[1]*w+m[5]*S+m[13],M[3]=m[3]*w+m[7]*S+m[15],M}const wr=100;class ar{constructor(l,m,w=new co(l.width+200,l.height+200,25),S=new co(l.width+200,l.height+200,25)){this.transform=l,this.grid=w,this.ignoredGrid=S,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+wr,this.screenBottomBoundary=l.height+wr,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.fogState=m}placeCollisionBox(l,m,w,S,k,z,G){let K=m.projectedAnchorZ;m.elevation&&(K+=m.elevation);const oe=this.projectAndGetPerspectiveRatio(z,m.projectedAnchorX,m.projectedAnchorY,K,m.tileID),le=k*oe.perspectiveRatio,ce=(m.x1*l+w.x-m.padding)*le+oe.point.x,Pe=(m.y1*l+w.y-m.padding)*le+oe.point.y,je=(m.x2*l+w.x+m.padding)*le+oe.point.x,et=(m.y2*l+w.y+m.padding)*le+oe.point.y,$e=oe.perspectiveRatio<=.55||oe.aboveHorizon;return!this.isInsideGrid(ce,Pe,je,et)||!S&&this.grid.hitTest(ce,Pe,je,et,G)||$e?{box:[],offscreen:!1}:{box:[ce,Pe,je,et],offscreen:this.isOffscreen(ce,Pe,je,et)}}placeCollisionCircles(l,m,w,S,k,z,G,K,oe,le,ce,Pe,je,et){const $e=[],st=this.transform.elevation,Xe=st?on=>st.getAtTileOffset(et,on.x,on.y):on=>0,at=new d.pointGeometry(m.tileAnchorX,m.tileAnchorY),ut=Xe(at),Ke=this.projectAndGetPerspectiveRatio(z,at.x,at.y,ut,et),{perspectiveRatio:ft}=Ke,Dt=(le?k/ft:k*ft)/d.ONE_EM,Jt=Xi(at,G,ut).point,Zt=Ke.signedDistanceFromCamera>0?Di(Dt,S,m.lineOffsetX*Dt,m.lineOffsetY*Dt,!1,Jt,at,m,w,G,{},st&&!le?Xe:null,le&&!!st):null;let an=!1,Qt=!1,xn=!0;if(Zt&&!Ke.aboveHorizon){const on=.5*Pe*ft+je,kn=new d.pointGeometry(-100,-100),Vt=new d.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),In=new ou,Zn=Zt.first,Rr=Zt.last;let Vr=[];for(let yr=Zn.path.length-1;yr>=1;yr--)Vr.push(Zn.path[yr]);for(let yr=1;yr<Rr.path.length;yr++)Vr.push(Rr.path[yr]);const Hr=2.5*on;if(K){const yr=Vr.map(st?(Wr,_i)=>{const ga=Xe(_i<Zn.path.length-1?Zn.tilePath[Zn.path.length-1-_i]:Rr.tilePath[_i-Zn.path.length+2]);return Xi(Wr,K,ga)}:Wr=>Xi(Wr,K));Vr=yr.some(Wr=>Wr.signedDistanceFromCamera<=0)?[]:yr.map(Wr=>Wr.point)}let Nr=[];if(Vr.length>0){const yr=Vr[0].clone(),Wr=Vr[0].clone();for(let _i=1;_i<Vr.length;_i++)yr.x=Math.min(yr.x,Vr[_i].x),yr.y=Math.min(yr.y,Vr[_i].y),Wr.x=Math.max(Wr.x,Vr[_i].x),Wr.y=Math.max(Wr.y,Vr[_i].y);Nr=yr.x>=kn.x&&Wr.x<=Vt.x&&yr.y>=kn.y&&Wr.y<=Vt.y?[Vr]:Wr.x<kn.x||yr.x>Vt.x||Wr.y<kn.y||yr.y>Vt.y?[]:d.clipLine([Vr],kn.x,kn.y,Vt.x,Vt.y)}for(const yr of Nr){In.reset(yr,.25*on);let Wr=0;Wr=In.length<=.5*on?1:Math.ceil(In.paddedLength/Hr)+1;for(let _i=0;_i<Wr;_i++){const ga=_i/Math.max(Wr-1,1),Ja=In.lerp(ga),_a=Ja.x+wr,Rl=Ja.y+wr;$e.push(_a,Rl,on,0);const Io=_a-on,Uu=Rl-on,pu=_a+on,yo=Rl+on;if(xn=xn&&this.isOffscreen(Io,Uu,pu,yo),Qt=Qt||this.isInsideGrid(Io,Uu,pu,yo),!l&&this.grid.hitTestCircle(_a,Rl,on,ce)&&(an=!0,!oe))return{circles:[],offscreen:!1,collisionDetected:an}}}}return{circles:!oe&&an||!Qt?[]:$e,offscreen:xn,collisionDetected:an}}queryRenderedSymbols(l){if(0===l.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const m=[];let w=1/0,S=1/0,k=-1/0,z=-1/0;for(const le of l){const ce=new d.pointGeometry(le.x+wr,le.y+wr);w=Math.min(w,ce.x),S=Math.min(S,ce.y),k=Math.max(k,ce.x),z=Math.max(z,ce.y),m.push(ce)}const G=this.grid.query(w,S,k,z).concat(this.ignoredGrid.query(w,S,k,z)),K={},oe={};for(const le of G){const ce=le.key;if(void 0===K[ce.bucketInstanceId]&&(K[ce.bucketInstanceId]={}),K[ce.bucketInstanceId][ce.featureIndex])continue;const Pe=[new d.pointGeometry(le.x1,le.y1),new d.pointGeometry(le.x2,le.y1),new d.pointGeometry(le.x2,le.y2),new d.pointGeometry(le.x1,le.y2)];d.polygonIntersectsPolygon(m,Pe)&&(K[ce.bucketInstanceId][ce.featureIndex]=!0,void 0===oe[ce.bucketInstanceId]&&(oe[ce.bucketInstanceId]=[]),oe[ce.bucketInstanceId].push(ce.featureIndex))}return oe}insertCollisionBox(l,m,w,S,k){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:S,collisionGroupID:k},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,m,w,S,k){const z=m?this.ignoredGrid:this.grid,G={bucketInstanceId:w,featureIndex:S,collisionGroupID:k};for(let K=0;K<l.length;K+=4)z.insertCircle(G,l[K],l[K+1],l[K+2])}projectAndGetPerspectiveRatio(l,m,w,S,k){const z=[m,w,S||0,1];let G=!1;if(S||this.transform.pitch>0){d.transformMat4(z,z,l);let K=!1;this.fogState&&k&&(K=function(oe,le,ce,Pe,je,et){const $e=et.calculateFogTileMatrix(je),st=[le,ce,Pe];return d.transformMat4$1(st,st,$e),Te(oe,st,et.pitch,et._fov)}(this.fogState,m,w,S||0,k.toUnwrapped(),this.transform)>.9),G=z[2]>z[3]||K}else li(z,z,l);return{point:new d.pointGeometry((z[0]/z[3]+1)/2*this.transform.width+wr,(-z[1]/z[3]+1)/2*this.transform.height+wr),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/z[3]*.5,1.5),signedDistanceFromCamera:z[3],aboveHorizon:G}}isOffscreen(l,m,w,S){return w<wr||l>=this.screenRightBoundary||S<wr||m>this.screenBottomBoundary}isInsideGrid(l,m,w,S){return w>=0&&l<this.gridRightBoundary&&S>=0&&m<this.gridBottomBoundary}getViewportMatrix(){const l=d.identity([]);return d.translate(l,l,[-100,-100,0]),l}}class uc{constructor(l,m,w,S){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?m:-m))):S&&w?1:0,this.placed=w}isHidden(){return 0===this.opacity&&!this.placed}}class jr{constructor(l,m,w,S,k,z=!1){this.text=new uc(l?l.text:null,m,w,k),this.icon=new uc(l?l.icon:null,m,S,k),this.clipped=z}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ha{constructor(l,m,w,S=!1){this.text=l,this.icon=m,this.skipFade=w,this.clipped=S}}class aa{constructor(){this.invProjMatrix=d.create$1(),this.viewportMatrix=d.create$1(),this.circles=[]}}class Qo{constructor(l,m,w,S,k){this.bucketInstanceId=l,this.featureIndex=m,this.sourceLayerIndex=w,this.bucketIndex=S,this.tileID=k}}class il{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const m=++this.maxGroupID;this.collisionGroups[l]={ID:m,predicate:w=>w.collisionGroupID===m}}return this.collisionGroups[l]}}function zi(M,l,m,w,S){const{horizontalAlign:k,verticalAlign:z}=d.getAnchorAlignment(M),G=-(k-.5)*l,K=-(z-.5)*m,oe=d.evaluateVariableOffset(M,w);return new d.pointGeometry(G+oe[0]*S,K+oe[1]*S)}function Ga(M,l,m,w,S){const k=new d.pointGeometry(M,l);return m&&k._rotate(w?S:-S),k}class qa{constructor(l,m,w,S,k){this.transform=l.clone(),this.collisionIndex=new ar(this.transform,k),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new il(w),this.collisionCircleArrays={},this.prevPlacement=S,S&&(S.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,m,w,S){const k=w.getBucket(m),z=w.latestFeatureIndex;if(!k||!z||m.id!==k.layerIds[0])return;const G=k.layers[0].layout,K=w.collisionBoxArray,oe=Math.pow(2,this.transform.zoom-w.tileID.overscaledZ),le=w.tileSize/d.EXTENT,ce=w.tileID.toUnwrapped(),Pe=this.transform.calculateProjMatrix(ce),je="map"===G.get("text-pitch-alignment"),et="map"===G.get("text-rotation-alignment");m.compileFilter();const $e=m.dynamicFilter(),st=m.dynamicFilterNeedsFeature(),Xe=this.transform.calculatePixelsToTileUnitsMatrix(w),at=rr(Pe,je,et,this.transform,Xe);let ut=null;if(je){const Dt=Fr(Pe,je,et,this.transform,Xe);ut=d.multiply([],this.transform.labelPlaneMatrix,Dt)}let Ke=null;$e&&w.latestFeatureIndex&&(Ke={unwrappedTileID:ce,dynamicFilter:$e,dynamicFilterNeedsFeature:st,featureIndex:w.latestFeatureIndex}),this.retainedQueryData[k.bucketInstanceId]=new Qo(k.bucketInstanceId,z,k.sourceLayerIndex,k.index,w.tileID);const ft={bucket:k,layout:G,posMatrix:Pe,textLabelPlaneMatrix:at,labelToScreenMatrix:ut,clippingData:Ke,scale:oe,textPixelRatio:le,holdingForFade:w.holdingForFade(),collisionBoxArray:K,partiallyEvaluatedTextSize:d.evaluateSizeForZoom(k.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:d.evaluateSizeForZoom(k.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(k.sourceID)};if(S)for(const Dt of k.sortKeyRanges){const{sortKey:Jt,symbolInstanceStart:Zt,symbolInstanceEnd:an}=Dt;l.push({sortKey:Jt,symbolInstanceStart:Zt,symbolInstanceEnd:an,parameters:ft})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:k.symbolInstances.length,parameters:ft})}attemptAnchorPlacement(l,m,w,S,k,z,G,K,oe,le,ce,Pe,je,et,$e,st,Xe,at){const ut=[Pe.textOffset0,Pe.textOffset1],Ke=zi(l,w,S,ut,k),ft=this.collisionIndex.placeCollisionBox(k,m,Ga(Ke.x,Ke.y,z,G,this.transform.angle),ce,K,oe,le.predicate);if((!st||0!==this.collisionIndex.placeCollisionBox(et.getSymbolInstanceIconSize(at,this.transform.zoom,je),st,Ga(Ke.x,Ke.y,z,G,this.transform.angle),ce,K,oe,le.predicate).box.length)&&ft.box.length>0){let Dt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Pe.crossTileID]&&this.prevPlacement.placements[Pe.crossTileID]&&this.prevPlacement.placements[Pe.crossTileID].text&&(Dt=this.prevPlacement.variableOffsets[Pe.crossTileID].anchor),this.variableOffsets[Pe.crossTileID]={textOffset:ut,width:w,height:S,anchor:l,textScale:k,prevAnchor:Dt},this.markUsedJustification(et,l,Pe,$e),et.allowVerticalPlacement&&(this.markUsedOrientation(et,$e,Pe),this.placedOrientations[Pe.crossTileID]=$e),{shift:Ke,placedGlyphBoxes:ft}}}placeLayerBucketPart(l,m,w,S){const{bucket:k,layout:z,posMatrix:G,textLabelPlaneMatrix:K,labelToScreenMatrix:oe,clippingData:le,textPixelRatio:ce,holdingForFade:Pe,collisionBoxArray:je,partiallyEvaluatedTextSize:et,partiallyEvaluatedIconSize:$e,collisionGroup:st}=l.parameters,Xe=z.get("text-optional"),at=z.get("icon-optional"),ut=z.get("text-allow-overlap"),Ke=z.get("icon-allow-overlap"),ft="map"===z.get("text-rotation-alignment"),Dt="map"===z.get("text-pitch-alignment"),Jt="none"!==z.get("icon-text-fit"),Zt="viewport-y"===z.get("symbol-z-order"),an=ut&&(Ke||!k.hasIconData()||at),Qt=Ke&&(ut||!k.hasTextData()||Xe);!k.collisionArrays&&je&&k.deserializeCollisionBoxes(je),w&&S&&k.updateCollisionDebugBuffers(this.transform.zoom,je);const xn=(on,kn,Vt)=>{if(le){const yo={zoom:this.transform.zoom,pitch:this.transform.pitch};let Vs=null;if(le.dynamicFilterNeedsFeature){const yi=this.retainedQueryData[k.bucketInstanceId];Vs=le.featureIndex.loadFeature({featureIndex:on.featureIndex,bucketIndex:yi.bucketIndex,sourceLayerIndex:yi.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,le.dynamicFilter)(yo,Vs,this.retainedQueryData[k.bucketInstanceId].tileID.canonical,new d.pointGeometry(on.tileAnchorX,on.tileAnchorY),this.transform.calculateDistanceTileData(le.unwrappedTileID)))return this.placements[on.crossTileID]=new Ha(!1,!1,!1,!0),void(m[on.crossTileID]=!0)}if(m[on.crossTileID])return;if(Pe)return void(this.placements[on.crossTileID]=new Ha(!1,!1,!1));let In=!1,Zn=!1,Rr=!0,Vr=null,Hr={box:null,offscreen:null},Nr={box:null,offscreen:null},yr=null,Wr=null,_i=null,ga=0,Ja=0,_a=0;Vt.textFeatureIndex?ga=Vt.textFeatureIndex:on.useRuntimeCollisionCircles&&(ga=on.featureIndex),Vt.verticalTextFeatureIndex&&(Ja=Vt.verticalTextFeatureIndex);const Rl=yo=>{yo.tileID=this.retainedQueryData[k.bucketInstanceId].tileID,(this.transform.elevation||yo.elevation)&&(yo.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[k.bucketInstanceId].tileID,yo.tileAnchorX,yo.tileAnchorY):0)},Io=Vt.textBox;if(Io){Rl(Io);const yo=yi=>{let vo=d.WritingMode.horizontal;if(k.allowVerticalPlacement&&!yi&&this.prevPlacement){const ul=this.prevPlacement.placedOrientations[on.crossTileID];ul&&(this.placedOrientations[on.crossTileID]=ul,vo=ul,this.markUsedOrientation(k,vo,on))}return vo},Vs=(yi,vo)=>{if(k.allowVerticalPlacement&&on.numVerticalGlyphVertices>0&&Vt.verticalTextBox){for(const ul of k.writingModes)if(ul===d.WritingMode.vertical?(Hr=vo(),Nr=Hr):Hr=yi(),Hr&&Hr.box&&Hr.box.length)break}else Hr=yi()};if(z.get("text-variable-anchor")){let yi=z.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[on.crossTileID]){const Us=this.prevPlacement.variableOffsets[on.crossTileID];yi.indexOf(Us.anchor)>0&&(yi=yi.filter(Nl=>Nl!==Us.anchor),yi.unshift(Us.anchor))}const vo=(Us,Nl,Gc)=>{const Va=k.getSymbolInstanceTextSize(et,on,this.transform.zoom,kn),wl=(Us.x2-Us.x1)*Va+2*Us.padding,Ih=(Us.y2-Us.y1)*Va+2*Us.padding,Ai=Jt&&!Ke?Nl:null;Ai&&Rl(Ai);let L={box:[],offscreen:!1};const U=ut?2*yi.length:yi.length;for(let te=0;te<U;++te){const pe=this.attemptAnchorPlacement(yi[te%yi.length],Us,wl,Ih,Va,ft,Dt,ce,G,st,te>=yi.length,on,kn,k,Gc,Ai,et,$e);if(pe&&(L=pe.placedGlyphBoxes,L&&L.box&&L.box.length)){In=!0,Vr=pe.shift;break}}return L};Vs(()=>vo(Io,Vt.iconBox,d.WritingMode.horizontal),()=>{const Us=Vt.verticalTextBox;return Us&&Rl(Us),k.allowVerticalPlacement&&!(Hr&&Hr.box&&Hr.box.length)&&on.numVerticalGlyphVertices>0&&Us?vo(Us,Vt.verticalIconBox,d.WritingMode.vertical):{box:null,offscreen:null}}),Hr&&(In=Hr.box,Rr=Hr.offscreen);const ul=yo(Hr&&Hr.box);if(!In&&this.prevPlacement){const Us=this.prevPlacement.variableOffsets[on.crossTileID];Us&&(this.variableOffsets[on.crossTileID]=Us,this.markUsedJustification(k,Us.anchor,on,ul))}}else{const yi=(vo,ul)=>{const Us=k.getSymbolInstanceTextSize(et,on,this.transform.zoom,kn),Nl=this.collisionIndex.placeCollisionBox(Us,vo,new d.pointGeometry(0,0),ut,ce,G,st.predicate);return Nl&&Nl.box&&Nl.box.length&&(this.markUsedOrientation(k,ul,on),this.placedOrientations[on.crossTileID]=ul),Nl};Vs(()=>yi(Io,d.WritingMode.horizontal),()=>{const vo=Vt.verticalTextBox;return k.allowVerticalPlacement&&on.numVerticalGlyphVertices>0&&vo?(Rl(vo),yi(vo,d.WritingMode.vertical)):{box:null,offscreen:null}}),yo(Hr&&Hr.box&&Hr.box.length)}}if(yr=Hr,In=yr&&yr.box&&yr.box.length>0,Rr=yr&&yr.offscreen,on.useRuntimeCollisionCircles){const yo=k.text.placedSymbolArray.get(on.centerJustifiedTextSymbolIndex>=0?on.centerJustifiedTextSymbolIndex:on.verticalPlacedTextSymbolIndex),Vs=d.evaluateSizeForFeature(k.textSizeData,et,yo),yi=z.get("text-padding");Wr=this.collisionIndex.placeCollisionCircles(ut,yo,k.lineVertexArray,k.glyphOffsetArray,Vs,G,K,oe,w,Dt,st.predicate,on.collisionCircleDiameter*Vs/d.ONE_EM,yi,this.retainedQueryData[k.bucketInstanceId].tileID),In=ut||Wr.circles.length>0&&!Wr.collisionDetected,Rr=Rr&&Wr.offscreen}if(Vt.iconFeatureIndex&&(_a=Vt.iconFeatureIndex),Vt.iconBox){const yo=Vs=>{Rl(Vs);const yi=Jt&&Vr?Ga(Vr.x,Vr.y,ft,Dt,this.transform.angle):new d.pointGeometry(0,0),vo=k.getSymbolInstanceIconSize($e,this.transform.zoom,kn);return this.collisionIndex.placeCollisionBox(vo,Vs,yi,Ke,ce,G,st.predicate)};Nr&&Nr.box&&Nr.box.length&&Vt.verticalIconBox?(_i=yo(Vt.verticalIconBox),Zn=_i.box.length>0):(_i=yo(Vt.iconBox),Zn=_i.box.length>0),Rr=Rr&&_i.offscreen}const Uu=Xe||0===on.numHorizontalGlyphVertices&&0===on.numVerticalGlyphVertices,pu=at||0===on.numIconVertices;if(Uu||pu?pu?Uu||(Zn=Zn&&In):In=Zn&&In:Zn=In=Zn&&In,In&&yr&&yr.box&&this.collisionIndex.insertCollisionBox(yr.box,z.get("text-ignore-placement"),k.bucketInstanceId,Nr&&Nr.box&&Ja?Ja:ga,st.ID),Zn&&_i&&this.collisionIndex.insertCollisionBox(_i.box,z.get("icon-ignore-placement"),k.bucketInstanceId,_a,st.ID),Wr&&(In&&this.collisionIndex.insertCollisionCircles(Wr.circles,z.get("text-ignore-placement"),k.bucketInstanceId,ga,st.ID),w)){const yo=k.bucketInstanceId;let Vs=this.collisionCircleArrays[yo];void 0===Vs&&(Vs=this.collisionCircleArrays[yo]=new aa);for(let yi=0;yi<Wr.circles.length;yi+=4)Vs.circles.push(Wr.circles[yi+0]),Vs.circles.push(Wr.circles[yi+1]),Vs.circles.push(Wr.circles[yi+2]),Vs.circles.push(Wr.collisionDetected?1:0)}this.placements[on.crossTileID]=new Ha(In||an,Zn||Qt,Rr||k.justReloaded),m[on.crossTileID]=!0};if(Zt){const on=k.getSortedSymbolIndexes(this.transform.angle);for(let kn=on.length-1;kn>=0;--kn){const Vt=on[kn];xn(k.symbolInstances.get(Vt),Vt,k.collisionArrays[Vt])}}else for(let on=l.symbolInstanceStart;on<l.symbolInstanceEnd;on++)xn(k.symbolInstances.get(on),on,k.collisionArrays[on]);if(w&&k.bucketInstanceId in this.collisionCircleArrays){const on=this.collisionCircleArrays[k.bucketInstanceId];d.invert(on.invProjMatrix,G),on.viewportMatrix=this.collisionIndex.getViewportMatrix()}k.justReloaded=!1}markUsedJustification(l,m,w,S){let k;k=S===d.WritingMode.vertical?w.verticalPlacedTextSymbolIndex:{left:w.leftJustifiedTextSymbolIndex,center:w.centerJustifiedTextSymbolIndex,right:w.rightJustifiedTextSymbolIndex}[d.getAnchorJustification(m)];const z=[w.leftJustifiedTextSymbolIndex,w.centerJustifiedTextSymbolIndex,w.rightJustifiedTextSymbolIndex,w.verticalPlacedTextSymbolIndex];for(const G of z)G>=0&&(l.text.placedSymbolArray.get(G).crossTileID=k>=0&&G!==k?0:w.crossTileID)}markUsedOrientation(l,m,w){const S=m===d.WritingMode.horizontal||m===d.WritingMode.horizontalOnly?m:0,k=m===d.WritingMode.vertical?m:0,z=[w.leftJustifiedTextSymbolIndex,w.centerJustifiedTextSymbolIndex,w.rightJustifiedTextSymbolIndex];for(const G of z)l.text.placedSymbolArray.get(G).placedOrientation=S;w.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(w.verticalPlacedTextSymbolIndex).placedOrientation=k)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const m=this.prevPlacement;let w=!1;this.prevZoomAdjustment=m?m.zoomAdjustment(this.transform.zoom):0;const S=m?m.symbolFadeChange(l):1,k=m?m.opacities:{},z=m?m.variableOffsets:{},G=m?m.placedOrientations:{};for(const K in this.placements){const oe=this.placements[K],le=k[K];le?(this.opacities[K]=new jr(le,S,oe.text,oe.icon,null,oe.clipped),w=w||oe.text!==le.text.placed||oe.icon!==le.icon.placed):(this.opacities[K]=new jr(null,S,oe.text,oe.icon,oe.skipFade,oe.clipped),w=w||oe.text||oe.icon)}for(const K in k){const oe=k[K];if(!this.opacities[K]){const le=new jr(oe,S,!1,!1);le.isHidden()||(this.opacities[K]=le,w=w||oe.text.placed||oe.icon.placed)}}for(const K in z)this.variableOffsets[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.variableOffsets[K]=z[K]);for(const K in G)this.placedOrientations[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.placedOrientations[K]=G[K]);w?this.lastPlacementChangeTime=l:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=m?m.lastPlacementChangeTime:l)}updateLayerOpacities(l,m){const w={};for(const S of m){const k=S.getBucket(l);k&&S.latestFeatureIndex&&l.id===k.layerIds[0]&&this.updateBucketOpacities(k,w,S.collisionBoxArray)}}updateBucketOpacities(l,m,w){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const S=l.layers[0].layout,k=!!l.layers[0].dynamicFilter(),z=new jr(null,0,!1,!1,!0),G=S.get("text-allow-overlap"),K=S.get("icon-allow-overlap"),oe=S.get("text-variable-anchor"),le="map"===S.get("text-rotation-alignment"),ce="map"===S.get("text-pitch-alignment"),Pe="none"!==S.get("icon-text-fit"),je=new jr(null,0,G&&(K||!l.hasIconData()||S.get("icon-optional")),K&&(G||!l.hasTextData()||S.get("text-optional")),!0);!l.collisionArrays&&w&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(w);const et=($e,st,Xe)=>{for(let at=0;at<st/4;at++)$e.opacityVertexArray.emplaceBack(Xe)};for(let $e=0;$e<l.symbolInstances.length;$e++){const st=l.symbolInstances.get($e),{numHorizontalGlyphVertices:Xe,numVerticalGlyphVertices:at,crossTileID:ut}=st;let Ke=this.opacities[ut];m[ut]?Ke=z:Ke||(Ke=je,this.opacities[ut]=Ke),m[ut]=!0;const ft=st.numIconVertices>0,Dt=this.placedOrientations[st.crossTileID],Jt=Dt===d.WritingMode.vertical,Zt=Dt===d.WritingMode.horizontal||Dt===d.WritingMode.horizontalOnly;if(Xe>0||at>0){const an=Ci(Ke.text);et(l.text,Xe,Jt?hi:an),et(l.text,at,Zt?hi:an);const Qt=Ke.text.isHidden();[st.rightJustifiedTextSymbolIndex,st.centerJustifiedTextSymbolIndex,st.leftJustifiedTextSymbolIndex].forEach(kn=>{kn>=0&&(l.text.placedSymbolArray.get(kn).hidden=Qt||Jt?1:0)}),st.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(st.verticalPlacedTextSymbolIndex).hidden=Qt||Zt?1:0);const xn=this.variableOffsets[st.crossTileID];xn&&this.markUsedJustification(l,xn.anchor,st,Dt);const on=this.placedOrientations[st.crossTileID];on&&(this.markUsedJustification(l,"left",st,on),this.markUsedOrientation(l,on,st))}if(ft){const an=Ci(Ke.icon);st.placedIconSymbolIndex>=0&&(et(l.icon,st.numIconVertices,Jt?hi:an),l.icon.placedSymbolArray.get(st.placedIconSymbolIndex).hidden=Ke.icon.isHidden()),st.verticalPlacedIconSymbolIndex>=0&&(et(l.icon,st.numVerticalIconVertices,Zt?hi:an),l.icon.placedSymbolArray.get(st.verticalPlacedIconSymbolIndex).hidden=Ke.icon.isHidden())}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const an=l.collisionArrays[$e];if(an){let Qt=new d.pointGeometry(0,0),xn=!0;if(an.textBox||an.verticalTextBox){if(oe){const kn=this.variableOffsets[ut];kn?(Qt=zi(kn.anchor,kn.width,kn.height,kn.textOffset,kn.textScale),le&&Qt._rotate(ce?this.transform.angle:-this.transform.angle)):xn=!1}k&&(xn=!Ke.clipped),an.textBox&&vn(l.textCollisionBox.collisionVertexArray,Ke.text.placed,!xn||Jt,Qt.x,Qt.y),an.verticalTextBox&&vn(l.textCollisionBox.collisionVertexArray,Ke.text.placed,!xn||Zt,Qt.x,Qt.y)}const on=xn&&Boolean(!Zt&&an.verticalIconBox);an.iconBox&&vn(l.iconCollisionBox.collisionVertexArray,Ke.icon.placed,on,Pe?Qt.x:0,Pe?Qt.y:0),an.verticalIconBox&&vn(l.iconCollisionBox.collisionVertexArray,Ke.icon.placed,!on,Pe?Qt.x:0,Pe?Qt.y:0)}}}if(l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.bucketInstanceId in this.collisionCircleArrays){const $e=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=$e.invProjMatrix,l.placementViewportMatrix=$e.viewportMatrix,l.collisionCircleArray=$e.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return 0===this.fadeDuration?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,m){const w=this.zoomAtLastRecencyCheck===m?1-this.zoomAdjustment(m):1;return this.zoomAtLastRecencyCheck=m,this.commitTime+this.fadeDuration*w>l}setStale(){this.stale=!0}}function vn(M,l,m,w,S){M.emplaceBack(l?1:0,m?1:0,w||0,S||0),M.emplaceBack(l?1:0,m?1:0,w||0,S||0),M.emplaceBack(l?1:0,m?1:0,w||0,S||0),M.emplaceBack(l?1:0,m?1:0,w||0,S||0)}const Fc=Math.pow(2,25),Yo=Math.pow(2,24),Sl=Math.pow(2,17),cc=Math.pow(2,16),Ra=Math.pow(2,9),Ei=Math.pow(2,8),Ii=Math.pow(2,1);function Ci(M){if(0===M.opacity&&!M.placed)return 0;if(1===M.opacity&&M.placed)return 4294967295;const l=M.placed?1:0,m=Math.floor(127*M.opacity);return m*Fc+l*Yo+m*Sl+l*cc+m*Ra+l*Ei+m*Ii+l}const hi=0;class kh{constructor(l){this._sortAcrossTiles="viewport-y"!==l.layout.get("symbol-z-order")&&void 0!==l.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,m,w,S,k){const z=this._bucketParts;for(;this._currentTileIndex<l.length;)if(m.getBucketParts(z,S,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,k())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,z.sort((G,K)=>G.sortKey-K.sortKey));this._currentPartIndex<z.length;){const G=z[this._currentPartIndex];if(m.placeLayerBucketPart(G,this._seenCrossTileIDs,w,0===G.symbolInstanceStart),this._currentPartIndex++,k())return!0}return!1}}class zo{constructor(l,m,w,S,k,z,G,K){this.placement=new qa(l,k,z,G,K),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=S,this._done=!1}isDone(){return this._done}continuePlacement(l,m,w){const S=d.exported.now(),k=()=>{const z=d.exported.now()-S;return!this._forceFullPlacement&&z>2};for(;this._currentPlacementIndex>=0;){const z=m[l[this._currentPlacementIndex]],G=this.placement.collisionIndex.transform.zoom;if("symbol"===z.type&&(!z.minzoom||z.minzoom<=G)&&(!z.maxzoom||z.maxzoom>G)){if(this._inProgressLayer||(this._inProgressLayer=new kh(z)),this._inProgressLayer.continuePlacement(w[z.source],this.placement,this._showCollisionBoxes,z,k))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Yc=512/d.EXTENT/2;class _r{constructor(l,m,w){this.tileID=l,this.indexedSymbolInstances={},this.bucketInstanceId=w;for(let S=0;S<m.length;S++){const k=m.get(S),z=k.key;this.indexedSymbolInstances[z]||(this.indexedSymbolInstances[z]=[]),this.indexedSymbolInstances[z].push({crossTileID:k.crossTileID,coord:this.getScaledCoordinates(k,l)})}}getScaledCoordinates(l,m){const w=Yc/Math.pow(2,m.canonical.z-this.tileID.canonical.z);return{x:Math.floor((m.canonical.x*d.EXTENT+l.tileAnchorX)*w),y:Math.floor((m.canonical.y*d.EXTENT+l.tileAnchorY)*w)}}findMatches(l,m,w){const S=this.tileID.canonical.z<m.canonical.z?1:Math.pow(2,this.tileID.canonical.z-m.canonical.z);for(let k=0;k<l.length;k++){const z=l.get(k);if(z.crossTileID)continue;const G=this.indexedSymbolInstances[z.key];if(!G)continue;const K=this.getScaledCoordinates(z,m);for(const oe of G)if(Math.abs(oe.coord.x-K.x)<=S&&Math.abs(oe.coord.y-K.y)<=S&&!w[oe.crossTileID]){w[oe.crossTileID]=!0,z.crossTileID=oe.crossTileID;break}}}}class Ji{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class ea{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const m=Math.round((l-this.lng)/360);if(0!==m)for(const w in this.indexes){const S=this.indexes[w],k={};for(const z in S){const G=S[z];G.tileID=G.tileID.unwrapTo(G.tileID.wrap+m),k[G.tileID.key]=G}this.indexes[w]=k}this.lng=l}addBucket(l,m,w){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===m.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let k=0;k<m.symbolInstances.length;k++)m.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const S=this.usedCrossTileIDs[l.overscaledZ];for(const k in this.indexes){const z=this.indexes[k];if(Number(k)>l.overscaledZ)for(const G in z){const K=z[G];K.tileID.isChildOf(l)&&K.findMatches(m.symbolInstances,l,S)}else{const G=z[l.scaledTo(Number(k)).key];G&&G.findMatches(m.symbolInstances,l,S)}}for(let k=0;k<m.symbolInstances.length;k++){const z=m.symbolInstances.get(k);z.crossTileID||(z.crossTileID=w.generate(),S[z.crossTileID]=!0)}return void 0===this.indexes[l.overscaledZ]&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new _r(l,m.symbolInstances,m.bucketInstanceId),!0}removeBucketCrossTileIDs(l,m){for(const w in m.indexedSymbolInstances)for(const S of m.indexedSymbolInstances[w])delete this.usedCrossTileIDs[l][S.crossTileID]}removeStaleBuckets(l){let m=!1;for(const w in this.indexes){const S=this.indexes[w];for(const k in S)l[S[k].bucketInstanceId]||(this.removeBucketCrossTileIDs(w,S[k]),delete S[k],m=!0)}return m}}class mo{constructor(){this.layerIndexes={},this.crossTileIDs=new Ji,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,m,w){let S=this.layerIndexes[l.id];void 0===S&&(S=this.layerIndexes[l.id]=new ea);let k=!1;const z={};S.handleWrapJump(w);for(const G of m){const K=G.getBucket(l);K&&l.id===K.layerIds[0]&&(K.bucketInstanceId||(K.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(G.tileID,K,this.crossTileIDs)&&(k=!0),z[K.bucketInstanceId]=!0)}return S.removeStaleBuckets(z)&&(k=!0),k}pruneUnusedLayers(l){const m={};l.forEach(w=>{m[w]=!0});for(const w in this.layerIndexes)m[w]||delete this.layerIndexes[w]}}const hc=(M,l)=>d.emitValidationErrors(M,l&&l.filter(m=>"source.canvas"!==m.identifier)),dc=d.pick(pn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Ks=d.pick(pn,["setCenter","setZoom","setBearing","setPitch"]),va=function(){const M={},l=d.spec.$version;for(const m in d.spec.$root){const w=d.spec.$root[m];if(w.required){let S=null;S="version"===m?l:"array"===w.type?[]:{},null!=S&&(M[m]=S)}}return M}(),Ru={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ro extends d.Evented{constructor(l,m={}){super(),this.map=l,this.dispatcher=new tt(ln(),this),this.imageManager=new re,this.imageManager.setEventedParent(this),this.glyphManager=new d.GlyphManager(l._requestManager,m.localFontFamily?d.LocalGlyphMode.all:m.localIdeographFontFamily?d.LocalGlyphMode.ideographs:d.LocalGlyphMode.none,m.localFontFamily||m.localIdeographFontFamily),this.lineAtlas=new d.LineAtlas(256,512),this.crossTileSymbolIndex=new mo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new d.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",d.getReferrer());const w=this;this._rtlTextPluginCallback=ro.registerForPluginStateChange(S=>{w.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:S.pluginStatus,pluginURL:S.pluginURL},(k,z)=>{if(d.triggerPluginCompletionEvent(k),z&&z.every(G=>G))for(const G in w._sourceCaches){const K=w._sourceCaches[G],oe=K.getSource().type;"vector"!==oe&&"geojson"!==oe||K.reload()}})}),this.on("data",S=>{if("source"!==S.dataType||"metadata"!==S.sourceDataType)return;const k=this.getSource(S.sourceId);if(k&&k.vectorLayerIds)for(const z in this._layers){const G=this._layers[z];G.source===k.id&&this._validateLayer(G)}})}loadURL(l,m={}){this.fire(new d.Event("dataloading",{dataType:"style"}));const w="boolean"==typeof m.validate?m.validate:!d.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,m.accessToken);const S=this.map._requestManager.transformRequest(l,d.ResourceType.Style);this._request=d.getJSON(S,(k,z)=>{this._request=null,k?this.fire(new d.ErrorEvent(k)):z&&this._load(z,w)})}loadJSON(l,m={}){this.fire(new d.Event("dataloading",{dataType:"style"})),this._request=d.exported.frame(()=>{this._request=null,this._load(l,!1!==m.validate)})}loadEmpty(){this.fire(new d.Event("dataloading",{dataType:"style"})),this._load(va,!1)}_updateLayerCount(l,m){const w=m?1:-1;l.is3D()&&(this._num3DLayers+=w),"circle"===l.type&&(this._numCircleLayers+=w),"symbol"===l.type&&(this._numSymbolLayers+=w)}_load(l,m){if(m&&hc(this,d.validateStyle(l)))return;this._loaded=!0,this.stylesheet=l,this.updateProjection();for(const S in l.sources)this.addSource(S,l.sources[S],{validate:!1});this._changed=!1,l.sprite?this._loadSprite(l.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(l.glyphs);const w=Un(this.stylesheet.layers);this._order=w.map(S=>S.id),this._layers={},this._serializedLayers={};for(let S of w)S=d.createStyleLayer(S),S.setEventedParent(this,{layer:{id:S.id}}),this._layers[S.id]=S,this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ae(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new d.Event("data",{dataType:"style"})),this.fire(new d.Event("style.load"))}setProjection(l){l?this.stylesheet.projection=l:delete this.stylesheet.projection,this.updateProjection()}updateProjection(){const l=this.map.transform.setProjection(this.map._runtimeProjection||(this.stylesheet?this.stylesheet.projection:void 0));if(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),l){this.map.painter.clearBackgroundTiles();for(const m in this._sourceCaches)this._sourceCaches[m].clearTiles();this.map._update(!0)}}_loadSprite(l){this._spriteRequest=function(m,w,S){let k,z,G;const K=d.exported.devicePixelRatio>1?"@2x":"";let oe=d.getJSON(w.transformRequest(w.normalizeSpriteURL(m,K,".json"),d.ResourceType.SpriteJSON),(Pe,je)=>{oe=null,G||(G=Pe,k=je,ce())}),le=d.getImage(w.transformRequest(w.normalizeSpriteURL(m,K,".png"),d.ResourceType.SpriteImage),(Pe,je)=>{le=null,G||(G=Pe,z=je,ce())});function ce(){if(G)S(G);else if(k&&z){const Pe=d.exported.getImageData(z),je={};for(const et in k){const{width:$e,height:st,x:Xe,y:at,sdf:ut,pixelRatio:Ke,stretchX:ft,stretchY:Dt,content:Jt}=k[et],Zt=new d.RGBAImage({width:$e,height:st});d.RGBAImage.copy(Pe,Zt,{x:Xe,y:at},{x:0,y:0},{width:$e,height:st}),je[et]={data:Zt,pixelRatio:Ke,sdf:ut,stretchX:ft,stretchY:Dt,content:Jt}}S(null,je)}}return{cancel(){oe&&(oe.cancel(),oe=null),le&&(le.cancel(),le=null)}}}(l,this.map._requestManager,(m,w)=>{if(this._spriteRequest=null,m)this.fire(new d.ErrorEvent(m));else if(w)for(const S in w)this.imageManager.addImage(S,w[S]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new d.Event("data",{dataType:"style"}))})}_validateLayer(l){const m=this.getSource(l.source);if(!m)return;const w=l.sourceLayer;w&&("geojson"===m.type||m.vectorLayerIds&&-1===m.vectorLayerIds.indexOf(w))&&this.fire(new d.ErrorEvent(new Error(`Source layer "${w}" does not exist on source "${m.id}" as specified by style layer "${l.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this._sourceCaches)if(!this._sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const m=[];for(const w of l){const S=this._layers[w];"custom"!==S.type&&m.push(S.serialize())}return m}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const l in this._sourceCaches)if(this._sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(l){return!!this.terrain&&Ru[l.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(l){if(!this._loaded)return;const m=this._changed;if(this._changed){const S=Object.keys(this._updatedLayers),k=Object.keys(this._removedLayers);(S.length||k.length)&&this._updateWorkerLayers(S,k);for(const z in this._updatedSources){const G=this._updatedSources[z];"reload"===G?this._reloadSource(z):"clear"===G&&this._clearSource(z)}this._updateTilesForChangedImages();for(const z in this._updatedPaintProps)this._layers[z].updateTransitions(l);this.light.updateTransitions(l),this.fog&&this.fog.updateTransitions(l),this._resetUpdates()}const w={};for(const S in this._sourceCaches){const k=this._sourceCaches[S];w[S]=k.used,k.used=!1}for(const S of this._order){const k=this._layers[S];if(k.recalculate(l,this._availableImages),!k.isHidden(l.zoom)){const G=this._getLayerSourceCache(k);G&&(G.used=!0)}const z=this.map.painter;if(z){const G=k.getProgramIds();if(!G)continue;const K=k.getProgramConfiguration(l.zoom);for(const oe of G)z.useProgram(oe,K)}}for(const S in w){const k=this._sourceCaches[S];w[S]!==k.used&&k.getSource().fire(new d.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:k.getSource().id}))}this.light.recalculate(l),this.terrain&&this.terrain.recalculate(l),this.fog&&this.fog.recalculate(l),this.z=l.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new d.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const m in this._sourceCaches)this._sourceCaches[m].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,m){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:m})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(l){if(this._checkLoaded(),hc(this,d.validateStyle(l)))return!1;(l=d.clone$2(l)).layers=Un(l.layers);const m=function(S,k){if(!S)return[{command:pn.setStyle,args:[k]}];let z=[];try{if(!W(S.version,k.version))return[{command:pn.setStyle,args:[k]}];W(S.center,k.center)||z.push({command:pn.setCenter,args:[k.center]}),W(S.zoom,k.zoom)||z.push({command:pn.setZoom,args:[k.zoom]}),W(S.bearing,k.bearing)||z.push({command:pn.setBearing,args:[k.bearing]}),W(S.pitch,k.pitch)||z.push({command:pn.setPitch,args:[k.pitch]}),W(S.sprite,k.sprite)||z.push({command:pn.setSprite,args:[k.sprite]}),W(S.glyphs,k.glyphs)||z.push({command:pn.setGlyphs,args:[k.glyphs]}),W(S.transition,k.transition)||z.push({command:pn.setTransition,args:[k.transition]}),W(S.light,k.light)||z.push({command:pn.setLight,args:[k.light]}),W(S.fog,k.fog)||z.push({command:pn.setFog,args:[k.fog]}),W(S.projection,k.projection)||z.push({command:pn.setProjection,args:[k.projection]});const G={},K=[];!function(ce,Pe,je,et){let $e;for($e in Pe=Pe||{},ce=ce||{})ce.hasOwnProperty($e)&&(Pe.hasOwnProperty($e)||qt($e,je,et));for($e in Pe)Pe.hasOwnProperty($e)&&(ce.hasOwnProperty($e)?W(ce[$e],Pe[$e])||("geojson"===ce[$e].type&&"geojson"===Pe[$e].type&&Mr(ce,Pe,$e)?je.push({command:pn.setGeoJSONSourceData,args:[$e,Pe[$e].data]}):fr($e,Pe,je,et)):Ct($e,Pe,je))}(S.sources,k.sources,K,G);const oe=[];S.layers&&S.layers.forEach(ce=>{G[ce.source]?z.push({command:pn.removeLayer,args:[ce.id]}):oe.push(ce)});let le=S.terrain;le&&G[le.source]&&(z.push({command:pn.setTerrain,args:[void 0]}),le=void 0),z=z.concat(K),W(le,k.terrain)||z.push({command:pn.setTerrain,args:[k.terrain]}),function(ce,Pe,je){Pe=Pe||[];const et=(ce=ce||[]).map(nr),$e=Pe.map(nr),st=ce.reduce(pr,{}),Xe=Pe.reduce(pr,{}),at=et.slice(),ut=Object.create(null);let Ke,ft,Dt,Jt,Zt,an,Qt;for(Ke=0,ft=0;Ke<et.length;Ke++)Dt=et[Ke],Xe.hasOwnProperty(Dt)?ft++:(je.push({command:pn.removeLayer,args:[Dt]}),at.splice(at.indexOf(Dt,ft),1));for(Ke=0,ft=0;Ke<$e.length;Ke++)Dt=$e[$e.length-1-Ke],at[at.length-1-Ke]!==Dt&&(st.hasOwnProperty(Dt)?(je.push({command:pn.removeLayer,args:[Dt]}),at.splice(at.lastIndexOf(Dt,at.length-ft),1)):ft++,an=at[at.length-Ke],je.push({command:pn.addLayer,args:[Xe[Dt],an]}),at.splice(at.length-Ke,0,Dt),ut[Dt]=!0);for(Ke=0;Ke<$e.length;Ke++)if(Dt=$e[Ke],Jt=st[Dt],Zt=Xe[Dt],!ut[Dt]&&!W(Jt,Zt))if(W(Jt.source,Zt.source)&&W(Jt["source-layer"],Zt["source-layer"])&&W(Jt.type,Zt.type)){for(Qt in gr(Jt.layout,Zt.layout,je,Dt,null,pn.setLayoutProperty),gr(Jt.paint,Zt.paint,je,Dt,null,pn.setPaintProperty),W(Jt.filter,Zt.filter)||je.push({command:pn.setFilter,args:[Dt,Zt.filter]}),W(Jt.minzoom,Zt.minzoom)&&W(Jt.maxzoom,Zt.maxzoom)||je.push({command:pn.setLayerZoomRange,args:[Dt,Zt.minzoom,Zt.maxzoom]}),Jt)Jt.hasOwnProperty(Qt)&&"layout"!==Qt&&"paint"!==Qt&&"filter"!==Qt&&"metadata"!==Qt&&"minzoom"!==Qt&&"maxzoom"!==Qt&&(0===Qt.indexOf("paint.")?gr(Jt[Qt],Zt[Qt],je,Dt,Qt.slice(6),pn.setPaintProperty):W(Jt[Qt],Zt[Qt])||je.push({command:pn.setLayerProperty,args:[Dt,Qt,Zt[Qt]]}));for(Qt in Zt)Zt.hasOwnProperty(Qt)&&!Jt.hasOwnProperty(Qt)&&"layout"!==Qt&&"paint"!==Qt&&"filter"!==Qt&&"metadata"!==Qt&&"minzoom"!==Qt&&"maxzoom"!==Qt&&(0===Qt.indexOf("paint.")?gr(Jt[Qt],Zt[Qt],je,Dt,Qt.slice(6),pn.setPaintProperty):W(Jt[Qt],Zt[Qt])||je.push({command:pn.setLayerProperty,args:[Dt,Qt,Zt[Qt]]}))}else je.push({command:pn.removeLayer,args:[Dt]}),an=at[at.lastIndexOf(Dt)+1],je.push({command:pn.addLayer,args:[Zt,an]})}(oe,k.layers,z)}catch(G){console.warn("Unable to compute style diff:",G),z=[{command:pn.setStyle,args:[k]}]}return z}(this.serialize(),l).filter(S=>!(S.command in Ks));if(0===m.length)return!1;const w=m.filter(S=>!(S.command in dc));if(w.length>0)throw new Error(`Unimplemented: ${w.map(S=>S.command).join(", ")}.`);return m.forEach(S=>{"setTransition"!==S.command&&this[S.command].apply(this,S.args)}),this.stylesheet=l,!0}addImage(l,m){if(this.getImage(l))return this.fire(new d.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(l,m),this._afterImageUpdated(l)}updateImage(l,m){this.imageManager.updateImage(l,m)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new d.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new d.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(l,m,w={}){if(this._checkLoaded(),void 0!==this.getSource(l))throw new Error("There is already a source with this ID");if(!m.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(m).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(m.type)>=0&&this._validate(d.validateStyle.source,`sources.${l}`,m,null,w))return;this.map&&this.map._collectResourceTiming&&(m.collectResourceTiming=!0);const S=be(l,m,this.dispatcher,this);S.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:S.serialize(),sourceId:l}));const k=z=>{const G=(z?"symbol:":"other:")+l,K=this._sourceCaches[G]=new d.SourceCache(G,S,z);(z?this._symbolSourceCaches:this._otherSourceCaches)[l]=K,K.style=this,K.onAdd(this.map)};k(!1),"vector"!==m.type&&"geojson"!==m.type||k(!0),S.onAdd&&S.onAdd(this.map),this._changed=!0}removeSource(l){this._checkLoaded();const m=this.getSource(l);if(void 0===m)throw new Error("There is no source with this ID");for(const S in this._layers)if(this._layers[S].source===l)return this.fire(new d.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${S}" is using it.`)));if(this.terrain&&this.terrain.get().source===l)return this.fire(new d.ErrorEvent(new Error(`Source "${l}" cannot be removed while terrain is using it.`)));const w=this._getSourceCaches(l);for(const S of w)delete this._sourceCaches[S.id],delete this._updatedSources[S.id],S.fire(new d.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:S.getSource().id})),S.setEventedParent(null),S.clearTiles();delete this._otherSourceCaches[l],delete this._symbolSourceCaches[l],m.setEventedParent(null),m.onRemove&&m.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,m){this._checkLoaded(),this.getSource(l).setData(m),this._changed=!0}getSource(l){const m=this._getSourceCache(l);return m&&m.getSource()}addLayer(l,m,w={}){this._checkLoaded();const S=l.id;if(this.getLayer(S))return void this.fire(new d.ErrorEvent(new Error(`Layer with id "${S}" already exists on this map`)));let k;if("custom"===l.type){if(hc(this,d.validateCustomStyleLayer(l)))return;k=d.createStyleLayer(l)}else{if("object"==typeof l.source&&(this.addSource(S,l.source),l=d.clone$2(l),l=d.extend(l,{source:S})),this._validate(d.validateStyle.layer,`layers.${S}`,l,{arrayIndex:-1},w))return;k=d.createStyleLayer(l),this._validateLayer(k),k.setEventedParent(this,{layer:{id:S}}),this._serializedLayers[k.id]=k.serialize(),this._updateLayerCount(k,!0)}const z=m?this._order.indexOf(m):this._order.length;if(m&&-1===z)return void this.fire(new d.ErrorEvent(new Error(`Layer with id "${m}" does not exist on this map.`)));this._order.splice(z,0,S),this._layerOrderChanged=!0,this._layers[S]=k;const G=this._getLayerSourceCache(k);if(this._removedLayers[S]&&k.source&&G&&"custom"!==k.type){const K=this._removedLayers[S];delete this._removedLayers[S],K.type!==k.type?this._updatedSources[k.source]="clear":(this._updatedSources[k.source]="reload",G.pause())}this._updateLayer(k),k.onAdd&&k.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(l,m){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new d.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===m)return;const w=this._order.indexOf(l);this._order.splice(w,1);const S=m?this._order.indexOf(m):this._order.length;m&&-1===S?this.fire(new d.ErrorEvent(new Error(`Layer with id "${m}" does not exist on this map.`))):(this._order.splice(S,0,l),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(l){this._checkLoaded();const m=this._layers[l];if(!m)return void this.fire(new d.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be removed.`)));m.setEventedParent(null),this._updateLayerCount(m,!1);const w=this._order.indexOf(l);this._order.splice(w,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=m,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],m.onRemove&&m.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}hasLayerType(l){for(const m in this._layers)if(this._layers[m].type===l)return!0;return!1}setLayerZoomRange(l,m,w){this._checkLoaded();const S=this.getLayer(l);S?S.minzoom===m&&S.maxzoom===w||(null!=m&&(S.minzoom=m),null!=w&&(S.maxzoom=w),this._updateLayer(S)):this.fire(new d.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(l,m,w={}){this._checkLoaded();const S=this.getLayer(l);if(S){if(!W(S.filter,m))return null==m?(S.filter=void 0,void this._updateLayer(S)):void(this._validate(d.validateStyle.filter,`layers.${S.id}.filter`,m,{layerType:S.type},w)||(S.filter=d.clone$2(m),this._updateLayer(S)))}else this.fire(new d.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be filtered.`)))}getFilter(l){return d.clone$2(this.getLayer(l).filter)}setLayoutProperty(l,m,w,S={}){this._checkLoaded();const k=this.getLayer(l);k?W(k.getLayoutProperty(m),w)||(k.setLayoutProperty(m,w,S),this._updateLayer(k)):this.fire(new d.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(l,m){const w=this.getLayer(l);if(w)return w.getLayoutProperty(m);this.fire(new d.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style.`)))}setPaintProperty(l,m,w,S={}){this._checkLoaded();const k=this.getLayer(l);k?W(k.getPaintProperty(m),w)||(k.setPaintProperty(m,w,S)&&this._updateLayer(k),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new d.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(l,m){return this.getLayer(l).getPaintProperty(m)}setFeatureState(l,m){this._checkLoaded();const w=l.source,S=l.sourceLayer,k=this.getSource(w);if(void 0===k)return void this.fire(new d.ErrorEvent(new Error(`The source '${w}' does not exist in the map's style.`)));const z=k.type;if("geojson"===z&&S)return void this.fire(new d.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===z&&!S)return void this.fire(new d.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===l.id&&this.fire(new d.ErrorEvent(new Error("The feature id parameter must be provided.")));const G=this._getSourceCaches(w);for(const K of G)K.setFeatureState(S,l.id,m)}removeFeatureState(l,m){this._checkLoaded();const w=l.source,S=this.getSource(w);if(void 0===S)return void this.fire(new d.ErrorEvent(new Error(`The source '${w}' does not exist in the map's style.`)));const k=S.type,z="vector"===k?l.sourceLayer:void 0;if("vector"===k&&!z)return void this.fire(new d.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(m&&"string"!=typeof l.id&&"number"!=typeof l.id)return void this.fire(new d.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const G=this._getSourceCaches(w);for(const K of G)K.removeFeatureState(z,l.id,m)}getFeatureState(l){this._checkLoaded();const m=l.source,w=l.sourceLayer,S=this.getSource(m);if(void 0!==S){if("vector"!==S.type||w)return void 0===l.id&&this.fire(new d.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(m)[0].getFeatureState(w,l.id);this.fire(new d.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new d.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)))}getTransition(){return d.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const l={};for(const m in this._sourceCaches){const w=this._sourceCaches[m].getSource();l[w.id]||(l[w.id]=w.serialize())}return d.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:l,layers:this._serializeLayers(this._order)},m=>void 0!==m)}_updateLayer(l){this._updatedLayers[l.id]=!0;const m=this._getLayerSourceCache(l);l.source&&!this._updatedSources[l.source]&&m&&"raster"!==m.getSource().type&&(this._updatedSources[l.source]="reload",m.pause()),this._changed=!0,l.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(l){const m=z=>"fill-extrusion"===this._layers[z].type,w={},S=[];for(let z=this._order.length-1;z>=0;z--){const G=this._order[z];if(m(G)){w[G]=z;for(const K of l){const oe=K[G];if(oe)for(const le of oe)S.push(le)}}}S.sort((z,G)=>G.intersectionZ-z.intersectionZ);const k=[];for(let z=this._order.length-1;z>=0;z--){const G=this._order[z];if(m(G))for(let K=S.length-1;K>=0;K--){const oe=S[K].feature;if(w[oe.layer.id]<z)break;k.push(oe),S.pop()}else for(const K of l){const oe=K[G];if(oe)for(const le of oe)k.push(le.feature)}}return k}queryRenderedFeatures(l,m,w){m&&m.filter&&this._validate(d.validateStyle.filter,"queryRenderedFeatures.filter",m.filter,null,m);const S={};if(m&&m.layers){if(!Array.isArray(m.layers))return this.fire(new d.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const K of m.layers){const oe=this._layers[K];if(!oe)return this.fire(new d.ErrorEvent(new Error(`The layer '${K}' does not exist in the map's style and cannot be queried for features.`))),[];S[oe.source]=!0}}const k=[];m.availableImages=this._availableImages;const z=m&&m.layers?m.layers.some(K=>{const oe=this.getLayer(K);return oe&&oe.is3D()}):this.has3DLayers(),G=gt.createFromScreenPoints(l,w);for(const K in this._sourceCaches){const oe=this._sourceCaches[K].getSource().id;m.layers&&!S[oe]||k.push(ot(this._sourceCaches[K],this._layers,this._serializedLayers,G,m,w,z,!!this.map._showQueryGeometry))}return this.placement&&k.push(function(K,oe,le,ce,Pe,je,et){const $e={},st=je.queryRenderedSymbols(ce),Xe=[];for(const at of Object.keys(st).map(Number))Xe.push(et[at]);Xe.sort(ht);for(const at of Xe){const ut=at.featureIndex.lookupSymbolFeatures(st[at.bucketInstanceId],oe,at.bucketIndex,at.sourceLayerIndex,Pe.filter,Pe.layers,Pe.availableImages,K);for(const Ke in ut){const ft=$e[Ke]=$e[Ke]||[],Dt=ut[Ke];Dt.sort((Jt,Zt)=>{const an=at.featureSortOrder;if(an){const Qt=an.indexOf(Jt.featureIndex);return an.indexOf(Zt.featureIndex)-Qt}return Zt.featureIndex-Jt.featureIndex});for(const Jt of Dt)ft.push(Jt)}}for(const at in $e)$e[at].forEach(ut=>{const Ke=ut.feature,ft=le(K[at]).getFeatureState(Ke.layer["source-layer"],Ke.id);Ke.source=Ke.layer.source,Ke.layer["source-layer"]&&(Ke.sourceLayer=Ke.layer["source-layer"]),Ke.state=ft});return $e}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),G.screenGeometry,m,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(k)}querySourceFeatures(l,m){m&&m.filter&&this._validate(d.validateStyle.filter,"querySourceFeatures.filter",m.filter,null,m);const w=this._getSourceCaches(l);let S=[];for(const k of w)S=S.concat(yt(k,m));return S}addSourceType(l,m,w){return ro.getSourceType(l)?w(new Error(`A source type called "${l}" already exists.`)):(ro.setSourceType(l,m),m.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:m.workerSourceURL},w):w(null,null))}getLight(){return this.light.getLight()}setLight(l,m={}){this._checkLoaded();const w=this.light.getLight();let S=!1;for(const z in l)if(!W(l[z],w[z])){S=!0;break}if(!S)return;const k={now:d.exported.now(),transition:d.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,m),this.light.updateTransitions(k)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(l){if(this._checkLoaded(),!l)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof l.source){const m="terrain-dem-src";this.addSource(m,l.source),l=d.clone$2(l),l=d.extend(l,{source:m})}if(!this._validate(d.validateStyle.terrain,"terrain",l)){if(this.terrain){const m=this.terrain,w=m.get();for(const S in l)if(!W(l[S],w[S])){m.set(l),this.stylesheet.terrain=l;const k={now:d.exported.now(),transition:d.extend({duration:0},this.stylesheet.transition)};m.updateTransitions(k);break}}else this._createTerrain(l);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(l){const m=this.fog=new Mt(l,this.map.transform);this.stylesheet.fog=l;const w={now:d.exported.now(),transition:d.extend({duration:0},this.stylesheet.transition)};m.updateTransitions(w)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const l of this.map._markers)l._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(l){if(this._checkLoaded(),!l)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const m=this.fog,w=m.get();for(const S in l)if(!W(l[S],w[S])){m.set(l),this.stylesheet.fog=l;const k={now:d.exported.now(),transition:d.extend({duration:0},this.stylesheet.transition)};m.updateTransitions(k);break}}else this._createFog(l);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const l=this._order.filter(w=>this.isLayerDraped(this._layers[w])),m=this._order.filter(w=>!this.isLayerDraped(this._layers[w]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...l),this._drapedFirstOrder.push(...m)}_createTerrain(l){const m=this.terrain=new Je(l);this.stylesheet.terrain=l,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const w={now:d.exported.now(),transition:d.extend({duration:0},this.stylesheet.transition)};m.updateTransitions(w)}_force3DLayerUpdate(){for(const l in this._layers){const m=this._layers[l];"fill-extrusion"===m.type&&this._updateLayer(m)}}_validate(l,m,w,S,k={}){return(!k||!1!==k.validate)&&hc(this,l.call(d.validateStyle,d.extend({key:m,style:this.serialize(),value:w,styleSpec:d.spec},S)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),d.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this._sourceCaches)this._sourceCaches[l].clearTiles(),this._sourceCaches[l].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){const m=this._getSourceCaches(l);for(const w of m)w.clearTiles()}_reloadSource(l){const m=this._getSourceCaches(l);for(const w of m)w.resume(),w.reload()}_updateSources(l){for(const m in this._sourceCaches)this._sourceCaches[m].update(l)}_generateCollisionBoxes(){for(const l in this._sourceCaches){const m=this._sourceCaches[l];m.resume(),m.reload()}}_updatePlacement(l,m,w,S,k=!1){let z=!1,G=!1;const K={};for(const oe of this._order){const le=this._layers[oe];if("symbol"!==le.type)continue;if(!K[le.source]){const Pe=this._getLayerSourceCache(le);if(!Pe)continue;K[le.source]=Pe.getRenderableIds(!0).map(je=>Pe.getTileByID(je)).sort((je,et)=>et.tileID.overscaledZ-je.tileID.overscaledZ||(je.tileID.isLessThan(et.tileID)?-1:1))}const ce=this.crossTileSymbolIndex.addLayer(le,K[le.source],l.center.lng);z=z||ce}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),k=k||this._layerOrderChanged||0===w,this._layerOrderChanged&&this.fire(new d.Event("neworder")),(k||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(d.exported.now(),l.zoom))&&(this.pauseablePlacement=new zo(l,this._order,k,m,w,S,this.placement,this.fog&&!this.fog.isSoftDisabled()?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,K),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(d.exported.now()),G=!0),z&&this.pauseablePlacement.placement.setStale()),G||z)for(const oe of this._order){const le=this._layers[oe];"symbol"===le.type&&this.placement.updateLayerOpacities(le,K[le.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(d.exported.now())}_releaseSymbolFadeTiles(){for(const l in this._sourceCaches)this._sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,m,w){this.imageManager.getImages(m.icons,w),this._updateTilesForChangedImages();const S=k=>{k&&k.setDependencies(m.tileID.key,m.type,m.icons)};S(this._otherSourceCaches[m.source]),S(this._symbolSourceCaches[m.source])}getGlyphs(l,m,w){this.glyphManager.getGlyphs(m.stacks,w)}getResource(l,m,w){return d.makeRequest(m,w)}_getSourceCache(l){return this._otherSourceCaches[l]}_getLayerSourceCache(l){return"symbol"===l.type?this._symbolSourceCaches[l.source]:this._otherSourceCaches[l.source]}_getSourceCaches(l){const m=[];return this._otherSourceCaches[l]&&m.push(this._otherSourceCaches[l]),this._symbolSourceCaches[l]&&m.push(this._symbolSourceCaches[l]),m}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}}ro.getSourceType=function(M){return de[M]},ro.setSourceType=function(M,l){de[M]=l},ro.registerForPluginStateChange=d.registerForPluginStateChange;var Ll="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",au="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Tr={},Ki={};Tr=Dr("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else \nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),Ki=Dr("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const Nu=Dr("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\n#ifdef TERRAIN\nhighp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\n#endif","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nreturn mix(globe,mercator,t);\n#else\nreturn globe;\n#endif\n}vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),io=Ll;var zs={background:Dr("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Dr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Dr("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Dr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Dr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nextrude*=a_scale;vec3 normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));vec3 globePos=a_pos_3+xAxis*extrude.x+yAxis*extrude.y+elevationVector(tilePos)*elevation(tilePos);vec3 mercPos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+xAxis*extrude.x+yAxis*extrude.y;vec3 pos=mix_globe_mercator(globePos,mercPos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Dr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Dr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Dr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Dr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:Dr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Dr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Dr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Dr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Dr("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Dr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Dr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Dr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Dr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nvec4 out_color=texture2D(u_gradient_image,v_uv);\n#else\nvec4 out_color=color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#ifdef RENDER_LINE_GRADIENT\nattribute vec3 a_packed;\n#else\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];float a_linesofar=a_packed[2];highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Dr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Dr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Dr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:Dr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:Dr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:Dr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:Dr("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Dr("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",au),skyboxGradient:Dr("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",au),skyboxCapture:Dr("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Dr("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {vec4 color=texture2D(u_image0,v_pos0);gl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat4 u_up_vector_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;varying vec2 v_pos0;void main() {v_pos0=a_uv;vec2 uv=a_uv*EXTENT;vec4 up_vector=u_up_vector_matrix*vec4(elevationVector(uv),1.0);float height=elevation(uv);vec4 globe=u_globe_matrix*vec4(a_globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(a_merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);}"),globeAtmosphere:Dr("uniform vec2 u_center;uniform float u_radius;uniform vec2 u_screen_size;uniform float u_opacity;uniform highp float u_fadeout_range;uniform vec3 u_start_color;uniform vec3 u_end_color;uniform float u_pixel_ratio;void main() {highp vec2 fragCoord=gl_FragCoord.xy/u_pixel_ratio;fragCoord.y=u_screen_size.y-fragCoord.y;float distFromCenter=length(fragCoord-u_center);float normDistFromCenter=length(fragCoord-u_center)/u_radius;if (normDistFromCenter < 1.0)\ndiscard;float t=clamp(1.0-sqrt(normDistFromCenter-1.0)/u_fadeout_range,0.0,1.0);vec3 color=mix(u_start_color,u_end_color,1.0-t);gl_FragColor=vec4(color*t*u_opacity,u_opacity);}","attribute vec3 a_pos;void main() {gl_Position=vec4(a_pos,1.0);}"),globeDepth:Dr("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat4 u_up_vector_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;varying float v_depth;void main() {vec2 uv=a_uv*EXTENT;vec4 up_vector=u_up_vector_matrix*vec4(elevationVector(uv),1.0);float height=elevation(uv);vec4 globe=u_globe_matrix*vec4(a_globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(a_merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);v_depth=gl_Position.z/gl_Position.w;}")};function Dr(M,l,m){const w=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,S=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,k=l.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),z=M.match(S),G=l.match(S),K=Ll.match(S);let oe=G?G.concat(z):z;m||(Tr.staticUniforms&&(oe=Tr.staticUniforms.concat(oe)),Ki.staticUniforms&&(oe=Ki.staticUniforms.concat(oe))),oe&&(oe=oe.concat(K));const le={};return{fragmentSource:M=M.replace(w,(ce,Pe,je,et,$e)=>(le[$e]=!0,"define"===Pe?`\n#ifndef HAS_UNIFORM_u_${$e}\nvarying ${je} ${et} ${$e};\n#else\nuniform ${je} ${et} u_${$e};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${$e}\n    ${je} ${et} ${$e} = u_${$e};\n#endif\n`)),vertexSource:l=l.replace(w,(ce,Pe,je,et,$e)=>{const st="float"===et?"vec2":"vec4",Xe=$e.match(/color/)?"color":st;return le[$e]?"define"===Pe?`\n#ifndef HAS_UNIFORM_u_${$e}\nuniform lowp float u_${$e}_t;\nattribute ${je} ${st} a_${$e};\nvarying ${je} ${et} ${$e};\n#else\nuniform ${je} ${et} u_${$e};\n#endif\n`:"vec4"===Xe?`\n#ifndef HAS_UNIFORM_u_${$e}\n    ${$e} = a_${$e};\n#else\n    ${je} ${et} ${$e} = u_${$e};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${$e}\n    ${$e} = unpack_mix_${Xe}(a_${$e}, u_${$e}_t);\n#else\n    ${je} ${et} ${$e} = u_${$e};\n#endif\n`:"define"===Pe?`\n#ifndef HAS_UNIFORM_u_${$e}\nuniform lowp float u_${$e}_t;\nattribute ${je} ${st} a_${$e};\n#else\nuniform ${je} ${et} u_${$e};\n#endif\n`:"vec4"===Xe?`\n#ifndef HAS_UNIFORM_u_${$e}\n    ${je} ${et} ${$e} = a_${$e};\n#else\n    ${je} ${et} ${$e} = u_${$e};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${$e}\n    ${je} ${et} ${$e} = unpack_mix_${Xe}(a_${$e}, u_${$e}_t);\n#else\n    ${je} ${et} ${$e} = u_${$e};\n#endif\n`}),staticAttributes:k,staticUniforms:oe}}class gl{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,m,w,S,k,z,G,K){this.context=l;let oe=this.boundPaintVertexBuffers.length!==S.length;for(let le=0;!oe&&le<S.length;le++)this.boundPaintVertexBuffers[le]!==S[le]&&(oe=!0);l.extVertexArrayObject&&this.vao&&this.boundProgram===m&&this.boundLayoutVertexBuffer===w&&!oe&&this.boundIndexBuffer===k&&this.boundVertexOffset===z&&this.boundDynamicVertexBuffer===G&&this.boundDynamicVertexBuffer2===K?(l.bindVertexArrayOES.set(this.vao),G&&G.bind(),k&&k.dynamicDraw&&k.bind(),K&&K.bind()):this.freshBind(m,w,S,k,z,G,K)}freshBind(l,m,w,S,k,z,G){let K;const oe=l.numAttributes,le=this.context,ce=le.gl;if(le.extVertexArrayObject)this.vao&&this.destroy(),this.vao=le.extVertexArrayObject.createVertexArrayOES(),le.bindVertexArrayOES.set(this.vao),K=0,this.boundProgram=l,this.boundLayoutVertexBuffer=m,this.boundPaintVertexBuffers=w,this.boundIndexBuffer=S,this.boundVertexOffset=k,this.boundDynamicVertexBuffer=z,this.boundDynamicVertexBuffer2=G;else{K=le.currentNumAttributes||0;for(let Pe=oe;Pe<K;Pe++)ce.disableVertexAttribArray(Pe)}m.enableAttributes(ce,l);for(const Pe of w)Pe.enableAttributes(ce,l);z&&z.enableAttributes(ce,l),G&&G.enableAttributes(ce,l),m.bind(),m.setVertexAttribPointers(ce,l,k);for(const Pe of w)Pe.bind(),Pe.setVertexAttribPointers(ce,l,k);z&&(z.bind(),z.setVertexAttribPointers(ce,l,k)),S&&S.bind(),G&&(G.bind(),G.setVertexAttribPointers(ce,l,k)),le.currentNumAttributes=oe}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function _l(M,l){const m=Math.pow(2,l.canonical.z),w=l.canonical.y;return[new d.MercatorCoordinate(0,w/m).toLngLat().lat,new d.MercatorCoordinate(0,(w+1)/m).toLngLat().lat]}function fc(M,l,m,w,S,k,z){const G=M.context,K=G.gl,oe=m.fbo;if(!oe)return;M.prepareDrawTile(l);const le=M.useProgram("hillshade");G.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,oe.colorAttachment.get());const ce=(($e,st,Xe,at)=>{const ut=Xe.paint.get("hillshade-shadow-color"),Ke=Xe.paint.get("hillshade-highlight-color"),ft=Xe.paint.get("hillshade-accent-color");let Dt=Xe.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Xe.paint.get("hillshade-illumination-anchor")&&(Dt-=$e.transform.angle);const Jt=!$e.options.moving;return{u_matrix:at||$e.transform.calculateProjMatrix(st.tileID.toUnwrapped(),Jt),u_image:0,u_latrange:_l(0,st.tileID),u_light:[Xe.paint.get("hillshade-exaggeration"),Dt],u_shadow:ut,u_highlight:Ke,u_accent:ft}})(M,m,w,M.terrain?l.projMatrix:null);M.prepareDrawProgram(G,le,l.toUnwrapped());const{tileBoundsBuffer:Pe,tileBoundsIndexBuffer:je,tileBoundsSegments:et}=M.getTileBoundsBuffers(m);le.draw(G,K.TRIANGLES,S,k,z,d.CullFaceMode.disabled,ce,w.id,Pe,je,et)}function Lc(M,l,m){if(!l.needsDEMTextureUpload)return;const w=M.context,S=w.gl;w.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||M.getTileTexture(m.stride);const k=m.getPixels();l.demTexture?l.demTexture.update(k,{premultiply:!1}):l.demTexture=new d.Texture(w,k,S.RGBA,{premultiply:!1}),l.needsDEMTextureUpload=!1}function Ti(M,l,m,w,S,k){const z=M.context,G=z.gl;if(!l.dem)return;const K=l.dem;if(z.activeTexture.set(G.TEXTURE1),Lc(M,l,K),!l.demTexture)return;l.demTexture.bind(G.NEAREST,G.CLAMP_TO_EDGE);const oe=K.dim;z.activeTexture.set(G.TEXTURE0);let le=l.fbo;if(!le){const et=new d.Texture(z,{width:oe,height:oe,data:null},G.RGBA);et.bind(G.LINEAR,G.CLAMP_TO_EDGE),le=l.fbo=z.createFramebuffer(oe,oe,!0),le.colorAttachment.set(et.texture)}z.bindFramebuffer.set(le.framebuffer),z.viewport.set([0,0,oe,oe]);const{tileBoundsBuffer:ce,tileBoundsIndexBuffer:Pe,tileBoundsSegments:je}=M.getMercatorTileBoundsBuffers();M.useProgram("hillshadePrepare").draw(z,G.TRIANGLES,w,S,k,d.CullFaceMode.disabled,((et,$e)=>{const st=$e.stride,Xe=d.create$1();return d.ortho(Xe,0,d.EXTENT,-d.EXTENT,0,0,1),d.translate(Xe,Xe,[0,-d.EXTENT,0]),{u_matrix:Xe,u_image:1,u_dimension:[st,st],u_zoom:et.overscaledZ,u_unpack:$e.unpackVector}})(l.tileID,K),m.id,ce,Pe,je),l.needsHillshadePrepare=!1}const kr=(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_image0:new d.Uniform1i(M,l.u_image0),u_skirt_height:new d.Uniform1f(M,l.u_skirt_height)}),Na=(M,l)=>({u_matrix:M,u_image0:0,u_skirt_height:l}),Bo=new class{constructor(){this.operations={}}newMorphing(M,l,m,w,S){if(M in this.operations){const k=this.operations[M];k.to.tileID.key!==m.tileID.key&&(k.queued=m)}else this.operations[M]={startTime:w,phase:0,duration:S,from:l,to:m,queued:null}}getMorphValuesForProxy(M){if(!(M in this.operations))return null;const l=this.operations[M];return{from:l.from,to:l.to,phase:l.phase}}update(M){for(const l in this.operations){const m=this.operations[l];for(m.phase=(M-m.startTime)/m.duration;m.phase>=1||!this._validOp(m);)if(!this._nextOp(m,M)){delete this.operations[l];break}}}_nextOp(M,l){return!!M.queued&&(M.from=M.to,M.to=M.queued,M.queued=null,M.phase=0,M.startTime=l,!0)}_validOp(M){return M.from.hasData()&&M.to.hasData()}},Fu={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function bi(M,l){const m=1<<M.z;return!l&&(0===M.x||M.x===m-1)||0===M.y||M.y===m-1}const lu=M=>({u_matrix:M});function Hi(M,l,m,w,S){if(S>0){const k=d.exported.now(),z=(k-M.timeAdded)/S,G=l?(k-l.timeAdded)/S:-1,K=m.getSource(),oe=w.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),le=!l||Math.abs(l.tileID.overscaledZ-oe)>Math.abs(M.tileID.overscaledZ-oe),ce=le&&M.refreshedUponExpiration?1:d.clamp(le?z:1-G,0,1);return M.refreshedUponExpiration&&z>=1&&(M.refreshedUponExpiration=!1),l?{opacity:1,mix:1-ce}:{opacity:ce,mix:0}}return{opacity:1,mix:0}}class Kn extends d.SourceCache{constructor(l){const m=be("proxy",{type:"geojson",maxzoom:l.transform.maxZoom},new tt(ln(),null),l.style);super("proxy",m,!1),m.setEventedParent(this),this.map=this.getSource().map=l,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(l,m,w){if(l.freezeTileCoverage)return;this.transform=l;const S=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((k,z)=>{if(k[z.key]="",!this._tiles[z.key]){const G=new d.Tile(z,this._source.tileSize*z.overscaleFactor(),l.tileZoom);G.state="loaded",this._tiles[z.key]=G}return k},{});for(const k in this._tiles)k in S||(this.freeFBO(k),this._tiles[k].unloadVectorData(),delete this._tiles[k])}freeFBO(l){const m=this.proxyCachedFBO[l];if(void 0!==m){const w=Object.values(m);this.renderCachePool.push(...w),delete this.proxyCachedFBO[l]}}deallocRenderCache(){this.renderCache.forEach(l=>l.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Bs extends d.OverscaledTileID{constructor(l,m,w){super(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y),this.proxyTileKey=m,this.projMatrix=w}}class xa extends d.Elevation{constructor(l,m){super(),this.painter=l,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[w,S,k]=function(K){const oe=new d.StructArrayLayout4i8,le=new d.StructArrayLayout3ui6;oe.reserve(17161),le.reserve(33800);const Pe=d.EXTENT/128,je=d.EXTENT+Pe/2,et=je+Pe;for(let st=-Pe;st<et;st+=Pe)for(let Xe=-Pe;Xe<et;Xe+=Pe){const at=Xe<0||Xe>je||st<0||st>je?24575:0,ut=d.clamp(Math.round(Xe),0,d.EXTENT),Ke=d.clamp(Math.round(st),0,d.EXTENT);oe.emplaceBack(ut+at,Ke,ut,Ke)}const $e=(st,Xe)=>{const at=131*Xe+st;le.emplaceBack(at+1,at,at+131),le.emplaceBack(at+131,at+131+1,at+1)};for(let st=1;st<129;st++)for(let Xe=1;Xe<129;Xe++)$e(Xe,st);return[0,129].forEach(st=>{for(let Xe=0;Xe<130;Xe++)$e(Xe,st),$e(st,Xe)}),[oe,le,32768]}(),z=l.context;this.gridBuffer=z.createVertexBuffer(w,d.boundsAttributes.members),this.gridIndexBuffer=z.createIndexBuffer(S),this.gridSegments=d.SegmentVector.simpleSegment(0,0,w.length,S.length),this.gridNoSkirtSegments=d.SegmentVector.simpleSegment(0,0,w.length,k),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Kn(m.map),this.orthoMatrix=d.create$1(),d.ortho(this.orthoMatrix,0,d.EXTENT,0,d.EXTENT,0,1);const G=z.gl;this._overlapStencilMode=new d.StencilMode({func:G.GEQUAL,mask:255},0,255,G.KEEP,G.KEEP,G.REPLACE),this._previousZoom=l.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=m,this._useVertexMorphing=!0,this._exaggeration=1}set style(l){l.on("data",this._onStyleDataEvent.bind(this)),l.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=l,this._checkRenderCacheEfficiency()}update(l,m,w){if(l&&l.terrain){this._style!==l&&(this.style=l),this.enabled=!0;const S=l.terrain.properties;this.sourceCache=l._getSourceCache(S.get("source")),this._exaggeration=S.get("exaggeration");const k=()=>{this.sourceCache.used&&d.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const z=this.sourceCache.getSource().tileSize/128,G=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(m,z*G,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,k(),this._initializing=!0),k(),m.updateElevation(!w),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(m),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const l=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==l.efficiency&&d.warnOnce(`Terrain render cache efficiency is not optimal (${l.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${l.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(l){l.coord&&"source"===l.dataType?this._clearRenderCacheForTile(l.sourceCacheId,l.coord):"style"===l.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const l in this._style._sourceCaches)this._style._sourceCaches[l].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(l=>l.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const l=2*this.proxySourceCache.getSource().tileSize;return[l,l]}set useVertexMorphing(l){this._useVertexMorphing=l}updateTileBinding(l){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const m=this.proxySourceCache,w=this.painter.transform;this._initializing&&(this._initializing=0===w._centerAltitude&&-1===this.getAtPointOrZero(d.MercatorCoordinate.fromLngLat(w.center),-1),this._emptyDEMTextureDirty=!this._initializing);const S=this.proxyCoords=m.getIds().map(K=>{const oe=m.getTileByID(K).tileID;return oe.projMatrix=w.calculateProjMatrix(oe.toUnwrapped()),oe});(function(K,oe){const le=oe.transform.pointCoordinate(oe.transform.getCameraPoint()),ce=new d.pointGeometry(le.x,le.y);K.sort((Pe,je)=>{if(je.overscaledZ-Pe.overscaledZ)return je.overscaledZ-Pe.overscaledZ;const et=new d.pointGeometry(Pe.canonical.x+(1<<Pe.canonical.z)*Pe.wrap,Pe.canonical.y),$e=new d.pointGeometry(je.canonical.x+(1<<je.canonical.z)*je.wrap,je.canonical.y),st=ce.mult(1<<Pe.canonical.z);return st.x-=.5,st.y-=.5,st.distSqr(et)-st.distSqr($e)})})(S,this.painter),this._previousZoom=w.zoom;const k=this.proxyToSource||{};this.proxyToSource={},S.forEach(K=>{this.proxyToSource[K.key]={}}),this.terrainTileForTile={};const z=this._style._sourceCaches;for(const K in z){const oe=z[K];if(!oe.used||(oe!==this.sourceCache&&(this._findCoveringTileCache[oe.id]={}),this._setupProxiedCoordsForOrtho(oe,l[K],k),oe.usedForTerrain))continue;const le=l[K];oe.getSource().reparseOverscaled&&this._assignTerrainTiles(le)}this.proxiedCoords[m.id]=S.map(K=>new Bs(K,K.key,this.orthoMatrix)),this._assignTerrainTiles(S),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(k),this.renderingToTexture=!1,this._updateTimestamp=d.exported.now();const G={};this._visibleDemTiles=[];for(const K of this.proxyCoords){const oe=this.terrainTileForTile[K.key];if(!oe)continue;const le=oe.tileID.key;le in G||(this._visibleDemTiles.push(oe),G[le]=le)}}_assignTerrainTiles(l){this._initializing||l.forEach(m=>{if(this.terrainTileForTile[m.key])return;const w=this._findTileCoveringTileID(m,this.sourceCache);w&&(this.terrainTileForTile[m.key]=w)})}_prepareDEMTextures(){const l=this.painter.context,m=l.gl;for(const w in this.terrainTileForTile){const S=this.terrainTileForTile[w],k=S.dem;!k||S.demTexture&&!S.needsDEMTextureUpload||(l.activeTexture.set(m.TEXTURE1),Lc(this.painter,S,k))}}_prepareDemTileUniforms(l,m,w,S){if(!m||null==m.demTexture)return!1;const k=l.tileID.canonical,z=Math.pow(2,m.tileID.canonical.z-k.z),G=S||"";return w[`u_dem_tl${G}`]=[k.x*z%1,k.y*z%1],w[`u_dem_scale${G}`]=z,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let l=0;const m=this._visibleDemTiles.reduce((w,S)=>{if(!S.dem)return w;const k=S.dem.tree.minimums[0];return k>0&&l++,w+k},0);return l?m/l:0}_updateEmptyDEMTexture(){const l=this.painter.context,m=l.gl;l.activeTexture.set(m.TEXTURE2);const w=this._getLoadedAreaMinimum(),S={width:1,height:1,data:new Uint8Array(d.DEMData.pack(w,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let k=this._emptyDEMTexture;return k?k.update(S,{premultiply:!1}):k=this._emptyDEMTexture=new d.Texture(l,S,m.RGBA,{premultiply:!1}),k}setupElevationDraw(l,m,w){const S=this.painter.context,k=S.gl,z=(G=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:d.DEMData.getUnpackVector(G),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var G;z.u_dem_size=this.sourceCache.getSource().tileSize,z.u_exaggeration=this.exaggeration();let K=null,oe=null,le=1;if(w&&w.morphing&&this._useVertexMorphing){const ce=w.morphing.srcDemTile,Pe=w.morphing.dstDemTile;le=w.morphing.phase,ce&&Pe&&(this._prepareDemTileUniforms(l,ce,z,"_prev")&&(oe=ce),this._prepareDemTileUniforms(l,Pe,z)&&(K=Pe))}if(oe&&K?(S.activeTexture.set(k.TEXTURE2),K.demTexture.bind(k.NEAREST,k.CLAMP_TO_EDGE,k.NEAREST),S.activeTexture.set(k.TEXTURE4),oe.demTexture.bind(k.NEAREST,k.CLAMP_TO_EDGE,k.NEAREST),z.u_dem_lerp=le):(K=this.terrainTileForTile[l.tileID.key],S.activeTexture.set(k.TEXTURE2),(this._prepareDemTileUniforms(l,K,z)?K.demTexture:this.emptyDEMTexture).bind(k.NEAREST,k.CLAMP_TO_EDGE)),w&&w.useDepthForOcclusion&&(S.activeTexture.set(k.TEXTURE3),this._depthTexture.bind(k.NEAREST,k.CLAMP_TO_EDGE),z.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),w&&w.useMeterToDem&&K){const ce=(1<<K.tileID.canonical.z)*d.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;z.u_meter_to_dem=ce}w&&w.labelPlaneMatrixInv&&(z.u_label_plane_matrix_inv=w.labelPlaneMatrixInv),m.setTerrainUniformValues(S,z)}renderToBackBuffer(l){const m=this.painter,w=this.painter.context;0!==l.length&&(w.bindFramebuffer.set(null),w.viewport.set([0,0,m.width,m.height]),this.renderingToTexture=!1,function(S,k,z,G,K){const oe=S.context,le=oe.gl;let ce,Pe;const je=S.options.showTerrainWireframe?2:0,et=(ut,Ke)=>{if(Pe===ut)return;const ft=[Fu[ut]];Ke&&ft.push(Fu[je]),ce=S.useProgram("terrainRaster",null,ft),Pe=ut},$e=S.colorModeForRenderPass(),st=new d.DepthMode(le.LEQUAL,d.DepthMode.ReadWrite,S.depthRangeFor3D);Bo.update(K);const Xe=S.transform,at=6*Math.pow(1.5,22-Xe.zoom)*k.exaggeration();(je?[!1,!0]:[!1]).forEach(ut=>{Pe=-1;const Ke=ut?le.LINES:le.TRIANGLES,[ft,Dt]=ut?k.getWirefameBuffer():[k.gridIndexBuffer,k.gridSegments];for(const an of G){const Qt=z.getTile(an),xn=d.StencilMode.disabled,on=k.prevTerrainTileForTile[an.key],kn=k.terrainTileForTile[an.key];Zt=kn,null!=(Jt=on)&&null!=Zt&&Jt.hasData()&&Zt.hasData()&&null!=Jt.demTexture&&null!=Zt.demTexture&&Jt.tileID.key!==Zt.tileID.key&&Bo.newMorphing(an.key,on,kn,K,250),oe.activeTexture.set(le.TEXTURE0),Qt.texture.bind(le.LINEAR,le.CLAMP_TO_EDGE);const Vt=Bo.getMorphValuesForProxy(an.key),In=Vt?1:0;let Zn;Vt&&(Zn={morphing:{srcDemTile:Vt.from,dstDemTile:Vt.to,phase:d.easeCubicInOut(Vt.phase)}});const Rr=Na(an.projMatrix,bi(an.canonical,Xe.renderWorldCopies)?at/10:at);et(In,ut),k.setupElevationDraw(Qt,ce,Zn),S.prepareDrawProgram(oe,ce,an.toUnwrapped()),ce.draw(oe,Ke,st,xn,$e,d.CullFaceMode.backCCW,Rr,"terrain_raster",k.gridBuffer,ft,Dt)}var Jt,Zt})}(m,this,this.proxySourceCache,l,this._updateTimestamp),this.renderingToTexture=!0,l.splice(0,l.length))}renderBatch(l){if(0===this._drapedRenderBatches.length)return l+1;this.renderingToTexture=!0;const m=this.painter,w=this.painter.context,S=this.proxySourceCache,k=this.proxiedCoords[S.id],z=this._drapedRenderBatches.shift(),G=[],K=m.style.order;let oe=0;for(const le of k){const ce=S.getTileByID(le.proxyTileKey),Pe=S.proxyCachedFBO[le.key]?S.proxyCachedFBO[le.key][l]:void 0,je=void 0!==Pe?S.renderCache[Pe]:this.pool[oe++],et=void 0!==Pe;if(ce.texture=je.tex,et&&!je.dirty){G.push(ce.tileID);continue}let $e;w.bindFramebuffer.set(je.fb.framebuffer),this.renderedToTile=!1,je.dirty&&(w.clear({color:d.Color.transparent}),je.dirty=!1);for(let st=z.start;st<=z.end;++st){const Xe=m.style._layers[K[st]];if(Xe.isHidden(m.transform.zoom))continue;const at=m.style._getLayerSourceCache(Xe),ut=at?this.proxyToSource[le.key][at.id]:[le];if(!ut)continue;const Ke=ut;w.viewport.set([0,0,je.fb.width,je.fb.height]),$e!==(at?at.id:null)&&(this._setupStencil(je,ut,Xe,at),$e=at?at.id:null),m.renderLayer(m,at,Xe,Ke)}this.renderedToTile?(je.dirty=!0,G.push(ce.tileID)):et||--oe,5===oe&&(oe=0,this.renderToBackBuffer(G))}return this.renderToBackBuffer(G),this.renderingToTexture=!1,w.bindFramebuffer.set(null),w.viewport.set([0,0,m.width,m.height]),z.end+1}postRender(){}renderCacheEfficiency(l){const m=l.order.length;if(0===m)return{efficiency:100};let w,S=0,k=0,z=!1;for(let G=0;G<m;++G){const K=l._layers[l.order[G]];this._style.isLayerDraped(K)?(z&&++S,++k):z||(z=!0,w=K.id)}return 0===k?{efficiency:100}:{efficiency:100*(1-S/k),firstUndrapedLayer:w}}getMinElevationBelowMSL(){let l=0;return this._visibleDemTiles.filter(m=>m.dem).forEach(m=>{l=Math.min(l,m.dem.tree.minimums[0])}),0===l?l:(l-30)*this._exaggeration}raycast(l,m,w){if(!this._visibleDemTiles)return null;const S=this._visibleDemTiles.filter(k=>k.dem).map(k=>{const z=k.tileID,G=Math.pow(2,z.overscaledZ),{x:K,y:oe}=z.canonical,le=K/G,ce=(K+1)/G,Pe=oe/G,je=(oe+1)/G;return{minx:le,miny:Pe,maxx:ce,maxy:je,t:k.dem.tree.raycastRoot(le,Pe,ce,je,l,m,w),tile:k}});S.sort((k,z)=>(null!==k.t?k.t:Number.MAX_VALUE)-(null!==z.t?z.t:Number.MAX_VALUE));for(const k of S){if(null==k.t)return null;const z=k.tile.dem.tree.raycast(k.minx,k.miny,k.maxx,k.maxy,l,m,w);if(null!=z)return z}return null}_createFBO(){const l=this.painter.context,m=l.gl,w=this.drapeBufferSize;l.activeTexture.set(m.TEXTURE0);const S=new d.Texture(l,{width:w[0],height:w[1],data:null},m.RGBA);S.bind(m.LINEAR,m.CLAMP_TO_EDGE);const k=l.createFramebuffer(w[0],w[1],!1);return k.colorAttachment.set(S.texture),k.depthAttachment=new mn(l,k.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=l.createRenderbuffer(l.gl.DEPTH_STENCIL,w[0],w[1]),this._stencilRef=0,k.depthAttachment.set(this._sharedDepthStencil),l.clear({stencil:0})):k.depthAttachment.set(this._sharedDepthStencil),l.extTextureFilterAnisotropic&&!l.extTextureFilterAnisotropicForceOff&&m.texParameterf(m.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax),{fb:k,tex:S,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const l in this._style._sourceCaches)if(this._style._sourceCaches[l].hasTransition())return!0;return this._style.order.some(l=>{const m=this._style._layers[l],w=m.isHidden(this.painter.transform.zoom),S=m.getCrossfadeParameters(),k=!!S&&1!==S.t,z=m.hasTransition();return"custom"!==m.type&&!w&&(k||z)})}_clearRasterFadeFromRenderCache(){let l=!1;for(const m in this._style._sourceCaches)if(this._style._sourceCaches[m]._source instanceof xr){l=!0;break}if(l)for(let m=0;m<this._style.order.length;++m){const w=this._style._layers[this._style.order[m]],S=w.isHidden(this.painter.transform.zoom),k=this._style._getLayerSourceCache(w);if("raster"!==w.type||S||!k)continue;const z=w.paint.get("raster-fade-duration");for(const G of this.proxyCoords){const K=this.proxyToSource[G.key][k.id];if(K)for(const oe of K){const le=Hi(k.getTile(oe),k.findLoadedParent(oe,0),k,this.painter.transform,z);(1!==le.opacity||0!==le.mix)&&this._clearRenderCacheForTile(k.id,oe)}}}}_setupDrapedRenderBatches(){const l=this._style.order,m=l.length;if(0===m)return;const w=[];let S,k=0,z=this._style._layers[l[k]];for(;!this._style.isLayerDraped(z)&&z.isHidden(this.painter.transform.zoom)&&++k<m;)z=this._style._layers[l[k]];for(;k<m;++k){const G=this._style._layers[l[k]];G.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(G)?void 0===S&&(S=k):void 0!==S&&(w.push({start:S,end:k-1}),S=void 0))}void 0!==S&&w.push({start:S,end:k-1}),this._drapedRenderBatches=w}_setupRenderCache(l){const m=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,m.renderCache.length>m.renderCachePool.length){const z=Object.values(m.proxyCachedFBO);m.proxyCachedFBO={};for(let G=0;G<z.length;++G){const K=Object.values(z[G]);m.renderCachePool.push(...K)}}return}this._clearRasterFadeFromRenderCache();const w=this.proxyCoords,S=this._tilesDirty;for(let z=w.length-1;z>=0;z--){const G=w[z];if(m.getTileByID(G.key),void 0!==m.proxyCachedFBO[G.key]){const K=l[G.key],oe=this.proxyToSource[G.key];let le=0;for(const ce in oe){const Pe=oe[ce],je=K[ce];if(!je||je.length!==Pe.length||Pe.some((et,$e)=>et!==je[$e]||S[ce]&&S[ce].hasOwnProperty(et.key))){le=-1;break}++le}for(const ce in m.proxyCachedFBO[G.key])m.renderCache[m.proxyCachedFBO[G.key][ce]].dirty=le<0||le!==Object.values(K).length}}const k=[...this._drapedRenderBatches];k.sort((z,G)=>G.end-G.start-(z.end-z.start));for(const z of k)for(const G of w){if(m.proxyCachedFBO[G.key])continue;let K=m.renderCachePool.pop();void 0===K&&m.renderCache.length<50&&(K=m.renderCache.length,m.renderCache.push(this._createFBO())),void 0!==K&&(m.proxyCachedFBO[G.key]={},m.proxyCachedFBO[G.key][z.start]=K,m.renderCache[K].dirty=!0)}this._tilesDirty={}}_setupStencil(l,m,w,S){if(!S||!this._sourceTilesOverlap[S.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const k=this.painter.context,z=k.gl;if(m.length<=1)return void(this._overlapStencilType=!1);let G;if(w.isTileClipped())G=m.length,this._overlapStencilMode.test={func:z.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(m[0].overscaledZ>m[m.length-1].overscaledZ))return void(this._overlapStencilType=!1);G=1,this._overlapStencilMode.test={func:z.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+G>255&&(k.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=G,this._overlapStencilMode.ref=this._stencilRef,w.isTileClipped()&&this._renderTileClippingMasks(m,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(l){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[l.key]),this._overlapStencilMode):d.StencilMode.disabled}_renderTileClippingMasks(l,m){const w=this.painter,S=this.painter.context,k=S.gl;w._tileClippingMaskIDs={},S.setColorMode(d.ColorMode.disabled),S.setDepthMode(d.DepthMode.disabled);const z=w.useProgram("clippingMask");for(const G of l){const K=w._tileClippingMaskIDs[G.key]=--m;z.draw(S,k.TRIANGLES,d.DepthMode.disabled,new d.StencilMode({func:k.ALWAYS,mask:0},K,255,k.KEEP,k.KEEP,k.REPLACE),d.ColorMode.disabled,d.CullFaceMode.disabled,lu(G.projMatrix),"$clipping",w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}}pointCoordinate(l){const m=this.painter.transform;if(l.x<0||l.x>m.width||l.y<0||l.y>m.height)return null;const w=[l.x,l.y,1,1];d.transformMat4(w,w,m.pixelMatrixInverse),d.scale$2(w,w,1/w[3]),w[0]/=m.worldSize,w[1]/=m.worldSize;const S=m._camera.position,k=d.mercatorZfromAltitude(1,m.center.lat),z=[S[0],S[1],S[2]/k,0],G=d.subtract([],w.slice(0,3),z);d.normalize(G,G);const K=this.raycast(z,G,this._exaggeration);return null!==K&&K?(d.scaleAndAdd(z,z,G,K),z[3]=z[2],z[2]*=k,z):null}drawDepth(){const l=this.painter,m=l.context,w=this.proxySourceCache,S=Math.ceil(l.width),k=Math.ceil(l.height);if(!this._depthFBO||this._depthFBO.width===S&&this._depthFBO.height===k||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const z=m.gl,G=m.createFramebuffer(S,k,!0);m.activeTexture.set(z.TEXTURE0);const K=new d.Texture(m,{width:S,height:k,data:null},z.RGBA);K.bind(z.NEAREST,z.CLAMP_TO_EDGE),G.colorAttachment.set(K.texture);const oe=m.createRenderbuffer(m.gl.DEPTH_COMPONENT16,S,k);G.depthAttachment.set(oe),this._depthFBO=G,this._depthTexture=K}m.bindFramebuffer.set(this._depthFBO.framebuffer),m.viewport.set([0,0,S,k]),function(z,G,K,oe){const le=z.context,ce=le.gl;le.clear({depth:1});const Pe=z.useProgram("terrainDepth"),je=new d.DepthMode(ce.LESS,d.DepthMode.ReadWrite,z.depthRangeFor3D);for(const et of oe){const $e=K.getTile(et),st=Na(et.projMatrix,0);G.setupElevationDraw($e,Pe),Pe.draw(le,ce.TRIANGLES,je,d.StencilMode.disabled,d.ColorMode.unblended,d.CullFaceMode.backCCW,st,"terrain_depth",G.gridBuffer,G.gridIndexBuffer,G.gridNoSkirtSegments)}}(l,this,w,this.proxyCoords)}_setupProxiedCoordsForOrtho(l,m,w){if(l.getSource()instanceof We)return this._setupProxiedCoordsForImageSource(l,m,w);this._findCoveringTileCache[l.id]=this._findCoveringTileCache[l.id]||{};const S=this.proxiedCoords[l.id]=[],k=this.proxyCoords;for(let G=0;G<k.length;G++){const K=k[G],oe=this._findTileCoveringTileID(K,l);if(oe){const le=this._createProxiedId(K,oe,w[K.key]&&w[K.key][l.id]);S.push(le),this.proxyToSource[K.key][l.id]=[le]}}let z=!1;for(let G=0;G<m.length;G++){const K=l.getTile(m[G]);if(!K||!K.hasData())continue;const oe=this._findTileCoveringTileID(K.tileID,this.proxySourceCache);if(oe&&oe.tileID.canonical.z!==K.tileID.canonical.z){const le=this.proxyToSource[oe.tileID.key][l.id],ce=this._createProxiedId(oe.tileID,K,w[oe.tileID.key]&&w[oe.tileID.key][l.id]);le?le.splice(le.length-1,0,ce):this.proxyToSource[oe.tileID.key][l.id]=[ce],S.push(ce),z=!0}}this._sourceTilesOverlap[l.id]=z}_setupProxiedCoordsForImageSource(l,m,w){if(!l.getSource().loaded())return;const S=this.proxiedCoords[l.id]=[],k=this.proxyCoords,z=l.getSource(),G=new d.pointGeometry(z.tileID.x,z.tileID.y)._div(1<<z.tileID.z),K=z.coordinates.map(d.MercatorCoordinate.fromLngLat).reduce((le,ce)=>(le.min.x=Math.min(le.min.x,ce.x-G.x),le.min.y=Math.min(le.min.y,ce.y-G.y),le.max.x=Math.max(le.max.x,ce.x-G.x),le.max.y=Math.max(le.max.y,ce.y-G.y),le),{min:new d.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new d.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),oe=(le,ce)=>{const Pe=le.wrap+le.canonical.x/(1<<le.canonical.z),je=le.canonical.y/(1<<le.canonical.z),et=d.EXTENT/(1<<le.canonical.z),$e=ce.wrap+ce.canonical.x/(1<<ce.canonical.z),st=ce.canonical.y/(1<<ce.canonical.z);return Pe+et<$e+K.min.x||Pe>$e+K.max.x||je+et<st+K.min.y||je>st+K.max.y};for(let le=0;le<k.length;le++){const ce=k[le];for(let Pe=0;Pe<m.length;Pe++){const je=l.getTile(m[Pe]);if(!je||!je.hasData()||oe(ce,je.tileID))continue;const et=this._createProxiedId(ce,je,w[ce.key]&&w[ce.key][l.id]),$e=this.proxyToSource[ce.key][l.id];$e?$e.push(et):this.proxyToSource[ce.key][l.id]=[et],S.push(et)}}}_createProxiedId(l,m,w){let S=this.orthoMatrix;if(w){const k=w.find(z=>z.key===m.tileID.key);if(k)return k}if(m.tileID.key!==l.key){const k=l.canonical.z-m.tileID.canonical.z;let z,G,K;S=d.create$1();const oe=m.tileID.wrap-l.wrap<<l.overscaledZ;k>0?(z=d.EXTENT>>k,G=z*((m.tileID.canonical.x<<k)-l.canonical.x+oe),K=z*((m.tileID.canonical.y<<k)-l.canonical.y)):(z=d.EXTENT<<-k,G=d.EXTENT*(m.tileID.canonical.x-(l.canonical.x+oe<<-k)),K=d.EXTENT*(m.tileID.canonical.y-(l.canonical.y<<-k))),d.ortho(S,0,z,0,z,0,1),d.translate(S,S,[G,K,0])}return new Bs(m.tileID,l.key,S)}_findTileCoveringTileID(l,m){let w=m.getTile(l);if(w&&w.hasData())return w;const S=this._findCoveringTileCache[m.id],k=S[l.key];if(w=k?m.getTileByID(k):null,w&&w.hasData()||null===k)return w;let z=w?w.tileID:l,G=z.overscaledZ;const K=m.getSource().minzoom,oe=[];if(!k){const ce=m.getSource().maxzoom;if(l.canonical.z>=ce){const Pe=l.canonical.z-ce;m.getSource().reparseOverscaled?(G=Math.max(l.canonical.z+2,m.transform.tileZoom),z=new d.OverscaledTileID(G,l.wrap,ce,l.canonical.x>>Pe,l.canonical.y>>Pe)):0!==Pe&&(G=ce,z=new d.OverscaledTileID(G,l.wrap,ce,l.canonical.x>>Pe,l.canonical.y>>Pe))}z.key!==l.key&&(oe.push(z.key),w=m.getTile(z))}const le=ce=>{oe.forEach(Pe=>{S[Pe]=ce}),oe.length=0};for(G-=1;G>=K&&(!w||!w.hasData());G--){w&&le(w.tileID.key);const ce=z.calculateScaledKey(G);if(w=m.getTileByID(ce),w&&w.hasData())break;const Pe=S[ce];if(null===Pe)break;void 0===Pe?oe.push(ce):w=m.getTileByID(Pe)}return le(w?w.tileID.key:null),w&&w.hasData()?w:null}findDEMTileFor(l){return this.enabled?this._findTileCoveringTileID(l,this.sourceCache):null}prepareDrawTile(l){this.renderedToTile=!0}_clearRenderCacheForTile(l,m){let w=this._tilesDirty[l];w||(w=this._tilesDirty[l]={}),w[m.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const l=function(m){let w,S,k;const z=new d.StructArrayLayout2ui4,G=131;for(S=1;S<129;S++){for(w=1;w<129;w++)k=S*G+w,z.emplaceBack(k,k+1),z.emplaceBack(k,k+G),z.emplaceBack(k+1,k+G),128===S&&z.emplaceBack(k+G,k+G+1);z.emplaceBack(k+1,k+1+G)}return z}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(l),this.wireframeSegments=d.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,l.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function jo(M){const l=[];for(let m=0;m<M.length;m++){if(null===M[m])continue;const w=M[m].split(" ");l.push(w.pop())}return l}class la{static cacheKey(l,m,w){let S=`${l}${w?w.cacheKey:""}`;for(const k of m)S+=`/${k}`;return S}constructor(l,m,w,S,k,z){const G=l.gl;this.program=G.createProgram();const K=jo(w.staticAttributes),oe=S?S.getBinderAttributes():[],le=K.concat(oe),ce=w.staticUniforms?jo(w.staticUniforms):[],Pe=S?S.getBinderUniforms():[],je=ce.concat(Pe),et=[];for(const ft of je)et.indexOf(ft)<0&&et.push(ft);let $e=S?S.defines():[];$e=$e.concat(z.map(ft=>`#define ${ft}`));const st=$e.concat("\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",io,Nu.fragmentSource,Ki.fragmentSource,w.fragmentSource).join("\n"),Xe=$e.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",io,Nu.vertexSource,Ki.vertexSource,Tr.vertexSource,w.vertexSource).join("\n"),at=G.createShader(G.FRAGMENT_SHADER);if(G.isContextLost())return void(this.failedToCreate=!0);G.shaderSource(at,st),G.compileShader(at),G.attachShader(this.program,at);const ut=G.createShader(G.VERTEX_SHADER);if(G.isContextLost())return void(this.failedToCreate=!0);G.shaderSource(ut,Xe),G.compileShader(ut),G.attachShader(this.program,ut),this.attributes={};const Ke={};this.numAttributes=le.length;for(let ft=0;ft<this.numAttributes;ft++)le[ft]&&(G.bindAttribLocation(this.program,ft,le[ft]),this.attributes[le[ft]]=ft);G.linkProgram(this.program),G.deleteShader(ut),G.deleteShader(at);for(let ft=0;ft<et.length;ft++){const Dt=et[ft];if(Dt&&!Ke[Dt]){const Jt=G.getUniformLocation(this.program,Dt);Jt&&(Ke[Dt]=Jt)}}var ft,Dt;this.fixedUniforms=k(l,Ke),this.binderUniforms=S?S.getUniforms(l,Ke):[],-1!==z.indexOf("TERRAIN")&&(this.terrainUniforms={u_dem:new d.Uniform1i(ft=l,(Dt=Ke).u_dem),u_dem_prev:new d.Uniform1i(ft,Dt.u_dem_prev),u_dem_unpack:new d.Uniform4f(ft,Dt.u_dem_unpack),u_dem_tl:new d.Uniform2f(ft,Dt.u_dem_tl),u_dem_scale:new d.Uniform1f(ft,Dt.u_dem_scale),u_dem_tl_prev:new d.Uniform2f(ft,Dt.u_dem_tl_prev),u_dem_scale_prev:new d.Uniform1f(ft,Dt.u_dem_scale_prev),u_dem_size:new d.Uniform1f(ft,Dt.u_dem_size),u_dem_lerp:new d.Uniform1f(ft,Dt.u_dem_lerp),u_exaggeration:new d.Uniform1f(ft,Dt.u_exaggeration),u_depth:new d.Uniform1i(ft,Dt.u_depth),u_depth_size_inv:new d.Uniform2f(ft,Dt.u_depth_size_inv),u_meter_to_dem:new d.Uniform1f(ft,Dt.u_meter_to_dem),u_label_plane_matrix_inv:new d.UniformMatrix4f(ft,Dt.u_label_plane_matrix_inv),u_tile_tl_up:new d.Uniform3f(ft,Dt.u_tile_tl_up),u_tile_tr_up:new d.Uniform3f(ft,Dt.u_tile_tr_up),u_tile_br_up:new d.Uniform3f(ft,Dt.u_tile_br_up),u_tile_bl_up:new d.Uniform3f(ft,Dt.u_tile_bl_up),u_tile_up_scale:new d.Uniform1f(ft,Dt.u_tile_up_scale)}),-1!==z.indexOf("FOG")&&(this.fogUniforms=((ft,Dt)=>({u_fog_matrix:new d.UniformMatrix4f(ft,Dt.u_fog_matrix),u_fog_range:new d.Uniform2f(ft,Dt.u_fog_range),u_fog_color:new d.Uniform4f(ft,Dt.u_fog_color),u_fog_horizon_blend:new d.Uniform1f(ft,Dt.u_fog_horizon_blend),u_fog_temporal_offset:new d.Uniform1f(ft,Dt.u_fog_temporal_offset)}))(l,Ke))}setTerrainUniformValues(l,m){if(!this.terrainUniforms)return;const w=this.terrainUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const S in m)w[S].set(m[S])}}setFogUniformValues(l,m){if(!this.fogUniforms)return;const w=this.fogUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const S in m)w[S].location&&w[S].set(m[S])}}draw(l,m,w,S,k,z,G,K,oe,le,ce,Pe,je,et,$e,st){const Xe=l.gl;if(this.failedToCreate)return;l.program.set(this.program),l.setDepthMode(w),l.setStencilMode(S),l.setColorMode(k),l.setCullFace(z);for(const ut in this.fixedUniforms)this.fixedUniforms[ut].set(G[ut]);et&&et.setUniforms(l,this.binderUniforms,Pe,{zoom:je});const at={[Xe.LINES]:2,[Xe.TRIANGLES]:3,[Xe.LINE_STRIP]:1}[m];for(const ut of ce.get()){const Ke=ut.vaos||(ut.vaos={});(Ke[K]||(Ke[K]=new gl)).bind(l,this,oe,et?et.getPaintVertexBuffers():[],le,ut.vertexOffset,$e,st),Xe.drawElements(m,ut.primitiveLength*at,Xe.UNSIGNED_SHORT,ut.primitiveOffset*at*2)}}}function Hl(M,l,m){const w=1/xt(m,1,l.transform.tileZoom),S=Math.pow(2,m.tileID.overscaledZ),k=m.tileSize*Math.pow(2,l.transform.tileZoom)/S,z=k*(m.tileID.canonical.x+m.tileID.wrap*S),G=k*m.tileID.canonical.y;return{u_image:0,u_texsize:m.imageAtlasTexture.size,u_scale:[w,M.fromScale,M.toScale],u_fade:M.t,u_pixel_coord_upper:[z>>16,G>>16],u_pixel_coord_lower:[65535&z,65535&G]}}const sl=(M,l,m,w)=>{const S=l.style.light,k=S.properties.get("position"),z=[k.x,k.y,k.z],G=d.create$2();"viewport"===S.properties.get("anchor")&&(d.fromRotation(G,-l.transform.angle),d.transformMat3(z,z,G));const K=S.properties.get("color");return{u_matrix:M,u_lightpos:z,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[K.r,K.g,K.b],u_vertical_gradient:+m,u_opacity:w}},Ju=(M,l,m,w,S,k,z)=>d.extend(sl(M,l,m,w),Hl(k,l,z),{u_height_factor:-Math.pow(2,S.overscaledZ)/z.tileSize/8}),kc=M=>({u_matrix:M}),vr=(M,l,m,w)=>d.extend(kc(M),Hl(m,l,w)),yl=(M,l)=>({u_matrix:M,u_world:l}),Ws=(M,l,m,w,S)=>d.extend(vr(M,l,m,w),{u_world:S}),wa=(M,l,m,w)=>{const S=M.transform;let k;return k="map"===w.paint.get("circle-pitch-alignment")?S.calculatePixelsToTileUnitsMatrix(m):new Float32Array([S.pixelsToGLUnits[0],0,0,S.pixelsToGLUnits[1]]),{u_camera_to_center_distance:S.cameraToCenterDistance,u_matrix:M.translatePosMatrix(l.projMatrix,m,w.paint.get("circle-translate"),w.paint.get("circle-translate-anchor")),u_device_pixel_ratio:d.exported.devicePixelRatio,u_extrude_scale:k}},ua=M=>{const l=[];return"map"===M.paint.get("circle-pitch-alignment")&&l.push("PITCH_WITH_MAP"),"map"===M.paint.get("circle-pitch-scale")&&l.push("SCALE_WITH_MAP"),l},ca=(M,l,m)=>{const w=d.EXTENT/m.tileSize;return{u_matrix:M,u_camera_to_center_distance:l.cameraToCenterDistance,u_extrude_scale:[l.pixelsToGLUnits[0]/w,l.pixelsToGLUnits[1]/w]}},Kr=(M,l,m=1)=>({u_matrix:M,u_color:l,u_overlay:0,u_overlay_scale:m}),Du=(M,l,m,w)=>({u_matrix:M,u_extrude_scale:xt(l,1,m),u_intensity:w}),Hn=(M,l,m,w,S,k)=>{const z=M.transform,G=z.calculatePixelsToTileUnitsMatrix(l),K={u_matrix:Fa(M,l,m,S),u_pixels_to_tile_units:G,u_device_pixel_ratio:d.exported.devicePixelRatio,u_units_to_pixels:[1/z.pixelsToGLUnits[0],1/z.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:k,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0};if(Uo(m)){const oe=Pi(l,M.transform);K.u_texsize=l.lineAtlasTexture.size,K.u_scale=[oe,w.fromScale,w.toScale],K.u_mix=w.t}return K},Vo=(M,l,m,w,S)=>{const k=M.transform,z=Pi(l,k);return{u_matrix:Fa(M,l,m,S),u_texsize:l.imageAtlasTexture.size,u_pixels_to_tile_units:k.calculatePixelsToTileUnitsMatrix(l),u_device_pixel_ratio:d.exported.devicePixelRatio,u_image:0,u_scale:[z,w.fromScale,w.toScale],u_fade:w.t,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}};function Pi(M,l){return 1/xt(M,1,l.tileZoom)}function Fa(M,l,m,w){return M.translatePosMatrix(w||l.tileID.projMatrix,l,m.paint.get("line-translate"),m.paint.get("line-translate-anchor"))}const Wa=M=>{const l=[];return Uo(M)&&l.push("RENDER_LINE_DASH"),M.paint.get("line-gradient")&&l.push("RENDER_LINE_GRADIENT"),l};function Uo(M){const l=M.paint.get("line-dasharray").value;return l.value||"constant"!==l.kind}const ni=(M,l,m,w,S)=>{return{u_matrix:M,u_tl_parent:l,u_scale_parent:m,u_buffer_scale:1,u_fade_t:w.mix,u_opacity:w.opacity*S.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:S.paint.get("raster-brightness-min"),u_brightness_high:S.paint.get("raster-brightness-max"),u_saturation_factor:(z=S.paint.get("raster-saturation"),z>0?1-1/(1.001-z):-z),u_contrast_factor:(k=S.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:Ho(S.paint.get("raster-hue-rotate"))};var k,z};function Ho(M){M*=Math.PI/180;const l=Math.sin(M),m=Math.cos(M);return[(2*m+1)/3,(-Math.sqrt(3)*l-m+1)/3,(Math.sqrt(3)*l-m+1)/3]}const kl=(M,l,m,w,S,k,z,G,K,oe,le,ce,Pe,je)=>{const et=S.transform;return{u_is_size_zoom_constant:+("constant"===M||"source"===M),u_is_size_feature_constant:+("constant"===M||"camera"===M),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:et.cameraToCenterDistance,u_pitch:et.pitch/360*2*Math.PI,u_rotate_symbol:+m,u_aspect_ratio:et.width/et.height,u_fade_change:S.options.fadeDuration?S.symbolFadeChange:1,u_matrix:k,u_label_plane_matrix:z,u_coord_matrix:G,u_is_text:+K,u_pitch_with_map:+w,u_texsize:oe,u_tile_id:le,u_zoom_transition:ce,u_inv_rot_matrix:Pe,u_merc_center:je,u_texture:0}},ol=(M,l,m,w,S,k,z,G,K,oe,le,ce,Pe,je,et)=>{const{cameraToCenterDistance:$e,_pitch:st}=S.transform;return d.extend(kl(M,l,m,w,S,k,z,G,K,oe,ce,Pe,je,et),{u_gamma_scale:w?$e*Math.cos(S.terrain?0:st):1,u_device_pixel_ratio:d.exported.devicePixelRatio,u_is_halo:+le})},Go=(M,l,m,w,S,k,z,G,K,oe,le,ce,Pe,je)=>d.extend(ol(M,l,m,w,S,k,z,G,!0,K,!0,le,ce,Pe,je),{u_texsize_icon:oe,u_texture_icon:1}),Bi=(M,l,m)=>({u_matrix:M,u_opacity:l,u_color:m}),Td=(M,l,m,w,S,k)=>d.extend(function(z,G,K,oe){const le=K.imageManager.getPattern(z.from.toString()),ce=K.imageManager.getPattern(z.to.toString()),{width:Pe,height:je}=K.imageManager.getPixelSize(),et=Math.pow(2,oe.tileID.overscaledZ),$e=oe.tileSize*Math.pow(2,K.transform.tileZoom)/et,st=$e*(oe.tileID.canonical.x+oe.tileID.wrap*et),Xe=$e*oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:le.tl,u_pattern_br_a:le.br,u_pattern_tl_b:ce.tl,u_pattern_br_b:ce.br,u_texsize:[Pe,je],u_mix:G.t,u_pattern_size_a:le.displaySize,u_pattern_size_b:ce.displaySize,u_scale_a:G.fromScale,u_scale_b:G.toScale,u_tile_units_to_pixels:1/xt(oe,1,K.transform.tileZoom),u_pixel_coord_upper:[st>>16,Xe>>16],u_pixel_coord_lower:[65535&st,65535&Xe]}}(w,k,m,S),{u_matrix:M,u_opacity:l}),vl={fillExtrusion:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_lightpos:new d.Uniform3f(M,l.u_lightpos),u_lightintensity:new d.Uniform1f(M,l.u_lightintensity),u_lightcolor:new d.Uniform3f(M,l.u_lightcolor),u_vertical_gradient:new d.Uniform1f(M,l.u_vertical_gradient),u_opacity:new d.Uniform1f(M,l.u_opacity)}),fillExtrusionPattern:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_lightpos:new d.Uniform3f(M,l.u_lightpos),u_lightintensity:new d.Uniform1f(M,l.u_lightintensity),u_lightcolor:new d.Uniform3f(M,l.u_lightcolor),u_vertical_gradient:new d.Uniform1f(M,l.u_vertical_gradient),u_height_factor:new d.Uniform1f(M,l.u_height_factor),u_image:new d.Uniform1i(M,l.u_image),u_texsize:new d.Uniform2f(M,l.u_texsize),u_pixel_coord_upper:new d.Uniform2f(M,l.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(M,l.u_pixel_coord_lower),u_scale:new d.Uniform3f(M,l.u_scale),u_fade:new d.Uniform1f(M,l.u_fade),u_opacity:new d.Uniform1f(M,l.u_opacity)}),fill:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix)}),fillPattern:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_image:new d.Uniform1i(M,l.u_image),u_texsize:new d.Uniform2f(M,l.u_texsize),u_pixel_coord_upper:new d.Uniform2f(M,l.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(M,l.u_pixel_coord_lower),u_scale:new d.Uniform3f(M,l.u_scale),u_fade:new d.Uniform1f(M,l.u_fade)}),fillOutline:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_world:new d.Uniform2f(M,l.u_world)}),fillOutlinePattern:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_world:new d.Uniform2f(M,l.u_world),u_image:new d.Uniform1i(M,l.u_image),u_texsize:new d.Uniform2f(M,l.u_texsize),u_pixel_coord_upper:new d.Uniform2f(M,l.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(M,l.u_pixel_coord_lower),u_scale:new d.Uniform3f(M,l.u_scale),u_fade:new d.Uniform1f(M,l.u_fade)}),circle:(M,l)=>({u_camera_to_center_distance:new d.Uniform1f(M,l.u_camera_to_center_distance),u_extrude_scale:new d.UniformMatrix2f(M,l.u_extrude_scale),u_device_pixel_ratio:new d.Uniform1f(M,l.u_device_pixel_ratio),u_matrix:new d.UniformMatrix4f(M,l.u_matrix)}),collisionBox:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_camera_to_center_distance:new d.Uniform1f(M,l.u_camera_to_center_distance),u_extrude_scale:new d.Uniform2f(M,l.u_extrude_scale)}),collisionCircle:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_inv_matrix:new d.UniformMatrix4f(M,l.u_inv_matrix),u_camera_to_center_distance:new d.Uniform1f(M,l.u_camera_to_center_distance),u_viewport_size:new d.Uniform2f(M,l.u_viewport_size)}),debug:(M,l)=>({u_color:new d.UniformColor(M,l.u_color),u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_overlay:new d.Uniform1i(M,l.u_overlay),u_overlay_scale:new d.Uniform1f(M,l.u_overlay_scale)}),clippingMask:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix)}),heatmap:(M,l)=>({u_extrude_scale:new d.Uniform1f(M,l.u_extrude_scale),u_intensity:new d.Uniform1f(M,l.u_intensity),u_matrix:new d.UniformMatrix4f(M,l.u_matrix)}),heatmapTexture:(M,l)=>({u_image:new d.Uniform1i(M,l.u_image),u_color_ramp:new d.Uniform1i(M,l.u_color_ramp),u_opacity:new d.Uniform1f(M,l.u_opacity)}),hillshade:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_image:new d.Uniform1i(M,l.u_image),u_latrange:new d.Uniform2f(M,l.u_latrange),u_light:new d.Uniform2f(M,l.u_light),u_shadow:new d.UniformColor(M,l.u_shadow),u_highlight:new d.UniformColor(M,l.u_highlight),u_accent:new d.UniformColor(M,l.u_accent)}),hillshadePrepare:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_image:new d.Uniform1i(M,l.u_image),u_dimension:new d.Uniform2f(M,l.u_dimension),u_zoom:new d.Uniform1f(M,l.u_zoom),u_unpack:new d.Uniform4f(M,l.u_unpack)}),line:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_pixels_to_tile_units:new d.UniformMatrix2f(M,l.u_pixels_to_tile_units),u_device_pixel_ratio:new d.Uniform1f(M,l.u_device_pixel_ratio),u_units_to_pixels:new d.Uniform2f(M,l.u_units_to_pixels),u_dash_image:new d.Uniform1i(M,l.u_dash_image),u_gradient_image:new d.Uniform1i(M,l.u_gradient_image),u_image_height:new d.Uniform1f(M,l.u_image_height),u_texsize:new d.Uniform2f(M,l.u_texsize),u_scale:new d.Uniform3f(M,l.u_scale),u_mix:new d.Uniform1f(M,l.u_mix)}),linePattern:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_texsize:new d.Uniform2f(M,l.u_texsize),u_pixels_to_tile_units:new d.UniformMatrix2f(M,l.u_pixels_to_tile_units),u_device_pixel_ratio:new d.Uniform1f(M,l.u_device_pixel_ratio),u_image:new d.Uniform1i(M,l.u_image),u_units_to_pixels:new d.Uniform2f(M,l.u_units_to_pixels),u_scale:new d.Uniform3f(M,l.u_scale),u_fade:new d.Uniform1f(M,l.u_fade)}),raster:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_tl_parent:new d.Uniform2f(M,l.u_tl_parent),u_scale_parent:new d.Uniform1f(M,l.u_scale_parent),u_buffer_scale:new d.Uniform1f(M,l.u_buffer_scale),u_fade_t:new d.Uniform1f(M,l.u_fade_t),u_opacity:new d.Uniform1f(M,l.u_opacity),u_image0:new d.Uniform1i(M,l.u_image0),u_image1:new d.Uniform1i(M,l.u_image1),u_brightness_low:new d.Uniform1f(M,l.u_brightness_low),u_brightness_high:new d.Uniform1f(M,l.u_brightness_high),u_saturation_factor:new d.Uniform1f(M,l.u_saturation_factor),u_contrast_factor:new d.Uniform1f(M,l.u_contrast_factor),u_spin_weights:new d.Uniform3f(M,l.u_spin_weights)}),symbolIcon:(M,l)=>({u_is_size_zoom_constant:new d.Uniform1i(M,l.u_is_size_zoom_constant),u_is_size_feature_constant:new d.Uniform1i(M,l.u_is_size_feature_constant),u_size_t:new d.Uniform1f(M,l.u_size_t),u_size:new d.Uniform1f(M,l.u_size),u_camera_to_center_distance:new d.Uniform1f(M,l.u_camera_to_center_distance),u_pitch:new d.Uniform1f(M,l.u_pitch),u_rotate_symbol:new d.Uniform1i(M,l.u_rotate_symbol),u_aspect_ratio:new d.Uniform1f(M,l.u_aspect_ratio),u_fade_change:new d.Uniform1f(M,l.u_fade_change),u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_label_plane_matrix:new d.UniformMatrix4f(M,l.u_label_plane_matrix),u_coord_matrix:new d.UniformMatrix4f(M,l.u_coord_matrix),u_is_text:new d.Uniform1i(M,l.u_is_text),u_pitch_with_map:new d.Uniform1i(M,l.u_pitch_with_map),u_texsize:new d.Uniform2f(M,l.u_texsize),u_tile_id:new d.Uniform3f(M,l.u_tile_id),u_zoom_transition:new d.Uniform1f(M,l.u_zoom_transition),u_inv_rot_matrix:new d.UniformMatrix4f(M,l.u_inv_rot_matrix),u_merc_center:new d.Uniform2f(M,l.u_merc_center),u_texture:new d.Uniform1i(M,l.u_texture)}),symbolSDF:(M,l)=>({u_is_size_zoom_constant:new d.Uniform1i(M,l.u_is_size_zoom_constant),u_is_size_feature_constant:new d.Uniform1i(M,l.u_is_size_feature_constant),u_size_t:new d.Uniform1f(M,l.u_size_t),u_size:new d.Uniform1f(M,l.u_size),u_camera_to_center_distance:new d.Uniform1f(M,l.u_camera_to_center_distance),u_pitch:new d.Uniform1f(M,l.u_pitch),u_rotate_symbol:new d.Uniform1i(M,l.u_rotate_symbol),u_aspect_ratio:new d.Uniform1f(M,l.u_aspect_ratio),u_fade_change:new d.Uniform1f(M,l.u_fade_change),u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_label_plane_matrix:new d.UniformMatrix4f(M,l.u_label_plane_matrix),u_coord_matrix:new d.UniformMatrix4f(M,l.u_coord_matrix),u_is_text:new d.Uniform1i(M,l.u_is_text),u_pitch_with_map:new d.Uniform1i(M,l.u_pitch_with_map),u_texsize:new d.Uniform2f(M,l.u_texsize),u_texture:new d.Uniform1i(M,l.u_texture),u_gamma_scale:new d.Uniform1f(M,l.u_gamma_scale),u_device_pixel_ratio:new d.Uniform1f(M,l.u_device_pixel_ratio),u_tile_id:new d.Uniform3f(M,l.u_tile_id),u_zoom_transition:new d.Uniform1f(M,l.u_zoom_transition),u_inv_rot_matrix:new d.UniformMatrix4f(M,l.u_inv_rot_matrix),u_merc_center:new d.Uniform2f(M,l.u_merc_center),u_is_halo:new d.Uniform1i(M,l.u_is_halo)}),symbolTextAndIcon:(M,l)=>({u_is_size_zoom_constant:new d.Uniform1i(M,l.u_is_size_zoom_constant),u_is_size_feature_constant:new d.Uniform1i(M,l.u_is_size_feature_constant),u_size_t:new d.Uniform1f(M,l.u_size_t),u_size:new d.Uniform1f(M,l.u_size),u_camera_to_center_distance:new d.Uniform1f(M,l.u_camera_to_center_distance),u_pitch:new d.Uniform1f(M,l.u_pitch),u_rotate_symbol:new d.Uniform1i(M,l.u_rotate_symbol),u_aspect_ratio:new d.Uniform1f(M,l.u_aspect_ratio),u_fade_change:new d.Uniform1f(M,l.u_fade_change),u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_label_plane_matrix:new d.UniformMatrix4f(M,l.u_label_plane_matrix),u_coord_matrix:new d.UniformMatrix4f(M,l.u_coord_matrix),u_is_text:new d.Uniform1i(M,l.u_is_text),u_pitch_with_map:new d.Uniform1i(M,l.u_pitch_with_map),u_texsize:new d.Uniform2f(M,l.u_texsize),u_texsize_icon:new d.Uniform2f(M,l.u_texsize_icon),u_texture:new d.Uniform1i(M,l.u_texture),u_texture_icon:new d.Uniform1i(M,l.u_texture_icon),u_gamma_scale:new d.Uniform1f(M,l.u_gamma_scale),u_device_pixel_ratio:new d.Uniform1f(M,l.u_device_pixel_ratio),u_is_halo:new d.Uniform1i(M,l.u_is_halo)}),background:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_opacity:new d.Uniform1f(M,l.u_opacity),u_color:new d.UniformColor(M,l.u_color)}),backgroundPattern:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_opacity:new d.Uniform1f(M,l.u_opacity),u_image:new d.Uniform1i(M,l.u_image),u_pattern_tl_a:new d.Uniform2f(M,l.u_pattern_tl_a),u_pattern_br_a:new d.Uniform2f(M,l.u_pattern_br_a),u_pattern_tl_b:new d.Uniform2f(M,l.u_pattern_tl_b),u_pattern_br_b:new d.Uniform2f(M,l.u_pattern_br_b),u_texsize:new d.Uniform2f(M,l.u_texsize),u_mix:new d.Uniform1f(M,l.u_mix),u_pattern_size_a:new d.Uniform2f(M,l.u_pattern_size_a),u_pattern_size_b:new d.Uniform2f(M,l.u_pattern_size_b),u_scale_a:new d.Uniform1f(M,l.u_scale_a),u_scale_b:new d.Uniform1f(M,l.u_scale_b),u_pixel_coord_upper:new d.Uniform2f(M,l.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(M,l.u_pixel_coord_lower),u_tile_units_to_pixels:new d.Uniform1f(M,l.u_tile_units_to_pixels)}),terrainRaster:kr,terrainDepth:kr,skybox:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_sun_direction:new d.Uniform3f(M,l.u_sun_direction),u_cubemap:new d.Uniform1i(M,l.u_cubemap),u_opacity:new d.Uniform1f(M,l.u_opacity),u_temporal_offset:new d.Uniform1f(M,l.u_temporal_offset)}),skyboxGradient:(M,l)=>({u_matrix:new d.UniformMatrix4f(M,l.u_matrix),u_color_ramp:new d.Uniform1i(M,l.u_color_ramp),u_center_direction:new d.Uniform3f(M,l.u_center_direction),u_radius:new d.Uniform1f(M,l.u_radius),u_opacity:new d.Uniform1f(M,l.u_opacity),u_temporal_offset:new d.Uniform1f(M,l.u_temporal_offset)}),skyboxCapture:(M,l)=>({u_matrix_3f:new d.UniformMatrix3f(M,l.u_matrix_3f),u_sun_direction:new d.Uniform3f(M,l.u_sun_direction),u_sun_intensity:new d.Uniform1f(M,l.u_sun_intensity),u_color_tint_r:new d.Uniform4f(M,l.u_color_tint_r),u_color_tint_m:new d.Uniform4f(M,l.u_color_tint_m),u_luminance:new d.Uniform1f(M,l.u_luminance)})};let Rn;function Ir(M,l,m,w,S,k,z){const G=M.context,K=G.gl,oe=M.useProgram("collisionBox"),le=[];let ce=0,Pe=0;for(let ut=0;ut<w.length;ut++){const Ke=w[ut],ft=l.getTile(Ke),Dt=ft.getBucket(m);if(!Dt)continue;let Jt=Ke.projMatrix;0===S[0]&&0===S[1]||(Jt=M.translatePosMatrix(Ke.projMatrix,ft,S,k));const Zt=z?Dt.textCollisionBox:Dt.iconCollisionBox,an=Dt.collisionCircleArray;if(an.length>0){const Qt=d.create$1(),xn=Jt;d.mul$1(Qt,Dt.placementInvProjMatrix,M.transform.glCoordMatrix),d.mul$1(Qt,Qt,Dt.placementViewportMatrix),le.push({circleArray:an,circleOffset:Pe,transform:xn,invTransform:Qt}),ce+=an.length/4,Pe=ce}Zt&&(M.terrain&&M.terrain.setupElevationDraw(ft,oe),oe.draw(G,K.LINES,d.DepthMode.disabled,d.StencilMode.disabled,M.colorModeForRenderPass(),d.CullFaceMode.disabled,ca(Jt,M.transform,ft),m.id,Zt.layoutVertexBuffer,Zt.indexBuffer,Zt.segments,null,M.transform.zoom,null,Zt.collisionVertexBuffer,Zt.collisionVertexBufferExt))}if(!z||!le.length)return;const je=M.useProgram("collisionCircle"),et=new d.StructArrayLayout2f1f2i16;et.resize(4*ce),et._trim();let $e=0;for(const ut of le)for(let Ke=0;Ke<ut.circleArray.length/4;Ke++){const ft=4*Ke,Dt=ut.circleArray[ft+0],Jt=ut.circleArray[ft+1],Zt=ut.circleArray[ft+2],an=ut.circleArray[ft+3];et.emplace($e++,Dt,Jt,Zt,an,0),et.emplace($e++,Dt,Jt,Zt,an,1),et.emplace($e++,Dt,Jt,Zt,an,2),et.emplace($e++,Dt,Jt,Zt,an,3)}(!Rn||Rn.length<2*ce)&&(Rn=function(ut){const Ke=2*ut,ft=new d.StructArrayLayout3ui6;ft.resize(Ke),ft._trim();for(let Dt=0;Dt<Ke;Dt++){const Jt=6*Dt;ft.uint16[Jt+0]=4*Dt+0,ft.uint16[Jt+1]=4*Dt+1,ft.uint16[Jt+2]=4*Dt+2,ft.uint16[Jt+3]=4*Dt+2,ft.uint16[Jt+4]=4*Dt+3,ft.uint16[Jt+5]=4*Dt+0}return ft}(ce));const st=G.createIndexBuffer(Rn,!0),Xe=G.createVertexBuffer(et,d.collisionCircleLayout.members,!0);for(const ut of le){const Ke={u_matrix:ut.transform,u_inv_matrix:ut.invTransform,u_camera_to_center_distance:(at=M.transform).cameraToCenterDistance,u_viewport_size:[at.width,at.height]};je.draw(G,K.TRIANGLES,d.DepthMode.disabled,d.StencilMode.disabled,M.colorModeForRenderPass(),d.CullFaceMode.disabled,Ke,m.id,Xe,st,d.SegmentVector.simpleSegment(0,2*ut.circleOffset,ut.circleArray.length,ut.circleArray.length/2),null,M.transform.zoom,null,null,null)}var at;Xe.destroy(),st.destroy()}const mr=d.identity(new Float32Array(16));function $s(M,l,m,w,S,k){const{horizontalAlign:z,verticalAlign:G}=d.getAnchorAlignment(M),K=-(z-.5)*l,oe=-(G-.5)*m,le=d.evaluateVariableOffset(M,w);return new d.pointGeometry((K/S+le[0])*k,(oe/S+le[1])*k)}function ha(M,l,m,w,S,k,z,G,K,oe,le,ce){const Pe=M.text.placedSymbolArray,je=M.text.dynamicLayoutVertexArray,et=M.icon.dynamicLayoutVertexArray,$e={};je.clear();for(let st=0;st<Pe.length;st++){const Xe=Pe.get(st),at=M.allowVerticalPlacement&&!Xe.placedOrientation,ut=Xe.hidden||!Xe.crossTileID||at?null:w[Xe.crossTileID];if(ut){const Ke=new d.pointGeometry(Xe.tileAnchorX,Xe.tileAnchorY),ft=ce(Ke),Dt=Xi(Ke,m?G:z,ft),Jt=Jo(k.cameraToCenterDistance,Dt.signedDistanceFromCamera);let Zt=S.evaluateSizeForFeature(M.textSizeData,oe,Xe)*Jt/d.ONE_EM;m&&(Zt*=M.tilePixelRatio/K);const{width:an,height:Qt,anchor:xn,textOffset:on,textScale:kn}=ut,Vt=$s(xn,an,Qt,on,kn,Zt),In=m?Xi(Ke.add(Vt),z,ft).point:Dt.point.add(l?Vt.rotate(-k.angle):Vt),Zn=M.allowVerticalPlacement&&Xe.placedOrientation===d.WritingMode.vertical?Math.PI/2:0;for(let Rr=0;Rr<Xe.numGlyphs;Rr++)d.addDynamicAttributes(je,In,Zn);le&&Xe.associatedIconIndex>=0&&($e[Xe.associatedIconIndex]={shiftedAnchor:In,angle:Zn})}else Jr(Xe.numGlyphs,je)}if(le){et.clear();const st=M.icon.placedSymbolArray;for(let Xe=0;Xe<st.length;Xe++){const at=st.get(Xe);if(at.hidden)Jr(at.numGlyphs,et);else{const ut=$e[Xe];if(ut)for(let Ke=0;Ke<at.numGlyphs;Ke++)d.addDynamicAttributes(et,ut.shiftedAnchor,ut.angle);else Jr(at.numGlyphs,et)}}M.icon.dynamicLayoutVertexBuffer.updateData(et)}M.text.dynamicLayoutVertexBuffer.updateData(je)}function ts(M,l,m){return m.iconsInText&&l?"symbolTextAndIcon":M?"symbolSDF":"symbolIcon"}function qo(M,l,m,w,S,k,z,G,K,oe,le,ce){const Pe=M.context,je=Pe.gl,et=M.transform,$e="map"===G,st="map"===K,Xe=$e&&"point"!==m.layout.get("symbol-placement"),at=$e&&!st&&!Xe,ut=void 0!==m.layout.get("symbol-sort-key").constantOr(1);let Ke=!1;const ft=M.depthModeForSublayer(0,d.DepthMode.ReadOnly),Dt=[0,0],Jt=m.layout.get("text-variable-anchor"),Zt=[],an=[];M.terrain&&st&&an.push("PITCH_WITH_MAP_TERRAIN"),Xe&&an.push("PROJECTED_POS_ON_VIEWPORT");for(const Qt of w){const xn=l.getTile(Qt),on=xn.getBucket(m);if(!on)continue;const kn=S?on.text:on.icon;if(!kn||!kn.segments.get().length)continue;const Vt=kn.programConfigurations.get(m.id),In=S||on.sdfIcons,Zn=S?on.textSizeData:on.iconSizeData,Rr=st||0!==et.pitch,Vr=M.useProgram(ts(In,S,on),Vt,an),Hr=d.evaluateSizeForZoom(Zn,et.zoom),Nr=[Qt.canonical.x,Qt.canonical.y,1<<Qt.canonical.z];let yr,Wr,_i,ga,Ja=[0,0],_a=null;if(S){if(Wr=xn.glyphAtlasTexture,_i=je.LINEAR,yr=xn.glyphAtlasTexture.size,on.iconsInText){Ja=xn.imageAtlasTexture.size,_a=xn.imageAtlasTexture;const Va="composite"===Zn.kind||"camera"===Zn.kind;ga=Rr||M.options.rotating||M.options.zooming||Va?je.LINEAR:je.NEAREST}}else{const Va=1!==m.layout.get("icon-size").constantOr(0)||on.iconsNeedLinear;Wr=xn.imageAtlasTexture,_i=In||M.options.rotating||M.options.zooming||Va||Rr?je.LINEAR:je.NEAREST,yr=xn.imageAtlasTexture.size}const Rl=M.transform.calculatePixelsToTileUnitsMatrix(xn),Io=rr(Qt.projMatrix,st,$e,M.transform,Rl),Uu=M.terrain&&st&&Xe?d.invert(new Float32Array(16),Io):mr,pu=Fr(Qt.projMatrix,st,$e,M.transform,Rl),yo=Jt&&on.hasTextData(),Vs="none"!==m.layout.get("icon-text-fit")&&yo&&on.hasIconData();if(Xe){const Va=et.elevation;Ou(on,Qt.projMatrix,M,S,Io,pu,st,oe,Va?wl=>Va.getAtTileOffset(Qt,wl.x,wl.y):null)}const yi=M.translatePosMatrix(Qt.projMatrix,xn,k,z),vo=Xe||S&&Jt||Vs?mr:Io,ul=M.translatePosMatrix(pu,xn,k,z,!0),Us=In&&0!==m.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1);let Nl;Nl=In?on.iconsInText?Go(Zn.kind,Hr,at,st,M,yi,vo,ul,yr,Ja,Nr,0,M.identityMat,Dt):ol(Zn.kind,Hr,at,st,M,yi,vo,ul,S,yr,!0,Nr,0,M.identityMat,Dt):kl(Zn.kind,Hr,at,st,M,yi,vo,ul,S,yr,Nr,0,M.identityMat,Dt);const Gc={program:Vr,buffers:kn,uniformValues:Nl,atlasTexture:Wr,atlasTextureIcon:_a,atlasInterpolation:_i,atlasInterpolationIcon:ga,isSDF:In,hasHalo:Us,tile:xn,labelPlaneMatrixInv:Uu};if(ut&&on.canOverlap){Ke=!0;const Va=kn.segments.get();for(const wl of Va)Zt.push({segments:new d.SegmentVector([wl]),sortKey:wl.sortKey,state:Gc})}else Zt.push({segments:kn.segments,sortKey:0,state:Gc})}Ke&&Zt.sort((Qt,xn)=>Qt.sortKey-xn.sortKey);for(const Qt of Zt){const xn=Qt.state;if(M.terrain&&M.terrain.setupElevationDraw(xn.tile,xn.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:xn.labelPlaneMatrixInv}),Pe.activeTexture.set(je.TEXTURE0),xn.atlasTexture.bind(xn.atlasInterpolation,je.CLAMP_TO_EDGE),xn.atlasTextureIcon&&(Pe.activeTexture.set(je.TEXTURE1),xn.atlasTextureIcon&&xn.atlasTextureIcon.bind(xn.atlasInterpolationIcon,je.CLAMP_TO_EDGE)),xn.isSDF){const on=xn.uniformValues;xn.hasHalo&&(on.u_is_halo=1,Qi(xn.buffers,Qt.segments,m,M,xn.program,ft,le,ce,on)),on.u_is_halo=0}Qi(xn.buffers,Qt.segments,m,M,xn.program,ft,le,ce,xn.uniformValues)}}function Qi(M,l,m,w,S,k,z,G,K){const oe=w.context;S.draw(oe,oe.gl.TRIANGLES,k,z,G,d.CullFaceMode.disabled,K,m.id,M.layoutVertexBuffer,M.indexBuffer,l,m.paint,w.transform.zoom,M.programConfigurations.get(m.id),M.dynamicLayoutVertexBuffer,M.opacityVertexBuffer)}function Ls(M,l,m,w,S,k,z){const G=M.context.gl,K=m.paint.get("fill-pattern"),oe=K&&K.constantOr(1),le=m.getCrossfadeParameters();let ce,Pe,je,et,$e;z?(Pe=oe&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ce=G.LINES):(Pe=oe?"fillPattern":"fill",ce=G.TRIANGLES);for(const st of w){const Xe=l.getTile(st);if(oe&&!Xe.patternsLoaded())continue;const at=Xe.getBucket(m);if(!at)continue;M.prepareDrawTile(st);const ut=at.programConfigurations.get(m.id),Ke=M.useProgram(Pe,ut);oe&&(M.context.activeTexture.set(G.TEXTURE0),Xe.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),ut.updatePaintBuffers(le));const ft=K.constantOr(null);if(ft&&Xe.imageAtlas){const Jt=Xe.imageAtlas,Zt=Jt.patternPositions[ft.to.toString()],an=Jt.patternPositions[ft.from.toString()];Zt&&an&&ut.setConstantPatternPositions(Zt,an)}const Dt=M.translatePosMatrix(st.projMatrix,Xe,m.paint.get("fill-translate"),m.paint.get("fill-translate-anchor"));if(z){et=at.indexBuffer2,$e=at.segments2;const Jt=M.terrain&&M.terrain.renderingToTexture?M.terrain.drapeBufferSize:[G.drawingBufferWidth,G.drawingBufferHeight];je="fillOutlinePattern"===Pe&&oe?Ws(Dt,M,le,Xe,Jt):yl(Dt,Jt)}else et=at.indexBuffer,$e=at.segments,je=oe?vr(Dt,M,le,Xe):kc(Dt);M.prepareDrawProgram(M.context,Ke,st.toUnwrapped()),Ke.draw(M.context,ce,S,M.stencilModeForClipping(st),k,d.CullFaceMode.disabled,je,m.id,at.layoutVertexBuffer,et,$e,m.paint,M.transform.zoom,ut)}}function ba(M,l,m,w,S,k,z){const G=M.context,K=G.gl,oe=m.paint.get("fill-extrusion-pattern"),le=oe.constantOr(1),ce=m.getCrossfadeParameters(),Pe=m.paint.get("fill-extrusion-opacity");for(const je of w){const et=l.getTile(je),$e=et.getBucket(m);if(!$e)continue;const st=$e.programConfigurations.get(m.id),Xe=M.useProgram(le?"fillExtrusionPattern":"fillExtrusion",st);if(M.terrain){const Dt=M.terrain;if(!$e.enableTerrain)continue;if(Dt.setupElevationDraw(et,Xe,{useMeterToDem:!0}),Qr(G,l,je,$e,m,Dt),!$e.centroidVertexBuffer){const Jt=Xe.attributes.a_centroid_pos;void 0!==Jt&&K.vertexAttrib2f(Jt,0,0)}}le&&(M.context.activeTexture.set(K.TEXTURE0),et.imageAtlasTexture.bind(K.LINEAR,K.CLAMP_TO_EDGE),st.updatePaintBuffers(ce));const at=oe.constantOr(null);if(at&&et.imageAtlas){const Dt=et.imageAtlas,Jt=Dt.patternPositions[at.to.toString()],Zt=Dt.patternPositions[at.from.toString()];Jt&&Zt&&st.setConstantPatternPositions(Jt,Zt)}const ut=M.translatePosMatrix(je.projMatrix,et,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),Ke=m.paint.get("fill-extrusion-vertical-gradient"),ft=le?Ju(ut,M,Ke,Pe,je,ce,et):sl(ut,M,Ke,Pe);M.prepareDrawProgram(G,Xe,je.toUnwrapped()),Xe.draw(G,G.gl.TRIANGLES,S,k,z,d.CullFaceMode.backCCW,ft,m.id,$e.layoutVertexBuffer,$e.indexBuffer,$e.segments,m.paint,M.transform.zoom,st,M.terrain?$e.centroidVertexBuffer:null)}}function Qr(M,l,m,w,S,k){const z=[Xe=>{let at=Xe.canonical.x-1,ut=Xe.wrap;return at<0&&(at=(1<<Xe.canonical.z)-1,ut--),new d.OverscaledTileID(Xe.overscaledZ,ut,Xe.canonical.z,at,Xe.canonical.y)},Xe=>{let at=Xe.canonical.x+1,ut=Xe.wrap;return at===1<<Xe.canonical.z&&(at=0,ut++),new d.OverscaledTileID(Xe.overscaledZ,ut,Xe.canonical.z,at,Xe.canonical.y)},Xe=>new d.OverscaledTileID(Xe.overscaledZ,Xe.wrap,Xe.canonical.z,Xe.canonical.x,(0===Xe.canonical.y?1<<Xe.canonical.z:Xe.canonical.y)-1),Xe=>new d.OverscaledTileID(Xe.overscaledZ,Xe.wrap,Xe.canonical.z,Xe.canonical.x,Xe.canonical.y===(1<<Xe.canonical.z)-1?0:Xe.canonical.y+1)],G=Xe=>{const at=l.getSource().maxzoom,ut=Jt=>{const Zt=l.getTileByID(Jt);if(Zt&&Zt.hasData())return Zt.getBucket(S)};let Ke,ft,Dt;return(Xe.overscaledZ===Xe.canonical.z||Xe.overscaledZ>=at)&&(Ke=ut(Xe.key)),Xe.overscaledZ>=at&&(ft=ut(Xe.calculateScaledKey(Xe.overscaledZ+1))),Xe.overscaledZ>at&&(Dt=ut(Xe.calculateScaledKey(Xe.overscaledZ-1))),Ke||ft||Dt},K=[0,0,0],oe=(Xe,at)=>(K[0]=Math.min(Xe.min.y,at.min.y),K[1]=Math.max(Xe.max.y,at.max.y),K[2]=d.EXTENT-at.min.x>Xe.max.x?at.min.x-d.EXTENT:Xe.max.x,K),le=(Xe,at)=>(K[0]=Math.min(Xe.min.x,at.min.x),K[1]=Math.max(Xe.max.x,at.max.x),K[2]=d.EXTENT-at.min.y>Xe.max.y?at.min.y-d.EXTENT:Xe.max.y,K),ce=[(Xe,at)=>oe(Xe,at),(Xe,at)=>oe(at,Xe),(Xe,at)=>le(Xe,at),(Xe,at)=>le(at,Xe)],Pe=new d.pointGeometry(0,0);let je,et,$e;const st=(Xe,at,ut,Ke,ft)=>{const Dt=[[Ke?ut:Xe,Ke?Xe:ut,0],[Ke?ut:at,Ke?at:ut,0]],Jt=ft<0?d.EXTENT+ft:ft,Zt=[Ke?Jt:(Xe+at)/2,Ke?(Xe+at)/2:Jt,0];return 0===ut&&ft<0||0!==ut&&ft>0?k.getForTilePoints($e,[Zt],!0,et):Dt.push(Zt),k.getForTilePoints(m,Dt,!0,je),Math.max(Dt[0][2],Dt[1][2],Zt[2])/k.exaggeration()};for(let Xe=0;Xe<4;Xe++){const at=w.borders[Xe];if(0===at.length&&(w.borderDone[Xe]=!0),w.borderDone[Xe])continue;const ut=$e=z[Xe](m),Ke=G(ut);if(!(Ke&&Ke.enableTerrain&&(et=k.findDEMTileFor(ut),et&&et.dem)))continue;if(!je){const Zt=k.findDEMTileFor(m);if(!Zt||!Zt.dem)return;je=Zt}const ft=(Xe<2?1:5)-Xe,Dt=Ke.borders[ft];let Jt=0;for(let Zt=0;Zt<at.length;Zt++){const an=w.featuresOnBorder[at[Zt]],Qt=an.borders[Xe];let xn;for(;Jt<Dt.length&&(xn=Ke.featuresOnBorder[Dt[Jt]],!(xn.borders[ft][1]>Qt[0]+3));)Ke.borderDone[ft]||Ke.encodeCentroid(void 0,xn,!1),Jt++;if(xn&&Jt<Dt.length){const on=Jt;let kn=0;for(;!(xn.borders[ft][0]>Qt[1]-3)&&(kn++,++Jt!==Dt.length);)xn=Ke.featuresOnBorder[Dt[Jt]];if(xn=Ke.featuresOnBorder[Dt[on]],an.intersectsCount()>1||xn.intersectsCount()>1||1!==kn){1!==kn&&(Jt=on),w.encodeCentroid(void 0,an,!1),Ke.borderDone[ft]||Ke.encodeCentroid(void 0,xn,!1);continue}const Vt=ce[Xe](an,xn),In=Xe%2?d.EXTENT-1:0;Pe.x=st(Vt[0],Math.min(d.EXTENT-1,Vt[1]),In,Xe<2,Vt[2]),Pe.y=0,w.encodeCentroid(Pe,an,!1),Ke.borderDone[ft]||Ke.encodeCentroid(Pe,xn,!1)}else w.encodeCentroid(void 0,an,!1)}w.borderDone[Xe]=w.needsCentroidUpdate=!0,Ke.borderDone[ft]||(Ke.borderDone[ft]=Ke.needsCentroidUpdate=!0)}(w.needsCentroidUpdate||!w.centroidVertexBuffer&&0!==w.centroidVertexArray.length)&&w.uploadCentroid(M)}const Eo=new d.Color(1,0,0,1),qr=new d.Color(0,1,0,1),ta=new d.Color(0,0,1,1),Eu=new d.Color(1,0,1,1),Gi=new d.Color(0,1,1,1);function uu(M,l,m,w){da(M,0,l+m/2,M.transform.width,m,w)}function Gl(M,l,m,w){da(M,l-m/2,0,m,M.transform.height,w)}function da(M,l,m,w,S,k){const z=M.context,G=z.gl;G.enable(G.SCISSOR_TEST),G.scissor(l*d.exported.devicePixelRatio,m*d.exported.devicePixelRatio,w*d.exported.devicePixelRatio,S*d.exported.devicePixelRatio),z.clear({color:k}),G.disable(G.SCISSOR_TEST)}function ks(M,l,m){const w=M.context,S=w.gl,k=m.projMatrix,z=M.useProgram("debug"),G=l.getTileByID(m.key);M.terrain&&M.terrain.setupElevationDraw(G,z);const K=d.DepthMode.disabled,oe=d.StencilMode.disabled,le=M.colorModeForRenderPass();w.activeTexture.set(S.TEXTURE0),M.emptyTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),G._makeDebugTileBoundsBuffers(M.context,M.transform.projection);const Pe=G._tileDebugBuffer||M.debugBuffer,je=G._tileDebugIndexBuffer||M.debugIndexBuffer,et=G._tileDebugSegments||M.debugSegments;z.draw(w,S.LINE_STRIP,K,oe,le,d.CullFaceMode.disabled,Kr(k,d.Color.red),"$debug",Pe,je,et);const $e=G.latestRawTileData,st=Math.floor(($e&&$e.byteLength||0)/1024),Xe=l.getTile(m).tileSize,at=512/Math.min(Xe,512)*(m.overscaledZ/M.transform.zoom)*.5;let ut=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(ut+=` => ${m.overscaledZ}`),function(Ke,ft){Ke.initDebugOverlayCanvas();const Dt=Ke.debugOverlayCanvas,Jt=Ke.context.gl,Zt=Ke.debugOverlayCanvas.getContext("2d");Zt.clearRect(0,0,Dt.width,Dt.height),Zt.shadowColor="white",Zt.shadowBlur=2,Zt.lineWidth=1.5,Zt.strokeStyle="white",Zt.textBaseline="top",Zt.font="bold 36px Open Sans, sans-serif",Zt.fillText(ft,5,5),Zt.strokeText(ft,5,5),Ke.debugOverlayTexture.update(Dt),Ke.debugOverlayTexture.bind(Jt.LINEAR,Jt.CLAMP_TO_EDGE)}(M,`${ut} ${st}kb`),z.draw(w,S.TRIANGLES,K,oe,d.ColorMode.alphaBlended,d.CullFaceMode.disabled,Kr(k,d.Color.transparent,at),"$debug",M.debugBuffer,M.quadTriangleIndexBuffer,M.debugSegments)}const lh=d.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:cu}=lh;function Is(M,l,m,w){M.emplaceBack(l,m,w)}class Ni{constructor(l){this.vertexArray=new d.StructArrayLayout3f12,this.indices=new d.StructArrayLayout3ui6,Is(this.vertexArray,-1,-1,1),Is(this.vertexArray,1,-1,1),Is(this.vertexArray,-1,1,1),Is(this.vertexArray,1,1,1),Is(this.vertexArray,-1,-1,-1),Is(this.vertexArray,1,-1,-1),Is(this.vertexArray,-1,1,-1),Is(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=l.createVertexBuffer(this.vertexArray,cu),this.indexBuffer=l.createIndexBuffer(this.indices),this.segment=d.SegmentVector.simpleSegment(0,0,36,12)}}function al(M,l,m,w,S,k){const z=M.gl,G=l.paint.get("sky-atmosphere-color"),K=l.paint.get("sky-atmosphere-halo-color"),oe=l.paint.get("sky-atmosphere-sun-intensity"),le={u_matrix_3f:d.fromMat4([],w),u_sun_direction:S,u_sun_intensity:oe,u_color_tint_r:[(et=G).r,et.g,et.b,et.a],u_color_tint_m:[($e=K).r,$e.g,$e.b,$e.a],u_luminance:5e-5};var et,$e;z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+k,l.skyboxTexture,0),m.draw(M,z.TRIANGLES,d.DepthMode.disabled,d.StencilMode.disabled,d.ColorMode.unblended,d.CullFaceMode.frontCW,le,"skyboxCapture",l.skyboxGeometry.vertexBuffer,l.skyboxGeometry.indexBuffer,l.skyboxGeometry.segment)}const go={symbol:function(M,l,m,w,S){if("translucent"!==M.renderPass)return;const k=d.StencilMode.disabled,z=M.colorModeForRenderPass();m.layout.get("text-variable-anchor")&&function(G,K,oe,le,ce,Pe,je){const et=K.transform,$e="map"===ce,st="map"===Pe;for(const Xe of G){const at=le.getTile(Xe),ut=at.getBucket(oe);if(!ut||!ut.text||!ut.text.segments.get().length)continue;const Ke=d.evaluateSizeForZoom(ut.textSizeData,et.zoom),ft=K.transform.calculatePixelsToTileUnitsMatrix(at),Dt=rr(Xe.projMatrix,st,$e,K.transform,ft),Jt="none"!==oe.layout.get("icon-text-fit")&&ut.hasIconData();if(Ke){const Zt=Math.pow(2,et.zoom-at.tileID.overscaledZ),an=et.elevation;ha(ut,$e,st,je,d.symbolSize,et,Dt,Xe.projMatrix,Zt,Ke,Jt,an?Qt=>an.getAtTileOffset(Xe,Qt.x,Qt.y):Qt=>0)}}}(w,M,m,l,m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),S),0!==m.paint.get("icon-opacity").constantOr(1)&&qo(M,l,m,w,!1,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),m.layout.get("icon-rotation-alignment"),m.layout.get("icon-pitch-alignment"),m.layout.get("icon-keep-upright"),k,z),0!==m.paint.get("text-opacity").constantOr(1)&&qo(M,l,m,w,!0,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),m.layout.get("text-keep-upright"),k,z),l.map.showCollisionBoxes&&(Ir(M,l,m,w,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),!0),Ir(M,l,m,w,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),!1))},circle:function(M,l,m,w){if("translucent"!==M.renderPass)return;const S=m.paint.get("circle-opacity"),k=m.paint.get("circle-stroke-width"),z=m.paint.get("circle-stroke-opacity"),G=void 0!==m.layout.get("circle-sort-key").constantOr(1);if(0===S.constantOr(1)&&(0===k.constantOr(1)||0===z.constantOr(1)))return;const K=M.context,oe=K.gl,le=M.depthModeForSublayer(0,d.DepthMode.ReadOnly),ce=d.StencilMode.disabled,Pe=M.colorModeForRenderPass(),je=[];for(let et=0;et<w.length;et++){const $e=w[et],st=l.getTile($e),Xe=st.getBucket(m);if(!Xe)continue;const at=Xe.programConfigurations.get(m.id),ut=ua(m),Ke={programConfiguration:at,program:M.useProgram("circle",at,ut),layoutVertexBuffer:Xe.layoutVertexBuffer,indexBuffer:Xe.indexBuffer,uniformValues:wa(M,$e,st,m),tile:st};if(G){const ft=Xe.segments.get();for(const Dt of ft)je.push({segments:new d.SegmentVector([Dt]),sortKey:Dt.sortKey,state:Ke})}else je.push({segments:Xe.segments,sortKey:0,state:Ke})}G&&je.sort((et,$e)=>et.sortKey-$e.sortKey);for(const et of je){const{programConfiguration:$e,program:st,layoutVertexBuffer:Xe,indexBuffer:at,uniformValues:ut,tile:Ke}=et.state,ft=et.segments;M.terrain&&M.terrain.setupElevationDraw(Ke,st,{useDepthForOcclusion:!0}),M.prepareDrawProgram(K,st,Ke.tileID.toUnwrapped()),st.draw(K,oe.TRIANGLES,le,ce,Pe,d.CullFaceMode.disabled,ut,m.id,Xe,at,ft,m.paint,M.transform.zoom,$e)}},heatmap:function(M,l,m,w){if(0!==m.paint.get("heatmap-opacity"))if("offscreen"===M.renderPass){const S=M.context,k=S.gl,z=d.StencilMode.disabled,G=new d.ColorMode([k.ONE,k.ONE],d.Color.transparent,[!0,!0,!0,!0]);(function(K,oe,le){const ce=K.gl;K.activeTexture.set(ce.TEXTURE1),K.viewport.set([0,0,oe.width/4,oe.height/4]);let Pe=le.heatmapFbo;if(Pe)ce.bindTexture(ce.TEXTURE_2D,Pe.colorAttachment.get()),K.bindFramebuffer.set(Pe.framebuffer);else{const je=ce.createTexture();ce.bindTexture(ce.TEXTURE_2D,je),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,ce.LINEAR),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,ce.LINEAR),Pe=le.heatmapFbo=K.createFramebuffer(oe.width/4,oe.height/4,!1),function(et,$e,st,Xe){const at=et.gl;at.texImage2D(at.TEXTURE_2D,0,at.RGBA,$e.width/4,$e.height/4,0,at.RGBA,et.extRenderToTextureHalfFloat?et.extTextureHalfFloat.HALF_FLOAT_OES:at.UNSIGNED_BYTE,null),Xe.colorAttachment.set(st)}(K,oe,je,Pe)}})(S,M,m),S.clear({color:d.Color.transparent});for(let K=0;K<w.length;K++){const oe=w[K];if(l.hasRenderableParent(oe))continue;const le=l.getTile(oe),ce=le.getBucket(m);if(!ce)continue;const Pe=ce.programConfigurations.get(m.id),je=M.useProgram("heatmap",Pe),{zoom:et}=M.transform;M.terrain&&M.terrain.setupElevationDraw(le,je),M.prepareDrawProgram(S,je,oe.toUnwrapped()),je.draw(S,k.TRIANGLES,d.DepthMode.disabled,z,G,d.CullFaceMode.disabled,Du(oe.projMatrix,le,et,m.paint.get("heatmap-intensity")),m.id,ce.layoutVertexBuffer,ce.indexBuffer,ce.segments,m.paint,M.transform.zoom,Pe)}S.viewport.set([0,0,M.width,M.height])}else"translucent"===M.renderPass&&(M.context.setColorMode(M.colorModeForRenderPass()),function(S,k){const z=S.context,G=z.gl,K=k.heatmapFbo;if(!K)return;z.activeTexture.set(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,K.colorAttachment.get()),z.activeTexture.set(G.TEXTURE1);let oe=k.colorRampTexture;oe||(oe=k.colorRampTexture=new d.Texture(z,k.colorRamp,G.RGBA)),oe.bind(G.LINEAR,G.CLAMP_TO_EDGE),S.useProgram("heatmapTexture").draw(z,G.TRIANGLES,d.DepthMode.disabled,d.StencilMode.disabled,S.colorModeForRenderPass(),d.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:k.paint.get("heatmap-opacity")},k.id,S.viewportBuffer,S.quadTriangleIndexBuffer,S.viewportSegments,k.paint,S.transform.zoom)}(M,m))},line:function(M,l,m,w){if("translucent"!==M.renderPass)return;const S=m.paint.get("line-opacity"),k=m.paint.get("line-width");if(0===S.constantOr(1)||0===k.constantOr(1))return;const z=M.depthModeForSublayer(0,d.DepthMode.ReadOnly),G=M.colorModeForRenderPass(),K=m.paint.get("line-dasharray"),oe=K.constantOr(1),le=m.layout.get("line-cap"),ce=m.paint.get("line-pattern"),Pe=ce.constantOr(1),je=m.paint.get("line-gradient"),et=m.getCrossfadeParameters(),$e=Pe?"linePattern":"line",st=M.context,Xe=st.gl;for(const at of w){const ut=l.getTile(at);if(Pe&&!ut.patternsLoaded())continue;const Ke=ut.getBucket(m);if(!Ke)continue;M.prepareDrawTile(at);const ft=Ke.programConfigurations.get(m.id),Dt=Wa(m),Jt=M.useProgram($e,ft,Dt),Zt=ce.constantOr(null);if(Zt&&ut.imageAtlas){const kn=ut.imageAtlas,Vt=kn.patternPositions[Zt.to.toString()],In=kn.patternPositions[Zt.from.toString()];Vt&&In&&ft.setConstantPatternPositions(Vt,In)}const an=K.constantOr(null),Qt=le.constantOr(null);if(!Pe&&an&&Qt&&ut.lineAtlas){const kn=ut.lineAtlas,Vt=kn.getDash(an.to,Qt),In=kn.getDash(an.from,Qt);Vt&&In&&ft.setConstantPatternPositions(Vt,In)}const xn=M.terrain?at.projMatrix:null,on=Pe?Vo(M,ut,m,et,xn):Hn(M,ut,m,et,xn,Ke.lineClipsArray.length);if(je){const kn=Ke.gradients[m.id];let Vt=kn.texture;if(m.gradientVersion!==kn.version){let In=256;if(m.stepInterpolant){const Zn=l.getSource().maxzoom,Rr=at.canonical.z===Zn?Math.ceil(1<<M.transform.maxZoom-at.canonical.z):1;In=d.clamp(d.nextPowerOfTwo(Ke.maxLineLength/d.EXTENT*1024*Rr),256,st.maxTextureSize)}kn.gradient=d.renderColorRamp({expression:m.gradientExpression(),evaluationKey:"lineProgress",resolution:In,image:kn.gradient||void 0,clips:Ke.lineClipsArray}),kn.texture?kn.texture.update(kn.gradient):kn.texture=new d.Texture(st,kn.gradient,Xe.RGBA),kn.version=m.gradientVersion,Vt=kn.texture}st.activeTexture.set(Xe.TEXTURE1),Vt.bind(m.stepInterpolant?Xe.NEAREST:Xe.LINEAR,Xe.CLAMP_TO_EDGE)}oe&&(st.activeTexture.set(Xe.TEXTURE0),ut.lineAtlasTexture.bind(Xe.LINEAR,Xe.REPEAT),ft.updatePaintBuffers(et)),Pe&&(st.activeTexture.set(Xe.TEXTURE0),ut.imageAtlasTexture.bind(Xe.LINEAR,Xe.CLAMP_TO_EDGE),ft.updatePaintBuffers(et)),M.prepareDrawProgram(st,Jt,at.toUnwrapped()),Jt.draw(st,Xe.TRIANGLES,z,M.stencilModeForClipping(at),G,d.CullFaceMode.disabled,on,m.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,m.paint,M.transform.zoom,ft,Ke.layoutVertexBuffer2)}},fill:function(M,l,m,w){const S=m.paint.get("fill-color"),k=m.paint.get("fill-opacity");if(0===k.constantOr(1))return;const z=M.colorModeForRenderPass(),G=m.paint.get("fill-pattern"),K=M.opaquePassEnabledForLayer()&&!G.constantOr(1)&&1===S.constantOr(d.Color.transparent).a&&1===k.constantOr(0)?"opaque":"translucent";if(M.renderPass===K){const oe=M.depthModeForSublayer(1,"opaque"===M.renderPass?d.DepthMode.ReadWrite:d.DepthMode.ReadOnly);Ls(M,l,m,w,oe,z,!1)}if("translucent"===M.renderPass&&m.paint.get("fill-antialias")){const oe=M.depthModeForSublayer(m.getPaintProperty("fill-outline-color")?2:0,d.DepthMode.ReadOnly);Ls(M,l,m,w,oe,z,!0)}},"fill-extrusion":function(M,l,m,w){const S=m.paint.get("fill-extrusion-opacity");if(0!==S&&"translucent"===M.renderPass){const k=new d.DepthMode(M.context.gl.LEQUAL,d.DepthMode.ReadWrite,M.depthRangeFor3D);if(1!==S||m.paint.get("fill-extrusion-pattern").constantOr(1))ba(M,l,m,w,k,d.StencilMode.disabled,d.ColorMode.disabled),ba(M,l,m,w,k,M.stencilModeFor3D(),M.colorModeForRenderPass());else{const z=M.colorModeForRenderPass();ba(M,l,m,w,k,d.StencilMode.disabled,z)}}},hillshade:function(M,l,m,w){if("offscreen"!==M.renderPass&&"translucent"!==M.renderPass)return;const S=M.context,k=M.depthModeForSublayer(0,d.DepthMode.ReadOnly),z=M.colorModeForRenderPass(),G=M.terrain&&M.terrain.renderingToTexture,[K,oe]="translucent"!==M.renderPass||G?[{},w]:M.stencilConfigForOverlap(w);for(const le of oe){const ce=l.getTile(le);if(ce.needsHillshadePrepare&&"offscreen"===M.renderPass)Ti(M,ce,m,k,d.StencilMode.disabled,z);else if("translucent"===M.renderPass){const Pe=G&&M.terrain?M.terrain.stencilModeForRTTOverlap(le):K[le.overscaledZ];fc(M,le,ce,m,k,Pe,z)}}S.viewport.set([0,0,M.width,M.height])},raster:function(M,l,m,w,S,k){if("translucent"!==M.renderPass||0===m.paint.get("raster-opacity")||!w.length)return;const z=M.context,G=z.gl,K=l.getSource(),oe=M.useProgram("raster"),le=M.colorModeForRenderPass(),ce=M.terrain&&M.terrain.renderingToTexture,[Pe,je]=K instanceof We||ce?[{},w]:M.stencilConfigForOverlap(w),et=je[je.length-1].overscaledZ,$e=!M.options.moving;for(const st of je){const Xe=ce?d.DepthMode.disabled:M.depthModeForSublayer(st.overscaledZ-et,1===m.paint.get("raster-opacity")?d.DepthMode.ReadWrite:d.DepthMode.ReadOnly,G.LESS),at=st.toUnwrapped(),ut=l.getTile(st);if(ce&&(!ut||!ut.hasData()))continue;const Ke=ce?st.projMatrix:M.transform.calculateProjMatrix(at,$e),ft=M.terrain&&ce?M.terrain.stencilModeForRTTOverlap(st):Pe[st.overscaledZ],Dt=k?0:m.paint.get("raster-fade-duration");ut.registerFadeDuration(Dt);const Jt=l.findLoadedParent(st,0),Zt=Hi(ut,Jt,l,M.transform,Dt);let an,Qt;M.terrain&&M.terrain.prepareDrawTile(st);const xn="nearest"===m.paint.get("raster-resampling")?G.NEAREST:G.LINEAR;z.activeTexture.set(G.TEXTURE0),ut.texture.bind(xn,G.CLAMP_TO_EDGE),z.activeTexture.set(G.TEXTURE1),Jt?(Jt.texture.bind(xn,G.CLAMP_TO_EDGE),an=Math.pow(2,Jt.tileID.overscaledZ-ut.tileID.overscaledZ),Qt=[ut.tileID.canonical.x*an%1,ut.tileID.canonical.y*an%1]):ut.texture.bind(xn,G.CLAMP_TO_EDGE);const on=ni(Ke,Qt||[0,0],an||1,Zt,m);if(M.prepareDrawProgram(z,oe,at),K instanceof We)oe.draw(z,G.TRIANGLES,Xe,d.StencilMode.disabled,le,d.CullFaceMode.disabled,on,m.id,K.boundsBuffer,M.quadTriangleIndexBuffer,K.boundsSegments);else{const{tileBoundsBuffer:kn,tileBoundsIndexBuffer:Vt,tileBoundsSegments:In}=M.getTileBoundsBuffers(ut);oe.draw(z,G.TRIANGLES,Xe,ft,le,d.CullFaceMode.disabled,on,m.id,kn,Vt,In)}}},background:function(M,l,m,w){const S=m.paint.get("background-color"),k=m.paint.get("background-opacity");if(0===k)return;const z=M.context,G=z.gl,K=M.transform,oe=K.tileSize,le=m.paint.get("background-pattern");if(M.isPatternMissing(le))return;const ce=!le&&1===S.a&&1===k&&M.opaquePassEnabledForLayer()?"opaque":"translucent";if(M.renderPass!==ce)return;const Pe=d.StencilMode.disabled,je=M.depthModeForSublayer(0,"opaque"===ce?d.DepthMode.ReadWrite:d.DepthMode.ReadOnly),et=M.colorModeForRenderPass(),$e=M.useProgram(le?"backgroundPattern":"background");let st,Xe=w;Xe||(st=M.getBackgroundTiles(),Xe=Object.values(st).map(ut=>ut.tileID)),le&&(z.activeTexture.set(G.TEXTURE0),M.imageManager.bind(M.context));const at=m.getCrossfadeParameters();for(const ut of Xe){const Ke=ut.toUnwrapped(),ft=w?ut.projMatrix:M.transform.calculateProjMatrix(Ke);M.prepareDrawTile(ut);const Dt=l?l.getTile(ut):st?st[ut.key]:new d.Tile(ut,oe,K.zoom,M),Jt=le?Td(ft,k,M,le,{tileID:ut,tileSize:oe},at):Bi(ft,k,S);M.prepareDrawProgram(z,$e,Ke);const{tileBoundsBuffer:Zt,tileBoundsIndexBuffer:an,tileBoundsSegments:Qt}=M.getTileBoundsBuffers(Dt);$e.draw(z,G.TRIANGLES,je,Pe,et,d.CullFaceMode.disabled,Jt,m.id,Zt,an,Qt)}},sky:function(M,l,m){const w=M.transform,S="mercator"===w.projection.name?1:d.smoothstep(7,8,w.zoom),k=m.paint.get("sky-opacity")*S;if(0===k)return;const z=M.context,G=m.paint.get("sky-type"),K=new d.DepthMode(z.gl.LEQUAL,d.DepthMode.ReadOnly,[0,1]),oe=M.frameCounter/1e3%1;"atmosphere"===G?"offscreen"===M.renderPass?m.needsSkyboxCapture(M)&&(function(le,ce,Pe,je){const et=le.context,$e=et.gl;let st=ce.skyboxFbo;if(!st){st=ce.skyboxFbo=et.createFramebuffer(32,32,!1),ce.skyboxGeometry=new Ni(et),ce.skyboxTexture=et.gl.createTexture(),$e.bindTexture($e.TEXTURE_CUBE_MAP,ce.skyboxTexture),$e.texParameteri($e.TEXTURE_CUBE_MAP,$e.TEXTURE_WRAP_S,$e.CLAMP_TO_EDGE),$e.texParameteri($e.TEXTURE_CUBE_MAP,$e.TEXTURE_WRAP_T,$e.CLAMP_TO_EDGE),$e.texParameteri($e.TEXTURE_CUBE_MAP,$e.TEXTURE_MIN_FILTER,$e.LINEAR),$e.texParameteri($e.TEXTURE_CUBE_MAP,$e.TEXTURE_MAG_FILTER,$e.LINEAR);for(let Ke=0;Ke<6;++Ke)$e.texImage2D($e.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,$e.RGBA,32,32,0,$e.RGBA,$e.UNSIGNED_BYTE,null)}et.bindFramebuffer.set(st.framebuffer),et.viewport.set([0,0,32,32]);const Xe=ce.getCenter(le,!0),at=le.useProgram("skyboxCapture"),ut=new Float64Array(16);d.identity(ut),d.rotateY(ut,ut,.5*-Math.PI),al(et,ce,at,ut,Xe,0),d.identity(ut),d.rotateY(ut,ut,.5*Math.PI),al(et,ce,at,ut,Xe,1),d.identity(ut),d.rotateX(ut,ut,.5*-Math.PI),al(et,ce,at,ut,Xe,2),d.identity(ut),d.rotateX(ut,ut,.5*Math.PI),al(et,ce,at,ut,Xe,3),d.identity(ut),al(et,ce,at,ut,Xe,4),d.identity(ut),d.rotateY(ut,ut,Math.PI),al(et,ce,at,ut,Xe,5),et.viewport.set([0,0,le.width,le.height])}(M,m),m.markSkyboxValid(M)):"sky"===M.renderPass&&function(le,ce,Pe,je,et){const $e=le.context,st=$e.gl,Xe=le.transform,at=le.useProgram("skybox");$e.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_CUBE_MAP,ce.skyboxTexture);const ut={u_matrix:Xe.skyboxMatrix,u_sun_direction:ce.getCenter(le,!1),u_cubemap:0,u_opacity:je,u_temporal_offset:et};le.prepareDrawProgram($e,at),at.draw($e,st.TRIANGLES,Pe,d.StencilMode.disabled,le.colorModeForRenderPass(),d.CullFaceMode.backCW,ut,"skybox",ce.skyboxGeometry.vertexBuffer,ce.skyboxGeometry.indexBuffer,ce.skyboxGeometry.segment)}(M,m,K,k,oe):"gradient"===G&&"sky"===M.renderPass&&function(le,ce,Pe,je,et){const $e=le.context,st=$e.gl,Xe=le.transform,at=le.useProgram("skyboxGradient");ce.skyboxGeometry||(ce.skyboxGeometry=new Ni($e)),$e.activeTexture.set(st.TEXTURE0);let ut=ce.colorRampTexture;ut||(ut=ce.colorRampTexture=new d.Texture($e,ce.colorRamp,st.RGBA)),ut.bind(st.LINEAR,st.CLAMP_TO_EDGE);const Ke=(ft=Xe.skyboxMatrix,Dt=ce.getCenter(le,!1),Jt=ce.paint.get("sky-gradient-radius"),Zt=je,an=et,{u_matrix:ft,u_color_ramp:0,u_center_direction:Dt,u_radius:d.degToRad(Jt),u_opacity:Zt,u_temporal_offset:an});var ft,Dt,Jt,Zt,an;le.prepareDrawProgram($e,at),at.draw($e,st.TRIANGLES,Pe,d.StencilMode.disabled,le.colorModeForRenderPass(),d.CullFaceMode.backCW,Ke,"skyboxGradient",ce.skyboxGeometry.vertexBuffer,ce.skyboxGeometry.indexBuffer,ce.skyboxGeometry.segment)}(M,m,K,k,oe)},debug:function(M,l,m){for(let w=0;w<m.length;w++)ks(M,l,m[w])},custom:function(M,l,m){const w=M.context,S=m.implementation;if("mercator"===M.transform.projection.name){if("offscreen"===M.renderPass){const k=S.prerender;k&&(M.setCustomLayerDefaults(),w.setColorMode(M.colorModeForRenderPass()),k.call(S,w.gl,M.transform.customLayerMatrix()),w.setDirty(),M.setBaseState())}else if("translucent"===M.renderPass){M.setCustomLayerDefaults(),w.setColorMode(M.colorModeForRenderPass()),w.setStencilMode(d.StencilMode.disabled);const k="3d"===S.renderingMode?new d.DepthMode(M.context.gl.LEQUAL,d.DepthMode.ReadWrite,M.depthRangeFor3D):M.depthModeForSublayer(0,d.DepthMode.ReadOnly);w.setDepthMode(k),S.render(w.gl,M.transform.customLayerMatrix()),w.setDirty(),M.setBaseState(),w.bindFramebuffer.set(null)}}else d.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.")}};class ll{constructor(l,m){this.context=new oa(l),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=d.SourceCache.maxUnderzooming+d.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new mo,this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(l,m){const w=!!l&&!!l.terrain&&"mercator"===this.transform.projection.name;if(!(w||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new xa(this,l));const S=this._terrain;this.transform.elevation=w?S:null,S.update(l,this.transform,m)}_updateFog(l){const m=l.fog;if(!m||m.getOpacity(this.transform.pitch)<1||m.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[w,S]=m.getFovAdjustedRange(this.transform._fov);if(w>S)return void(this.transform.fogCullDistSq=null);const k=w+.78*(S-w);this.transform.fogCullDistSq=k*k}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(l,m){if(this.width=l*d.exported.devicePixelRatio,this.height=m*d.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style.order)this.style._layers[w].resize()}setup(){const l=this.context,m=new d.StructArrayLayout2i4;m.emplaceBack(0,0),m.emplaceBack(d.EXTENT,0),m.emplaceBack(0,d.EXTENT),m.emplaceBack(d.EXTENT,d.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(m,d.posAttributes.members),this.tileExtentSegments=d.SegmentVector.simpleSegment(0,0,4,2);const w=new d.StructArrayLayout2i4;w.emplaceBack(0,0),w.emplaceBack(d.EXTENT,0),w.emplaceBack(0,d.EXTENT),w.emplaceBack(d.EXTENT,d.EXTENT),this.debugBuffer=l.createVertexBuffer(w,d.posAttributes.members),this.debugSegments=d.SegmentVector.simpleSegment(0,0,4,5);const S=new d.StructArrayLayout2i4;S.emplaceBack(-1,-1),S.emplaceBack(1,-1),S.emplaceBack(-1,1),S.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(S,d.posAttributes.members),this.viewportSegments=d.SegmentVector.simpleSegment(0,0,4,2);const k=new d.StructArrayLayout4i8;k.emplaceBack(0,0,0,0),k.emplaceBack(d.EXTENT,0,d.EXTENT,0),k.emplaceBack(0,d.EXTENT,0,d.EXTENT),k.emplaceBack(d.EXTENT,d.EXTENT,d.EXTENT,d.EXTENT),this.mercatorBoundsBuffer=l.createVertexBuffer(k,d.boundsAttributes.members),this.mercatorBoundsSegments=d.SegmentVector.simpleSegment(0,0,4,2);const z=new d.StructArrayLayout3ui6;z.emplaceBack(0,1,2),z.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(z);const G=new d.StructArrayLayout1ui2;for(const oe of[0,1,3,2,0])G.emplaceBack(oe);this.debugIndexBuffer=l.createIndexBuffer(G),this.emptyTexture=new d.Texture(l,{width:1,height:1,data:new Uint8Array([0,0,0,0])},l.gl.RGBA),this.identityMat=d.create$1();const K=this.context.gl;this.stencilClearMode=new d.StencilMode({func:K.ALWAYS,mask:0},0,255,K.ZERO,K.ZERO,K.ZERO),this.loadTimeStamps.push(d.window.performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(l){return l._makeTileBoundsBuffers(this.context,this.transform.projection),l._tileBoundsBuffer?{tileBoundsBuffer:l._tileBoundsBuffer,tileBoundsIndexBuffer:l._tileBoundsIndexBuffer,tileBoundsSegments:l._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const l=this.context,m=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(l,m.TRIANGLES,d.DepthMode.disabled,this.stencilClearMode,d.ColorMode.disabled,d.CullFaceMode.disabled,lu(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,m,w){if(!(m&&this.currentStencilSource!==m.id&&l.isTileClipped()&&w&&w.length))return;this.currentStencilSource=m.id;const S=this.context,k=S.gl;this.nextStencilID+w.length>256&&this.clearStencil(),S.setColorMode(d.ColorMode.disabled),S.setDepthMode(d.DepthMode.disabled);const z=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const G of w){const K=m.getTile(G),oe=this._tileClippingMaskIDs[G.key]=this.nextStencilID++,{tileBoundsBuffer:le,tileBoundsIndexBuffer:ce,tileBoundsSegments:Pe}=this.getTileBoundsBuffers(K);z.draw(S,k.TRIANGLES,d.DepthMode.disabled,new d.StencilMode({func:k.ALWAYS,mask:0},oe,255,k.KEEP,k.KEEP,k.REPLACE),d.ColorMode.disabled,d.CullFaceMode.disabled,lu(G.projMatrix),"$clipping",le,ce,Pe)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,m=this.context.gl;return new d.StencilMode({func:m.NOTEQUAL,mask:255},l,255,m.KEEP,m.KEEP,m.REPLACE)}stencilModeForClipping(l){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(l);const m=this.context.gl;return new d.StencilMode({func:m.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,m.KEEP,m.KEEP,m.REPLACE)}stencilConfigForOverlap(l){const m=this.context.gl,w=l.sort((z,G)=>G.overscaledZ-z.overscaledZ),S=w[w.length-1].overscaledZ,k=w[0].overscaledZ-S+1;if(k>1){this.currentStencilSource=void 0,this.nextStencilID+k>256&&this.clearStencil();const z={};for(let G=0;G<k;G++)z[G+S]=new d.StencilMode({func:m.GEQUAL,mask:255},G+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=k,[z,w]}return[{[S]:d.StencilMode.disabled},w]}colorModeForRenderPass(){const l=this.context.gl;if(this._showOverdrawInspector){const m=1/8;return new d.ColorMode([l.CONSTANT_COLOR,l.ONE],new d.Color(m,m,m,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?d.ColorMode.unblended:d.ColorMode.alphaBlended}depthModeForSublayer(l,m,w){if(!this.opaquePassEnabledForLayer())return d.DepthMode.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new d.DepthMode(w||this.context.gl.LEQUAL,m,[S,S])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,m){this.style=l,this.options=m,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(d.exported.now()),this.imageManager.beginFrame();const w=this.style.order,S=this.style._sourceCaches;for(const oe in S){const le=S[oe];le.used&&le.prepare(this.context)}const k={},z={},G={};for(const oe in S){const le=S[oe];k[oe]=le.getVisibleCoordinates(),z[oe]=k[oe].slice().reverse(),G[oe]=le.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let oe=0;oe<w.length;oe++)if(this.style._layers[w[oe]].is3D()){this.opaquePassCutoff=oe;break}if(this.terrain&&(this.terrain.updateTileBinding(G),this.opaquePassCutoff=0),!d.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const oe of w){const le=this.style._layers[oe],ce=l._getLayerSourceCache(le);if(!le.hasOffscreenPass()||le.isHidden(this.transform.zoom))continue;const Pe=ce?z[ce.id]:void 0;("custom"===le.type||le.isSky()||Pe&&Pe.length)&&this.renderLayer(this,ce,le,Pe)}this.depthRangeFor3D=[0,1-(l.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let K=d.Color.transparent;if(this.style.fog&&this.style.fog.getOpacity(this.transform.pitch)&&(K=this.style.fog.properties.get("color")),this.context.clear({color:m.showOverdrawInspector?d.Color.black:K,depth:1}),this.clearStencil(),this._showOverdrawInspector=m.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=w.length-1;this.currentLayer>=0;this.currentLayer--){const oe=this.style._layers[w[this.currentLayer]],le=l._getLayerSourceCache(oe);if(oe.isSky())continue;const ce=le?z[le.id]:void 0;this._renderTileClippingMasks(oe,le,ce),this.renderLayer(this,le,oe,ce)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<w.length;this.currentLayer++){const oe=this.style._layers[w[this.currentLayer]],le=l._getLayerSourceCache(oe);oe.isSky()&&this.renderLayer(this,le,oe,le?z[le.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<w.length;){const oe=this.style._layers[w[this.currentLayer]],le=l._getLayerSourceCache(oe);if(oe.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(oe)){if(oe.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ce=le?("symbol"===oe.type?G:z)[le.id]:void 0;this._renderTileClippingMasks(oe,le,le?k[le.id]:void 0),this.renderLayer(this,le,oe,ce),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let oe=null;d.values(this.style._layers).forEach(le=>{const ce=l._getLayerSourceCache(le);ce&&!le.isHidden(this.transform.zoom)&&(!oe||oe.getSource().maxzoom<ce.getSource().maxzoom)&&(oe=ce)}),oe&&this.options.showTileBoundaries&&go.debug(this,oe,oe.getVisibleCoordinates())}this.options.showPadding&&function(oe){const le=oe.transform.padding;uu(oe,oe.transform.height-(le.top||0),3,Eo),uu(oe,le.bottom||0,3,qr),Gl(oe,le.left||0,3,ta),Gl(oe,oe.transform.width-(le.right||0),3,Eu);const ce=oe.transform.centerPoint;var Pe,je,et,$e;da(Pe=oe,(je=ce.x)-1,(et=oe.transform.height-ce.y)-10,2,20,$e=Gi),da(Pe,je-10,et-1,20,2,$e)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%d.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(d.window.performance.now()),this.saveCanvasCopy())}renderLayer(l,m,w,S){w.isHidden(this.transform.zoom)||("background"===w.type||"sky"===w.type||"custom"===w.type||S&&S.length)&&(this.id=w.id,this.gpuTimingStart(w),go[w.type](l,m,w,S,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery;let w=this.gpuTimers[l.id];w||(w=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:m.createQueryEXT()}),w.calls++,m.beginQueryEXT(m.TIME_ELAPSED_EXT,w.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}queryGpuTimers(l){const m={};for(const w in l){const S=l[w],k=this.context.extTimerQuery,z=k.getQueryObjectEXT(S.query,k.QUERY_RESULT_EXT)/1e6;k.deleteQueryEXT(S.query),m[w]=z}return m}translatePosMatrix(l,m,w,S,k){if(!w[0]&&!w[1])return l;const z=k?"map"===S?this.transform.angle:0:"viewport"===S?-this.transform.angle:0;if(z){const oe=Math.sin(z),le=Math.cos(z);w=[w[0]*le-w[1]*oe,w[0]*oe+w[1]*le]}const G=[k?w[0]:xt(m,w[0],this.transform.zoom),k?w[1]:xt(m,w[1],this.transform.zoom),0],K=new Float32Array(16);return d.translate(K,l,G),K}saveTileTexture(l){const m=this._tileTextures[l.size[0]];m?m.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const m=this._tileTextures[l];return m&&m.length>0?m.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const m=this.imageManager.getPattern(l.from.toString()),w=this.imageManager.getPattern(l.to.toString());return!m||!w}currentGlobalDefines(){const l=this.terrain&&this.terrain.renderingToTexture,m=this.style&&this.style.fog,w=[];return this.terrain&&!this.terrain.renderingToTexture&&w.push("TERRAIN"),m&&!l&&0!==m.getOpacity(this.transform.pitch)&&w.push("FOG"),l&&w.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&w.push("OVERDRAW_INSPECTOR"),w}useProgram(l,m,w){this.cache=this.cache||{};const S=w||[],k=this.currentGlobalDefines().concat(S),z=la.cacheKey(l,k,m);return this.cache[z]||(this.cache[z]=new la(this.context,l,zs[l],m,vl[l],k)),this.cache[z]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=d.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new d.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(l){this.terrain&&this.terrain.prepareDrawTile(l)}prepareDrawProgram(l,m,w){if(this.terrain&&this.terrain.renderingToTexture)return;const S=this.style.fog;if(S){const k=S.getOpacity(this.transform.pitch);0!==k&&m.setFogUniformValues(l,((z,G,K,oe)=>{const le=G.properties.get("color"),ce=z.frameCounter/1e3%1,Pe=[le.r/le.a,le.g/le.a,le.b/le.a,oe];return{u_fog_matrix:K?z.transform.calculateFogTileMatrix(K):z.identityMat,u_fog_range:G.getFovAdjustedRange(z.transform._fov),u_fog_color:Pe,u_fog_horizon_blend:G.properties.get("horizon-blend"),u_fog_temporal_offset:ce}})(this,S,w,k))}}setTileLoadedFlag(l){this.tileLoaded=l}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const l=this.context.gl,m=l.createTexture();return l.bindTexture(l.TEXTURE_2D,m),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,l.drawingBufferWidth,l.drawingBufferHeight,0),m}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const l=this.style&&this.style.fog;return!!l&&0!==l.getOpacity(this.transform.pitch)}getBackgroundTiles(){const l=this._backgroundTiles,m=this._backgroundTiles={},w=this.transform.coveringTiles({tileSize:512});for(const S of w)m[S.key]=l[S.key]||new d.Tile(S,512,this.transform.tileZoom,this);return m}clearBackgroundTiles(){this._backgroundTiles={}}}class Co{constructor(l=0,m=0,w=0,S=0){if(isNaN(l)||l<0||isNaN(m)||m<0||isNaN(w)||w<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=m,this.left=w,this.right=S}interpolate(l,m,w){return null!=m.top&&null!=l.top&&(this.top=d.number(l.top,m.top,w)),null!=m.bottom&&null!=l.bottom&&(this.bottom=d.number(l.bottom,m.bottom,w)),null!=m.left&&null!=l.left&&(this.left=d.number(l.left,m.left,w)),null!=m.right&&null!=l.right&&(this.right=d.number(l.right,m.right,w)),this}getCenter(l,m){const w=d.clamp((this.left+l-this.right)/2,0,l),S=d.clamp((this.top+m-this.bottom)/2,0,m);return new d.pointGeometry(w,S)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Co(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Cu(M,l){return[M[4*l],M[4*l+1],M[4*l+2],M[4*l+3]]}function Ya(M,l,m){M[4*l+0]=m[0],M[4*l+1]=m[1],M[4*l+2]=m[2],M[4*l+3]=m[3]}function ql(M,l){const m=Cu(M,3);d.fromQuat(M,l),Ya(M,3,m)}function Wl(M,l){Ya(M,3,[l[0],l[1],l[2],1])}function To(M,l){const m=d.identity$1([]);return d.rotateZ$1(m,m,-l),d.rotateX$1(m,m,-M),m}function fa(M,l){const m=[M[0],M[1],0],w=[l[0],l[1],0];if(d.length(m)>=1e-15){const z=d.normalize([],m);d.scale(w,z,d.dot(w,z)),l[0]=w[0],l[1]=w[1]}const S=d.cross([],l,M);if(d.len(S)<1e-15)return null;const k=Math.atan2(-S[1],S[0]);return To(Math.atan2(Math.sqrt(M[0]*M[0]+M[1]*M[1]),-M[2]),k)}class pa{constructor(l,m){this.position=l,this.orientation=m}get position(){return this._position}set position(l){this._position=this._renderWorldCopies?function(m){if(!m)return;const w=Array.isArray(m)?new d.MercatorCoordinate(m[0],m[1],m[2]):m;return w.x=d.wrap(w.x,0,1),w}(l):l}lookAtPoint(l,m){if(this.orientation=null,!this.position)return;const w=this._elevation?this._elevation.getAtPointOrZero(d.MercatorCoordinate.fromLngLat(l)):0,S=this.position,k=d.MercatorCoordinate.fromLngLat(l,w),z=[k.x-S.x,k.y-S.y,k.z-S.z];m||(m=[0,0,1]),m[2]=Math.abs(m[2]),this.orientation=fa(z,m)}setPitchBearing(l,m){this.orientation=To(d.degToRad(l),d.degToRad(-m))}}class $a{constructor(l,m){this._transform=d.identity([]),this._orientation=d.identity$1([]),m&&(this._orientation=m,ql(this._transform,this._orientation)),l&&Wl(this._transform,l)}get mercatorPosition(){const l=this.position;return new d.MercatorCoordinate(l[0],l[1],l[2])}get position(){const l=Cu(this._transform,3);return[l[0],l[1],l[2]]}set position(l){Wl(this._transform,l)}get orientation(){return this._orientation}set orientation(l){this._orientation=l,ql(this._transform,this._orientation)}getPitchBearing(){const l=this.forward(),m=this.right();return{bearing:Math.atan2(-m[1],m[0]),pitch:Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2])}}setPitchBearing(l,m){this._orientation=To(l,m),ql(this._transform,this._orientation)}forward(){const l=Cu(this._transform,2);return[-l[0],-l[1],-l[2]]}up(){const l=Cu(this._transform,1);return[-l[0],-l[1],-l[2]]}right(){const l=Cu(this._transform,0);return[l[0],l[1],l[2]]}getCameraToWorld(l,m){const w=new Float64Array(16);return d.invert(w,this.getWorldToCamera(l,m)),w}getWorldToCameraPosition(l,m,w){const S=this.position;d.scale(S,S,-l);const k=new Float64Array(16);return d.fromScaling(k,[w,w,w]),d.translate(k,k,S),k[10]*=m,k}getWorldToCamera(l,m){const w=new Float64Array(16),S=new Float64Array(4),k=this.position;return d.conjugate(S,this._orientation),d.scale(k,k,-l),d.fromQuat(w,S),d.translate(w,w,k),w[1]*=-1,w[5]*=-1,w[9]*=-1,w[13]*=-1,w[8]*=m,w[9]*=m,w[10]*=m,w[11]*=m,w}getCameraToClipPerspective(l,m,w,S){const k=new Float64Array(16);return d.perspective(k,l,m,w,S),k}getDistanceToElevation(l){const m=0===l?0:d.mercatorZfromAltitude(l,this.position[1]),w=this.forward();return(m-this.position[2])/w[2]}clone(){return new $a([...this.position],[...this.orientation])}}function za(M,l){const m=Wo(M),w=function(k,z,G,K,oe){const le=new d.LngLat(G.lng-180*ho,G.lat),ce=new d.LngLat(G.lng+180*ho,G.lat),Pe=k.project(le.lng,le.lat),je=k.project(ce.lng,ce.lat),et=-Math.atan2(je.y-Pe.y,je.x-Pe.x),$e=d.MercatorCoordinate.fromLngLat(G);$e.y=d.clamp($e.y,-.999975,.999975);const st=$e.toLngLat(),Xe=k.project(st.lng,st.lat),at=d.MercatorCoordinate.fromLngLat(st);at.x+=ho;const ut=at.toLngLat(),Ke=k.project(ut.lng,ut.lat),ft=xl(Ke.x-Xe.x,Ke.y-Xe.y,et),Dt=d.MercatorCoordinate.fromLngLat(st);Dt.y+=ho;const Jt=Dt.toLngLat(),Zt=k.project(Jt.lng,Jt.lat),an=xl(Zt.x-Xe.x,Zt.y-Xe.y,et),Qt=Math.abs(ft.x)/Math.abs(an.y),xn=d.identity([]);d.rotateZ(xn,xn,-et*(1-(oe?0:K)));const on=d.identity([]);return d.scale$1(on,on,[1,1-(1-Qt)*K,1]),on[4]=-an.x/an.y*K,d.rotateZ(on,on,et),d.multiply(on,xn,on),on}(M.projection,0,M.center,m,l),S=hu(M);return d.scale$1(w,w,[S,S,1]),w}function hu(M){const l=M.projection,m=Wo(M),w=Ma(l,M.center),S=Ma(l,d.LngLat.convert(l.center));return Math.pow(2,w*m+(1-m)*S)}function Wo(M){const l=M.projection.range;if(!l)return 0;const m=Math.max(M.width,M.height),w=Math.log(m/1024)/Math.LN2;return d.smoothstep(l[0]+w,l[1]+w,M.zoom)}const ho=1/4e4;function Ma(M,l){const m=d.clamp(l.lat,-d.MAX_MERCATOR_LATITUDE,d.MAX_MERCATOR_LATITUDE),w=new d.LngLat(l.lng-180*ho,m),S=new d.LngLat(l.lng+180*ho,m),k=M.project(w.lng,m),z=M.project(S.lng,m),G=d.MercatorCoordinate.fromLngLat(w),K=d.MercatorCoordinate.fromLngLat(S),oe=z.x-k.x,le=z.y-k.y,ce=K.x-G.x,Pe=K.y-G.y,je=Math.sqrt((ce*ce+Pe*Pe)/(oe*oe+le*le));return Math.log(je)/Math.LN2}function xl(M,l,m){const w=Math.cos(m),S=Math.sin(m);return{x:M*w-l*S,y:M*S+l*w}}class uh{constructor(l,m,w,S,k){this.tileSize=512,this._renderWorldCopies=void 0===k||k,this._minZoom=l||0,this._maxZoom=m||22,this._minPitch=null==w?0:w,this._maxPitch=null==S?60:S,this.setProjection(),this.setMaxBounds(),this.width=0,this.height=0,this._center=new d.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Co,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new $a,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const l=new uh(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return l._elevation=this._elevation,l._centerAltitude=this._centerAltitude,l.tileSize=this.tileSize,l.setMaxBounds(this.getMaxBounds()),l.width=this.width,l.height=this.height,l.cameraElevationReference=this.cameraElevationReference,l._center=this._center,l._setZoom(this.zoom),l._cameraZoom=this._cameraZoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._averageElevation=this._averageElevation,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._camera=this._camera.clone(),l._calcMatrices(),l.freezeTileCoverage=this.freezeTileCoverage,l.setProjection(this.getProjection()),l}get elevation(){return this._elevation}set elevation(l){this._elevation!==l&&(this._elevation=l,l?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(l){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),l&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return d.pick(this.projection,["name","center","parallels"])}setProjection(l){null==l&&(l={name:"mercator"}),this.projectionOptions=l;const m=this.projection?this.getProjection():void 0;return this.projection=d.getProjection(l),!W(m,this.getProjection())&&(this._calcMatrices(),!0)}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.wrap}set renderWorldCopies(l){void 0===l?l=!0:null===l&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get pixelsPerMeter(){return d.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return d.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new d.pointGeometry(this.width,this.height)}get bearing(){return d.wrap(this.rotation,-180,180)}set bearing(l){this.rotation=l}get rotation(){return-this.angle/Math.PI*180}set rotation(l){const m=-l*Math.PI/180;var w,S,k,z,G,K,oe,le,ce,Pe;this.angle!==m&&(this._unmodified=!1,this.angle=m,this._calcMatrices(),this.rotationMatrix=(w=new d.ARRAY_TYPE(4),d.ARRAY_TYPE!=Float32Array&&(w[1]=0,w[2]=0),w[0]=1,w[3]=1,w),S=this.rotationMatrix,z=this.angle,G=(k=this.rotationMatrix)[0],K=k[1],oe=k[2],le=k[3],ce=Math.sin(z),Pe=Math.cos(z),S[0]=G*Pe+oe*ce,S[1]=K*Pe+le*ce,S[2]=G*-ce+oe*Pe,S[3]=K*-ce+le*Pe)}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const m=d.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==m&&(this._unmodified=!1,this._pitch=m,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=l/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(l){this._averageElevation=l,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(l){const m=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==m&&(this._unmodified=!1,this._setZoom(m),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(l){this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center),-1);return-1===l?(this._cameraZoom=null,!1):(this._centerAltitude=l,!0)}_updateCameraOnTerrain(){const l=this.cameraToCenterDistance/this.worldSize,m=d.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(m+l)}sampleAverageElevation(){if(!this._elevation)return 0;const l=this._elevation,m=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],w=this.horizonLineFromTop();let S=0,k=0;for(let z=0;z<m.length;z++){const G=new d.pointGeometry(m[z][0]*this.width,w+m[z][1]*(this.height-w)),K=l.pointCoordinate(G);if(!K)continue;const oe=1/Math.hypot(K[0]-this._camera.position[0],K[1]-this._camera.position[1]);S+=K[3]*oe,k+=oe}return 0===k?NaN:S/k}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const l=this._cameraZoom,m=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),w=d.mercatorZfromAltitude(m,this.center.lat),S=this._mercatorZfromZoom(l),k=this._mercatorZfromZoom(this._maxZoom),z=Math.max(S-w,k);this._setZoom(this._zoomFromMercatorZ(z))}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}computeZoomRelativeTo(l){const m=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,l.toAltitude()));let w;w=l.z<this._camera.position[2]?[m.x,m.y,m.z]:[l.x,l.y,l.z];const S=d.length(d.sub([],this._camera.position,w));return d.clamp(this._zoomFromMercatorZ(S),this._minZoom,this._maxZoom)}setFreeCameraOptions(l){if(!this.height||!l.position&&!l.orientation)return;this._updateCameraState();let m=!1;if(l.orientation&&!d.exactEquals(l.orientation,this._camera.orientation)&&(m=this._setCameraOrientation(l.orientation)),l.position){const w=[l.position.x,l.position.y,l.position.z];d.exactEquals$1(w,this._camera.position)||(this._setCameraPosition(w),m=!0)}m&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const l=this._camera.position,m=new pa;return m.position=new d.MercatorCoordinate(l[0],l[1],l[2]),m.orientation=this._camera.orientation,m._elevation=this.elevation,m._renderWorldCopies=this.renderWorldCopies,m}_setCameraOrientation(l){if(!d.length$1(l))return!1;d.normalize$1(l,l);const m=d.transformQuat([],[0,0,-1],l),w=d.transformQuat([],[0,-1,0],l);if(w[2]<0)return!1;const S=fa(m,w);return!!S&&(this._camera.orientation=S,!0)}_setCameraPosition(l){const m=this.zoomScale(this.minZoom)*this.tileSize,w=this.zoomScale(this.maxZoom)*this.tileSize,S=this.cameraToCenterDistance;l[2]=d.clamp(l[2],S/w,S/m),this._camera.position=l}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,m,w){this._unmodified=!1,this._edgeInsets.interpolate(l,m,w),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const m=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,m)}getVisibleUnwrappedCoordinates(l){const m=[new d.UnwrappedTileID(0,l)];if(this.renderWorldCopies){const w=this.pointCoordinate(new d.pointGeometry(0,0)),S=this.pointCoordinate(new d.pointGeometry(this.width,0)),k=this.pointCoordinate(new d.pointGeometry(this.width,this.height)),z=this.pointCoordinate(new d.pointGeometry(0,this.height)),G=Math.floor(Math.min(w.x,S.x,k.x,z.x)),K=Math.floor(Math.max(w.x,S.x,k.x,z.x)),oe=1;for(let le=G-oe;le<=K+oe;le++)0!==le&&m.push(new d.UnwrappedTileID(le,l))}return m}coveringTiles(l){let m=this.coveringZoomLevel(l);const w=m,S=this.elevation&&!l.isTerrainDEM,k="mercator"===this.projection.name;if(void 0!==l.minzoom&&m<l.minzoom)return[];void 0!==l.maxzoom&&m>l.maxzoom&&(m=l.maxzoom);const z=this.locationCoordinate(this.center),G=1<<m,K=[G*z.x,G*z.y,0],oe=xe.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,m),le=this.pointCoordinate(this.getCameraPoint()),ce=G*d.mercatorZfromAltitude(1,this.center.lat),Pe=this._camera.position[2]/d.mercatorZfromAltitude(1,this.center.lat),je=[G*le.x,G*le.y,Pe],et=this.cameraToCenterDistance/l.tileSize*(l.roundZoom?1:.502),$e=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&k?m:0,st=l.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Xe=l.isTerrainDEM?-st:this._elevation?this._elevation.getMinElevationBelowMSL():0,at=hu(this),ut=Vt=>{const In=1/4e4,Zn=new d.MercatorCoordinate(Vt.x+In,Vt.y,Vt.z),Rr=new d.MercatorCoordinate(Vt.x,Vt.y+In,Vt.z),Vr=Vt.toLngLat(),Hr=Zn.toLngLat(),Nr=Rr.toLngLat(),yr=this.locationCoordinate(Vr),Wr=this.locationCoordinate(Hr),_i=this.locationCoordinate(Nr),ga=Math.hypot(Wr.x-yr.x,Wr.y-yr.y),Ja=Math.hypot(_i.x-yr.x,_i.y-yr.y);return Math.sqrt(ga*Ja)*at/In},Ke=(Vt,In,Zn,Rr,Vr,Hr)=>{const Nr=d.tileTransform({z:Vt,x:In,y:Zn},this.projection);return new se([(Rr+Nr.x/Nr.scale)*G,G*(Nr.y/Nr.scale),Vr],[(Rr+Nr.x2/Nr.scale)*G,G*(Nr.y2/Nr.scale),Hr])},ft=Vt=>({aabb:Ke(0,0,0,Vt,Xe,st),zoom:0,x:0,y:0,wrap:Vt,fullyVisible:!1}),Dt=[];let Jt=[];const Zt=m,an=l.reparseOverscaled?w:m,Qt=Vt=>{if(!this._elevation||!Vt.tileID)return;const In=this._elevation.getMinMaxForTile(Vt.tileID),Zn=Vt.aabb;In?(Zn.min[2]=In.min,Zn.max[2]=In.max,Zn.center[2]=(Zn.min[2]+Zn.max[2])/2):(Vt.shouldSplit=kn(Vt),Vt.shouldSplit||(Zn.min[2]=Zn.max[2]=Zn.center[2]=this._centerAltitude))},xn=Vt=>Vt*Vt,on=xn((Pe-this._centerAltitude)*ce),kn=Vt=>{if(Vt.zoom<$e)return!0;if(Vt.zoom===Zt)return!1;if(null!=Vt.shouldSplit)return Vt.shouldSplit;const In=Vt.aabb.distanceX(je),Zn=Vt.aabb.distanceY(je);let Rr=on;S&&(Rr=xn(Vt.aabb.distanceZ(je)*ce));let Vr=1;if(!k&&w<=5){const Nr=Math.pow(2,Vt.zoom),yr=ut(new d.MercatorCoordinate((Vt.x+.5)/Nr,(Vt.y+.5)/Nr));Vr=yr>.85?1:yr}const Hr=In*In+Zn*Zn+Rr;return Hr<xn((1<<Zt-Vt.zoom)*et*Vr*((Nr,yr)=>{if(yr*xn(.707)<Nr)return 1;const Wr=Math.sqrt(yr/Nr);return Wr/(1.4144271570014144+(Math.pow(1.1,Wr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Rr,on),Hr))};if(this.renderWorldCopies)for(let Vt=1;Vt<=3;Vt++)Dt.push(ft(-Vt)),Dt.push(ft(Vt));for(Dt.push(ft(0));Dt.length>0;){const Vt=Dt.pop(),In=Vt.x,Zn=Vt.y;let Rr=Vt.fullyVisible;if(!Rr){const Vr=Vt.aabb.intersects(oe);if(0===Vr)continue;Rr=2===Vr}if(Vt.zoom!==Zt&&kn(Vt))for(let Vr=0;Vr<4;Vr++){const Hr=(In<<1)+Vr%2,Nr=(Zn<<1)+(Vr>>1),yr={aabb:"mercator"===this.projection.name?Vt.aabb.quadrant(Vr):Ke(Vt.zoom+1,Hr,Nr,Vt.wrap,0,0),zoom:Vt.zoom+1,x:Hr,y:Nr,wrap:Vt.wrap,fullyVisible:Rr,tileID:void 0,shouldSplit:void 0};S&&(yr.tileID=new d.OverscaledTileID(Vt.zoom+1===Zt?an:Vt.zoom+1,Vt.wrap,Vt.zoom+1,Hr,Nr),Qt(yr)),Dt.push(yr)}else{const Vr=Vt.zoom===Zt?an:Vt.zoom;if(l.minzoom&&l.minzoom>Vr)continue;const Hr=K[0]-(.5+In+(Vt.wrap<<Vt.zoom))*(1<<m-Vt.zoom),Nr=K[1]-.5-Zn,yr=Vt.tileID?Vt.tileID:new d.OverscaledTileID(Vr,Vt.wrap,Vt.zoom,In,Zn);Jt.push({tileID:yr,distanceSq:Hr*Hr+Nr*Nr})}}if(this.fogCullDistSq){const Vt=this.fogCullDistSq,In=this.horizonLineFromTop();Jt=Jt.filter(Zn=>{const Rr=[0,0,0,1],Vr=[d.EXTENT,d.EXTENT,0,1],Hr=this.calculateFogTileMatrix(Zn.tileID.toUnwrapped());d.transformMat4(Rr,Rr,Hr),d.transformMat4(Vr,Vr,Hr);const Nr=d.getAABBPointSquareDist(Rr,Vr);if(0===Nr)return!0;let yr=!1;const Wr=this._elevation;if(Wr&&Nr>Vt&&0!==In){const _i=this.calculateProjMatrix(Zn.tileID.toUnwrapped());let ga;l.isTerrainDEM||(ga=Wr.getMinMaxForTile(Zn.tileID)),ga||(ga={min:Xe,max:st});const Ja=d.furthestTileCorner(this.rotation),_a=[Ja[0]*d.EXTENT,Ja[1]*d.EXTENT,ga.max];d.transformMat4$1(_a,_a,_i),yr=(1-_a[1])*this.height*.5<In}return Nr<Vt||yr})}return Jt.sort((Vt,In)=>Vt.distanceSq-In.distanceSq).map(Vt=>Vt.tileID)}resize(l,m){this.width=l,this.height=m,this.pixelsToGLUnits=[2/l,-2/m],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const m=d.clamp(l.lat,-d.MAX_MERCATOR_LATITUDE,d.MAX_MERCATOR_LATITUDE),w=this.projection.project(l.lng,m);return new d.pointGeometry(w.x*this.worldSize,w.y*this.worldSize)}unproject(l){return this.projection.unproject(l.x/this.worldSize,l.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(l,m){const w=this.pointCoordinate(m),S=this.pointCoordinate(this.centerPoint),k=this.locationCoordinate(l);this.setLocation(new d.MercatorCoordinate(k.x-(w.x-S.x),k.y-(w.y-S.y)))}setLocation(l){this.center=this.coordinateLocation(l),this.renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(l){return this._coordinatePoint(this.locationCoordinate(l),!1)}locationPoint3D(l){return this._coordinatePoint(this.locationCoordinate(l),!0)}pointLocation(l){return this.coordinateLocation(this.pointCoordinate(l))}pointLocation3D(l){return this.coordinateLocation(this.pointCoordinate3D(l))}locationCoordinate(l,m){const w=m?d.mercatorZfromAltitude(m,l.lat):void 0,S=this.projection.project(l.lng,l.lat);return new d.MercatorCoordinate(S.x,S.y,w)}coordinateLocation(l){return this.projection.unproject(l.x,l.y)}pointRayIntersection(l,m){const w=null!=m?m:this._centerAltitude,S=[l.x,l.y,0,1],k=[l.x,l.y,1,1];d.transformMat4(S,S,this.pixelMatrixInverse),d.transformMat4(k,k,this.pixelMatrixInverse);const z=k[3];d.scale$2(S,S,1/S[3]),d.scale$2(k,k,1/z);const G=S[2],K=k[2];return{p0:S,p1:k,t:G===K?0:(w-G)/(K-G)}}screenPointToMercatorRay(l){const m=[l.x,l.y,0,1],w=[l.x,l.y,1,1];return d.transformMat4(m,m,this.pixelMatrixInverse),d.transformMat4(w,w,this.pixelMatrixInverse),d.scale$2(m,m,1/m[3]),d.scale$2(w,w,1/w[3]),m[2]=d.mercatorZfromAltitude(m[2],this._center.lat)*this.worldSize,w[2]=d.mercatorZfromAltitude(w[2],this._center.lat)*this.worldSize,d.scale$2(m,m,1/this.worldSize),d.scale$2(w,w,1/this.worldSize),new he([m[0],m[1],m[2]],d.normalize([],d.sub([],w,m)))}rayIntersectionCoordinate(l){const{p0:m,p1:w,t:S}=l,k=d.mercatorZfromAltitude(m[2],this._center.lat),z=d.mercatorZfromAltitude(w[2],this._center.lat);return new d.MercatorCoordinate(d.number(m[0],w[0],S)/this.worldSize,d.number(m[1],w[1],S)/this.worldSize,d.number(k,z,S))}pointCoordinate(l,m=this._centerAltitude){const w=this.horizonLineFromTop(!1),S=new d.pointGeometry(l.x,Math.max(w,l.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(S,m))}pointCoordinate3D(l){if(!this.elevation)return this.pointCoordinate(l);const m=this.elevation;let w=this.elevation.pointCoordinate(l);if(w)return new d.MercatorCoordinate(w[0],w[1],w[2]);let S=0,k=this.horizonLineFromTop();if(l.y>k)return this.pointCoordinate(l);const z=.02*k,G=l.clone();for(let K=0;K<10&&k-S>z;K++){G.y=d.number(S,k,.66);const oe=m.pointCoordinate(G);oe?(k=G.y,w=oe):S=G.y}return w?new d.MercatorCoordinate(w[0],w[1],w[2]):this.pointCoordinate(l)}isPointAboveHorizon(l){if(this.elevation)return!this.elevation.pointCoordinate(l);{const m=this.horizonLineFromTop();return l.y<m}}_coordinatePoint(l,m){const w=m&&this.elevation?this.elevation.getAtPointOrZero(l,this._centerAltitude):this._centerAltitude,S=[l.x*this.worldSize,l.y*this.worldSize,w+l.toAltitude(),1];return d.transformMat4(S,S,this.pixelMatrix),S[3]>0?new d.pointGeometry(S[0]/S[3],S[1]/S[3]):new d.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(l,m){const w=new d.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),S=new d.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),k=new d.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),z=new d.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let G=this.pointCoordinate(w,l),K=this.pointCoordinate(S,l);const oe=this.pointCoordinate(k,m),le=this.pointCoordinate(z,m),ce=(Pe,je)=>(je.y-Pe.y)/(je.x-Pe.x);return G.y>1&&K.y>=0?G=new d.MercatorCoordinate((1-le.y)/ce(le,G)+le.x,1):G.y<0&&K.y<=1&&(G=new d.MercatorCoordinate(-le.y/ce(le,G)+le.x,0)),K.y>1&&G.y>=0?K=new d.MercatorCoordinate((1-oe.y)/ce(oe,K)+oe.x,1):K.y<0&&G.y<=1&&(K=new d.MercatorCoordinate(-oe.y/ce(oe,K)+oe.x,0)),(new d.LngLatBounds).extend(this.coordinateLocation(G)).extend(this.coordinateLocation(K)).extend(this.coordinateLocation(le)).extend(this.coordinateLocation(oe))}_getBounds3D(){const l=this.elevation,m=l.visibleDemTiles.reduce((w,S)=>{if(S.dem){const k=S.dem.tree;w.min=Math.min(w.min,k.minimums[0]),w.max=Math.max(w.max,k.maximums[0])}return w},{min:Number.MAX_VALUE,max:0});return this._getBounds(m.min*l.exaggeration(),m.max*l.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(l=!0){const m=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,w=this.height/2-m*(1-this._horizonShift);return l?Math.max(0,w):w}getMaxBounds(){return this.maxBounds}setMaxBounds(l){this.maxBounds=l,this.minLat=-d.MAX_MERCATOR_LATITUDE,this.maxLat=d.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,l&&(this.minLat=l.getSouth(),this.maxLat=l.getNorth(),this.minLng=l.getWest(),this.maxLng=l.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=d.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=d.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=d.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=d.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(l,m){let w,S,k;const z=l.canonical,G=d.identity(new Float64Array(16));if("mercator"===this.projection.name)w=m/this.zoomScale(z.z),S=(z.x+Math.pow(2,z.z)*l.wrap)*w,k=z.y*w;else{const K=d.tileTransform(z,this.projection);w=1,S=K.x+l.wrap*K.scale,k=K.y,d.scale$1(G,G,[w/K.scale,w/K.scale,this.pixelsPerMeter/this.worldSize])}return d.translate(G,G,[S,k,0]),d.scale$1(G,G,[w/d.EXTENT,w/d.EXTENT,1]),G}calculateDistanceTileData(l){const m=l.key,w=this._distanceTileDataCache;if(w[m])return w[m];const S=l.canonical,k=1/this.height,z=this.cameraWorldSize/this.zoomScale(S.z),G=(S.x+Math.pow(2,S.z)*l.wrap)*z,K=S.y*z,oe=this.point,le=this.angle,ce=Math.sin(-le),Pe=-Math.cos(-le);return w[m]={bearing:[ce,Pe],center:[(oe.x-G)*k,(oe.y-K)*k],scale:z/d.EXTENT*k},w[m]}calculateFogTileMatrix(l){const m=l.key,w=this._fogTileMatrixCache;if(w[m])return w[m];const S=this.calculatePosMatrix(l,this.cameraWorldSize);return d.multiply(S,this.worldToFogMatrix,S),w[m]=new Float32Array(S),w[m]}calculateProjMatrix(l,m=!1){const w=l.key,S=m?this._alignedProjMatrixCache:this._projMatrixCache;if(S[w])return S[w];const k=this.calculatePosMatrix(l,this.worldSize);return d.multiply(k,"mercator"===this.projection.name?m?this.alignedProjMatrix:this.projMatrix:this.mercatorMatrix,k),S[w]=new Float32Array(k),S[w]}calculatePixelsToTileUnitsMatrix(l){const m=l.tileID.key,w=this._pixelsToTileUnitsCache;if(w[m])return w[m];const S=function(k,z){const{scale:G}=k.tileTransform,K=G*d.EXTENT/(k.tileSize*Math.pow(2,z.zoom-k.tileID.overscaledZ+k.tileID.canonical.z));return oe=new Float32Array(4),Pe=(le=z.inverseAdjustmentMatrix)[1],je=le[2],et=le[3],st=(ce=[K,K])[1],oe[0]=le[0]*($e=ce[0]),oe[1]=Pe*$e,oe[2]=je*st,oe[3]=et*st,oe;var oe,le,ce,Pe,je,et,$e,st}(l,this);return w[m]=S,w[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const l=this._elevation;this._updateCameraState();const m=this._camera.position,w=this._camera.forward();if(m[2]<=0||w[2]>=0)return;const S=d.mercatorZfromAltitude(1,this._center.lat);m[2]/=S,w[2]/=S,d.normalize(w,w);const k=l.raycast(m,w,l.exaggeration());if(k){const z=d.scaleAndAdd([],m,w,k),G=new d.MercatorCoordinate(z[0],z[1],d.mercatorZfromAltitude(z[2],d.latFromMercatorY(z[1]))),K=this._camera.position,oe=G.z+d.length([G.x-K[0],G.y-K[1],G.z-K[2]]);this._cameraZoom=this._zoomFromMercatorZ(oe),this._centerAltitude=G.toAltitude(),this._center=this.coordinateLocation(G),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const l=this._elevation;this._updateCameraState();const m=l.getAtPointOrZero(this._camera.mercatorPosition),w=this._minimumHeightOverTerrain()*Math.cos(d.degToRad(this._maxPitch)),S=d.mercatorZfromAltitude(m,this._center.lat),k=this._camera.position[2]-S;if(k<w){const z=this.locationCoordinate(this._center,this._centerAltitude),G=this._camera.mercatorPosition,K=[z.x-G.x,z.y-G.y,z.z-G.z],oe=d.length(K);K[2]-=w-k;const le=d.length(K);if(0===le)return;d.scale(K,K,oe/le),this._camera.position=[z.x-K[0],z.y-K[1],z.z-K[2]],this._camera.orientation=fa(K,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;if(this._constraining=!0,"mercator"!==this.projection.name){const ce=this.center;return ce.lat=d.clamp(ce.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(ce.lng=d.clamp(ce.lng,this.minLng,this.maxLng)),this.center=ce,void(this._constraining=!1)}const l=this._unmodified,{x:m,y:w}=this.point;let S=0,k=m,z=w;const G=this.width/2,K=this.height/2,oe=this.worldMinY*this.scale,le=this.worldMaxY*this.scale;if(w-K<oe&&(z=oe+K),w+K>le&&(z=le-K),le-oe<this.height&&(S=Math.max(S,this.height/(le-oe)),z=(le+oe)/2),this.maxBounds||!this.renderWorldCopies){const ce=this.worldMinX*this.scale,Pe=this.worldMaxX*this.scale,je=this.worldSize/2-(ce+Pe)/2;k=(m+je+this.worldSize)%this.worldSize-je,k-G<ce&&(k=ce+G),k+G>Pe&&(k=Pe-G),Pe-ce<this.width&&(S=Math.max(S,this.width/(Pe-ce)),k=(Pe+ce)/2)}k===m&&z===w||(this.center=this.unproject(new d.pointGeometry(k,z))),S&&(this.zoom+=this.scaleZoom(S)),this._constrainCameraAltitude(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let l=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(l=Math.max(l,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),l}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const l=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const m=this.pixelsPerMeter;this._updateCameraState();const w=Math.PI/2+this._pitch,S=this.fovAboveCenter,k=this.elevation?this.elevation.getMinElevationBelowMSL()*m:0,z=(this._camera.position[2]*this.worldSize-k)/Math.cos(this._pitch),G=Math.sin(S)*z/Math.sin(d.clamp(Math.PI-w-S,.01,Math.PI-.01)),K=this.point,oe=K.x,le=K.y,ce=Math.cos(Math.PI/2-this._pitch)*G+z,Pe=Math.min(1.01*ce,z*(1/this._horizonShift)),je=this.height/50,et=this._camera.getWorldToCamera(this.worldSize,m),$e=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,je,Pe);$e[8]=2*-l.x/this.width,$e[9]=2*l.y/this.height;let st=d.mul$1([],$e,et);if("mercator"!==this.projection.name){const xn=this.locationCoordinate(this.center),on=d.identity([]);d.translate(on,on,[xn.x*this.worldSize,xn.y*this.worldSize,0]),d.multiply(on,on,za(this)),d.translate(on,on,[-xn.x*this.worldSize,-xn.y*this.worldSize,0]),d.multiply(st,st,on),this.inverseAdjustmentMatrix=function(kn){const Vt=za(kn,!0);return ve([],[Vt[0],Vt[1],Vt[4],Vt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=d.scale$1([],st,[this.worldSize,this.worldSize,this.worldSize/m]),this.projMatrix=st,this.invProjMatrix=d.invert(new Float64Array(16),this.projMatrix);const Xe=new Float32Array(16);d.identity(Xe),d.scale$1(Xe,Xe,[1,-1,1]),d.rotateX(Xe,Xe,this._pitch),d.rotateZ(Xe,Xe,this.angle);const at=d.perspective(new Float32Array(16),this._fov,this.width/this.height,je,Pe),ut=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;at[8]=2*-l.x/this.width,at[9]=2*(l.y+ut)/this.height,this.skyboxMatrix=d.multiply(Xe,at,Xe);const Ke=this.width%2/2,ft=this.height%2/2,Dt=Math.cos(this.angle),Jt=Math.sin(this.angle),Zt=oe-Math.round(oe)+Dt*Ke+Jt*ft,an=le-Math.round(le)+Dt*ft+Jt*Ke,Qt=new Float64Array(st);if(d.translate(Qt,Qt,[Zt>.5?Zt-1:Zt,an>.5?an-1:an,0]),this.alignedProjMatrix=Qt,st=d.create$1(),d.scale$1(st,st,[this.width/2,-this.height/2,1]),d.translate(st,st,[1,-1,0]),this.labelPlaneMatrix=st,st=d.create$1(),d.scale$1(st,st,[1,-1,1]),d.translate(st,st,[-1,-1,0]),d.scale$1(st,st,[2/this.width,2/this.height,1]),this.glCoordMatrix=st,this.pixelMatrix=d.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},st=d.invert(new Float64Array(16),this.pixelMatrix),!st)throw new Error("failed to invert matrix");this.pixelMatrixInverse=st,this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const l=this.cameraWorldSize,m=this.cameraPixelsPerMeter,w=this._camera.position,S=1/this.height,k=[l,l,m];d.scale(k,k,S),d.scale(w,w,-1),d.multiply$1(w,w,k);const z=d.create$1();d.translate(z,z,w),d.scale$1(z,z,k),this.mercatorFogMatrix=z,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(l,m,S)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const l=this._camera.forward(),m=this.cameraToCenterDistance,w=this.point,S=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-d.mercatorZfromAltitude(this._centerAltitude,this.center.lat),k=this.cameraToCenterDistance/S;this._camera.position=[w.x/this.worldSize-l[0]*m/k,w.y/this.worldSize-l[1]*m/k,d.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-l[2]*m/k]}_translateCameraConstrained(l){const m=this._maxCameraBoundsDistance()*Math.cos(this._pitch),w=l[2];let S=1;w>0&&(S=Math.min((m-this._camera.position[2])/w,1)),this._camera.position=d.scaleAndAdd([],this._camera.position,l,S),this._updateStateFromCamera()}_updateStateFromCamera(){const l=this._camera.position,m=this._camera.forward(),{pitch:w,bearing:S}=this._camera.getPitchBearing(),k=d.mercatorZfromAltitude(this._centerAltitude,this.center.lat),z=this._mercatorZfromZoom(this._maxZoom)*Math.cos(d.degToRad(this._maxPitch)),G=Math.max((l[2]-k)/Math.cos(w),z),K=this._zoomFromMercatorZ(G);d.scaleAndAdd(l,l,m,G),this._pitch=d.clamp(w,d.degToRad(this.minPitch),d.degToRad(this.maxPitch)),this.angle=d.wrap(S,-Math.PI,Math.PI),this._setZoom(d.clamp(K,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=this.coordinateLocation(new d.MercatorCoordinate(l[0],l[1],l[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(l){return Math.pow(2,l)*this.tileSize}_mercatorZfromZoom(l){return this.cameraToCenterDistance/this._worldSizeFromZoom(l)}_minimumHeightOverTerrain(){const l=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(l)}_zoomFromMercatorZ(l){return this.scaleZoom(this.cameraToCenterDistance/(l*this.tileSize))}_terrainEnabled(){return!(!this._elevation||"mercator"!==this.projection.name&&(d.warnOnce("Terrain is not yet supported with alternate projections. Use mercator to enable terrain."),1))}anyCornerOffEdge(l,m){const w=Math.min(l.x,m.x),S=Math.max(l.x,m.x),k=Math.min(l.y,m.y),z=Math.max(l.y,m.y);if(k<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const G=[new d.pointGeometry(w,k),new d.pointGeometry(S,z),new d.pointGeometry(w,z),new d.pointGeometry(S,k)],K=this.renderWorldCopies?-3:0,oe=this.renderWorldCopies?4:1;for(const le of G){const ce=this.pointRayIntersection(le);if(ce.t<0)return!0;const Pe=this.rayIntersectionCoordinate(ce);if(Pe.x<K||Pe.y<0||Pe.x>oe||Pe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+d.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new d.pointGeometry(0,0),new d.pointGeometry(this.width,this.height))}zoomDeltaToMovement(l,m){const w=d.length(d.sub([],this._camera.position,l)),S=this._zoomFromMercatorZ(w)+m;return w-this._mercatorZfromZoom(S)}getCameraPoint(){const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new d.pointGeometry(0,l))}}function Yu(M,l){let m=!1,w=null;const S=()=>{w=null,m&&(M(),w=setTimeout(S,l),m=!1)};return()=>(m=!0,w||S(),w)}class du{constructor(l){this._hashName=l&&encodeURIComponent(l),d.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Yu(this._updateHashUnthrottled.bind(this),300)}addTo(l){return this._map=l,d.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return d.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(l){const m=this._map.getCenter(),w=Math.round(100*this._map.getZoom())/100,S=Math.ceil((w*Math.LN2+Math.log(512/360/.5))/Math.LN10),k=Math.pow(10,S),z=Math.round(m.lng*k)/k,G=Math.round(m.lat*k)/k,K=this._map.getBearing(),oe=this._map.getPitch();let le="";if(le+=l?`/${z}/${G}/${w}`:`${w}/${G}/${z}`,(K||oe)&&(le+="/"+Math.round(10*K)/10),oe&&(le+=`/${Math.round(oe)}`),this._hashName){const ce=this._hashName;let Pe=!1;const je=d.window.location.hash.slice(1).split("&").map(et=>{const $e=et.split("=")[0];return $e===ce?(Pe=!0,`${$e}=${le}`):et}).filter(et=>et);return Pe||je.push(`${ce}=${le}`),`#${je.join("&")}`}return`#${le}`}_getCurrentHash(){const l=d.window.location.hash.replace("#","");if(this._hashName){let m;return l.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(m=w)}),(m&&m[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._getCurrentHash();if(l.length>=3&&!l.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(l[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:m,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=d.window.location.href.replace(/(#.+)?$/,this.getHashString());d.window.history.replaceState(d.window.history.state,null,l)}}const na={linearity:.3,easing:d.bezier(0,0,.3,1)},zc=d.extend({deceleration:2500,maxSpeed:1400},na),So=d.extend({deceleration:20,maxSpeed:1400},na),Bc=d.extend({deceleration:1e3,maxSpeed:360},na),Il=d.extend({deceleration:1e3,maxSpeed:90},na);class $o{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:d.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,m=d.exported.now();for(;l.length>0&&m-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const m={zoom:0,bearing:0,pitch:0,pan:new d.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:k}of this._inertiaBuffer)m.zoom+=k.zoomDelta||0,m.bearing+=k.bearingDelta||0,m.pitch+=k.pitchDelta||0,k.panDelta&&m.pan._add(k.panDelta),k.around&&(m.around=k.around),k.pinchAround&&(m.pinchAround=k.pinchAround);const w=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(m.pan.mag()){const k=$l(m.pan.mag(),w,d.extend({},zc,l||{}));S.offset=m.pan.mult(k.amount/m.pan.mag()),S.center=this._map.transform.center,Lo(S,k)}if(m.zoom){const k=$l(m.zoom,w,So);S.zoom=this._map.transform.zoom+k.amount,Lo(S,k)}if(m.bearing){const k=$l(m.bearing,w,Bc);S.bearing=this._map.transform.bearing+d.clamp(k.amount,-179,179),Lo(S,k)}if(m.pitch){const k=$l(m.pitch,w,Il);S.pitch=this._map.transform.pitch+k.amount,Lo(S,k)}if(S.zoom||S.bearing){const k=void 0===m.pinchAround?m.around:m.pinchAround;S.around=k?this._map.unproject(k):this._map.getCenter()}return this.clear(),d.extend(S,{noMoveStart:!0})}}function Lo(M,l){(!M.duration||M.duration<l.duration)&&(M.duration=l.duration,M.easing=l.easing)}function $l(M,l,m){const{maxSpeed:w,linearity:S,deceleration:k}=m,z=d.clamp(M*S/(l/1e3),-w,w),G=Math.abs(z)/(k*S);return{easing:m.easing,duration:1e3*G,amount:z*(G/2)}}class qi extends d.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,m,w,S={}){const k=ie.mousePos(m.getCanvasContainer(),w),z=m.unproject(k);super(l,d.extend({point:k,lngLat:z,originalEvent:w},S)),this._defaultPrevented=!1,this.target=m}}class Ba extends d.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,m,w){const S="touchend"===l?w.changedTouches:w.touches,k=ie.touchPos(m.getCanvasContainer(),S),z=k.map(K=>m.unproject(K)),G=k.reduce((K,oe,le,ce)=>K.add(oe.div(ce.length)),new d.pointGeometry(0,0));super(l,{points:k,point:G,lngLats:z,lngLat:m.unproject(G),originalEvent:w}),this._defaultPrevented=!1}}class Zl extends d.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,m,w){super(l,{originalEvent:w}),this._defaultPrevented=!1}}class Da{constructor(l,m){this._map=l,this._clickTolerance=m.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new Zl(l.type,this._map,l))}mousedown(l,m){return this._mousedownPos=m,this._firePreventable(new qi(l.type,this._map,l))}mouseup(l){this._map.fire(new qi(l.type,this._map,l))}preclick(l){const m=d.extend({},l);m.type="preclick",this._map.fire(new qi(m.type,this._map,m))}click(l,m){this._mousedownPos&&this._mousedownPos.dist(m)>=this._clickTolerance||(this.preclick(l),this._map.fire(new qi(l.type,this._map,l)))}dblclick(l){return this._firePreventable(new qi(l.type,this._map,l))}mouseover(l){this._map.fire(new qi(l.type,this._map,l))}mouseout(l){this._map.fire(new qi(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Ba(l.type,this._map,l))}touchmove(l){this._map.fire(new Ba(l.type,this._map,l))}touchend(l){this._map.fire(new Ba(l.type,this._map,l))}touchcancel(l){this._map.fire(new Ba(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Pl{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(l){this._map.fire(new qi(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._map.fire(new qi(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ps{constructor(l,m){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=m.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,m){this.isEnabled()&&l.shiftKey&&0===l.button&&(ie.disableDrag(),this._startPos=this._lastPos=m,this._active=!0)}mousemoveWindow(l,m){if(!this._active)return;const w=m;if(this._lastPos.equals(w)||!this._box&&w.dist(this._startPos)<this._clickTolerance)return;const S=this._startPos;this._lastPos=w,this._box||(this._box=ie.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const k=Math.min(S.x,w.x),z=Math.max(S.x,w.x),G=Math.min(S.y,w.y),K=Math.max(S.y,w.y);this._map._requestDomTask(()=>{this._box&&(ie.setTransform(this._box,`translate(${k}px,${G}px)`),this._box.style.width=z-k+"px",this._box.style.height=K-G+"px")})}mouseupWindow(l,m){if(!this._active||0!==l.button)return;const w=this._startPos,S=m;if(this.reset(),ie.suppressClick(),w.x!==S.x||w.y!==S.y)return this._map.fire(new d.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:k=>k.fitScreenCoordinates(w,S,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&27===l.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",l))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(ie.remove(this._box),this._box=null),ie.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,m){return this._map.fire(new d.Event(l,{originalEvent:m}))}}function jc(M,l){const m={};for(let w=0;w<M.length;w++)m[M[w].identifier]=l[w];return m}class Vc{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,m,w){(this.centroid||w.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=l.timeStamp),w.length===this.numTouches&&(this.centroid=function(S){const k=new d.pointGeometry(0,0);for(const z of S)k._add(z);return k.div(S.length)}(m),this.touches=jc(w,m)))}touchmove(l,m,w){if(this.aborted||!this.centroid)return;const S=jc(w,m);for(const k in this.touches){const z=this.touches[k],G=S[k];(!G||G.dist(z)>30)&&(this.aborted=!0)}}touchend(l,m,w){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),0===w.length){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class Zo{constructor(l){this.singleTap=new Vc(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,m,w){this.singleTap.touchstart(l,m,w)}touchmove(l,m,w){this.singleTap.touchmove(l,m,w)}touchend(l,m,w){const S=this.singleTap.touchend(l,m,w);if(S){const k=l.timeStamp-this.lastTime<500,z=!this.lastTap||this.lastTap.dist(S)<30;if(k&&z||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class Fi{constructor(){this._zoomIn=new Zo({numTouches:1,numTaps:2}),this._zoomOut=new Zo({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,m,w){this._zoomIn.touchstart(l,m,w),this._zoomOut.touchstart(l,m,w)}touchmove(l,m,w){this._zoomIn.touchmove(l,m,w),this._zoomOut.touchmove(l,m,w)}touchend(l,m,w){const S=this._zoomIn.touchend(l,m,w),k=this._zoomOut.touchend(l,m,w);return S?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:z.getZoom()+1,around:z.unproject(S)},{originalEvent:l})}):k?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:z.getZoom()-1,around:z.unproject(k)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const ch={0:1,2:2};class Ea{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(l,m){return!1}_move(l,m){return{}}mousedown(l,m){if(this._lastPoint)return;const w=ie.mouseButton(l);this._correctButton(l,w)&&(this._lastPoint=m,this._eventButton=w)}mousemoveWindow(l,m){const w=this._lastPoint;if(w)if(l.preventDefault(),function(S,k){const z=ch[k];return void 0===S.buttons||(S.buttons&z)!==z}(l,this._eventButton))this.reset();else if(this._moved||!(m.dist(w)<this._clickTolerance))return this._moved=!0,this._lastPoint=m,this._move(w,m)}mouseupWindow(l){this._lastPoint&&ie.mouseButton(l)===this._eventButton&&(this._moved&&ie.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xl extends Ea{mousedown(l,m){super.mousedown(l,m),this._lastPoint&&(this._active=!0)}_correctButton(l,m){return 0===m&&!l.ctrlKey}_move(l,m){return{around:m,panDelta:m.sub(l)}}}class js extends Ea{_correctButton(l,m){return 0===m&&l.ctrlKey||2===m}_move(l,m){const w=.8*(m.x-l.x);if(w)return this._active=!0,{bearingDelta:w}}contextmenu(l){l.preventDefault()}}class Qs extends Ea{_correctButton(l,m){return 0===m&&l.ctrlKey||2===m}_move(l,m){const w=-.5*(m.y-l.y);if(w)return this._active=!0,{pitchDelta:w}}contextmenu(l){l.preventDefault()}}class Uc{constructor(l,m){this._map=l,this._el=l.getCanvasContainer(),this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset(),d.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new d.pointGeometry(0,0)}touchstart(l,m,w){return this._calculateTransform(l,m,w)}touchmove(l,m,w){if(this._active&&!(w.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===w.length)return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return l.preventDefault(),this._calculateTransform(l,m,w)}}touchend(l,m,w){this._calculateTransform(l,m,w),this._active&&w.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,m,w){w.length>0&&(this._active=!0);const S=jc(w,m),k=new d.pointGeometry(0,0),z=new d.pointGeometry(0,0);let G=0;for(const oe in S){const le=S[oe],ce=this._touches[oe];ce&&(k._add(le),z._add(le.sub(ce)),G++,S[oe]=le)}if(this._touches=S,G<this._minTouches||!z.mag())return;const K=z.div(G);return this._sum._add(K),this._sum.mag()<this._clickTolerance?void 0:{around:k.div(G),panDelta:K}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ie.create("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")},500)}}class mi{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(l){}_move(l,m,w){return{}}touchstart(l,m,w){this._firstTwoTouches||w.length<2||(this._firstTwoTouches=[w[0].identifier,w[1].identifier],this._start([m[0],m[1]]))}touchmove(l,m,w){if(!this._firstTwoTouches)return;l.preventDefault();const[S,k]=this._firstTwoTouches,z=Tu(w,m,S),G=Tu(w,m,k);if(!z||!G)return;const K=this._aroundCenter?null:z.add(G).div(2);return this._move([z,G],K,l)}touchend(l,m,w){if(!this._firstTwoTouches)return;const[S,k]=this._firstTwoTouches,z=Tu(w,m,S),G=Tu(w,m,k);z&&G||(this._active&&ie.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&"center"===l.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Tu(M,l,m){for(let w=0;w<M.length;w++)if(M[w].identifier===m)return l[w]}function Su(M,l){return Math.log(M/l)/Math.LN2}class ri extends mi{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,m){const w=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Su(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Su(this._distance,w),pinchAround:m}}}function pc(M,l){return 180*M.angleWith(l)/Math.PI}class _o extends mi{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,m){const w=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:pc(this._vector,w),pinchAround:m}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const m=25/(Math.PI*this._minDiameter)*360,w=pc(l,this._startVector);return Math.abs(w)<m}}function zu(M){return Math.abs(M.y)>Math.abs(M.x)}class Ca extends mi{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(l){this._lastPoints=l,zu(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,m,w){const S=l[0].sub(this._lastPoints[0]),k=l[1].sub(this._lastPoints[1]);if(!(this._map._cooperativeGestures&&w.touches.length<3)&&(this._valid=this.gestureBeginsVertically(S,k,w.timeStamp),this._valid))return this._lastPoints=l,this._active=!0,{pitchDelta:(S.y+k.y)/2*-.5}}gestureBeginsVertically(l,m,w){if(void 0!==this._valid)return this._valid;const S=l.mag()>=2,k=m.mag()>=2;if(!S&&!k)return;if(!S||!k)return void 0===this._firstMove&&(this._firstMove=w),w-this._firstMove<100&&void 0;const z=l.y>0==m.y>0;return zu(l)&&zu(m)&&z}}const Hc={panStep:100,bearingStep:15,pitchStep:10};class Gn{constructor(){const l=Hc;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let m=0,w=0,S=0,k=0,z=0;switch(l.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:l.shiftKey?w=-1:(l.preventDefault(),k=-1);break;case 39:l.shiftKey?w=1:(l.preventDefault(),k=1);break;case 38:l.shiftKey?S=1:(l.preventDefault(),z=-1);break;case 40:l.shiftKey?S=-1:(l.preventDefault(),z=1);break;default:return}return this._rotationDisabled&&(w=0,S=0),{cameraAnimation:G=>{const K=G.getZoom();G.easeTo({duration:300,easeId:"keyboardHandler",easing:ja,zoom:m?Math.round(K)+m*(l.shiftKey?2:1):K,bearing:G.getBearing()+w*this._bearingStep,pitch:G.getPitch()+S*this._pitchStep,offset:[-k*this._panStep,-z*this._panStep],center:G.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ja(M){return M*(2-M)}const ra=4.000244140625;class fu{constructor(l,m){this._map=l,this._el=l.getCanvasContainer(),this._handler=m,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,d.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=l&&"center"===l.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(l.ctrlKey||l.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let m=l.deltaMode===d.window.WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const w=d.exported.now(),S=w-(this._lastWheelEventTime||0);this._lastWheelEventTime=w,0!==m&&m%ra==0?this._type="wheel":0!==m&&Math.abs(m)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=m,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(S*m)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,m+=this._lastValue)),l.shiftKey&&m&&(m/=4),this._type&&(this._lastWheelEvent=l,this._delta-=m,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const m=ie.mousePos(this._el,l);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:m,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform,m=()=>l._terrainEnabled()?l.computeZoomRelativeTo(this._aroundCoord):l.zoom;if(0!==this._delta){const K="wheel"===this._type&&Math.abs(this._delta)>ra?this._wheelZoomRate:this._defaultZoomRate;let oe=2/(1+Math.exp(-Math.abs(this._delta*K)));this._delta<0&&0!==oe&&(oe=1/oe);const le=m(),ce=Math.pow(2,le),Pe="number"==typeof this._targetZoom?l.zoomScale(this._targetZoom):ce;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(Pe*oe))),"wheel"===this._type&&(this._startZoom=m(),this._easing=this._smoothOutEasing(200)),this._delta=0}const w="number"==typeof this._targetZoom?this._targetZoom:m(),S=this._startZoom,k=this._easing;let z,G=!1;if("wheel"===this._type&&S&&k){const K=Math.min((d.exported.now()-this._lastWheelEventTime)/200,1),oe=k(K);z=d.number(S,w,oe),K<1?this._frameId||(this._frameId=!0):G=!0}else z=w,G=!0;return this._active=!0,G&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!G,zoomDelta:z-m(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let m=d.ease;if(this._prevEase){const w=this._prevEase,S=(d.exported.now()-w.start)/w.duration,k=w.easing(S+.01)-w.easing(S),z=.27/Math.sqrt(k*k+1e-4)*.01,G=Math.sqrt(.0729-z*z);m=d.bezier(z,G,.25,1)}return this._prevEase={start:d.exported.now(),duration:l,easing:m},m}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ie.create("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(d.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_isFullscreen(){return!!d.window.document.fullscreenElement}_showBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")},200)}}class Bu{constructor(l,m){this._clickZoom=l,this._tapZoom=m}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class mc{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(l,m){return l.preventDefault(),{cameraAnimation:w=>{w.easeTo({duration:300,zoom:w.getZoom()+(l.shiftKey?-1:1),around:w.unproject(m)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Za{constructor(){this._tap=new Zo({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(l,m,w){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?w.length>0&&(this._swipePoint=m[0],this._swipeTouch=w[0].identifier):this._tap.touchstart(l,m,w))}touchmove(l,m,w){if(this._tapTime){if(this._swipePoint){if(w[0].identifier!==this._swipeTouch)return;const S=m[0],k=S.y-this._swipePoint.y;return this._swipePoint=S,l.preventDefault(),this._active=!0,{zoomDelta:k/128}}}else this._tap.touchmove(l,m,w)}touchend(l,m,w){this._tapTime?this._swipePoint&&0===w.length&&this.reset():this._tap.touchend(l,m,w)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class gc{constructor(l,m,w){this._el=l,this._mousePan=m,this._touchPan=w}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ju{constructor(l,m,w){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=m,this._mousePitch=w}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Pr{constructor(l,m,w,S){this._el=l,this._touchZoom=m,this._touchRotate=w,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ar=M=>M.zoom||M.drag||M.pitch||M.rotate;class Lu extends d.Event{}class Vu{constructor(){this.constants=[1,1,.01],this.radius=0}setup(l,m){const w=d.sub([],m,l);this.radius=d.length(w[2]<0?d.div([],w,this.constants):[w[0],w[1],0])}projectRay(l){d.div(l,l,this.constants),d.normalize(l,l),d.mul$2(l,l,this.constants);const m=d.scale([],l,this.radius);if(m[2]>0){const w=d.scale([],[0,0,1],d.dot(m,[0,0,1])),S=d.scale([],d.normalize([],[m[0],m[1],0]),this.radius),k=d.add([],m,d.scale([],d.sub([],d.add([],S,w),m),2));m[0]=k[0],m[1]=k[1]}return m}}function Al(M){return M.panDelta&&M.panDelta.mag()||M.zoomDelta||M.bearingDelta||M.pitchDelta}class ma{constructor(l,m){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new $o(l),this._bearingSnap=m.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Vu,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(m),d.bindAll(["handleEvent","handleWindowEvent"],this);const w=this._el;this._listeners=[[w,"touchstart",{passive:!0}],[w,"touchmove",{passive:!1}],[w,"touchend",void 0],[w,"touchcancel",void 0],[w,"mousedown",void 0],[w,"mousemove",void 0],[w,"mouseup",void 0],[d.window.document,"mousemove",{capture:!0}],[d.window.document,"mouseup",void 0],[w,"mouseover",void 0],[w,"mouseout",void 0],[w,"dblclick",void 0],[w,"click",void 0],[w,"keydown",{capture:!1}],[w,"keyup",void 0],[w,"wheel",{passive:!1}],[w,"contextmenu",void 0],[d.window,"blur",void 0]];for(const[S,k,z]of this._listeners)ie.addEventListener(S,k,S===d.window.document?this.handleWindowEvent:this.handleEvent,z)}destroy(){for(const[l,m,w]of this._listeners)ie.removeEventListener(l,m,l===d.window.document?this.handleWindowEvent:this.handleEvent,w)}_addDefaultHandlers(l){const m=this._map,w=m.getCanvasContainer();this._add("mapEvent",new Da(m,l));const S=m.boxZoom=new Ps(m,l);this._add("boxZoom",S);const k=new Fi,z=new mc;m.doubleClickZoom=new Bu(z,k),this._add("tapZoom",k),this._add("clickZoom",z);const G=new Za;this._add("tapDragZoom",G);const K=m.touchPitch=new Ca(m);this._add("touchPitch",K);const oe=new js(l),le=new Qs(l);m.dragRotate=new ju(l,oe,le),this._add("mouseRotate",oe,["mousePitch"]),this._add("mousePitch",le,["mouseRotate"]);const ce=new Xl(l),Pe=new Uc(m,l);m.dragPan=new gc(w,ce,Pe),this._add("mousePan",ce),this._add("touchPan",Pe,["touchZoom","touchRotate"]);const je=new _o,et=new ri;m.touchZoomRotate=new Pr(w,et,je,G),this._add("touchRotate",je,["touchPan","touchZoom"]),this._add("touchZoom",et,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Pl(m));const $e=m.scrollZoom=new fu(m,this);this._add("scrollZoom",$e,["mousePan"]);const st=m.keyboard=new Gn;this._add("keyboard",st);for(const Xe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[Xe]&&m[Xe].enable(l[Xe])}_add(l,m,w){this._handlers.push({handlerName:l,handler:m,allowed:w}),this._handlersById[l]=m}stop(l){if(!this._updatingCamera){for(const{handler:m}of this._handlers)m.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Ar(this._eventsInProgress))||this.isZooming()}_blockedByActive(l,m,w){for(const S in l)if(S!==w&&(!m||m.indexOf(S)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const m=[];for(const w of l)this._el.contains(w.target)&&m.push(w);return m}handleEvent(l,m){this._updatingCamera=!0;const w="renderFrame"===l.type,S=w?void 0:l,k={needsRenderFrame:!1},z={},G={},K=l.touches?this._getMapTouches(l.touches):void 0,oe=K?ie.touchPos(this._el,K):w?void 0:ie.mousePos(this._el,l);for(const{handlerName:Pe,handler:je,allowed:et}of this._handlers){if(!je.isEnabled())continue;let $e;this._blockedByActive(G,et,Pe)?je.reset():je[m||l.type]&&($e=je[m||l.type](l,oe,K),this.mergeHandlerResult(k,z,$e,Pe,S),$e&&$e.needsRenderFrame&&this._triggerRenderFrame()),($e||je.isActive())&&(G[Pe]=je)}const le={};for(const Pe in this._previousActiveHandlers)G[Pe]||(le[Pe]=S);this._previousActiveHandlers=G,(Object.keys(le).length||Al(k))&&(this._changes.push([k,z,le]),this._triggerRenderFrame()),(Object.keys(G).length||Al(k))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ce}=k;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))}mergeHandlerResult(l,m,w,S,k){if(!w)return;d.extend(l,w);const z={handlerName:S,originalEvent:w.originalEvent||k};void 0!==w.zoomDelta&&(m.zoom=z),void 0!==w.panDelta&&(m.drag=z),void 0!==w.pitchDelta&&(m.pitch=z),void 0!==w.bearingDelta&&(m.rotate=z)}_applyChanges(){const l={},m={},w={};for(const[S,k,z]of this._changes)S.panDelta&&(l.panDelta=(l.panDelta||new d.pointGeometry(0,0))._add(S.panDelta)),S.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+S.pitchDelta),void 0!==S.around&&(l.around=S.around),void 0!==S.aroundCoord&&(l.aroundCoord=S.aroundCoord),void 0!==S.pinchAround&&(l.pinchAround=S.pinchAround),S.noInertia&&(l.noInertia=S.noInertia),d.extend(m,k),d.extend(w,z);this._updateMapTransform(l,m,w),this._changes=[]}_updateMapTransform(l,m,w){const S=this._map,k=S.transform,z=at=>[at.x,at.y,at.z];if((at=>{const ut=this._eventsInProgress.drag;return ut&&!this._handlersById[ut.handlerName].isActive()})()&&!Al(l)){const at=k.zoom;k.cameraElevationReference="sea",k.recenterOnTerrain(),k.cameraElevationReference="ground",at!==k.zoom&&this._map._update(!0)}if(!Al(l))return this._fireEvents(m,w,!0);let{panDelta:G,zoomDelta:K,bearingDelta:oe,pitchDelta:le,around:ce,aroundCoord:Pe,pinchAround:je}=l;void 0!==je&&(ce=je),(at=>m.drag&&!this._eventsInProgress.drag)()&&ce&&(this._dragOrigin=z(k.pointCoordinate3D(ce)),this._trackingEllipsoid.setup(k._camera.position,this._dragOrigin)),k.cameraElevationReference="sea",S._stop(!0),ce=ce||S.transform.centerPoint,oe&&(k.bearing+=oe),le&&(k.pitch+=le),k._updateCameraState();const et=[0,0,0];if(G){const at=k.screenPointToMercatorRay(ce),ut=k.screenPointToMercatorRay(ce.sub(G)),Ke=this._trackingEllipsoid.projectRay(at.dir),ft=this._trackingEllipsoid.projectRay(ut.dir);et[0]=ft[0]-Ke[0],et[1]=ft[1]-Ke[1]}const $e=k.zoom,st=[0,0,0];if(K){const at=z(Pe||k.pointCoordinate3D(ce)),ut={dir:d.normalize([],d.sub([],at,k._camera.position))},Ke=k.screenPointToMercatorRay(k.centerPoint);if(ut.dir[2]<0){const ft=d.altitudeFromMercatorZ(at[2],at[1]),Dt=k.rayIntersectionCoordinate(k.pointRayIntersection(k.centerPoint,ft)),Jt=k.zoomDeltaToMovement(z(Dt),K)*(Ke.dir[2]/ut.dir[2]);d.scale(st,ut.dir,Jt)}else if(k._terrainEnabled()){const ft=k.zoomDeltaToMovement(at,K);d.scale(st,ut.dir,ft)}}const Xe=d.add(et,et,st);k._translateCameraConstrained(Xe),K&&Math.abs(k.zoom-$e)>1e-4&&k.recenterOnTerrain(),k.cameraElevationReference="ground",this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(m,w,!0)}_fireEvents(l,m,w){const S=Ar(this._eventsInProgress),k=Ar(l),z={};for(const le in l){const{originalEvent:ce}=l[le];this._eventsInProgress[le]||(z[`${le}start`]=ce),this._eventsInProgress[le]=l[le]}!S&&k&&this._fireEvent("movestart",k.originalEvent);for(const le in z)this._fireEvent(le,z[le]);k&&this._fireEvent("move",k.originalEvent);for(const le in l){const{originalEvent:ce}=l[le];this._fireEvent(le,ce)}const G={};let K;for(const le in this._eventsInProgress){const{handlerName:ce,originalEvent:Pe}=this._eventsInProgress[le];this._handlersById[ce].isActive()||(delete this._eventsInProgress[le],K=m[ce]||Pe,G[`${le}end`]=K)}for(const le in G)this._fireEvent(le,G[le]);const oe=Ar(this._eventsInProgress);if(w&&(S||k)&&!oe){this._updatingCamera=!0;const le=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ce=Pe=>0!==Pe&&-this._bearingSnap<Pe&&Pe<this._bearingSnap;le?(ce(le.bearing||this._map.getBearing())&&(le.bearing=0),this._map.easeTo(le,{originalEvent:K})):(this._map.fire(new d.Event("moveend",{originalEvent:K})),ce(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,m){this._map.fire(new d.Event(l,m?{originalEvent:m}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Lu("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const hh="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Xa extends d.Evented{constructor(l,m){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=m.bearingSnap,d.bindAll(["_renderFrameCallback"],this)}getCenter(){return new d.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,m){return this.jumpTo({center:l},m)}panBy(l,m,w){return l=d.pointGeometry.convert(l).mult(-1),this.panTo(this.transform.center,d.extend({offset:l},m),w)}panTo(l,m,w){return this.easeTo(d.extend({center:l},m),w)}getZoom(){return this.transform.zoom}setZoom(l,m){return this.jumpTo({zoom:l},m),this}zoomTo(l,m,w){return this.easeTo(d.extend({zoom:l},m),w)}zoomIn(l,m){return this.zoomTo(this.getZoom()+1,l,m),this}zoomOut(l,m){return this.zoomTo(this.getZoom()-1,l,m),this}getBearing(){return this.transform.bearing}setBearing(l,m){return this.jumpTo({bearing:l},m),this}getPadding(){return this.transform.padding}setPadding(l,m){return this.jumpTo({padding:l},m),this}rotateTo(l,m,w){return this.easeTo(d.extend({bearing:l},m),w)}resetNorth(l,m){return this.rotateTo(0,d.extend({duration:1e3},l),m),this}resetNorthPitch(l,m){return this.easeTo(d.extend({bearing:0,pitch:0,duration:1e3},l),m),this}snapToNorth(l,m){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,m):this}getPitch(){return this.transform.pitch}setPitch(l,m){return this.jumpTo({pitch:l},m),this}cameraForBounds(l,m){l=d.LngLatBounds.convert(l);const w=m&&m.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),w,m)}_extendCameraOptions(l){const m={top:0,bottom:0,right:0,left:0};if("number"==typeof(l=d.extend({padding:m,offset:[0,0],maxZoom:this.transform.maxZoom},l)).padding){const w=l.padding;l.padding={top:w,bottom:w,right:w,left:w}}return l.padding=d.extend(m,l.padding),l}_cameraForBoxAndBearing(l,m,w,S){const k=this._extendCameraOptions(S),z=this.transform,G=z.padding,K=z.project(d.LngLat.convert(l)),oe=z.project(d.LngLat.convert(m)),le=K.rotate(-d.degToRad(w)),ce=oe.rotate(-d.degToRad(w)),Pe=new d.pointGeometry(Math.max(le.x,ce.x),Math.max(le.y,ce.y)),je=new d.pointGeometry(Math.min(le.x,ce.x),Math.min(le.y,ce.y)),et=Pe.sub(je),$e=(z.width-(G.left+G.right+k.padding.left+k.padding.right))/et.x,st=(z.height-(G.top+G.bottom+k.padding.top+k.padding.bottom))/et.y;if(st<0||$e<0)return void d.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Xe=Math.min(z.scaleZoom(z.scale*Math.min($e,st)),k.maxZoom),at="number"==typeof k.offset.x?new d.pointGeometry(k.offset.x,k.offset.y):d.pointGeometry.convert(k.offset),ut=new d.pointGeometry((k.padding.left-k.padding.right)/2,(k.padding.top-k.padding.bottom)/2).rotate(w*Math.PI/180),Ke=at.add(ut).mult(z.scale/z.zoomScale(Xe));return{center:z.unproject(K.add(oe).div(2).sub(Ke)),zoom:Xe,bearing:w}}_cameraForBox(l,m,w,S,k){const z=this._extendCameraOptions(k);w=w||0,S=S||0,l=d.LngLat.convert(l),m=d.LngLat.convert(m);const G=this.transform.clone();G.padding=z.padding;const K=this.getFreeCameraOptions(),oe=new d.LngLat(.5*(l.lng+m.lng),.5*(l.lat+m.lat)),le=.5*(w+S);if(G._camera.position[2]<d.mercatorZfromAltitude(le,oe.lat))return void d.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");K.lookAtPoint(oe),G.setFreeCameraOptions(K);const ce=d.MercatorCoordinate.fromLngLat(l),Pe=d.MercatorCoordinate.fromLngLat(m),je=G.pointRayIntersection(G.centerPoint,le),et=[($e=G.rayIntersectionCoordinate(je)).x,$e.y,$e.z];var $e;const st=G.screenPointToMercatorRay(G.centerPoint);let Xe,at=0;do{const ut=Math.floor(G.zoom),Ke=1<<ut,ft=Math.min(Ke*ce.x,Ke*Pe.x),Dt=Math.min(Ke*ce.y,Ke*Pe.y),Jt=Math.max(Ke*ce.x,Ke*Pe.x),Zt=Math.max(Ke*ce.y,Ke*Pe.y),an=new se([ft,Dt,w],[Jt,Zt,S]),Qt=xe.fromInvProjectionMatrix(G.invProjMatrix,G.worldSize,ut);if(2!==an.intersects(Qt)){Xe&&(G._camera.position=d.scaleAndAdd([],G._camera.position,st.dir,-Xe),G._updateStateFromCamera());break}const xn=d.sub([],G._camera.position,et);Xe=.5*d.length(xn),G._camera.position=d.scaleAndAdd([],G._camera.position,st.dir,Xe);try{G._updateStateFromCamera()}catch(on){return void d.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++at<10);return{center:G.center,zoom:G.zoom,bearing:G.bearing,pitch:G.pitch}}fitBounds(l,m,w){return this._fitInternal(this.cameraForBounds(l,m),m,w)}_raycastElevationBox(l,m){const w=this.transform.elevation;if(!w)return;const S=new d.pointGeometry(l.x,m.y),k=new d.pointGeometry(m.x,l.y),z=w.pointCoordinate(l);if(!z)return;const G=w.pointCoordinate(m);if(!G)return;const K=w.pointCoordinate(S);if(!K)return;const oe=w.pointCoordinate(k);if(!oe)return;const le=new d.MercatorCoordinate(z[0],z[1]).toLngLat(),ce=new d.MercatorCoordinate(G[0],G[1]).toLngLat(),Pe=new d.MercatorCoordinate(K[0],K[1]).toLngLat(),je=new d.MercatorCoordinate(oe[0],oe[1]).toLngLat(),et=Math.min(le.lng,Math.min(ce.lng,Math.min(Pe.lng,je.lng))),$e=Math.min(le.lat,Math.min(ce.lat,Math.min(Pe.lat,je.lat))),st=Math.max(le.lng,Math.max(ce.lng,Math.max(Pe.lng,je.lng))),Xe=Math.max(le.lat,Math.max(ce.lat,Math.max(Pe.lat,je.lat))),at=Math.min(z[3],Math.min(G[3],Math.min(K[3],oe[3]))),ut=Math.max(z[3],Math.max(G[3],Math.max(K[3],oe[3])));return{minLngLat:new d.LngLat(et,$e),maxLngLat:new d.LngLat(st,Xe),minAltitude:at,maxAltitude:ut}}fitScreenCoordinates(l,m,w,S,k){let z,G,K,oe;const le=d.pointGeometry.convert(l),ce=d.pointGeometry.convert(m),Pe=this._raycastElevationBox(le,ce);if(Pe)z=Pe.minLngLat,G=Pe.maxLngLat,K=Pe.minAltitude,oe=Pe.maxAltitude;else{if(this.transform.anyCornerOffEdge(le,ce))return this;z=this.transform.pointLocation(le),G=this.transform.pointLocation(ce)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(d.pointGeometry.convert(l)),this.transform.pointLocation(d.pointGeometry.convert(m)),w,S):this._cameraForBox(z,G,K,oe,S),S,k)}_fitInternal(l,m,w){return l?(delete(m=d.extend(l,m)).padding,m.linear?this.easeTo(m,w):this.flyTo(m,w)):this}jumpTo(l,m){this.stop();const w=this.transform;let S=!1,k=!1,z=!1;return"zoom"in l&&w.zoom!==+l.zoom&&(S=!0,w.zoom=+l.zoom),void 0!==l.center&&(w.center=d.LngLat.convert(l.center)),"bearing"in l&&w.bearing!==+l.bearing&&(k=!0,w.bearing=+l.bearing),"pitch"in l&&w.pitch!==+l.pitch&&(z=!0,w.pitch=+l.pitch),null==l.padding||w.isPaddingEqual(l.padding)||(w.padding=l.padding),this.fire(new d.Event("movestart",m)).fire(new d.Event("move",m)),S&&this.fire(new d.Event("zoomstart",m)).fire(new d.Event("zoom",m)).fire(new d.Event("zoomend",m)),k&&this.fire(new d.Event("rotatestart",m)).fire(new d.Event("rotate",m)).fire(new d.Event("rotateend",m)),z&&this.fire(new d.Event("pitchstart",m)).fire(new d.Event("pitch",m)).fire(new d.Event("pitchend",m)),this.fire(new d.Event("moveend",m))}getFreeCameraOptions(){return"mercator"!==this.transform.projection.name&&d.warnOnce(hh),this.transform.getFreeCameraOptions()}setFreeCameraOptions(l,m){const w=this.transform;if("mercator"!==w.projection.name)return void d.warnOnce(hh);this.stop();const S=w.zoom,k=w.pitch,z=w.bearing;w.setFreeCameraOptions(l);const G=S!==w.zoom,K=k!==w.pitch,oe=z!==w.bearing;return this.fire(new d.Event("movestart",m)).fire(new d.Event("move",m)),G&&this.fire(new d.Event("zoomstart",m)).fire(new d.Event("zoom",m)).fire(new d.Event("zoomend",m)),oe&&this.fire(new d.Event("rotatestart",m)).fire(new d.Event("rotate",m)).fire(new d.Event("rotateend",m)),K&&this.fire(new d.Event("pitchstart",m)).fire(new d.Event("pitch",m)).fire(new d.Event("pitchend",m)),this.fire(new d.Event("moveend",m)),this}easeTo(l,m){this._stop(!1,l.easeId),(!1===(l=d.extend({offset:[0,0],duration:500,easing:d.ease},l)).animate||!l.essential&&d.exported.prefersReducedMotion)&&(l.duration=0);const w=this.transform,S=this.getZoom(),k=this.getBearing(),z=this.getPitch(),G=this.getPadding(),K="zoom"in l?+l.zoom:S,oe="bearing"in l?this._normalizeBearing(l.bearing,k):k,le="pitch"in l?+l.pitch:z,ce="padding"in l?l.padding:w.padding,Pe=d.pointGeometry.convert(l.offset);let je=w.centerPoint.add(Pe);const et=w.pointLocation(je),$e=d.LngLat.convert(l.center||et);this._normalizeCenter($e);const st=w.project(et),Xe=w.project($e).sub(st),at=w.zoomScale(K-S);let ut,Ke;l.around&&(ut=d.LngLat.convert(l.around),Ke=w.locationPoint(ut));const ft={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||K!==S,this._rotating=this._rotating||k!==oe,this._pitching=this._pitching||le!==z,this._padding=!w.isPaddingEqual(ce),this._easeId=l.easeId,this._prepareEase(m,l.noMoveStart,ft),this._ease(Dt=>{if(this._zooming&&(w.zoom=d.number(S,K,Dt)),this._rotating&&(w.bearing=d.number(k,oe,Dt)),this._pitching&&(w.pitch=d.number(z,le,Dt)),this._padding&&(w.interpolatePadding(G,ce,Dt),je=w.centerPoint.add(Pe)),ut)w.setLocationAtPoint(ut,Ke);else{const Jt=w.zoomScale(w.zoom-S),Zt=K>S?Math.min(2,at):Math.max(.5,at),an=Math.pow(Zt,1-Dt),Qt=w.unproject(st.add(Xe.mult(Dt*an)).mult(Jt));w.setLocationAtPoint(w.renderWorldCopies?Qt.wrap():Qt,je)}this._fireMoveEvents(m)},Dt=>{w.recenterOnTerrain(),this._afterEase(m,Dt)},l),this}_prepareEase(l,m,w={}){this._moving=!0,this.transform.cameraElevationReference="sea",m||w.moving||this.fire(new d.Event("movestart",l)),this._zooming&&!w.zooming&&this.fire(new d.Event("zoomstart",l)),this._rotating&&!w.rotating&&this.fire(new d.Event("rotatestart",l)),this._pitching&&!w.pitching&&this.fire(new d.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new d.Event("move",l)),this._zooming&&this.fire(new d.Event("zoom",l)),this._rotating&&this.fire(new d.Event("rotate",l)),this._pitching&&this.fire(new d.Event("pitch",l))}_afterEase(l,m){if(this._easeId&&m&&this._easeId===m)return;delete this._easeId,this.transform.cameraElevationReference="ground";const w=this._zooming,S=this._rotating,k=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,w&&this.fire(new d.Event("zoomend",l)),S&&this.fire(new d.Event("rotateend",l)),k&&this.fire(new d.Event("pitchend",l)),this.fire(new d.Event("moveend",l))}flyTo(l,m){if(!l.essential&&d.exported.prefersReducedMotion){const In=d.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(In,m)}this.stop(),l=d.extend({offset:[0,0],speed:1.2,curve:1.42,easing:d.ease},l);const w=this.transform,S=this.getZoom(),k=this.getBearing(),z=this.getPitch(),G=this.getPadding(),K="zoom"in l?d.clamp(+l.zoom,w.minZoom,w.maxZoom):S,oe="bearing"in l?this._normalizeBearing(l.bearing,k):k,le="pitch"in l?+l.pitch:z,ce="padding"in l?l.padding:w.padding,Pe=w.zoomScale(K-S),je=d.pointGeometry.convert(l.offset);let et=w.centerPoint.add(je);const $e=w.pointLocation(et),st=d.LngLat.convert(l.center||$e);this._normalizeCenter(st);const Xe=w.project($e),at=w.project(st).sub(Xe);let ut=l.curve;const Ke=Math.max(w.width,w.height),ft=Ke/Pe,Dt=at.mag();if("minZoom"in l){const In=d.clamp(Math.min(l.minZoom,S,K),w.minZoom,w.maxZoom),Zn=Ke/w.zoomScale(In-S);ut=Math.sqrt(Zn/Dt*2)}const Jt=ut*ut;function Zt(In){const Zn=(ft*ft-Ke*Ke+(In?-1:1)*Jt*Jt*Dt*Dt)/(2*(In?ft:Ke)*Jt*Dt);return Math.log(Math.sqrt(Zn*Zn+1)-Zn)}function an(In){return(Math.exp(In)-Math.exp(-In))/2}function Qt(In){return(Math.exp(In)+Math.exp(-In))/2}const xn=Zt(0);let on=function(In){return Qt(xn)/Qt(xn+ut*In)},kn=function(In){return Ke*((Qt(xn)*(an(Zn=xn+ut*In)/Qt(Zn))-an(xn))/Jt)/Dt;var Zn},Vt=(Zt(1)-xn)/ut;if(Math.abs(Dt)<1e-6||!isFinite(Vt)){if(Math.abs(Ke-ft)<1e-6)return this.easeTo(l,m);const In=ft<Ke?-1:1;Vt=Math.abs(Math.log(ft/Ke))/ut,kn=function(){return 0},on=function(Zn){return Math.exp(In*ut*Zn)}}return l.duration="duration"in l?+l.duration:1e3*Vt/("screenSpeed"in l?+l.screenSpeed/ut:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=k!==oe,this._pitching=le!==z,this._padding=!w.isPaddingEqual(ce),this._prepareEase(m,!1),this._ease(In=>{const Zn=In*Vt,Rr=1/on(Zn);w.zoom=1===In?K:S+w.scaleZoom(Rr),this._rotating&&(w.bearing=d.number(k,oe,In)),this._pitching&&(w.pitch=d.number(z,le,In)),this._padding&&(w.interpolatePadding(G,ce,In),et=w.centerPoint.add(je));const Vr=1===In?st:w.unproject(Xe.add(at.mult(kn(Zn))).mult(Rr));w.setLocationAtPoint(w.renderWorldCopies?Vr.wrap():Vr,et),w._updateCenterElevation(),this._fireMoveEvents(m)},()=>this._afterEase(m),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,m){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const w=this._onEaseEnd;delete this._onEaseEnd,w.call(this,m)}if(!l){const w=this.handlers;w&&w.stop(!1)}return this}_ease(l,m,w){!1===w.animate||0===w.duration?(l(1),m()):(this._easeStart=d.exported.now(),this._easeOptions=w,this._onEaseFrame=l,this._onEaseEnd=m,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((d.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,m){l=d.wrap(l,-180,180);const w=Math.abs(l-m);return Math.abs(l-360-m)<w&&(l-=360),Math.abs(l+360-m)<w&&(l+=360),l}_normalizeCenter(l){const m=this.transform;if(!m.renderWorldCopies||m.maxBounds)return;const w=l.lng-m.center.lng;l.lng+=w>180?-360:w<-180?360:0}}class un{constructor(l={}){this.options=l,d.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){const m=this.options&&this.options.compact;return this._map=l,this._container=ie.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ie.create("button","mapboxgl-ctrl-attrib-button",this._container),ie.create("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden",!0),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ie.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),m&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===m&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){ie.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(l,m){const w=this._map._getUIString(`AttributionControl.${m}`);l.setAttribute("aria-label",w),l.firstElementChild&&l.firstElementChild.setAttribute("title",w)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let l=this._editLink;l||(l=this._editLink=this._container.querySelector(".mapbox-improve-map"));const m=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||d.config.ACCESS_TOKEN}];if(l){const w=m.reduce((S,k,z)=>(k.value&&(S+=`${k.key}=${k.value}${z<m.length-1?"&":""}`),S),"?");l.href=`${d.config.FEEDBACK_URL}/${w}${this._map._hash?this._map._hash.getHashString(!0):""}`,l.rel="noopener nofollow",this._setElementTitle(l,"MapFeedback")}}_updateData(l){!l||"metadata"!==l.sourceDataType&&"visibility"!==l.sourceDataType&&"style"!==l.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map(S=>"string"!=typeof S?"":S)):"string"==typeof this.options.customAttribution&&l.push(this.options.customAttribution)),this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const m=this._map.style._sourceCaches;for(const S in m){const k=m[S];if(k.used){const z=k.getSource();z.attribution&&l.indexOf(z.attribution)<0&&l.push(z.attribution)}}l.sort((S,k)=>S.length-k.length),l=l.filter((S,k)=>{for(let z=k+1;z<l.length;z++)if(l[z].indexOf(S)>=0)return!1;return!0});const w=l.join(" | ");w!==this._attribHTML&&(this._attribHTML=w,l.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class ki{constructor(){d.bindAll(["_updateLogo"],this),d.bindAll(["_updateCompact"],this)}onAdd(l){this._map=l,this._container=ie.create("div","mapboxgl-ctrl");const m=ie.create("a","mapboxgl-ctrl-logo");return m.target="_blank",m.rel="noopener nofollow",m.href="https://www.mapbox.com/",m.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),m.setAttribute("rel","noopener nofollow"),this._container.appendChild(m),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){ie.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(l){l&&"metadata"!==l.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const l=this._map.style._sourceCaches;if(0===Object.entries(l).length)return!0;for(const m in l){const w=l[m].getSource();if(w.hasOwnProperty("mapbox_logo")&&!w.mapbox_logo)return!1}return!0}_updateCompact(){const l=this._container.children;if(l.length){const m=l[0];this._map.getCanvasContainer().offsetWidth<250?m.classList.add("mapboxgl-compact"):m.classList.remove("mapboxgl-compact")}}}class gi{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const m=++this._id;return this._queue.push({callback:l,id:m,cancelled:!1}),m}remove(l){const m=this._currentlyRunning,w=m?this._queue.concat(m):this._queue;for(const S of w)if(S.id===l)return void(S.cancelled=!0)}run(l=0){const m=this._currentlyRunning=this._queue;this._queue=[];for(const w of m)if(!w.cancelled&&(w.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function a(M,l,m){if(M=new d.LngLat(M.lng,M.lat),l){const w=new d.LngLat(M.lng-360,M.lat),S=new d.LngLat(M.lng+360,M.lat),k=360*Math.ceil(Math.abs(M.lng-m.center.lng)/360),z=m.locationPoint(M).distSqr(l),G=l.x<0||l.y<0||l.x>m.width||l.y>m.height;m.locationPoint(w).distSqr(l)<z&&(G||Math.abs(w.lng-m.center.lng)<k)?M=w:m.locationPoint(S).distSqr(l)<z&&(G||Math.abs(S.lng-m.center.lng)<k)&&(M=S)}for(;Math.abs(M.lng-m.center.lng)>180;){const w=m.locationPoint(M);if(w.x>=0&&w.y>=0&&w.x<=m.width&&w.y<=m.height)break;M.lng>m.center.lng?M.lng-=360:M.lng+=360}return M}const h={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class g extends d.Evented{constructor(l,m){if(super(),(l instanceof d.window.HTMLElement||m)&&(l=d.extend({element:l},m)),d.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&"auto"!==l.pitchAlignment?l.pitchAlignment:this._rotationAlignment,l&&l.element)this._element=l.element,this._offset=d.pointGeometry.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=ie.create("div"),this._element.setAttribute("aria-label","Map marker");const S=ie.createNS("http://www.w3.org/2000/svg","svg"),k=41,z=27;S.setAttributeNS(null,"display","block"),S.setAttributeNS(null,"height",`${k}px`),S.setAttributeNS(null,"width",`${z}px`),S.setAttributeNS(null,"viewBox",`0 0 ${z} ${k}`);const G=ie.createNS("http://www.w3.org/2000/svg","g");G.setAttributeNS(null,"stroke","none"),G.setAttributeNS(null,"stroke-width","1"),G.setAttributeNS(null,"fill","none"),G.setAttributeNS(null,"fill-rule","evenodd");const K=ie.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"fill-rule","nonzero");const oe=ie.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),oe.setAttributeNS(null,"fill","#000000");const le=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ut of le){const Ke=ie.createNS("http://www.w3.org/2000/svg","ellipse");Ke.setAttributeNS(null,"opacity","0.04"),Ke.setAttributeNS(null,"cx","10.5"),Ke.setAttributeNS(null,"cy","5.80029008"),Ke.setAttributeNS(null,"rx",ut.rx),Ke.setAttributeNS(null,"ry",ut.ry),oe.appendChild(Ke)}const ce=ie.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"fill",this._color);const Pe=ie.createNS("http://www.w3.org/2000/svg","path");Pe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ce.appendChild(Pe);const je=ie.createNS("http://www.w3.org/2000/svg","g");je.setAttributeNS(null,"opacity","0.25"),je.setAttributeNS(null,"fill","#000000");const et=ie.createNS("http://www.w3.org/2000/svg","path");et.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),je.appendChild(et);const $e=ie.createNS("http://www.w3.org/2000/svg","g");$e.setAttributeNS(null,"transform","translate(6.0, 7.0)"),$e.setAttributeNS(null,"fill","#FFFFFF");const st=ie.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Xe=ie.createNS("http://www.w3.org/2000/svg","circle");Xe.setAttributeNS(null,"fill","#000000"),Xe.setAttributeNS(null,"opacity","0.25"),Xe.setAttributeNS(null,"cx","5.5"),Xe.setAttributeNS(null,"cy","5.5"),Xe.setAttributeNS(null,"r","5.4999962");const at=ie.createNS("http://www.w3.org/2000/svg","circle");at.setAttributeNS(null,"fill","#FFFFFF"),at.setAttributeNS(null,"cx","5.5"),at.setAttributeNS(null,"cy","5.5"),at.setAttributeNS(null,"r","5.4999962"),st.appendChild(Xe),st.appendChild(at),K.appendChild(oe),K.appendChild(ce),K.appendChild(je),K.appendChild($e),K.appendChild(st),S.appendChild(K),S.setAttributeNS(null,"height",k*this._scale+"px"),S.setAttributeNS(null,"width",z*this._scale+"px"),this._element.appendChild(S),this._offset=d.pointGeometry.convert(l&&l.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",S=>{S.preventDefault()}),this._element.addEventListener("mousedown",S=>{S.preventDefault()});const w=this._element.classList;for(const S in h)w.remove(`mapboxgl-marker-anchor-${S}`);w.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(l){return this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),l.on("remove",this._clearFadeTimer),l._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),ie.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=d.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const m=38.1,w=13.5,S=Math.sqrt(Math.pow(w,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-m],"bottom-left":[S,-1*(m-w+S)],"bottom-right":[-S,-1*(m-w+S)],left:[w,-1*(m-w)],right:[-w,-1*(m-w)]}:this._offset}this._popup=l,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(l){const m=l.code,w=l.charCode||l.keyCode;"Space"!==m&&"Enter"!==m&&32!==w&&13!==w||this.togglePopup()}_onMapClick(l){const m=l.originalEvent.target,w=this._element;this._popup&&(m===w||w.contains(m))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?(l.remove(),this._element.setAttribute("aria-expanded","false")):(l.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_evaluateOpacity(){const l=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(l))return void this._clearFadeTimer();const m=this._map.unproject(l);let w=!1;if(this._map.transform._terrainEnabled()&&this._map.getTerrain()){const k=this._map.getFreeCameraOptions();if(k.position){const z=k.position.toLngLat();w=z.distanceTo(m)<.9*z.distanceTo(this._lngLat)}}const S=(1-this._map._queryFogOpacity(m))*(w?.2:1);this._element.style.opacity=`${S}`,this._popup&&this._popup._setOpacity(`${S}`),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(l){const m=this._map.transform;return!!l&&l.x>=0&&l.x<m.width&&l.y>=0&&l.y<m.height}_update(l){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let m="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?m=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(m=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let w="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?w="rotateX(0deg)":"map"===this._pitchAlignment&&(w=`rotateX(${this._map.getPitch()}deg)`),l&&"moveend"!==l.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&ie.setTransform(this._element,`${h[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${w} ${m}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const l=this._map.transform,m=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&m._rotate(l.angle),"map"===this._pitchAlignment&&(m.y*=Math.cos(l._pitch)),m}getOffset(){return this._offset}setOffset(l){return this._offset=d.pointGeometry.convert(l),this._update(),this}_onMove(l){if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new d.Event("dragstart"))),this.fire(new d.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new d.Event("dragend")),this._state="inactive"}_addDragHandler(l){this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&"auto"!==l?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class v{constructor(l){this.jumpTo(l)}getValue(l){if(l<=this._startTime)return this._start;if(l>=this._endTime)return this._end;const m=d.easeCubicInOut((l-this._startTime)/(this._endTime-this._startTime));return this._start*(1-m)+this._end*m}isEasing(l){return l>=this._startTime&&l<=this._endTime}jumpTo(l){this._startTime=-1/0,this._endTime=-1/0,this._start=l,this._end=l}easeTo(l,m,w){this._start=this.getValue(m),this._end=l,this._startTime=m,this._endTime=m+w}}const C={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},{HTMLImageElement:V,HTMLElement:X,ImageBitmap:ye}=d.window,Ue={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function vt(M){M.parentNode&&M.parentNode.removeChild(M)}const Bt={showCompass:!0,showZoom:!0,visualizePitch:!1};class Gt{constructor(l,m,w=!1){this._clickTolerance=10,this.element=m,this.mouseRotate=new js({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,w&&(this.mousePitch=new Qs({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),d.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),ie.addEventListener(m,"mousedown",this.mousedown),ie.addEventListener(m,"touchstart",this.touchstart,{passive:!1}),ie.addEventListener(m,"touchmove",this.touchmove),ie.addEventListener(m,"touchend",this.touchend),ie.addEventListener(m,"touchcancel",this.reset)}down(l,m){this.mouseRotate.mousedown(l,m),this.mousePitch&&this.mousePitch.mousedown(l,m),ie.disableDrag()}move(l,m){const w=this.map,S=this.mouseRotate.mousemoveWindow(l,m);if(S&&S.bearingDelta&&w.setBearing(w.getBearing()+S.bearingDelta),this.mousePitch){const k=this.mousePitch.mousemoveWindow(l,m);k&&k.pitchDelta&&w.setPitch(w.getPitch()+k.pitchDelta)}}off(){const l=this.element;ie.removeEventListener(l,"mousedown",this.mousedown),ie.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),ie.removeEventListener(l,"touchmove",this.touchmove),ie.removeEventListener(l,"touchend",this.touchend),ie.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){ie.enableDrag(),ie.removeEventListener(d.window,"mousemove",this.mousemove),ie.removeEventListener(d.window,"mouseup",this.mouseup)}mousedown(l){this.down(d.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),ie.mousePos(this.element,l)),ie.addEventListener(d.window,"mousemove",this.mousemove),ie.addEventListener(d.window,"mouseup",this.mouseup)}mousemove(l){this.move(l,ie.mousePos(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){1!==l.targetTouches.length?this.reset():(this._startPos=this._lastPos=ie.touchPos(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){1!==l.targetTouches.length?this.reset():(this._lastPos=ie.touchPos(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){0===l.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Ln={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let Cn,Yn=0,sr=!1;const Mi={maxWidth:100,unit:"metric"};function so(M,l,m){const w=m&&m.maxWidth||100,S=M._container.getBoundingClientRect().height/2,k=M.unproject([0,S]),z=M.unproject([w,S]),G=k.distanceTo(z);if(m&&"imperial"===m.unit){const K=3.2808*G;K>5280?ko(l,w,K/5280,M._getUIString("ScaleControl.Miles"),M):ko(l,w,K,M._getUIString("ScaleControl.Feet"),M)}else m&&"nautical"===m.unit?ko(l,w,G/1852,M._getUIString("ScaleControl.NauticalMiles"),M):G>=1e3?ko(l,w,G/1e3,M._getUIString("ScaleControl.Kilometers"),M):ko(l,w,G,M._getUIString("ScaleControl.Meters"),M)}function ko(M,l,m,w,S){const k=function(G){const K=Math.pow(10,`${Math.floor(G)}`.length-1);let oe=G/K;return oe=oe>=10?10:oe>=5?5:oe>=3?3:oe>=2?2:oe>=1?1:function(le){const ce=Math.pow(10,Math.ceil(-Math.log(le)/Math.LN10));return Math.round(le*ce)/ce}(oe),K*oe}(m),z=k/m;S._requestDomTask(()=>{M.style.width=l*z+"px",M.innerHTML=`${k}&nbsp;${w}`})}const Ol={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ta=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),ku={version:d.version,supported:O,setRTLTextPlugin:d.setRTLTextPlugin,getRTLTextPluginStatus:d.getRTLTextPluginStatus,Map:class extends Xa{constructor(M){if(null!=(M=d.extend({},Ue,M)).minZoom&&null!=M.maxZoom&&M.minZoom>M.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=M.minPitch&&null!=M.maxPitch&&M.minPitch>M.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=M.minPitch&&M.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=M.maxPitch&&M.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new uh(M.minZoom,M.maxZoom,M.minPitch,M.maxPitch,M.renderWorldCopies),M),this._interactive=M.interactive,this._maxTileCacheSize=M.maxTileCacheSize,this._failIfMajorPerformanceCaveat=M.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=M.preserveDrawingBuffer,this._antialias=M.antialias,this._trackResize=M.trackResize,this._bearingSnap=M.bearingSnap,this._refreshExpiredTiles=M.refreshExpiredTiles,this._fadeDuration=M.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=M.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=M.collectResourceTiming,this._optimizeForTerrain=M.optimizeForTerrain,this._renderTaskQueue=new gi,this._domRenderTaskQueue=new gi,this._controls=[],this._markers=[],this._mapId=d.uniqueId(),this._locale=d.extend({},C,M.locale),this._clickTolerance=M.clickTolerance,this._cooperativeGestures=M.cooperativeGestures,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new v(0),this._requestManager=new d.RequestManager(M.transformRequest,M.accessToken,M.testMode),this._silenceAuthErrors=!!M.testMode,"string"==typeof M.container){if(this._container=d.window.document.getElementById(M.container),!this._container)throw new Error(`Container '${M.container}' not found.`)}else{if(!(M.container instanceof X))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=M.container}if(M.maxBounds&&this.setMaxBounds(M.maxBounds),d.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==d.window&&(d.window.addEventListener("online",this._onWindowOnline,!1),d.window.addEventListener("resize",this._onWindowResize,!1),d.window.addEventListener("orientationchange",this._onWindowResize,!1),d.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new ma(this,M),this._localFontFamily=M.localFontFamily,this._localIdeographFontFamily=M.localIdeographFontFamily,M.style&&this.setStyle(M.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),M.projection&&this.setProjection(M.projection),this._hash=M.hash&&new du("string"==typeof M.hash&&M.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:M.center,zoom:M.zoom,bearing:M.bearing,pitch:M.pitch}),M.bounds&&(this.resize(),this.fitBounds(M.bounds,d.extend({},M.fitBoundsOptions,{duration:0})))),this.resize(),M.attributionControl&&this.addControl(new un({customAttribution:M.customAttribution})),this._logoControl=new ki,this.addControl(this._logoControl,M.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",l=>{this._update("style"===l.dataType),this.fire(new d.Event(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new d.Event(`${l.dataType}dataloading`,l))})}_getMapId(){return this._mapId}addControl(M,l){if(void 0===l&&(l=M.getDefaultPosition?M.getDefaultPosition():"top-right"),!M||!M.onAdd)return this.fire(new d.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const m=M.onAdd(this);this._controls.push(M);const w=this._controlPositions[l];return-1!==l.indexOf("bottom")?w.insertBefore(m,w.firstChild):w.appendChild(m),this}removeControl(M){if(!M||!M.onRemove)return this.fire(new d.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(M);return l>-1&&this._controls.splice(l,1),M.onRemove(this),this}hasControl(M){return this._controls.indexOf(M)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(M){const[l,m]=this._containerDimensions();if(l===this.transform.width&&m===this.transform.height)return this;this._resizeCanvas(l,m),this.transform.resize(l,m),this.painter.resize(Math.ceil(l),Math.ceil(m));const w=!this._moving;return w&&this.fire(new d.Event("movestart",M)).fire(new d.Event("move",M)),this.fire(new d.Event("resize",M)),w&&this.fire(new d.Event("moveend",M)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(M){return this.transform.setMaxBounds(d.LngLatBounds.convert(M)),this._update()}setMinZoom(M){if((M=null==M?-2:M)>=-2&&M<=this.transform.maxZoom)return this.transform.minZoom=M,this._update(),this.getZoom()<M?this.setZoom(M):this.fire(new d.Event("zoomstart")).fire(new d.Event("zoom")).fire(new d.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(M){if((M=null==M?22:M)>=this.transform.minZoom)return this.transform.maxZoom=M,this._update(),this.getZoom()>M?this.setZoom(M):this.fire(new d.Event("zoomstart")).fire(new d.Event("zoom")).fire(new d.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(M){if((M=null==M?0:M)<0)throw new Error("minPitch must be greater than or equal to 0");if(M>=0&&M<=this.transform.maxPitch)return this.transform.minPitch=M,this._update(),this.getPitch()<M?this.setPitch(M):this.fire(new d.Event("pitchstart")).fire(new d.Event("pitch")).fire(new d.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(M){if((M=null==M?85:M)>85)throw new Error("maxPitch must be less than or equal to 85");if(M>=this.transform.minPitch)return this.transform.maxPitch=M,this._update(),this.getPitch()>M?this.setPitch(M):this.fire(new d.Event("pitchstart")).fire(new d.Event("pitch")).fire(new d.Event("pitchend")),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(M){return this.transform.renderWorldCopies=M,this._update()}getProjection(){return this.transform.getProjection()}setProjection(M){this._lazyInitEmptyStyle(),"string"==typeof M&&(M={name:M}),this._runtimeProjection=M,this.style.updateProjection()}project(M){return this.transform.locationPoint3D(d.LngLat.convert(M))}unproject(M){return this.transform.pointLocation3D(d.pointGeometry.convert(M))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(M,l,m){if("mouseenter"===M||"mouseover"===M){let w=!1;const S=z=>{const G=l.filter(oe=>this.getLayer(oe)),K=G.length?this.queryRenderedFeatures(z.point,{layers:G}):[];K.length?w||(w=!0,m.call(this,new qi(M,this,z.originalEvent,{features:K}))):w=!1},k=()=>{w=!1};return{layers:new Set(l),listener:m,delegates:{mousemove:S,mouseout:k}}}if("mouseleave"===M||"mouseout"===M){let w=!1;const S=z=>{const G=l.filter(K=>this.getLayer(K));(G.length?this.queryRenderedFeatures(z.point,{layers:G}):[]).length?w=!0:w&&(w=!1,m.call(this,new qi(M,this,z.originalEvent)))},k=z=>{w&&(w=!1,m.call(this,new qi(M,this,z.originalEvent)))};return{layers:new Set(l),listener:m,delegates:{mousemove:S,mouseout:k}}}{const w=S=>{const k=l.filter(G=>this.getLayer(G)),z=k.length?this.queryRenderedFeatures(S.point,{layers:k}):[];z.length&&(S.features=z,m.call(this,S),delete S.features)};return{layers:new Set(l),listener:m,delegates:{[M]:w}}}}on(M,l,m){if(void 0===m)return super.on(M,l);Array.isArray(l)||(l=[l]);const w=this._createDelegatedListener(M,l,m);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[M]=this._delegatedListeners[M]||[],this._delegatedListeners[M].push(w);for(const S in w.delegates)this.on(S,w.delegates[S]);return this}once(M,l,m){if(void 0===m)return super.once(M,l);Array.isArray(l)||(l=[l]);const w=this._createDelegatedListener(M,l,m);for(const S in w.delegates)this.once(S,w.delegates[S]);return this}off(M,l,m){if(void 0===m)return super.off(M,l);l=new Set(Array.isArray(l)?l:[l]);const w=(k,z)=>{if(k.size!==z.size)return!1;for(const G of k)if(!z.has(G))return!1;return!0},S=this._delegatedListeners?this._delegatedListeners[M]:void 0;return S&&(k=>{for(let z=0;z<k.length;z++){const G=k[z];if(G.listener===m&&w(G.layers,l)){for(const K in G.delegates)this.off(K,G.delegates[K]);return k.splice(z,1),this}}})(S),this}queryRenderedFeatures(M,l){return this.style?(void 0!==l||void 0===M||M instanceof d.pointGeometry||Array.isArray(M)||(l=M,M=void 0),this.style.queryRenderedFeatures(M=M||[[0,0],[this.transform.width,this.transform.height]],l=l||{},this.transform)):[]}querySourceFeatures(M,l){return this.style.querySourceFeatures(M,l)}queryTerrainElevation(M,l){const m=this.transform.elevation;return m?(l=d.extend({},{exaggerated:!0},l),m.getAtPoint(d.MercatorCoordinate.fromLngLat(M),null,l.exaggerated)):null}setStyle(M,l){return!1!==(l=d.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},l)).diff&&l.localIdeographFontFamily===this._localIdeographFontFamily&&l.localFontFamily===this._localFontFamily&&this.style&&M?(this._diffStyle(M,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._localFontFamily=l.localFontFamily,this._updateStyle(M,l))}_getUIString(M){const l=this._locale[M];if(null==l)throw new Error(`Missing UI string '${M}'`);return l}_updateStyle(M,l){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),M&&(this.style=new ro(this,l||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof M?this.style.loadURL(M):this.style.loadJSON(M)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ro(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(M,l){if("string"==typeof M){const m=this._requestManager.normalizeStyleURL(M),w=this._requestManager.transformRequest(m,d.ResourceType.Style);d.getJSON(w,(S,k)=>{S?this.fire(new d.ErrorEvent(S)):k&&this._updateDiff(k,l)})}else"object"==typeof M&&this._updateDiff(M,l)}_updateDiff(M,l){try{this.style.setState(M)&&this._update(!0)}catch(m){d.warnOnce(`Unable to perform style diff: ${m.message||m.error||m}.  Rebuilding the style from scratch.`),this._updateStyle(M,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():d.warnOnce("There is no style added to the map.")}addSource(M,l){return this._lazyInitEmptyStyle(),this.style.addSource(M,l),this._update(!0)}isSourceLoaded(M){const l=this.style&&this.style._getSourceCaches(M);if(0!==l.length)return l.every(m=>m.loaded());this.fire(new d.ErrorEvent(new Error(`There is no source with ID '${M}'`)))}areTilesLoaded(){const M=this.style&&this.style._sourceCaches;for(const l in M){const m=M[l]._tiles;for(const w in m){const S=m[w];if("loaded"!==S.state&&"errored"!==S.state)return!1}}return!0}addSourceType(M,l,m){return this._lazyInitEmptyStyle(),this.style.addSourceType(M,l,m)}removeSource(M){return this.style.removeSource(M),this._updateTerrain(),this._update(!0)}getSource(M){return this.style.getSource(M)}addImage(M,l,{pixelRatio:m=1,sdf:w=!1,stretchX:S,stretchY:k,content:z}={}){if(this._lazyInitEmptyStyle(),l instanceof V||ye&&l instanceof ye){const{width:G,height:K,data:oe}=d.exported.getImageData(l);this.style.addImage(M,{data:new d.RGBAImage({width:G,height:K},oe),pixelRatio:m,stretchX:S,stretchY:k,content:z,sdf:w,version:0})}else{if(void 0===l.width||void 0===l.height)return this.fire(new d.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:K,data:oe}=l,le=l;this.style.addImage(M,{data:new d.RGBAImage({width:G,height:K},new Uint8Array(oe)),pixelRatio:m,stretchX:S,stretchY:k,content:z,sdf:w,version:0,userImage:le}),le.onAdd&&le.onAdd(this,M)}}}updateImage(M,l){const m=this.style.getImage(M);if(!m)return this.fire(new d.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const w=l instanceof V||ye&&l instanceof ye?d.exported.getImageData(l):l,{width:S,height:k,data:z}=w;return void 0===S||void 0===k?this.fire(new d.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):S!==m.data.width||k!==m.data.height?this.fire(new d.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(m.data.replace(z,!(l instanceof V||ye&&l instanceof ye)),void this.style.updateImage(M,m))}hasImage(M){return M?!!this.style.getImage(M):(this.fire(new d.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(M){this.style.removeImage(M)}loadImage(M,l){d.getImage(this._requestManager.transformRequest(M,d.ResourceType.Image),(m,w)=>{l(m,w instanceof V?d.exported.getImageData(w):w)})}listImages(){return this.style.listImages()}addLayer(M,l){return this._lazyInitEmptyStyle(),this.style.addLayer(M,l),this._update(!0)}moveLayer(M,l){return this.style.moveLayer(M,l),this._update(!0)}removeLayer(M){return this.style.removeLayer(M),this._update(!0)}getLayer(M){return this.style.getLayer(M)}setLayerZoomRange(M,l,m){return this.style.setLayerZoomRange(M,l,m),this._update(!0)}setFilter(M,l,m={}){return this.style.setFilter(M,l,m),this._update(!0)}getFilter(M){return this.style.getFilter(M)}setPaintProperty(M,l,m,w={}){return this.style.setPaintProperty(M,l,m,w),this._update(!0)}getPaintProperty(M,l){return this.style.getPaintProperty(M,l)}setLayoutProperty(M,l,m,w={}){return this.style.setLayoutProperty(M,l,m,w),this._update(!0)}getLayoutProperty(M,l){return this.style.getLayoutProperty(M,l)}setLight(M,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(M,l),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(M){return this._lazyInitEmptyStyle(),this.style.setTerrain(M),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(M){return this._lazyInitEmptyStyle(),this.style.setFog(M),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(M){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(d.LngLat.convert(M),this.transform):0}setFeatureState(M,l){return this.style.setFeatureState(M,l),this._update()}removeFeatureState(M,l){return this.style.removeFeatureState(M,l),this._update()}getFeatureState(M){return this.style.getFeatureState(M)}_containerDimensions(){let M=0,l=0;return this._container&&(M=this._container.getBoundingClientRect().width||400,l=this._container.getBoundingClientRect().height||300),[M,l]}_detectMissingCSS(){"rgb(250, 128, 114)"!==d.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&d.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const M=this._container;M.classList.add("mapboxgl-map"),(this._missingCSSCanary=ie.create("div","mapboxgl-canary",M)).style.visibility="hidden",this._detectMissingCSS();const l=this._canvasContainer=ie.create("div","mapboxgl-canvas-container",M);this._interactive&&l.classList.add("mapboxgl-interactive"),this._canvas=ie.create("canvas","mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const m=this._containerDimensions();this._resizeCanvas(m[0],m[1]);const w=this._controlContainer=ie.create("div","mapboxgl-control-container",M),S=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(k=>{S[k]=ie.create("div",`mapboxgl-ctrl-${k}`,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(M,l){const m=d.exported.devicePixelRatio||1;this._canvas.width=m*Math.ceil(M),this._canvas.height=m*Math.ceil(l),this._canvas.style.width=`${M}px`,this._canvas.style.height=`${l}px`}_addMarker(M){this._markers.push(M)}_removeMarker(M){const l=this._markers.indexOf(M);-1!==l&&this._markers.splice(l,1)}_setupPainter(){const M=d.extend({},O.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._canvas.getContext("webgl",M)||this._canvas.getContext("experimental-webgl",M);l?(d.storeAuthState(l,!0),this.painter=new ll(l,this.transform),this.on("data",m=>{"source"===m.dataType&&this.painter.setTileLoadedFlag(!0)}),d.exported$1.testSupport(l)):this.fire(new d.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(M){M.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new d.Event("webglcontextlost",{originalEvent:M}))}_contextRestored(M){this._setupPainter(),this.resize(),this._update(),this.fire(new d.Event("webglcontextrestored",{originalEvent:M}))}_onMapScroll(M){if(M.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(M){return this.style?(this._styleDirty=this._styleDirty||M,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(M){return this._update(),this._renderTaskQueue.add(M)}_cancelRenderFrame(M){this._renderTaskQueue.remove(M)}_requestDomTask(M){!this.loaded()||this.loaded()&&!this.isMoving()?M():this._domRenderTaskQueue.add(M)}_render(M){let l;const m=this.painter.context.extTimerQuery,w=d.exported.now();this.listens("gpu-timing-frame")&&(l=m.createQueryEXT(),m.beginQueryEXT(m.TIME_ELAPSED_EXT,l));let S=this._updateAverageElevation(w);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(M),this._domRenderTaskQueue.run(M),this._removed)return;let k=!1;const z=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const K=this.transform.zoom,oe=this.transform.pitch,le=d.exported.now();this.style.zoomHistory.update(K,le);const ce=new d.EvaluationParameters(K,{now:le,fadeDuration:z,pitch:oe,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Pe=ce.crossFadingFactor();1===Pe&&Pe===this._crossFadingFactor||(k=!0,this._crossFadingFactor=Pe),this.style.update(ce)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform),this._forceMarkerUpdate()),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,z,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:z,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new d.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new d.Event("load"))),this.style&&(this.style.hasTransitions()||k)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const K=d.exported.now()-w;m.endQueryEXT(m.TIME_ELAPSED_EXT,l),setTimeout(()=>{const oe=m.getQueryObjectEXT(l,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(l),this.fire(new d.Event("gpu-timing-frame",{cpuTime:K,gpuTime:oe}))},50)}if(this.listens("gpu-timing-layer")){const K=this.painter.collectGpuTimers();setTimeout(()=>{const oe=this.painter.queryGpuTimers(K);this.fire(new d.Event("gpu-timing-layer",{layerTimes:oe}))},50)}const G=this._sourcesDirty||this._styleDirty||this._placementDirty||S;if(G||this._repaint)this.triggerRepaint();else{const K=!this.isMoving()&&this.loaded();if(K&&(S=this._updateAverageElevation(w,!0)),S)this.triggerRepaint();else if(this._triggerFrame(!1),K&&(this.fire(new d.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const oe=this._calculateSpeedIndex();this.fire(new d.Event("speedindexcompleted",{speedIndex:oe})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||G||(this._fullyLoaded=!0,this._authenticate()),this}_forceMarkerUpdate(){for(const M of this._markers)M._update()}_updateAverageElevation(M,l=!1){const m=w=>(this.transform.averageElevation=w,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&m(0);if((l||M-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(M)){const w=this.transform.averageElevation;let S=this.transform.sampleAverageElevation();isNaN(S)?S=0:this._averageElevationLastSampledAt=M;const k=Math.abs(w-S);if(k>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(S),m(S);this._averageElevation.easeTo(S,M,300)}else if(k>1e-4)return this._averageElevation.jumpTo(S),m(S)}return!!this._averageElevation.isEasing(M)&&m(this._averageElevation.getValue(M))}_authenticate(){d.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,M=>{if(M&&(M.message===d.AUTH_ERR_MSG||401===M.status)){const l=this.painter.context.gl;d.storeAuthState(l,!1),this._logoControl instanceof ki&&this._logoControl._updateLogo(),l&&l.clear(l.DEPTH_BUFFER_BIT|l.COLOR_BUFFER_BIT|l.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new d.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),d.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const M=this.painter.canvasCopy(),l=this.painter.getCanvasCopiesAndTimestamps();l.timeStamps.push(performance.now());const m=this.painter.context.gl,w=m.createFramebuffer();function S(k){m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,k,0);const z=new Uint8Array(m.drawingBufferWidth*m.drawingBufferHeight*4);return m.readPixels(0,0,m.drawingBufferWidth,m.drawingBufferHeight,m.RGBA,m.UNSIGNED_BYTE,z),z}return m.bindFramebuffer(m.FRAMEBUFFER,w),this._canvasPixelComparison(S(M),l.canvasCopies.map(S),l.timeStamps)}_canvasPixelComparison(M,l,m){let w=m[1]-m[0];const S=M.length/4;for(let k=0;k<l.length;k++){const z=l[k];let G=0;for(let K=0;K<z.length;K+=4)z[K]===M[K]&&z[K+1]===M[K+1]&&z[K+2]===M[K+2]&&z[K+3]===M[K+3]&&(G+=1);w+=(m[k+2]-m[k+1])*(1-G/S)}return w}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.clearWorkerCaches(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==d.window&&(d.window.removeEventListener("resize",this._onWindowResize,!1),d.window.removeEventListener("orientationchange",this._onWindowResize,!1),d.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),d.window.removeEventListener("online",this._onWindowOnline,!1));const M=this.painter.context.gl.getExtension("WEBGL_lose_context");M&&M.loseContext(),vt(this._canvasContainer),vt(this._controlContainer),vt(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),d.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new d.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(M){this._renderNextFrame=this._renderNextFrame||M,this.style&&!this._frame&&(this._frame=d.exported.frame(l=>{const m=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,m&&this._render(l)}))}_onWindowOnline(){this._update()}_onWindowResize(M){this._trackResize&&this.resize({originalEvent:M})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(M){this._showTileBoundaries!==M&&(this._showTileBoundaries=M,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(M){this._showTerrainWireframe!==M&&(this._showTerrainWireframe=M,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(M){this._speedIndexTiming!==M&&(this._speedIndexTiming=M,this._update())}get showPadding(){return!!this._showPadding}set showPadding(M){this._showPadding!==M&&(this._showPadding=M,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(M){this._showCollisionBoxes!==M&&(this._showCollisionBoxes=M,M?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(M){this._showOverdrawInspector!==M&&(this._showOverdrawInspector=M,this._update())}get repaint(){return!!this._repaint}set repaint(M){this._repaint!==M&&(this._repaint=M,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(M){this._vertices=M,this._update()}_setCacheLimits(M,l){d.setCacheLimits(M,l)}get version(){return d.version}},NavigationControl:class{constructor(M){this.options=d.extend({},Bt,M),this._container=ie.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(d.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),ie.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),ie.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(d.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=ie.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const M=this._map.getZoom(),l=M===this._map.getMaxZoom(),m=M===this._map.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const M=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=M)})}onAdd(M){return this._map=M,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Gt(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){ie.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(M,l){const m=ie.create("button",M,this._container);return m.type="button",m.addEventListener("click",l),m}_setButtonTitle(M,l){const m=this._map._getUIString(`NavigationControl.${l}`);M.setAttribute("aria-label",m),M.firstElementChild&&M.firstElementChild.setAttribute("title",m)}},GeolocateControl:class extends d.Evented{constructor(M){super(),this.options=d.extend({},Ln,M),d.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Yu(this._updateMarkerRotation,20)}onAdd(M){var l;return this._map=M,this._container=ie.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),l=this._setupUI,void 0!==Cn?l(Cn):void 0!==d.window.navigator.permissions?d.window.navigator.permissions.query({name:"geolocation"}).then(m=>{Cn="denied"!==m.state,l(Cn)}):(Cn=!!d.window.navigator.geolocation,l(Cn)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(d.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),ie.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Yn=0,sr=!1}_isOutOfMapMaxBounds(M){const l=this._map.getMaxBounds(),m=M.coords;return l&&(m.longitude<l.getWest()||m.longitude>l.getEast()||m.latitude<l.getSouth()||m.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(M){if(this._map){if(this._isOutOfMapMaxBounds(M))return this._setErrorState(),this.fire(new d.Event("outofmaxbounds",M)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=M,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(M),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(M),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new d.Event("geolocate",M)),this._finish()}}_updateCamera(M){const l=new d.LngLat(M.coords.longitude,M.coords.latitude),m=M.coords.accuracy,w=this._map.getBearing(),S=d.extend({bearing:w},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(m),S,{geolocateSource:!0})}_updateMarker(M){if(M){const l=new d.LngLat(M.coords.longitude,M.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=M.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const M=this._map._container.getBoundingClientRect().height/2,l=this._map.unproject([0,M]),m=this._map.unproject([100,M]),w=l.distanceTo(m)/100,S=Math.ceil(2*this._accuracy/w);this._circleElement.style.width=`${S}px`,this._circleElement.style.height=`${S}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(M){if(this._map){if(this.options.trackUserLocation)if(1===M.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===M.code&&sr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new d.Event("error",M)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(M){if(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=ie.create("button","mapboxgl-ctrl-geolocate",this._container),ie.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===M){d.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ie.create("div","mapboxgl-user-location"),this._dotElement.appendChild(ie.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(ie.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new g({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=ie.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new g({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||"ACTIVE_LOCK"!==this._watchState||l.originalEvent&&"resize"===l.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new d.Event("trackuserlocationend")))})}_onDeviceOrientation(M){this._userLocationDotMarker&&(M.webkitCompassHeading?this._heading=M.webkitCompassHeading:!0===M.absolute&&(this._heading=-1*M.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return d.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new d.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Yn--,sr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new d.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new d.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let M;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Yn++,Yn>1?(M={maximumAge:6e5,timeout:0},sr=!0):(M=this.options.positionOptions,sr=!1),this._geolocationWatchID=d.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,M),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else d.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const M=()=>{d.window.addEventListener("ondeviceorientationabsolute"in d.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==d.window.DeviceMotionEvent&&"function"==typeof d.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(l=>{"granted"===l&&M()}).catch(console.error):M()}_clearWatch(){d.window.navigator.geolocation.clearWatch(this._geolocationWatchID),d.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),d.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:un,ScaleControl:class{constructor(M){this.options=d.extend({},Mi,M),d.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){so(this._map,this._container,this.options)}onAdd(M){return this._map=M,this._container=ie.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",M.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){ie.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(M){this.options.unit=M,so(this._map,this._container,this.options)}},FullscreenControl:class{constructor(M){this._fullscreen=!1,M&&M.container&&(M.container instanceof d.window.HTMLElement?this._container=M.container:d.warnOnce("Full screen control 'container' must be a DOM element.")),d.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in d.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in d.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(M){return this._map=M,this._container||(this._container=this._map.getContainer()),this._controlContainer=ie.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",d.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){ie.remove(this._controlContainer),this._map=null,d.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!d.window.document.fullscreenEnabled&&!d.window.document.webkitFullscreenEnabled)}_setupUI(){const M=this._fullscreenButton=ie.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ie.create("span","mapboxgl-ctrl-icon",M).setAttribute("aria-hidden",!0),M.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),d.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const M=this._getTitle();this._fullscreenButton.setAttribute("aria-label",M),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",M)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(d.window.document.fullscreenElement||d.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?d.window.document.exitFullscreen?d.window.document.exitFullscreen():d.window.document.webkitCancelFullScreen&&d.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends d.Evented{constructor(M){super(),this.options=d.extend(Object.create(Ol),M),d.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this),this._classList=new Set(M&&M.className?M.className.trim().split(/\s+/):[])}addTo(M){return this._map&&this.remove(),this._map=M,this.options.closeOnClick&&this._map.on("preclick",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new d.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&ie.remove(this._content),this._container&&(ie.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new d.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(M){return this._lngLat=d.LngLat.convert(M),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(M){return this.setDOMContent(d.window.document.createTextNode(M))}setHTML(M){const l=d.window.document.createDocumentFragment(),m=d.window.document.createElement("body");let w;for(m.innerHTML=M;w=m.firstChild,w;)l.appendChild(w);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(M){return this.options.maxWidth=M,this._update(),this}setDOMContent(M){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=ie.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(M),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(M){return this._classList.add(M),this._container&&this._updateClassList(),this}removeClassName(M){return this._classList.delete(M),this._container&&this._updateClassList(),this}setOffset(M){return this.options.offset=M,this._update(),this}toggleClassName(M){let l;return this._classList.delete(M)?l=!1:(this._classList.add(M),l=!0),this._container&&this._updateClassList(),l}_createCloseButton(){this.options.closeButton&&(this._closeButton=ie.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.setAttribute("aria-hidden","true"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(M){this._update(M.point)}_onMouseMove(M){this._update(M.point)}_onDrag(M){this._update(M.point)}_getAnchor(M){if(this.options.anchor)return this.options.anchor;const l=this._pos,m=this._container.offsetWidth,w=this._container.offsetHeight;let S;return S=l.y+M.bottom.y<w?["top"]:l.y>this._map.transform.height-w?["bottom"]:[],l.x<m/2?S.push("left"):l.x>this._map.transform.width-m/2&&S.push("right"),0===S.length?"bottom":S.join("-")}_updateClassList(){const M=[...this._classList];M.push("mapboxgl-popup"),this._anchor&&M.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&M.push("mapboxgl-popup-track-pointer"),this._container.className=M.join(" ")}_update(M){if(this._map&&(this._lngLat||this._trackPointer)&&this._content){if(this._container||(this._container=ie.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=ie.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||M){const l=this._pos=this._trackPointer&&M?M:this._map.project(this._lngLat),m=function(k){if(k||(k=new d.pointGeometry(0,0)),"number"==typeof k){const z=Math.round(Math.sqrt(.5*Math.pow(k,2)));return{center:new d.pointGeometry(0,0),top:new d.pointGeometry(0,k),"top-left":new d.pointGeometry(z,z),"top-right":new d.pointGeometry(-z,z),bottom:new d.pointGeometry(0,-k),"bottom-left":new d.pointGeometry(z,-z),"bottom-right":new d.pointGeometry(-z,-z),left:new d.pointGeometry(k,0),right:new d.pointGeometry(-k,0)}}if(k instanceof d.pointGeometry||Array.isArray(k)){const z=d.pointGeometry.convert(k);return{center:z,top:z,"top-left":z,"top-right":z,bottom:z,"bottom-left":z,"bottom-right":z,left:z,right:z}}return{center:d.pointGeometry.convert(k.center||[0,0]),top:d.pointGeometry.convert(k.top||[0,0]),"top-left":d.pointGeometry.convert(k["top-left"]||[0,0]),"top-right":d.pointGeometry.convert(k["top-right"]||[0,0]),bottom:d.pointGeometry.convert(k.bottom||[0,0]),"bottom-left":d.pointGeometry.convert(k["bottom-left"]||[0,0]),"bottom-right":d.pointGeometry.convert(k["bottom-right"]||[0,0]),left:d.pointGeometry.convert(k.left||[0,0]),right:d.pointGeometry.convert(k.right||[0,0])}}(this.options.offset),w=this._anchor=this._getAnchor(m),S=l.add(m[w]).round();this._map._requestDomTask(()=>{this._container&&w&&ie.setTransform(this._container,`${h[w]} translate(${S.x}px,${S.y}px)`)})}this._updateClassList()}}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const M=this._container.querySelector(Ta);M&&M.focus()}_onClose(){this.remove()}_setOpacity(M){this._content&&(this._content.style.opacity=M),this._tip&&(this._tip.style.opacity=M)}},Marker:g,Style:ro,LngLat:d.LngLat,LngLatBounds:d.LngLatBounds,Point:d.pointGeometry,MercatorCoordinate:d.MercatorCoordinate,FreeCameraOptions:pa,Evented:d.Evented,config:d.config,prewarm:function(){ln().acquire(Et)},clearPrewarmedResources:function(){const M=jt;M&&(M.isPreloaded()&&1===M.numActive()?(M.release(Et),jt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return d.config.ACCESS_TOKEN},set accessToken(M){d.config.ACCESS_TOKEN=M},get baseApiUrl(){return d.config.API_URL},set baseApiUrl(M){d.config.API_URL=M},get workerCount(){return It.workerCount},set workerCount(M){It.workerCount=M},get maxParallelImageRequests(){return d.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(M){d.config.MAX_PARALLEL_IMAGE_REQUESTS=M},clearStorage(M){d.clearTileCache(M)},workerUrl:"",workerClass:null,setNow:d.exported.setNow,restoreNow:d.exported.restoreNow};return ku}),B}()},7088:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(F){return/^nm$/i.test(F)},meridiem:function(F,d,O){return F<12?O?"vm":"VM":O?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(F){return F+(1===F||8===F||F>=20?"ste":"de")},week:{dow:1,doy:4}})}($(5439))},2502:function(Ve,Ce,$){!function(B){"use strict";var I=function(q){return 0===q?0:1===q?1:2===q?2:q%100>=3&&q%100<=10?3:q%100>=11?4:5},F={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},d=function(q){return function(W,ie,Le,rt){var qe=I(W),Ee=F[q][I(W)];return 2===qe&&(Ee=Ee[ie?0:1]),Ee.replace(/%d/i,W)}},O=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];B.defineLocale("ar-dz",{months:O,monthsShort:O,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(q){return"\u0645"===q},meridiem:function(q,W,ie){return q<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:d("s"),ss:d("s"),m:d("m"),mm:d("m"),h:d("h"),hh:d("h"),d:d("d"),dd:d("d"),M:d("M"),MM:d("M"),y:d("y"),yy:d("y")},postformat:function(q){return q.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}($(5439))},128:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}($(5439))},4519:function(Ve,Ce,$){!function(B){"use strict";var I={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},F=function(W){return 0===W?0:1===W?1:2===W?2:W%100>=3&&W%100<=10?3:W%100>=11?4:5},d={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},O=function(W){return function(ie,Le,rt,qe){var Ee=F(ie),it=d[W][F(ie)];return 2===Ee&&(it=it[Le?0:1]),it.replace(/%d/i,ie)}},H=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];B.defineLocale("ar-ly",{months:H,monthsShort:H,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(W){return"\u0645"===W},meridiem:function(W,ie,Le){return W<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:O("s"),ss:O("s"),m:O("m"),mm:O("m"),h:O("h"),hh:O("h"),d:O("d"),dd:O("d"),M:O("M"),MM:O("M"),y:O("y"),yy:O("y")},preparse:function(W){return W.replace(/\u060c/g,",")},postformat:function(W){return W.replace(/\d/g,function(ie){return I[ie]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}($(5439))},5443:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}($(5439))},7642:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},F={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};B.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(O){return"\u0645"===O},meridiem:function(O,H,q){return O<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(O){return O.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(H){return F[H]}).replace(/\u060c/g,",")},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}($(5439))},8592:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}($(5439))},7038:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},F={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},d=function(ie){return 0===ie?0:1===ie?1:2===ie?2:ie%100>=3&&ie%100<=10?3:ie%100>=11?4:5},O={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},H=function(ie){return function(Le,rt,qe,Ee){var it=d(Le),Q=O[ie][d(Le)];return 2===it&&(Q=Q[rt?0:1]),Q.replace(/%d/i,Le)}},q=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];B.defineLocale("ar",{months:q,monthsShort:q,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(ie){return"\u0645"===ie},meridiem:function(ie,Le,rt){return ie<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:H("s"),ss:H("s"),m:H("m"),mm:H("m"),h:H("h"),hh:H("h"),d:H("d"),dd:H("d"),M:H("M"),MM:H("M"),y:H("y"),yy:H("y")},preparse:function(ie){return ie.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Le){return F[Le]}).replace(/\u060c/g,",")},postformat:function(ie){return ie.replace(/\d/g,function(Le){return I[Le]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}($(5439))},1213:function(Ve,Ce,$){!function(B){"use strict";var I={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};B.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(d){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(d)},meridiem:function(d,O,H){return d<4?"gec\u0259":d<12?"s\u0259h\u0259r":d<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(d){if(0===d)return d+"-\u0131nc\u0131";var O=d%10;return d+(I[O]||I[d%100-O]||I[d>=100?100:null])},week:{dow:1,doy:7}})}($(5439))},9191:function(Ve,Ce,$){!function(B){"use strict";function F(O,H,q){return"m"===q?H?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===q?H?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":O+" "+function I(O,H){var q=O.split("_");return H%10==1&&H%100!=11?q[0]:H%10>=2&&H%10<=4&&(H%100<10||H%100>=20)?q[1]:q[2]}({ss:H?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:H?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:H?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[q],+O)}B.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:F,mm:F,h:F,hh:F,d:"\u0434\u0437\u0435\u043d\u044c",dd:F,M:"\u043c\u0435\u0441\u044f\u0446",MM:F,y:"\u0433\u043e\u0434",yy:F},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(O){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(O)},meridiem:function(O,H,q){return O<4?"\u043d\u043e\u0447\u044b":O<12?"\u0440\u0430\u043d\u0456\u0446\u044b":O<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(O,H){switch(H){case"M":case"d":case"DDD":case"w":case"W":return O%10!=2&&O%10!=3||O%100==12||O%100==13?O+"-\u044b":O+"-\u0456";case"D":return O+"-\u0433\u0430";default:return O}},week:{dow:1,doy:7}})}($(5439))},322:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(F){var d=F%10,O=F%100;return 0===F?F+"-\u0435\u0432":0===O?F+"-\u0435\u043d":O>10&&O<20?F+"-\u0442\u0438":1===d?F+"-\u0432\u0438":2===d?F+"-\u0440\u0438":7===d||8===d?F+"-\u043c\u0438":F+"-\u0442\u0438"},week:{dow:1,doy:7}})}($(5439))},8042:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}($(5439))},5903:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},F={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};B.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(O){return O.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(O,H){return 12===O&&(O=0),"\u09b0\u09be\u09a4"===H?O<4?O:O+12:"\u09ad\u09cb\u09b0"===H||"\u09b8\u0995\u09be\u09b2"===H?O:"\u09a6\u09c1\u09aa\u09c1\u09b0"===H?O>=3?O:O+12:"\u09ac\u09bf\u0995\u09be\u09b2"===H||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===H?O+12:void 0},meridiem:function(O,H,q){return O<4?"\u09b0\u09be\u09a4":O<6?"\u09ad\u09cb\u09b0":O<12?"\u09b8\u0995\u09be\u09b2":O<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":O<18?"\u09ac\u09bf\u0995\u09be\u09b2":O<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}($(5439))},9620:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},F={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};B.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(O){return O.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(O,H){return 12===O&&(O=0),"\u09b0\u09be\u09a4"===H&&O>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===H&&O<5||"\u09ac\u09bf\u0995\u09be\u09b2"===H?O+12:O},meridiem:function(O,H,q){return O<4?"\u09b0\u09be\u09a4":O<10?"\u09b8\u0995\u09be\u09b2":O<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":O<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}($(5439))},9645:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},F={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};B.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(O){return O.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(O,H){return 12===O&&(O=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===H&&O>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===H&&O<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===H?O+12:O},meridiem:function(O,H,q){return O<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":O<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":O<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":O<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}($(5439))},5020:function(Ve,Ce,$){!function(B){"use strict";function I(Q,ve,he){return Q+" "+function O(Q,ve){return 2===ve?function H(Q){var ve={m:"v",b:"v",d:"z"};return void 0===ve[Q.charAt(0)]?Q:ve[Q.charAt(0)]+Q.substring(1)}(Q):Q}({mm:"munutenn",MM:"miz",dd:"devezh"}[he],Q)}function d(Q){return Q>9?d(Q%10):Q}var q=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],W=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Ee=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];B.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:Ee,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:Ee,monthsRegex:W,monthsShortRegex:W,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:q,longMonthsParse:q,shortMonthsParse:q,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:I,h:"un eur",hh:"%d eur",d:"un devezh",dd:I,M:"ur miz",MM:I,y:"ur bloaz",yy:function F(Q){switch(d(Q)){case 1:case 3:case 4:case 5:case 9:return Q+" bloaz";default:return Q+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(Q){return Q+(1===Q?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(Q){return"g.m."===Q},meridiem:function(Q,ve,he){return Q<12?"a.m.":"g.m."}})}($(5439))},4792:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H){var q=d+" ";switch(H){case"ss":return q+(1===d?"sekunda":2===d||3===d||4===d?"sekunde":"sekundi");case"m":return O?"jedna minuta":"jedne minute";case"mm":return q+(1===d?"minuta":2===d||3===d||4===d?"minute":"minuta");case"h":return O?"jedan sat":"jednog sata";case"hh":return q+(1===d?"sat":2===d||3===d||4===d?"sata":"sati");case"dd":return q+(1===d?"dan":"dana");case"MM":return q+(1===d?"mjesec":2===d||3===d||4===d?"mjeseca":"mjeseci");case"yy":return q+(1===d?"godina":2===d||3===d||4===d?"godine":"godina")}}B.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:I,m:I,mm:I,h:I,hh:I,d:"dan",dd:I,M:"mjesec",MM:I,y:"godinu",yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}($(5439))},7980:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(F,d){var O=1===F?"r":2===F?"n":3===F?"r":4===F?"t":"\xe8";return("w"===d||"W"===d)&&(O="a"),F+O},week:{dow:1,doy:4}})}($(5439))},7322:function(Ve,Ce,$){!function(B){"use strict";var I="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),F="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),d=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],O=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function H(ie){return ie>1&&ie<5&&1!=~~(ie/10)}function q(ie,Le,rt,qe){var Ee=ie+" ";switch(rt){case"s":return Le||qe?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return Le||qe?Ee+(H(ie)?"sekundy":"sekund"):Ee+"sekundami";case"m":return Le?"minuta":qe?"minutu":"minutou";case"mm":return Le||qe?Ee+(H(ie)?"minuty":"minut"):Ee+"minutami";case"h":return Le?"hodina":qe?"hodinu":"hodinou";case"hh":return Le||qe?Ee+(H(ie)?"hodiny":"hodin"):Ee+"hodinami";case"d":return Le||qe?"den":"dnem";case"dd":return Le||qe?Ee+(H(ie)?"dny":"dn\xed"):Ee+"dny";case"M":return Le||qe?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return Le||qe?Ee+(H(ie)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):Ee+"m\u011bs\xedci";case"y":return Le||qe?"rok":"rokem";case"yy":return Le||qe?Ee+(H(ie)?"roky":"let"):Ee+"lety"}}B.defineLocale("cs",{months:I,monthsShort:F,monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:q,ss:q,m:q,mm:q,h:q,hh:q,d:q,dd:q,M:q,MM:q,y:q,yy:q},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},365:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(F){return F+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(F)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(F)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}($(5439))},2092:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(F){var O="";return F>20?O=40===F||50===F||60===F||80===F||100===F?"fed":"ain":F>0&&(O=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][F]),F+O},week:{dow:1,doy:4}})}($(5439))},7387:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},9459:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[d+" Tage",d+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[d+" Monate",d+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[d+" Jahre",d+" Jahren"]};return O?W[H][0]:W[H][1]}B.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:I,mm:"%d Minuten",h:I,hh:"%d Stunden",d:I,dd:I,w:I,ww:"%d Wochen",M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},3694:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[d+" Tage",d+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[d+" Monate",d+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[d+" Jahre",d+" Jahren"]};return O?W[H][0]:W[H][1]}B.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:I,mm:"%d Minuten",h:I,hh:"%d Stunden",d:I,dd:I,w:I,ww:"%d Wochen",M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},4307:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){var W={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[d+" Tage",d+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[d+" Monate",d+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[d+" Jahre",d+" Jahren"]};return O?W[H][0]:W[H][1]}B.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:I,mm:"%d Minuten",h:I,hh:"%d Stunden",d:I,dd:I,w:I,ww:"%d Wochen",M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},9659:function(Ve,Ce,$){!function(B){"use strict";var I=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],F=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];B.defineLocale("dv",{months:I,monthsShort:I,weekdays:F,weekdaysShort:F,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(O){return"\u0789\u078a"===O},meridiem:function(O,H,q){return O<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(O){return O.replace(/\u060c/g,",")},postformat:function(O){return O.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}($(5439))},3460:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(d,O){return d?"string"==typeof O&&/D/.test(O.substring(0,O.indexOf("MMMM")))?this._monthsGenitiveEl[d.month()]:this._monthsNominativeEl[d.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(d,O,H){return d>11?H?"\u03bc\u03bc":"\u039c\u039c":H?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(d){return"\u03bc"===(d+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(d,O){var H=this._calendarEl[d],q=O&&O.hours();return function I(d){return"undefined"!=typeof Function&&d instanceof Function||"[object Function]"===Object.prototype.toString.call(d)}(H)&&(H=H.apply(O)),H.replace("{}",q%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}($(5439))},4369:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:0,doy:4}})}($(5439))},530:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")}})}($(5439))},9998:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:1,doy:4}})}($(5439))},3391:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:1,doy:4}})}($(5439))},5414:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")}})}($(5439))},9615:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:0,doy:6}})}($(5439))},1248:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:1,doy:4}})}($(5439))},3767:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:1,doy:4}})}($(5439))},4530:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(F){return"p"===F.charAt(0).toLowerCase()},meridiem:function(F,d,O){return F>11?O?"p.t.m.":"P.T.M.":O?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}($(5439))},8944:function(Ve,Ce,$){!function(B){"use strict";var I="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),F="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),d=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(q,W){return q?/-MMM-/.test(W)?F[q.month()]:I[q.month()]:I},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}($(5439))},9116:function(Ve,Ce,$){!function(B){"use strict";var I="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),F="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),d=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(q,W){return q?/-MMM-/.test(W)?F[q.month()]:I[q.month()]:I},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}($(5439))},3609:function(Ve,Ce,$){!function(B){"use strict";var I="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),F="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),d=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(q,W){return q?/-MMM-/.test(W)?F[q.month()]:I[q.month()]:I},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}($(5439))},6866:function(Ve,Ce,$){!function(B){"use strict";var I="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),F="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),d=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(q,W){return q?/-MMM-/.test(W)?F[q.month()]:I[q.month()]:I},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}($(5439))},6725:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){var W={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[d+"sekundi",d+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[d+" minuti",d+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[d+" tunni",d+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[d+" kuu",d+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[d+" aasta",d+" aastat"]};return O?W[H][2]?W[H][2]:W[H][1]:q?W[H][0]:W[H][1]}B.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:I,ss:I,m:I,mm:I,h:I,hh:I,d:I,dd:"%d p\xe4eva",M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},7931:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}($(5439))},6417:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},F={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};B.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(O){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(O)},meridiem:function(O,H,q){return O<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(O){return O.replace(/[\u06f0-\u06f9]/g,function(H){return F[H]}).replace(/\u060c/g,",")},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}($(5439))},944:function(Ve,Ce,$){!function(B){"use strict";var I="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),F=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",I[7],I[8],I[9]];function d(q,W,ie,Le){var rt="";switch(ie){case"s":return Le?"muutaman sekunnin":"muutama sekunti";case"ss":rt=Le?"sekunnin":"sekuntia";break;case"m":return Le?"minuutin":"minuutti";case"mm":rt=Le?"minuutin":"minuuttia";break;case"h":return Le?"tunnin":"tunti";case"hh":rt=Le?"tunnin":"tuntia";break;case"d":return Le?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":rt=Le?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return Le?"kuukauden":"kuukausi";case"MM":rt=Le?"kuukauden":"kuukautta";break;case"y":return Le?"vuoden":"vuosi";case"yy":rt=Le?"vuoden":"vuotta"}return function O(q,W){return q<10?W?F[q]:I[q]:q}(q,Le)+" "+rt}B.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:d,ss:d,m:d,mm:d,h:d,hh:d,d,dd:d,M:d,MM:d,y:d,yy:d},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},323:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(F){return F},week:{dow:1,doy:4}})}($(5439))},5867:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},6848:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(F,d){switch(d){default:case"M":case"Q":case"D":case"DDD":case"d":return F+(1===F?"er":"e");case"w":case"W":return F+(1===F?"re":"e")}}})}($(5439))},7773:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(F,d){switch(d){default:case"M":case"Q":case"D":case"DDD":case"d":return F+(1===F?"er":"e");case"w":case"W":return F+(1===F?"re":"e")}},week:{dow:1,doy:4}})}($(5439))},1636:function(Ve,Ce,$){!function(B){"use strict";var d=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,O=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];B.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:O,longMonthsParse:O,shortMonthsParse:O,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(q,W){switch(W){case"D":return q+(1===q?"er":"");default:case"M":case"Q":case"DDD":case"d":return q+(1===q?"er":"e");case"w":case"W":return q+(1===q?"re":"e")}},week:{dow:1,doy:4}})}($(5439))},4940:function(Ve,Ce,$){!function(B){"use strict";var I="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),F="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");B.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(O,H){return O?/-MMM-/.test(H)?F[O.month()]:I[O.month()]:I},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(O){return O+(1===O||8===O||O>=20?"ste":"de")},week:{dow:1,doy:4}})}($(5439))},1402:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}($(5439))},6924:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(W){return W+(1===W?"d":W%10==2?"na":"mh")},week:{dow:1,doy:4}})}($(5439))},6398:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(F){return 0===F.indexOf("un")?"n"+F:"en "+F},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}($(5439))},2457:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){var W={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[d+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",d+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[d+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",d+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[d+" \u0935\u0930\u093e\u0902\u0928\u0940",d+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[d+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",d+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[d+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",d+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[d+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",d+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return q?W[H][0]:W[H][1]}B.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:I,ss:I,m:I,mm:I,h:I,hh:I,d:I,dd:I,M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(d,O){return"D"===O?d+"\u0935\u0947\u0930":d},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(d,O){return 12===d&&(d=0),"\u0930\u093e\u0924\u0940"===O?d<4?d:d+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===O?d:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===O?d>12?d:d+12:"\u0938\u093e\u0902\u091c\u0947"===O?d+12:void 0},meridiem:function(d,O,H){return d<4?"\u0930\u093e\u0924\u0940":d<12?"\u0938\u0915\u093e\u0933\u0940\u0902":d<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":d<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}($(5439))},2545:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){var W={s:["thoddea sekondamni","thodde sekond"],ss:[d+" sekondamni",d+" sekond"],m:["eka mintan","ek minut"],mm:[d+" mintamni",d+" mintam"],h:["eka voran","ek vor"],hh:[d+" voramni",d+" voram"],d:["eka disan","ek dis"],dd:[d+" disamni",d+" dis"],M:["eka mhoinean","ek mhoino"],MM:[d+" mhoineamni",d+" mhoine"],y:["eka vorsan","ek voros"],yy:[d+" vorsamni",d+" vorsam"]};return q?W[H][0]:W[H][1]}B.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:I,ss:I,m:I,mm:I,h:I,hh:I,d:I,dd:I,M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(d,O){return"D"===O?d+"er":d},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(d,O){return 12===d&&(d=0),"rati"===O?d<4?d:d+12:"sokallim"===O?d:"donparam"===O?d>12?d:d+12:"sanje"===O?d+12:void 0},meridiem:function(d,O,H){return d<4?"rati":d<12?"sokallim":d<16?"donparam":d<20?"sanje":"rati"}})}($(5439))},2641:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},F={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};B.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(O){return O.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(O,H){return 12===O&&(O=0),"\u0ab0\u0abe\u0aa4"===H?O<4?O:O+12:"\u0ab8\u0ab5\u0abe\u0ab0"===H?O:"\u0aac\u0aaa\u0acb\u0ab0"===H?O>=10?O:O+12:"\u0ab8\u0abe\u0a82\u0a9c"===H?O+12:void 0},meridiem:function(O,H,q){return O<4?"\u0ab0\u0abe\u0aa4":O<10?"\u0ab8\u0ab5\u0abe\u0ab0":O<17?"\u0aac\u0aaa\u0acb\u0ab0":O<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}($(5439))},7536:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(F){return 2===F?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":F+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(F){return 2===F?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":F+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(F){return 2===F?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":F+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(F){return 2===F?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":F%10==0&&10!==F?F+" \u05e9\u05e0\u05d4":F+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(F){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(F)},meridiem:function(F,d,O){return F<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":F<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":F<12?O?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":F<18?O?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}($(5439))},6335:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},F={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},d=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];B.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:d,longMonthsParse:d,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(q){return q.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(W){return F[W]})},postformat:function(q){return q.replace(/\d/g,function(W){return I[W]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(q,W){return 12===q&&(q=0),"\u0930\u093e\u0924"===W?q<4?q:q+12:"\u0938\u0941\u092c\u0939"===W?q:"\u0926\u094b\u092a\u0939\u0930"===W?q>=10?q:q+12:"\u0936\u093e\u092e"===W?q+12:void 0},meridiem:function(q,W,ie){return q<4?"\u0930\u093e\u0924":q<10?"\u0938\u0941\u092c\u0939":q<17?"\u0926\u094b\u092a\u0939\u0930":q<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}($(5439))},7458:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H){var q=d+" ";switch(H){case"ss":return q+(1===d?"sekunda":2===d||3===d||4===d?"sekunde":"sekundi");case"m":return O?"jedna minuta":"jedne minute";case"mm":return q+(1===d?"minuta":2===d||3===d||4===d?"minute":"minuta");case"h":return O?"jedan sat":"jednog sata";case"hh":return q+(1===d?"sat":2===d||3===d||4===d?"sata":"sati");case"dd":return q+(1===d?"dan":"dana");case"MM":return q+(1===d?"mjesec":2===d||3===d||4===d?"mjeseca":"mjeseci");case"yy":return q+(1===d?"godina":2===d||3===d||4===d?"godine":"godina")}}B.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:I,m:I,mm:I,h:I,hh:I,d:"dan",dd:I,M:"mjesec",MM:I,y:"godinu",yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}($(5439))},6540:function(Ve,Ce,$){!function(B){"use strict";var I="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function F(H,q,W,ie){var Le=H;switch(W){case"s":return ie||q?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return Le+(ie||q)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(ie||q?" perc":" perce");case"mm":return Le+(ie||q?" perc":" perce");case"h":return"egy"+(ie||q?" \xf3ra":" \xf3r\xe1ja");case"hh":return Le+(ie||q?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(ie||q?" nap":" napja");case"dd":return Le+(ie||q?" nap":" napja");case"M":return"egy"+(ie||q?" h\xf3nap":" h\xf3napja");case"MM":return Le+(ie||q?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(ie||q?" \xe9v":" \xe9ve");case"yy":return Le+(ie||q?" \xe9v":" \xe9ve")}return""}function d(H){return(H?"":"[m\xfalt] ")+"["+I[this.day()]+"] LT[-kor]"}B.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(H){return"u"===H.charAt(1).toLowerCase()},meridiem:function(H,q,W){return H<12?!0===W?"de":"DE":!0===W?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return d.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return d.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:F,ss:F,m:F,mm:F,h:F,hh:F,d:F,dd:F,M:F,MM:F,y:F,yy:F},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},5283:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(F){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(F)},meridiem:function(F){return F<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":F<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":F<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(F,d){switch(d){case"DDD":case"w":case"W":case"DDDo":return 1===F?F+"-\u056b\u0576":F+"-\u0580\u0564";default:return F}},week:{dow:1,doy:7}})}($(5439))},8780:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(F,d){return 12===F&&(F=0),"pagi"===d?F:"siang"===d?F>=11?F:F+12:"sore"===d||"malam"===d?F+12:void 0},meridiem:function(F,d,O){return F<11?"pagi":F<15?"siang":F<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}($(5439))},4205:function(Ve,Ce,$){!function(B){"use strict";function I(O){return O%100==11||O%10!=1}function F(O,H,q,W){var ie=O+" ";switch(q){case"s":return H||W?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return I(O)?ie+(H||W?"sek\xfandur":"sek\xfandum"):ie+"sek\xfanda";case"m":return H?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return I(O)?ie+(H||W?"m\xedn\xfatur":"m\xedn\xfatum"):H?ie+"m\xedn\xfata":ie+"m\xedn\xfatu";case"hh":return I(O)?ie+(H||W?"klukkustundir":"klukkustundum"):ie+"klukkustund";case"d":return H?"dagur":W?"dag":"degi";case"dd":return I(O)?H?ie+"dagar":ie+(W?"daga":"d\xf6gum"):H?ie+"dagur":ie+(W?"dag":"degi");case"M":return H?"m\xe1nu\xf0ur":W?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return I(O)?H?ie+"m\xe1nu\xf0ir":ie+(W?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):H?ie+"m\xe1nu\xf0ur":ie+(W?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return H||W?"\xe1r":"\xe1ri";case"yy":return I(O)?ie+(H||W?"\xe1r":"\xe1rum"):ie+(H||W?"\xe1r":"\xe1ri")}}B.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:F,ss:F,m:F,mm:F,h:"klukkustund",hh:F,d:F,dd:F,M:F,MM:F,y:F,yy:F},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},9985:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(F){return(/^[0-9].+$/.test(F)?"tra":"in")+" "+F},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}($(5439))},4211:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}($(5439))},1003:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(F,d){return"\u5143"===d[1]?1:parseInt(d[1]||F,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(F){return"\u5348\u5f8c"===F},meridiem:function(F,d,O){return F<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(F){return F.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(F){return this.week()!==F.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(F,d){switch(d){case"y":return 1===F?"\u5143\u5e74":F+"\u5e74";case"d":case"D":case"DDD":return F+"\u65e5";default:return F}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}($(5439))},420:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(F,d){return 12===F&&(F=0),"enjing"===d?F:"siyang"===d?F>=11?F:F+12:"sonten"===d||"ndalu"===d?F+12:void 0},meridiem:function(F,d,O){return F<11?"enjing":F<15?"siyang":F<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}($(5439))},851:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(F){return F.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(d,O,H){return"\u10d8"===H?O+"\u10e8\u10d8":O+H+"\u10e8\u10d8"})},past:function(F){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(F)?F.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(F)?F.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):F},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(F){return 0===F?F:1===F?F+"-\u10da\u10d8":F<20||F<=100&&F%20==0||F%100==0?"\u10db\u10d4-"+F:F+"-\u10d4"},week:{dow:1,doy:7}})}($(5439))},6074:function(Ve,Ce,$){!function(B){"use strict";var I={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};B.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(d){return d+(I[d]||I[d%10]||I[d>=100?100:null])},week:{dow:1,doy:7}})}($(5439))},3343:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},F={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};B.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(O){return"\u179b\u17d2\u1784\u17b6\u1785"===O},meridiem:function(O,H,q){return O<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(O){return O.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},week:{dow:1,doy:4}})}($(5439))},4799:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},F={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};B.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(O){return O.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(O,H){return 12===O&&(O=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===H?O<4?O:O+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===H?O:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===H?O>=10?O:O+12:"\u0cb8\u0c82\u0c9c\u0cc6"===H?O+12:void 0},meridiem:function(O,H,q){return O<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":O<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":O<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":O<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(O){return O+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}($(5439))},3549:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(F,d){switch(d){case"d":case"D":case"DDD":return F+"\uc77c";case"M":return F+"\uc6d4";case"w":case"W":return F+"\uc8fc";default:return F}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(F){return"\uc624\ud6c4"===F},meridiem:function(F,d,O){return F<12?"\uc624\uc804":"\uc624\ud6c4"}})}($(5439))},1037:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},F={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},d=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];B.defineLocale("ku",{months:d,monthsShort:d,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(H){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(H)},meridiem:function(H,q,W){return H<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(H){return H.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(q){return F[q]}).replace(/\u060c/g,",")},postformat:function(H){return H.replace(/\d/g,function(q){return I[q]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}($(5439))},3125:function(Ve,Ce,$){!function(B){"use strict";var I={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};B.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(d){return d+(I[d]||I[d%10]||I[d>=100?100:null])},week:{dow:1,doy:7}})}($(5439))},9586:function(Ve,Ce,$){!function(B){"use strict";function I(q,W,ie,Le){var rt={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return W?rt[ie][0]:rt[ie][1]}function O(q){if(q=parseInt(q,10),isNaN(q))return!1;if(q<0)return!0;if(q<10)return 4<=q&&q<=7;if(q<100){var W=q%10;return O(0===W?q/10:W)}if(q<1e4){for(;q>=10;)q/=10;return O(q)}return O(q/=1e3)}B.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function F(q){return O(q.substr(0,q.indexOf(" ")))?"a "+q:"an "+q},past:function d(q){return O(q.substr(0,q.indexOf(" ")))?"viru "+q:"virun "+q},s:"e puer Sekonnen",ss:"%d Sekonnen",m:I,mm:"%d Minutten",h:I,hh:"%d Stonnen",d:I,dd:"%d Deeg",M:I,MM:"%d M\xe9int",y:I,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},2349:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(F){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===F},meridiem:function(F,d,O){return F<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(F){return"\u0e97\u0eb5\u0ec8"+F}})}($(5439))},2400:function(Ve,Ce,$){!function(B){"use strict";var I={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function d(ie,Le,rt,qe){return Le?H(rt)[0]:qe?H(rt)[1]:H(rt)[2]}function O(ie){return ie%10==0||ie>10&&ie<20}function H(ie){return I[ie].split("_")}function q(ie,Le,rt,qe){var Ee=ie+" ";return 1===ie?Ee+d(0,Le,rt[0],qe):Le?Ee+(O(ie)?H(rt)[1]:H(rt)[0]):qe?Ee+H(rt)[1]:Ee+(O(ie)?H(rt)[1]:H(rt)[2])}B.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function F(ie,Le,rt,qe){return Le?"kelios sekund\u0117s":qe?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:q,m:d,mm:q,h:d,hh:q,d,dd:q,M:d,MM:q,y:d,yy:q},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(ie){return ie+"-oji"},week:{dow:1,doy:4}})}($(5439))},9991:function(Ve,Ce,$){!function(B){"use strict";var I={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function F(W,ie,Le){return Le?ie%10==1&&ie%100!=11?W[2]:W[3]:ie%10==1&&ie%100!=11?W[0]:W[1]}function d(W,ie,Le){return W+" "+F(I[Le],W,ie)}function O(W,ie,Le){return F(I[Le],W,ie)}B.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function H(W,ie){return ie?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:d,m:O,mm:d,h:O,hh:d,d:O,dd:d,M:O,MM:d,y:O,yy:d},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},8477:function(Ve,Ce,$){!function(B){"use strict";var I={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(d,O){return 1===d?O[0]:d>=2&&d<=4?O[1]:O[2]},translate:function(d,O,H){var q=I.words[H];return 1===H.length?O?q[0]:q[1]:d+" "+I.correctGrammaticalCase(d,q)}};B.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:I.translate,m:I.translate,mm:I.translate,h:I.translate,hh:I.translate,d:"dan",dd:I.translate,M:"mjesec",MM:I.translate,y:"godinu",yy:I.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}($(5439))},5118:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}($(5439))},5261:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(F){var d=F%10,O=F%100;return 0===F?F+"-\u0435\u0432":0===O?F+"-\u0435\u043d":O>10&&O<20?F+"-\u0442\u0438":1===d?F+"-\u0432\u0438":2===d?F+"-\u0440\u0438":7===d||8===d?F+"-\u043c\u0438":F+"-\u0442\u0438"},week:{dow:1,doy:7}})}($(5439))},3849:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(F,d){return 12===F&&(F=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===d&&F>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===d||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===d?F+12:F},meridiem:function(F,d,O){return F<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":F<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":F<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":F<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}($(5439))},1977:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){switch(H){case"s":return O?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return d+(O?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return d+(O?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return d+(O?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return d+(O?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return d+(O?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return d+(O?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return d}}B.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(d){return"\u04ae\u0425"===d},meridiem:function(d,O,H){return d<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:I,ss:I,m:I,mm:I,h:I,hh:I,d:I,dd:I,M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(d,O){switch(O){case"d":case"D":case"DDD":return d+" \u04e9\u0434\u04e9\u0440";default:return d}}})}($(5439))},6184:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},F={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function d(H,q,W,ie){var Le="";if(q)switch(W){case"s":Le="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":Le="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":Le="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":Le="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":Le="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":Le="%d \u0924\u093e\u0938";break;case"d":Le="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":Le="%d \u0926\u093f\u0935\u0938";break;case"M":Le="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":Le="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":Le="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":Le="%d \u0935\u0930\u094d\u0937\u0947"}else switch(W){case"s":Le="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":Le="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":Le="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":Le="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":Le="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":Le="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":Le="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":Le="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":Le="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":Le="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":Le="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":Le="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return Le.replace(/%d/i,H)}B.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:d,ss:d,m:d,mm:d,h:d,hh:d,d,dd:d,M:d,MM:d,y:d,yy:d},preparse:function(H){return H.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(q){return F[q]})},postformat:function(H){return H.replace(/\d/g,function(q){return I[q]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(H,q){return 12===H&&(H=0),"\u092a\u0939\u093e\u091f\u0947"===q||"\u0938\u0915\u093e\u0933\u0940"===q?H:"\u0926\u0941\u092a\u093e\u0930\u0940"===q||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===q||"\u0930\u093e\u0924\u094d\u0930\u0940"===q?H>=12?H:H+12:void 0},meridiem:function(H,q,W){return H>=0&&H<6?"\u092a\u0939\u093e\u091f\u0947":H<12?"\u0938\u0915\u093e\u0933\u0940":H<17?"\u0926\u0941\u092a\u093e\u0930\u0940":H<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}($(5439))},4524:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(F,d){return 12===F&&(F=0),"pagi"===d?F:"tengahari"===d?F>=11?F:F+12:"petang"===d||"malam"===d?F+12:void 0},meridiem:function(F,d,O){return F<11?"pagi":F<15?"tengahari":F<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}($(5439))},485:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(F,d){return 12===F&&(F=0),"pagi"===d?F:"tengahari"===d?F>=11?F:F+12:"petang"===d||"malam"===d?F+12:void 0},meridiem:function(F,d,O){return F<11?"pagi":F<15?"tengahari":F<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}($(5439))},6681:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}($(5439))},2024:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},F={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};B.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(O){return O.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},week:{dow:1,doy:4}})}($(5439))},2688:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},8914:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},F={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};B.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(O){return O.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(O,H){return 12===O&&(O=0),"\u0930\u093e\u0924\u093f"===H?O<4?O:O+12:"\u092c\u093f\u0939\u093e\u0928"===H?O:"\u0926\u093f\u0909\u0901\u0938\u094b"===H?O>=10?O:O+12:"\u0938\u093e\u0901\u091d"===H?O+12:void 0},meridiem:function(O,H,q){return O<3?"\u0930\u093e\u0924\u093f":O<12?"\u092c\u093f\u0939\u093e\u0928":O<16?"\u0926\u093f\u0909\u0901\u0938\u094b":O<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}($(5439))},2272:function(Ve,Ce,$){!function(B){"use strict";var I="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),F="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),d=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],O=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;B.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(q,W){return q?/-MMM-/.test(W)?F[q.month()]:I[q.month()]:I},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(q){return q+(1===q||8===q||q>=20?"ste":"de")},week:{dow:1,doy:4}})}($(5439))},1758:function(Ve,Ce,$){!function(B){"use strict";var I="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),F="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),d=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],O=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;B.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(q,W){return q?/-MMM-/.test(W)?F[q.month()]:I[q.month()]:I},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(q){return q+(1===q||8===q||q>=20?"ste":"de")},week:{dow:1,doy:4}})}($(5439))},1510:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},2797:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(F,d){var O=1===F?"r":2===F?"n":3===F?"r":4===F?"t":"\xe8";return("w"===d||"W"===d)&&(O="a"),F+O},week:{dow:1,doy:4}})}($(5439))},7944:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},F={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};B.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(O){return O.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(O,H){return 12===O&&(O=0),"\u0a30\u0a3e\u0a24"===H?O<4?O:O+12:"\u0a38\u0a35\u0a47\u0a30"===H?O:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===H?O>=10?O:O+12:"\u0a38\u0a3c\u0a3e\u0a2e"===H?O+12:void 0},meridiem:function(O,H,q){return O<4?"\u0a30\u0a3e\u0a24":O<10?"\u0a38\u0a35\u0a47\u0a30":O<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":O<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}($(5439))},1605:function(Ve,Ce,$){!function(B){"use strict";var I="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),F="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),d=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function O(W){return W%10<5&&W%10>1&&~~(W/10)%10!=1}function H(W,ie,Le){var rt=W+" ";switch(Le){case"ss":return rt+(O(W)?"sekundy":"sekund");case"m":return ie?"minuta":"minut\u0119";case"mm":return rt+(O(W)?"minuty":"minut");case"h":return ie?"godzina":"godzin\u0119";case"hh":return rt+(O(W)?"godziny":"godzin");case"ww":return rt+(O(W)?"tygodnie":"tygodni");case"MM":return rt+(O(W)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return rt+(O(W)?"lata":"lat")}}B.defineLocale("pl",{months:function(W,ie){return W?/D MMMM/.test(ie)?F[W.month()]:I[W.month()]:I},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:H,m:H,mm:H,h:H,hh:H,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:H,M:"miesi\u0105c",MM:H,y:"rok",yy:H},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},3840:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}($(5439))},4225:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}($(5439))},5128:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H){var W=" ";return(d%100>=20||d>=100&&d%100==0)&&(W=" de "),d+W+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[H]}B.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:I,m:"un minut",mm:I,h:"o or\u0103",hh:I,d:"o zi",dd:I,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:I,M:"o lun\u0103",MM:I,y:"un an",yy:I},week:{dow:1,doy:7}})}($(5439))},5127:function(Ve,Ce,$){!function(B){"use strict";function F(H,q,W){return"m"===W?q?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":H+" "+function I(H,q){var W=H.split("_");return q%10==1&&q%100!=11?W[0]:q%10>=2&&q%10<=4&&(q%100<10||q%100>=20)?W[1]:W[2]}({ss:q?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:q?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[W],+H)}var d=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];B.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:d,longMonthsParse:d,shortMonthsParse:d,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(H){if(H.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(H){if(H.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:F,m:F,mm:F,h:"\u0447\u0430\u0441",hh:F,d:"\u0434\u0435\u043d\u044c",dd:F,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:F,M:"\u043c\u0435\u0441\u044f\u0446",MM:F,y:"\u0433\u043e\u0434",yy:F},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(H){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(H)},meridiem:function(H,q,W){return H<4?"\u043d\u043e\u0447\u0438":H<12?"\u0443\u0442\u0440\u0430":H<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(H,q){switch(q){case"M":case"d":case"DDD":return H+"-\u0439";case"D":return H+"-\u0433\u043e";case"w":case"W":return H+"-\u044f";default:return H}},week:{dow:1,doy:4}})}($(5439))},2525:function(Ve,Ce,$){!function(B){"use strict";var I=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],F=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];B.defineLocale("sd",{months:I,monthsShort:I,weekdays:F,weekdaysShort:F,weekdaysMin:F,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(O){return"\u0634\u0627\u0645"===O},meridiem:function(O,H,q){return O<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(O){return O.replace(/\u060c/g,",")},postformat:function(O){return O.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}($(5439))},9893:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},3123:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(F){return F+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(F){return"\u0db4.\u0dc0."===F||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===F},meridiem:function(F,d,O){return F>11?O?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":O?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}($(5439))},9635:function(Ve,Ce,$){!function(B){"use strict";var I="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),F="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function d(q){return q>1&&q<5}function O(q,W,ie,Le){var rt=q+" ";switch(ie){case"s":return W||Le?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return W||Le?rt+(d(q)?"sekundy":"sek\xfand"):rt+"sekundami";case"m":return W?"min\xfata":Le?"min\xfatu":"min\xfatou";case"mm":return W||Le?rt+(d(q)?"min\xfaty":"min\xfat"):rt+"min\xfatami";case"h":return W?"hodina":Le?"hodinu":"hodinou";case"hh":return W||Le?rt+(d(q)?"hodiny":"hod\xedn"):rt+"hodinami";case"d":return W||Le?"de\u0148":"d\u0148om";case"dd":return W||Le?rt+(d(q)?"dni":"dn\xed"):rt+"d\u0148ami";case"M":return W||Le?"mesiac":"mesiacom";case"MM":return W||Le?rt+(d(q)?"mesiace":"mesiacov"):rt+"mesiacmi";case"y":return W||Le?"rok":"rokom";case"yy":return W||Le?rt+(d(q)?"roky":"rokov"):rt+"rokmi"}}B.defineLocale("sk",{months:I,monthsShort:F,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:O,ss:O,m:O,mm:O,h:O,hh:O,d:O,dd:O,M:O,MM:O,y:O,yy:O},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},8106:function(Ve,Ce,$){!function(B){"use strict";function I(d,O,H,q){var W=d+" ";switch(H){case"s":return O||q?"nekaj sekund":"nekaj sekundami";case"ss":return W+(1===d?O?"sekundo":"sekundi":2===d?O||q?"sekundi":"sekundah":d<5?O||q?"sekunde":"sekundah":"sekund");case"m":return O?"ena minuta":"eno minuto";case"mm":return W+(1===d?O?"minuta":"minuto":2===d?O||q?"minuti":"minutama":d<5?O||q?"minute":"minutami":O||q?"minut":"minutami");case"h":return O?"ena ura":"eno uro";case"hh":return W+(1===d?O?"ura":"uro":2===d?O||q?"uri":"urama":d<5?O||q?"ure":"urami":O||q?"ur":"urami");case"d":return O||q?"en dan":"enim dnem";case"dd":return W+(1===d?O||q?"dan":"dnem":2===d?O||q?"dni":"dnevoma":O||q?"dni":"dnevi");case"M":return O||q?"en mesec":"enim mesecem";case"MM":return W+(1===d?O||q?"mesec":"mesecem":2===d?O||q?"meseca":"mesecema":d<5?O||q?"mesece":"meseci":O||q?"mesecev":"meseci");case"y":return O||q?"eno leto":"enim letom";case"yy":return W+(1===d?O||q?"leto":"letom":2===d?O||q?"leti":"letoma":d<5?O||q?"leta":"leti":O||q?"let":"leti")}}B.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:I,ss:I,m:I,mm:I,h:I,hh:I,d:I,dd:I,M:I,MM:I,y:I,yy:I},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}($(5439))},8799:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(F){return"M"===F.charAt(0)},meridiem:function(F,d,O){return F<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},2872:function(Ve,Ce,$){!function(B){"use strict";var I={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(d,O){return 1===d?O[0]:d>=2&&d<=4?O[1]:O[2]},translate:function(d,O,H){var q=I.words[H];return 1===H.length?O?q[0]:q[1]:d+" "+I.correctGrammaticalCase(d,q)}};B.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:I.translate,m:I.translate,mm:I.translate,h:I.translate,hh:I.translate,d:"\u0434\u0430\u043d",dd:I.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:I.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:I.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}($(5439))},7949:function(Ve,Ce,$){!function(B){"use strict";var I={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(d,O){return 1===d?O[0]:d>=2&&d<=4?O[1]:O[2]},translate:function(d,O,H){var q=I.words[H];return 1===H.length?O?q[0]:q[1]:d+" "+I.correctGrammaticalCase(d,q)}};B.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:I.translate,m:I.translate,mm:I.translate,h:I.translate,hh:I.translate,d:"dan",dd:I.translate,M:"mesec",MM:I.translate,y:"godinu",yy:I.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}($(5439))},6167:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(F,d,O){return F<11?"ekuseni":F<15?"emini":F<19?"entsambama":"ebusuku"},meridiemHour:function(F,d){return 12===F&&(F=0),"ekuseni"===d?F:"emini"===d?F>=11?F:F+12:"entsambama"===d||"ebusuku"===d?0===F?0:F+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}($(5439))},9713:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?":e":1===d||2===d?":a":":e")},week:{dow:1,doy:4}})}($(5439))},1982:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}($(5439))},2732:function(Ve,Ce,$){!function(B){"use strict";var I={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},F={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};B.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(O){return O+"\u0bb5\u0ba4\u0bc1"},preparse:function(O){return O.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(H){return F[H]})},postformat:function(O){return O.replace(/\d/g,function(H){return I[H]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(O,H,q){return O<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":O<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":O<10?" \u0b95\u0bbe\u0bb2\u0bc8":O<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":O<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":O<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(O,H){return 12===O&&(O=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===H?O<2?O:O+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===H||"\u0b95\u0bbe\u0bb2\u0bc8"===H||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===H&&O>=10?O:O+12},week:{dow:0,doy:6}})}($(5439))},3636:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(F,d){return 12===F&&(F=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===d?F<4?F:F+12:"\u0c09\u0c26\u0c2f\u0c02"===d?F:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===d?F>=10?F:F+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===d?F+12:void 0},meridiem:function(F,d,O){return F<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":F<10?"\u0c09\u0c26\u0c2f\u0c02":F<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":F<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}($(5439))},2115:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:1,doy:4}})}($(5439))},1597:function(Ve,Ce,$){!function(B){"use strict";var I={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};B.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(d,O){return 12===d&&(d=0),"\u0448\u0430\u0431"===O?d<4?d:d+12:"\u0441\u0443\u0431\u04b3"===O?d:"\u0440\u04ef\u0437"===O?d>=11?d:d+12:"\u0431\u0435\u0433\u043e\u04b3"===O?d+12:void 0},meridiem:function(d,O,H){return d<4?"\u0448\u0430\u0431":d<11?"\u0441\u0443\u0431\u04b3":d<16?"\u0440\u04ef\u0437":d<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(d){return d+(I[d]||I[d%10]||I[d>=100?100:null])},week:{dow:1,doy:7}})}($(5439))},2868:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(F){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===F},meridiem:function(F,d,O){return F<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}($(5439))},1310:function(Ve,Ce,$){!function(B){"use strict";var I={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};B.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(d,O){switch(O){case"d":case"D":case"Do":case"DD":return d;default:if(0===d)return d+"'unjy";var H=d%10;return d+(I[H]||I[d%100-H]||I[d>=100?100:null])}},week:{dow:1,doy:7}})}($(5439))},2360:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(F){return F},week:{dow:1,doy:4}})}($(5439))},6645:function(Ve,Ce,$){!function(B){"use strict";var I="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function O(W,ie,Le,rt){var qe=function H(W){var ie=Math.floor(W%1e3/100),Le=Math.floor(W%100/10),rt=W%10,qe="";return ie>0&&(qe+=I[ie]+"vatlh"),Le>0&&(qe+=(""!==qe?" ":"")+I[Le]+"maH"),rt>0&&(qe+=(""!==qe?" ":"")+I[rt]),""===qe?"pagh":qe}(W);switch(Le){case"ss":return qe+" lup";case"mm":return qe+" tup";case"hh":return qe+" rep";case"dd":return qe+" jaj";case"MM":return qe+" jar";case"yy":return qe+" DIS"}}B.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function F(W){var ie=W;return-1!==W.indexOf("jaj")?ie.slice(0,-3)+"leS":-1!==W.indexOf("jar")?ie.slice(0,-3)+"waQ":-1!==W.indexOf("DIS")?ie.slice(0,-3)+"nem":ie+" pIq"},past:function d(W){var ie=W;return-1!==W.indexOf("jaj")?ie.slice(0,-3)+"Hu\u2019":-1!==W.indexOf("jar")?ie.slice(0,-3)+"wen":-1!==W.indexOf("DIS")?ie.slice(0,-3)+"ben":ie+" ret"},s:"puS lup",ss:O,m:"wa\u2019 tup",mm:O,h:"wa\u2019 rep",hh:O,d:"wa\u2019 jaj",dd:O,M:"wa\u2019 jar",MM:O,y:"wa\u2019 DIS",yy:O},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},8374:function(Ve,Ce,$){!function(B){"use strict";var I={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};B.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(d,O,H){return d<12?H?"\xf6\xf6":"\xd6\xd6":H?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(d){return"\xf6s"===d||"\xd6S"===d},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(d,O){switch(O){case"d":case"D":case"Do":case"DD":return d;default:if(0===d)return d+"'\u0131nc\u0131";var H=d%10;return d+(I[H]||I[d%100-H]||I[d>=100?100:null])}},week:{dow:1,doy:7}})}($(5439))},256:function(Ve,Ce,$){!function(B){"use strict";function F(d,O,H,q){var W={s:["viensas secunds","'iensas secunds"],ss:[d+" secunds",d+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[d+" m\xeduts",d+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[d+" \xfeoras",d+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[d+" ziuas",d+" ziuas"],M:["'n mes","'iens mes"],MM:[d+" mesen",d+" mesen"],y:["'n ar","'iens ar"],yy:[d+" ars",d+" ars"]};return q||O?W[H][0]:W[H][1]}B.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(d){return"d'o"===d.toLowerCase()},meridiem:function(d,O,H){return d>11?H?"d'o":"D'O":H?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:F,ss:F,m:F,mm:F,h:F,hh:F,d:F,dd:F,M:F,MM:F,y:F,yy:F},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}($(5439))},1631:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}($(5439))},1595:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}($(5439))},6050:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(F,d){return 12===F&&(F=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===d||"\u0633\u06d5\u06be\u06d5\u0631"===d||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===d?F:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===d||"\u0643\u06d5\u0686"===d?F+12:F>=11?F:F+12},meridiem:function(F,d,O){var H=100*F+d;return H<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":H<900?"\u0633\u06d5\u06be\u06d5\u0631":H<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":H<1230?"\u0686\u06c8\u0634":H<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(F,d){switch(d){case"d":case"D":case"DDD":return F+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return F+"-\u06be\u06d5\u067e\u062a\u06d5";default:return F}},preparse:function(F){return F.replace(/\u060c/g,",")},postformat:function(F){return F.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}($(5439))},5610:function(Ve,Ce,$){!function(B){"use strict";function F(q,W,ie){return"m"===ie?W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===ie?W?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":q+" "+function I(q,W){var ie=q.split("_");return W%10==1&&W%100!=11?ie[0]:W%10>=2&&W%10<=4&&(W%100<10||W%100>=20)?ie[1]:ie[2]}({ss:W?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:W?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:W?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[ie],+q)}function O(q){return function(){return q+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}B.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function d(q,W){var ie={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===q?ie.nominative.slice(1,7).concat(ie.nominative.slice(0,1)):q?ie[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(W)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(W)?"genitive":"nominative"][q.day()]:ie.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:O("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:O("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:O("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:O("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return O("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return O("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:F,m:F,mm:F,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:F,d:"\u0434\u0435\u043d\u044c",dd:F,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:F,y:"\u0440\u0456\u043a",yy:F},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(q){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(q)},meridiem:function(q,W,ie){return q<4?"\u043d\u043e\u0447\u0456":q<12?"\u0440\u0430\u043d\u043a\u0443":q<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(q,W){switch(W){case"M":case"d":case"DDD":case"w":case"W":return q+"-\u0439";case"D":return q+"-\u0433\u043e";default:return q}},week:{dow:1,doy:7}})}($(5439))},6077:function(Ve,Ce,$){!function(B){"use strict";var I=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],F=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];B.defineLocale("ur",{months:I,monthsShort:I,weekdays:F,weekdaysShort:F,weekdaysMin:F,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(O){return"\u0634\u0627\u0645"===O},meridiem:function(O,H,q){return O<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(O){return O.replace(/\u060c/g,",")},postformat:function(O){return O.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}($(5439))},2207:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}($(5439))},2862:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}($(5439))},8093:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(F){return/^ch$/i.test(F)},meridiem:function(F,d,O){return F<12?O?"sa":"SA":O?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(F){return F},week:{dow:1,doy:4}})}($(5439))},5590:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(F){var d=F%10;return F+(1==~~(F%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")},week:{dow:1,doy:4}})}($(5439))},9058:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}($(5439))},7908:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(F,d){return 12===F&&(F=0),"\u51cc\u6668"===d||"\u65e9\u4e0a"===d||"\u4e0a\u5348"===d?F:"\u4e0b\u5348"===d||"\u665a\u4e0a"===d?F+12:F>=11?F:F+12},meridiem:function(F,d,O){var H=100*F+d;return H<600?"\u51cc\u6668":H<900?"\u65e9\u4e0a":H<1130?"\u4e0a\u5348":H<1230?"\u4e2d\u5348":H<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(F){return F.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(F){return this.week()!==F.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(F,d){switch(d){case"d":case"D":case"DDD":return F+"\u65e5";case"M":return F+"\u6708";case"w":case"W":return F+"\u5468";default:return F}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}($(5439))},8867:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(F,d){return 12===F&&(F=0),"\u51cc\u6668"===d||"\u65e9\u4e0a"===d||"\u4e0a\u5348"===d?F:"\u4e2d\u5348"===d?F>=11?F:F+12:"\u4e0b\u5348"===d||"\u665a\u4e0a"===d?F+12:void 0},meridiem:function(F,d,O){var H=100*F+d;return H<600?"\u51cc\u6668":H<900?"\u65e9\u4e0a":H<1200?"\u4e0a\u5348":1200===H?"\u4e2d\u5348":H<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(F,d){switch(d){case"d":case"D":case"DDD":return F+"\u65e5";case"M":return F+"\u6708";case"w":case"W":return F+"\u9031";default:return F}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}($(5439))},1133:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(F,d){return 12===F&&(F=0),"\u51cc\u6668"===d||"\u65e9\u4e0a"===d||"\u4e0a\u5348"===d?F:"\u4e2d\u5348"===d?F>=11?F:F+12:"\u4e0b\u5348"===d||"\u665a\u4e0a"===d?F+12:void 0},meridiem:function(F,d,O){var H=100*F+d;return H<600?"\u51cc\u6668":H<900?"\u65e9\u4e0a":H<1130?"\u4e0a\u5348":H<1230?"\u4e2d\u5348":H<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(F,d){switch(d){case"d":case"D":case"DDD":return F+"\u65e5";case"M":return F+"\u6708";case"w":case"W":return F+"\u9031";default:return F}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}($(5439))},3291:function(Ve,Ce,$){!function(B){"use strict";B.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(F,d){return 12===F&&(F=0),"\u51cc\u6668"===d||"\u65e9\u4e0a"===d||"\u4e0a\u5348"===d?F:"\u4e2d\u5348"===d?F>=11?F:F+12:"\u4e0b\u5348"===d||"\u665a\u4e0a"===d?F+12:void 0},meridiem:function(F,d,O){var H=100*F+d;return H<600?"\u51cc\u6668":H<900?"\u65e9\u4e0a":H<1130?"\u4e0a\u5348":H<1230?"\u4e2d\u5348":H<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(F,d){switch(d){case"d":case"D":case"DDD":return F+"\u65e5";case"M":return F+"\u6708";case"w":case"W":return F+"\u9031";default:return F}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}($(5439))},5439:function(Ve,Ce,$){(Ve=$.nmd(Ve)).exports=function(){"use strict";var B,ve;function I(){return B.apply(null,arguments)}function d(L){return L instanceof Array||"[object Array]"===Object.prototype.toString.call(L)}function O(L){return null!=L&&"[object Object]"===Object.prototype.toString.call(L)}function H(L,U){return Object.prototype.hasOwnProperty.call(L,U)}function q(L){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(L).length;var U;for(U in L)if(H(L,U))return!1;return!0}function W(L){return void 0===L}function ie(L){return"number"==typeof L||"[object Number]"===Object.prototype.toString.call(L)}function Le(L){return L instanceof Date||"[object Date]"===Object.prototype.toString.call(L)}function rt(L,U){var pe,te=[];for(pe=0;pe<L.length;++pe)te.push(U(L[pe],pe));return te}function qe(L,U){for(var te in U)H(U,te)&&(L[te]=U[te]);return H(U,"toString")&&(L.toString=U.toString),H(U,"valueOf")&&(L.valueOf=U.valueOf),L}function Ee(L,U,te,pe){return Ir(L,U,te,pe,!0).utc()}function Q(L){return null==L._pf&&(L._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),L._pf}function he(L){if(null==L._isValid){var U=Q(L),te=ve.call(U.parsedDateParts,function(Ne){return null!=Ne}),pe=!isNaN(L._d.getTime())&&U.overflow<0&&!U.empty&&!U.invalidEra&&!U.invalidMonth&&!U.invalidWeekday&&!U.weekdayMismatch&&!U.nullInput&&!U.invalidFormat&&!U.userInvalidated&&(!U.meridiem||U.meridiem&&te);if(L._strict&&(pe=pe&&0===U.charsLeftOver&&0===U.unusedTokens.length&&void 0===U.bigHour),null!=Object.isFrozen&&Object.isFrozen(L))return pe;L._isValid=pe}return L._isValid}function xe(L){var U=Ee(NaN);return null!=L?qe(Q(U),L):Q(U).userInvalidated=!0,U}ve=Array.prototype.some?Array.prototype.some:function(L){var pe,U=Object(this),te=U.length>>>0;for(pe=0;pe<te;pe++)if(pe in U&&L.call(this,U[pe],pe,U))return!0;return!1};var se=I.momentProperties=[],ne=!1;function re(L,U){var te,pe,Ne;if(W(U._isAMomentObject)||(L._isAMomentObject=U._isAMomentObject),W(U._i)||(L._i=U._i),W(U._f)||(L._f=U._f),W(U._l)||(L._l=U._l),W(U._strict)||(L._strict=U._strict),W(U._tzm)||(L._tzm=U._tzm),W(U._isUTC)||(L._isUTC=U._isUTC),W(U._offset)||(L._offset=U._offset),W(U._pf)||(L._pf=Q(U)),W(U._locale)||(L._locale=U._locale),se.length>0)for(te=0;te<se.length;te++)W(Ne=U[pe=se[te]])||(L[pe]=Ne);return L}function fe(L){re(this,L),this._d=new Date(null!=L._d?L._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ne&&(ne=!0,I.updateOffset(this),ne=!1)}function we(L){return L instanceof fe||null!=L&&null!=L._isAMomentObject}function ae(L){!1===I.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+L)}function ct(L,U){var te=!0;return qe(function(){if(null!=I.deprecationHandler&&I.deprecationHandler(null,L),te){var Ne,St,hn,pe=[];for(St=0;St<arguments.length;St++){if(Ne="","object"==typeof arguments[St]){for(hn in Ne+="\n["+St+"] ",arguments[0])H(arguments[0],hn)&&(Ne+=hn+": "+arguments[0][hn]+", ");Ne=Ne.slice(0,-2)}else Ne=arguments[St];pe.push(Ne)}ae(L+"\nArguments: "+Array.prototype.slice.call(pe).join("")+"\n"+(new Error).stack),te=!1}return U.apply(this,arguments)},U)}var Mt,Fe={};function Je(L,U){null!=I.deprecationHandler&&I.deprecationHandler(L,U),Fe[L]||(ae(U),Fe[L]=!0)}function Te(L){return"undefined"!=typeof Function&&L instanceof Function||"[object Function]"===Object.prototype.toString.call(L)}function Pt(L,U){var pe,te=qe({},L);for(pe in U)H(U,pe)&&(O(L[pe])&&O(U[pe])?(te[pe]={},qe(te[pe],L[pe]),qe(te[pe],U[pe])):null!=U[pe]?te[pe]=U[pe]:delete te[pe]);for(pe in L)H(L,pe)&&!H(U,pe)&&O(L[pe])&&(te[pe]=qe({},te[pe]));return te}function Ge(L){null!=L&&this.set(L)}I.suppressDeprecationWarnings=!1,I.deprecationHandler=null,Mt=Object.keys?Object.keys:function(L){var U,te=[];for(U in L)H(L,U)&&te.push(U);return te};function gt(L,U,te){var pe=""+Math.abs(L);return(L>=0?te?"+":"":"-")+Math.pow(10,Math.max(0,U-pe.length)).toString().substr(1)+pe}var Re=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ht={},_n={};function bt(L,U,te,pe){var Ne=pe;"string"==typeof pe&&(Ne=function(){return this[pe]()}),L&&(_n[L]=Ne),U&&(_n[U[0]]=function(){return gt(Ne.apply(this,arguments),U[1],U[2])}),te&&(_n[te]=function(){return this.localeData().ordinal(Ne.apply(this,arguments),L)})}function Qn(L){return L.match(/\[[\s\S]/)?L.replace(/^\[|\]$/g,""):L.replace(/\\/g,"")}function Pn(L,U){return L.isValid()?(U=Sn(U,L.localeData()),Ht[U]=Ht[U]||function fn(L){var te,pe,U=L.match(Re);for(te=0,pe=U.length;te<pe;te++)U[te]=_n[U[te]]?_n[U[te]]:Qn(U[te]);return function(Ne){var hn,St="";for(hn=0;hn<pe;hn++)St+=Te(U[hn])?U[hn].call(Ne,L):U[hn];return St}}(U),Ht[U](L)):L.localeData().invalidDate()}function Sn(L,U){var te=5;function pe(Ne){return U.longDateFormat(Ne)||Ne}for(Yt.lastIndex=0;te>=0&&Yt.test(L);)L=L.replace(Yt,pe),Yt.lastIndex=0,te-=1;return L}var De={};function Ze(L,U){var te=L.toLowerCase();De[te]=De[te+"s"]=De[U]=L}function _t(L){return"string"==typeof L?De[L]||De[L.toLowerCase()]:void 0}function zt(L){var te,pe,U={};for(pe in L)H(L,pe)&&(te=_t(pe))&&(U[te]=L[pe]);return U}var sn={};function Kt(L,U){sn[L]=U}function qn(L){return L%4==0&&L%100!=0||L%400==0}function dr(L){return L<0?Math.ceil(L)||0:Math.floor(L)}function tn(L){var U=+L,te=0;return 0!==U&&isFinite(U)&&(te=dr(U)),te}function br(L,U){return function(te){return null!=te?($r(this,L,te),I.updateOffset(this,U),this):Ui(this,L)}}function Ui(L,U){return L.isValid()?L._d["get"+(L._isUTC?"UTC":"")+U]():NaN}function $r(L,U,te){L.isValid()&&!isNaN(te)&&("FullYear"===U&&qn(L.year())&&1===L.month()&&29===L.date()?(te=tn(te),L._d["set"+(L._isUTC?"UTC":"")+U](te,L.month(),rr(te,L.month()))):L._d["set"+(L._isUTC?"UTC":"")+U](te))}var yt,Js=/\d/,xi=/\d\d/,qs=/\d{3}/,es=/\d{4}/,wi=/[+-]?\d{6}/,ai=/\d\d?/,Ys=/\d\d\d\d?/,mn=/\d\d\d\d\d\d?/,rl=/\d{1,3}/,oa=/\d{1,4}/,xr=/[+-]?\d{1,6}/,Fo=/\d+/,We=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,be=/Z|[+-]\d\d(?::?\d\d)?/gi,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ht(L,U,te){yt[L]=Te(U)?U:function(pe,Ne){return pe&&te?te:U}}function kt(L,U){return H(yt,L)?yt[L](U._strict,U._locale):new RegExp(function Et(L){return It(L.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(U,te,pe,Ne,St){return te||pe||Ne||St}))}(L))}function It(L){return L.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}yt={};var jt={};function ln(L,U){var te,pe=U;for("string"==typeof L&&(L=[L]),ie(U)&&(pe=function(Ne,St){St[U]=tn(Ne)}),te=0;te<L.length;te++)jt[L[te]]=pe}function nn(L,U){ln(L,function(te,pe,Ne,St){Ne._w=Ne._w||{},U(te,Ne._w,Ne,St)})}function Un(L,U,te){null!=U&&H(jt,L)&&jt[L](U,te._a,te,L)}var rn;function rr(L,U){if(isNaN(L)||isNaN(U))return NaN;var te=function co(L,U){return(L%U+U)%U}(U,12);return L+=(U-te)/12,1===te?qn(L)?29:28:31-te%7%2}rn=Array.prototype.indexOf?Array.prototype.indexOf:function(L){var U;for(U=0;U<this.length;++U)if(this[U]===L)return U;return-1},bt("M",["MM",2],"Mo",function(){return this.month()+1}),bt("MMM",0,0,function(L){return this.localeData().monthsShort(this,L)}),bt("MMMM",0,0,function(L){return this.localeData().months(this,L)}),Ze("month","M"),Kt("month",8),ht("M",ai),ht("MM",ai,xi),ht("MMM",function(L,U){return U.monthsShortRegex(L)}),ht("MMMM",function(L,U){return U.monthsRegex(L)}),ln(["M","MM"],function(L,U){U[1]=tn(L)-1}),ln(["MMM","MMMM"],function(L,U,te,pe){var Ne=te._locale.monthsParse(L,pe,te._strict);null!=Ne?U[1]=Ne:Q(te).invalidMonth=L});var Fr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Jo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Vn=ot,Ou=ot;function Oa(L,U,te){var pe,Ne,St,hn=L.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],pe=0;pe<12;++pe)St=Ee([2e3,pe]),this._shortMonthsParse[pe]=this.monthsShort(St,"").toLocaleLowerCase(),this._longMonthsParse[pe]=this.months(St,"").toLocaleLowerCase();return te?"MMM"===U?-1!==(Ne=rn.call(this._shortMonthsParse,hn))?Ne:null:-1!==(Ne=rn.call(this._longMonthsParse,hn))?Ne:null:"MMM"===U?-1!==(Ne=rn.call(this._shortMonthsParse,hn))||-1!==(Ne=rn.call(this._longMonthsParse,hn))?Ne:null:-1!==(Ne=rn.call(this._longMonthsParse,hn))||-1!==(Ne=rn.call(this._shortMonthsParse,hn))?Ne:null}function ti(L,U){var te;if(!L.isValid())return L;if("string"==typeof U)if(/^\d+$/.test(U))U=tn(U);else if(!ie(U=L.localeData().monthsParse(U)))return L;return te=Math.min(L.date(),rr(L.year(),U)),L._d["set"+(L._isUTC?"UTC":"")+"Month"](U,te),L}function Ko(L){return null!=L?(ti(this,L),I.updateOffset(this,!0),this):Ui(this,"Month")}function wr(){function L(hn,Ur){return Ur.length-hn.length}var Ne,St,U=[],te=[],pe=[];for(Ne=0;Ne<12;Ne++)St=Ee([2e3,Ne]),U.push(this.monthsShort(St,"")),te.push(this.months(St,"")),pe.push(this.months(St,"")),pe.push(this.monthsShort(St,""));for(U.sort(L),te.sort(L),pe.sort(L),Ne=0;Ne<12;Ne++)U[Ne]=It(U[Ne]),te[Ne]=It(te[Ne]);for(Ne=0;Ne<24;Ne++)pe[Ne]=It(pe[Ne]);this._monthsRegex=new RegExp("^("+pe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+te.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+U.join("|")+")","i")}function ar(L){return qn(L)?366:365}bt("Y",0,0,function(){var L=this.year();return L<=9999?gt(L,4):"+"+L}),bt(0,["YY",2],0,function(){return this.year()%100}),bt(0,["YYYY",4],0,"year"),bt(0,["YYYYY",5],0,"year"),bt(0,["YYYYYY",6,!0],0,"year"),Ze("year","y"),Kt("year",1),ht("Y",We),ht("YY",ai,xi),ht("YYYY",oa,es),ht("YYYYY",xr,wi),ht("YYYYYY",xr,wi),ln(["YYYYY","YYYYYY"],0),ln("YYYY",function(L,U){U[0]=2===L.length?I.parseTwoDigitYear(L):tn(L)}),ln("YY",function(L,U){U[0]=I.parseTwoDigitYear(L)}),ln("Y",function(L,U){U[0]=parseInt(L,10)}),I.parseTwoDigitYear=function(L){return tn(L)+(tn(L)>68?1900:2e3)};var uc=br("FullYear",!0);function Ha(L,U,te,pe,Ne,St,hn){var Ur;return L<100&&L>=0?(Ur=new Date(L+400,U,te,pe,Ne,St,hn),isFinite(Ur.getFullYear())&&Ur.setFullYear(L)):Ur=new Date(L,U,te,pe,Ne,St,hn),Ur}function aa(L){var U,te;return L<100&&L>=0?((te=Array.prototype.slice.call(arguments))[0]=L+400,U=new Date(Date.UTC.apply(null,te)),isFinite(U.getUTCFullYear())&&U.setUTCFullYear(L)):U=new Date(Date.UTC.apply(null,arguments)),U}function Qo(L,U,te){var pe=7+U-te;return-(7+aa(L,0,pe).getUTCDay()-U)%7+pe-1}function il(L,U,te,pe,Ne){var ji,xo,Ur=1+7*(U-1)+(7+te-pe)%7+Qo(L,pe,Ne);return Ur<=0?xo=ar(ji=L-1)+Ur:Ur>ar(L)?(ji=L+1,xo=Ur-ar(L)):(ji=L,xo=Ur),{year:ji,dayOfYear:xo}}function zi(L,U,te){var St,hn,pe=Qo(L.year(),U,te),Ne=Math.floor((L.dayOfYear()-pe-1)/7)+1;return Ne<1?St=Ne+Ga(hn=L.year()-1,U,te):Ne>Ga(L.year(),U,te)?(St=Ne-Ga(L.year(),U,te),hn=L.year()+1):(hn=L.year(),St=Ne),{week:St,year:hn}}function Ga(L,U,te){var pe=Qo(L,U,te),Ne=Qo(L+1,U,te);return(ar(L)-pe+Ne)/7}bt("w",["ww",2],"wo","week"),bt("W",["WW",2],"Wo","isoWeek"),Ze("week","w"),Ze("isoWeek","W"),Kt("week",5),Kt("isoWeek",5),ht("w",ai),ht("ww",ai,xi),ht("W",ai),ht("WW",ai,xi),nn(["w","ww","W","WW"],function(L,U,te,pe){U[pe.substr(0,1)]=tn(L)});function Ii(L,U){return L.slice(U,7).concat(L.slice(0,U))}bt("d",0,"do","day"),bt("dd",0,0,function(L){return this.localeData().weekdaysMin(this,L)}),bt("ddd",0,0,function(L){return this.localeData().weekdaysShort(this,L)}),bt("dddd",0,0,function(L){return this.localeData().weekdays(this,L)}),bt("e",0,0,"weekday"),bt("E",0,0,"isoWeekday"),Ze("day","d"),Ze("weekday","e"),Ze("isoWeekday","E"),Kt("day",11),Kt("weekday",11),Kt("isoWeekday",11),ht("d",ai),ht("e",ai),ht("E",ai),ht("dd",function(L,U){return U.weekdaysMinRegex(L)}),ht("ddd",function(L,U){return U.weekdaysShortRegex(L)}),ht("dddd",function(L,U){return U.weekdaysRegex(L)}),nn(["dd","ddd","dddd"],function(L,U,te,pe){var Ne=te._locale.weekdaysParse(L,pe,te._strict);null!=Ne?U.d=Ne:Q(te).invalidWeekday=L}),nn(["d","e","E"],function(L,U,te,pe){U[pe]=tn(L)});var Ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kh="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zo=ot,Yc=ot,_r=ot;function hc(L,U,te){var pe,Ne,St,hn=L.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],pe=0;pe<7;++pe)St=Ee([2e3,1]).day(pe),this._minWeekdaysParse[pe]=this.weekdaysMin(St,"").toLocaleLowerCase(),this._shortWeekdaysParse[pe]=this.weekdaysShort(St,"").toLocaleLowerCase(),this._weekdaysParse[pe]=this.weekdays(St,"").toLocaleLowerCase();return te?"dddd"===U?-1!==(Ne=rn.call(this._weekdaysParse,hn))?Ne:null:"ddd"===U?-1!==(Ne=rn.call(this._shortWeekdaysParse,hn))?Ne:null:-1!==(Ne=rn.call(this._minWeekdaysParse,hn))?Ne:null:"dddd"===U?-1!==(Ne=rn.call(this._weekdaysParse,hn))||-1!==(Ne=rn.call(this._shortWeekdaysParse,hn))||-1!==(Ne=rn.call(this._minWeekdaysParse,hn))?Ne:null:"ddd"===U?-1!==(Ne=rn.call(this._shortWeekdaysParse,hn))||-1!==(Ne=rn.call(this._weekdaysParse,hn))||-1!==(Ne=rn.call(this._minWeekdaysParse,hn))?Ne:null:-1!==(Ne=rn.call(this._minWeekdaysParse,hn))||-1!==(Ne=rn.call(this._weekdaysParse,hn))||-1!==(Ne=rn.call(this._shortWeekdaysParse,hn))?Ne:null}function Tr(){function L(mu,Oo){return Oo.length-mu.length}var St,hn,Ur,ji,xo,U=[],te=[],pe=[],Ne=[];for(St=0;St<7;St++)hn=Ee([2e3,1]).day(St),Ur=It(this.weekdaysMin(hn,"")),ji=It(this.weekdaysShort(hn,"")),xo=It(this.weekdays(hn,"")),U.push(Ur),te.push(ji),pe.push(xo),Ne.push(Ur),Ne.push(ji),Ne.push(xo);U.sort(L),te.sort(L),pe.sort(L),Ne.sort(L),this._weekdaysRegex=new RegExp("^("+Ne.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+pe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+te.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+U.join("|")+")","i")}function Ki(){return this.hours()%12||12}function io(L,U){bt(L,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),U)})}function zs(L,U){return U._meridiemParse}bt("H",["HH",2],0,"hour"),bt("h",["hh",2],0,Ki),bt("k",["kk",2],0,function Nu(){return this.hours()||24}),bt("hmm",0,0,function(){return""+Ki.apply(this)+gt(this.minutes(),2)}),bt("hmmss",0,0,function(){return""+Ki.apply(this)+gt(this.minutes(),2)+gt(this.seconds(),2)}),bt("Hmm",0,0,function(){return""+this.hours()+gt(this.minutes(),2)}),bt("Hmmss",0,0,function(){return""+this.hours()+gt(this.minutes(),2)+gt(this.seconds(),2)}),io("a",!0),io("A",!1),Ze("hour","h"),Kt("hour",13),ht("a",zs),ht("A",zs),ht("H",ai),ht("h",ai),ht("k",ai),ht("HH",ai,xi),ht("hh",ai,xi),ht("kk",ai,xi),ht("hmm",Ys),ht("hmmss",mn),ht("Hmm",Ys),ht("Hmmss",mn),ln(["H","HH"],3),ln(["k","kk"],function(L,U,te){var pe=tn(L);U[3]=24===pe?0:pe}),ln(["a","A"],function(L,U,te){te._isPm=te._locale.isPM(L),te._meridiem=L}),ln(["h","hh"],function(L,U,te){U[3]=tn(L),Q(te).bigHour=!0}),ln("hmm",function(L,U,te){var pe=L.length-2;U[3]=tn(L.substr(0,pe)),U[4]=tn(L.substr(pe)),Q(te).bigHour=!0}),ln("hmmss",function(L,U,te){var pe=L.length-4,Ne=L.length-2;U[3]=tn(L.substr(0,pe)),U[4]=tn(L.substr(pe,2)),U[5]=tn(L.substr(Ne)),Q(te).bigHour=!0}),ln("Hmm",function(L,U,te){var pe=L.length-2;U[3]=tn(L.substr(0,pe)),U[4]=tn(L.substr(pe))}),ln("Hmmss",function(L,U,te){var pe=L.length-4,Ne=L.length-2;U[3]=tn(L.substr(0,pe)),U[4]=tn(L.substr(pe,2)),U[5]=tn(L.substr(Ne))});var _l=br("Hours",!0);var Na,Lc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Fr,monthsShort:Xi,week:{dow:0,doy:6},weekdays:Ci,weekdaysMin:kh,weekdaysShort:hi,meridiemParse:/[ap]\.?m?\.?/i},Ti={},kr={};function Bo(L,U){var te,pe=Math.min(L.length,U.length);for(te=0;te<pe;te+=1)if(L[te]!==U[te])return te;return pe}function Fu(L){return L&&L.toLowerCase().replace("_","-")}function lu(L){var U=null;if(void 0===Ti[L]&&Ve&&Ve.exports)try{U=Na._abbr,$(6700)("./"+L),Hi(U)}catch(pe){Ti[L]=null}return Ti[L]}function Hi(L,U){var te;return L&&((te=W(U)?xa(L):Kn(L,U))?Na=te:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+L+" not found. Did you forget to load it?")),Na._abbr}function Kn(L,U){if(null!==U){var te,pe=Lc;if(U.abbr=L,null!=Ti[L])Je("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),pe=Ti[L]._config;else if(null!=U.parentLocale)if(null!=Ti[U.parentLocale])pe=Ti[U.parentLocale]._config;else{if(null==(te=lu(U.parentLocale)))return kr[U.parentLocale]||(kr[U.parentLocale]=[]),kr[U.parentLocale].push({name:L,config:U}),null;pe=te._config}return Ti[L]=new Ge(Pt(pe,U)),kr[L]&&kr[L].forEach(function(Ne){Kn(Ne.name,Ne.config)}),Hi(L),Ti[L]}return delete Ti[L],null}function xa(L){var U;if(L&&L._locale&&L._locale._abbr&&(L=L._locale._abbr),!L)return Na;if(!d(L)){if(U=lu(L))return U;L=[L]}return function bi(L){for(var te,pe,Ne,St,U=0;U<L.length;){for(te=(St=Fu(L[U]).split("-")).length,pe=(pe=Fu(L[U+1]))?pe.split("-"):null;te>0;){if(Ne=lu(St.slice(0,te).join("-")))return Ne;if(pe&&pe.length>=te&&Bo(St,pe)>=te-1)break;te--}U++}return Na}(L)}function la(L){var U,te=L._a;return te&&-2===Q(L).overflow&&(U=te[1]<0||te[1]>11?1:te[2]<1||te[2]>rr(te[0],te[1])?2:te[3]<0||te[3]>24||24===te[3]&&(0!==te[4]||0!==te[5]||0!==te[6])?3:te[4]<0||te[4]>59?4:te[5]<0||te[5]>59?5:te[6]<0||te[6]>999?6:-1,Q(L)._overflowDayOfYear&&(U<0||U>2)&&(U=2),Q(L)._overflowWeeks&&-1===U&&(U=7),Q(L)._overflowWeekday&&-1===U&&(U=8),Q(L).overflow=U),L}var Hl=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ju=/Z|[+-]\d\d(?::?\d\d)?/,kc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yl=/^\/?Date\((-?\d+)/i,Ws=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,wa={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ua(L){var U,te,St,hn,Ur,ji,pe=L._i,Ne=Hl.exec(pe)||sl.exec(pe);if(Ne){for(Q(L).iso=!0,U=0,te=kc.length;U<te;U++)if(kc[U][1].exec(Ne[1])){hn=kc[U][0],St=!1!==kc[U][2];break}if(null==hn)return void(L._isValid=!1);if(Ne[3]){for(U=0,te=vr.length;U<te;U++)if(vr[U][1].exec(Ne[3])){Ur=(Ne[2]||" ")+vr[U][0];break}if(null==Ur)return void(L._isValid=!1)}if(!St&&null!=Ur)return void(L._isValid=!1);if(Ne[4]){if(!Ju.exec(Ne[4]))return void(L._isValid=!1);ji="Z"}L._f=hn+(Ur||"")+(ji||""),kl(L)}else L._isValid=!1}function Kr(L){var U=parseInt(L,10);return U<=49?2e3+U:U<=999?1900+U:U}function Pi(L){var te,U=Ws.exec(function Du(L){return L.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(L._i));if(U){if(te=function ca(L,U,te,pe,Ne,St){var hn=[Kr(L),Xi.indexOf(U),parseInt(te,10),parseInt(pe,10),parseInt(Ne,10)];return St&&hn.push(parseInt(St,10)),hn}(U[4],U[3],U[2],U[5],U[6],U[7]),!function Hn(L,U,te){return!L||hi.indexOf(L)===new Date(U[0],U[1],U[2]).getDay()||(Q(te).weekdayMismatch=!0,te._isValid=!1,!1)}(U[1],te,L))return;L._a=te,L._tzm=function Vo(L,U,te){if(L)return wa[L];if(U)return 0;var pe=parseInt(te,10),Ne=pe%100;return(pe-Ne)/100*60+Ne}(U[8],U[9],U[10]),L._d=aa.apply(null,L._a),L._d.setUTCMinutes(L._d.getUTCMinutes()-L._tzm),Q(L).rfc2822=!0}else L._isValid=!1}function Wa(L,U,te){return null!=L?L:null!=U?U:te}function ni(L){var U,te,Ne,St,hn,pe=[];if(!L._d){for(Ne=function Uo(L){var U=new Date(I.now());return L._useUTC?[U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate()]:[U.getFullYear(),U.getMonth(),U.getDate()]}(L),L._w&&null==L._a[2]&&null==L._a[1]&&function Ho(L){var U,te,pe,Ne,St,hn,Ur,ji,xo;null!=(U=L._w).GG||null!=U.W||null!=U.E?(St=1,hn=4,te=Wa(U.GG,L._a[0],zi(mr(),1,4).year),pe=Wa(U.W,1),((Ne=Wa(U.E,1))<1||Ne>7)&&(ji=!0)):(St=L._locale._week.dow,hn=L._locale._week.doy,xo=zi(mr(),St,hn),te=Wa(U.gg,L._a[0],xo.year),pe=Wa(U.w,xo.week),null!=U.d?((Ne=U.d)<0||Ne>6)&&(ji=!0):null!=U.e?(Ne=U.e+St,(U.e<0||U.e>6)&&(ji=!0)):Ne=St),pe<1||pe>Ga(te,St,hn)?Q(L)._overflowWeeks=!0:null!=ji?Q(L)._overflowWeekday=!0:(Ur=il(te,pe,Ne,St,hn),L._a[0]=Ur.year,L._dayOfYear=Ur.dayOfYear)}(L),null!=L._dayOfYear&&(hn=Wa(L._a[0],Ne[0]),(L._dayOfYear>ar(hn)||0===L._dayOfYear)&&(Q(L)._overflowDayOfYear=!0),te=aa(hn,0,L._dayOfYear),L._a[1]=te.getUTCMonth(),L._a[2]=te.getUTCDate()),U=0;U<3&&null==L._a[U];++U)L._a[U]=pe[U]=Ne[U];for(;U<7;U++)L._a[U]=pe[U]=null==L._a[U]?2===U?1:0:L._a[U];24===L._a[3]&&0===L._a[4]&&0===L._a[5]&&0===L._a[6]&&(L._nextDay=!0,L._a[3]=0),L._d=(L._useUTC?aa:Ha).apply(null,pe),St=L._useUTC?L._d.getUTCDay():L._d.getDay(),null!=L._tzm&&L._d.setUTCMinutes(L._d.getUTCMinutes()-L._tzm),L._nextDay&&(L._a[3]=24),L._w&&void 0!==L._w.d&&L._w.d!==St&&(Q(L).weekdayMismatch=!0)}}function kl(L){if(L._f!==I.ISO_8601)if(L._f!==I.RFC_2822){L._a=[],Q(L).empty=!0;var te,pe,Ne,St,hn,xo,U=""+L._i,Ur=U.length,ji=0;for(Ne=Sn(L._f,L._locale).match(Re)||[],te=0;te<Ne.length;te++)(pe=(U.match(kt(St=Ne[te],L))||[])[0])&&((hn=U.substr(0,U.indexOf(pe))).length>0&&Q(L).unusedInput.push(hn),U=U.slice(U.indexOf(pe)+pe.length),ji+=pe.length),_n[St]?(pe?Q(L).empty=!1:Q(L).unusedTokens.push(St),Un(St,pe,L)):L._strict&&!pe&&Q(L).unusedTokens.push(St);Q(L).charsLeftOver=Ur-ji,U.length>0&&Q(L).unusedInput.push(U),L._a[3]<=12&&!0===Q(L).bigHour&&L._a[3]>0&&(Q(L).bigHour=void 0),Q(L).parsedDateParts=L._a.slice(0),Q(L).meridiem=L._meridiem,L._a[3]=function ol(L,U,te){var pe;return null==te?U:null!=L.meridiemHour?L.meridiemHour(U,te):(null!=L.isPM&&((pe=L.isPM(te))&&U<12&&(U+=12),!pe&&12===U&&(U=0)),U)}(L._locale,L._a[3],L._meridiem),null!==(xo=Q(L).era)&&(L._a[0]=L._locale.erasConvertYear(xo,L._a[0])),ni(L),la(L)}else Pi(L);else ua(L)}function vl(L){var U=L._i,te=L._f;return L._locale=L._locale||xa(L._l),null===U||void 0===te&&""===U?xe({nullInput:!0}):("string"==typeof U&&(L._i=U=L._locale.preparse(U)),we(U)?new fe(la(U)):(Le(U)?L._d=U:d(te)?function Go(L){var U,te,pe,Ne,St,hn,Ur=!1;if(0===L._f.length)return Q(L).invalidFormat=!0,void(L._d=new Date(NaN));for(Ne=0;Ne<L._f.length;Ne++)St=0,hn=!1,U=re({},L),null!=L._useUTC&&(U._useUTC=L._useUTC),U._f=L._f[Ne],kl(U),he(U)&&(hn=!0),St+=Q(U).charsLeftOver,St+=10*Q(U).unusedTokens.length,Q(U).score=St,Ur?St<pe&&(pe=St,te=U):(null==pe||St<pe||hn)&&(pe=St,te=U,hn&&(Ur=!0));qe(L,te||U)}(L):te?kl(L):function Rn(L){var U=L._i;W(U)?L._d=new Date(I.now()):Le(U)?L._d=new Date(U.valueOf()):"string"==typeof U?function Fa(L){var U=yl.exec(L._i);null===U?(ua(L),!1===L._isValid&&(delete L._isValid,Pi(L),!1===L._isValid&&(delete L._isValid,L._strict?L._isValid=!1:I.createFromInputFallback(L)))):L._d=new Date(+U[1])}(L):d(U)?(L._a=rt(U.slice(0),function(te){return parseInt(te,10)}),ni(L)):O(U)?function Bi(L){if(!L._d){var U=zt(L._i);L._a=rt([U.year,U.month,void 0===U.day?U.date:U.day,U.hour,U.minute,U.second,U.millisecond],function(pe){return pe&&parseInt(pe,10)}),ni(L)}}(L):ie(U)?L._d=new Date(U):I.createFromInputFallback(L)}(L),he(L)||(L._d=null),L))}function Ir(L,U,te,pe,Ne){var St={};return(!0===U||!1===U)&&(pe=U,U=void 0),(!0===te||!1===te)&&(pe=te,te=void 0),(O(L)&&q(L)||d(L)&&0===L.length)&&(L=void 0),St._isAMomentObject=!0,St._useUTC=St._isUTC=Ne,St._l=te,St._i=L,St._f=U,St._strict=pe,function Td(L){var U=new fe(la(vl(L)));return U._nextDay&&(U.add(1,"d"),U._nextDay=void 0),U}(St)}function mr(L,U,te,pe){return Ir(L,U,te,pe,!1)}I.createFromInputFallback=ct("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(L){L._d=new Date(L._i+(L._useUTC?" UTC":""))}),I.ISO_8601=function(){},I.RFC_2822=function(){};var $s=ct("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var L=mr.apply(null,arguments);return this.isValid()&&L.isValid()?L<this?this:L:xe()}),ha=ct("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var L=mr.apply(null,arguments);return this.isValid()&&L.isValid()?L>this?this:L:xe()});function ts(L,U){var te,pe;if(1===U.length&&d(U[0])&&(U=U[0]),!U.length)return mr();for(te=U[0],pe=1;pe<U.length;++pe)(!U[pe].isValid()||U[pe][L](te))&&(te=U[pe]);return te}var ba=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ta(L){var U=zt(L),te=U.year||0,pe=U.quarter||0,Ne=U.month||0,St=U.week||U.isoWeek||0,hn=U.day||0,Ur=U.hour||0,ji=U.minute||0,xo=U.second||0,mu=U.millisecond||0;this._isValid=function Qr(L){var U,pe,te=!1;for(U in L)if(H(L,U)&&(-1===rn.call(ba,U)||null!=L[U]&&isNaN(L[U])))return!1;for(pe=0;pe<ba.length;++pe)if(L[ba[pe]]){if(te)return!1;parseFloat(L[ba[pe]])!==tn(L[ba[pe]])&&(te=!0)}return!0}(U),this._milliseconds=+mu+1e3*xo+6e4*ji+1e3*Ur*60*60,this._days=+hn+7*St,this._months=+Ne+3*pe+12*te,this._data={},this._locale=xa(),this._bubble()}function Eu(L){return L instanceof ta}function Gi(L){return L<0?-1*Math.round(-1*L):Math.round(L)}function Gl(L,U){bt(L,0,0,function(){var te=this.utcOffset(),pe="+";return te<0&&(te=-te,pe="-"),pe+gt(~~(te/60),2)+U+gt(~~te%60,2)})}Gl("Z",":"),Gl("ZZ",""),ht("Z",be),ht("ZZ",be),ln(["Z","ZZ"],function(L,U,te){te._useUTC=!0,te._tzm=ks(be,L)});var da=/([\+\-]|\d\d)/gi;function ks(L,U){var Ne,St,te=(U||"").match(L);return null===te?null:0===(St=60*(Ne=((te[te.length-1]||[])+"").match(da)||["-",0,0])[1]+tn(Ne[2]))?0:"+"===Ne[0]?St:-St}function lh(L,U){var te,pe;return U._isUTC?(te=U.clone(),pe=(we(L)||Le(L)?L.valueOf():mr(L).valueOf())-te.valueOf(),te._d.setTime(te._d.valueOf()+pe),I.updateOffset(te,!1),te):mr(L).local()}function cu(L){return-Math.round(L._d.getTimezoneOffset())}function To(){return!!this.isValid()&&this._isUTC&&0===this._offset}I.updateOffset=function(){};var fa=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,pa=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $a(L,U){var Ne,St,hn,te=L,pe=null;return Eu(L)?te={ms:L._milliseconds,d:L._days,M:L._months}:ie(L)||!isNaN(+L)?(te={},U?te[U]=+L:te.milliseconds=+L):(pe=fa.exec(L))?(Ne="-"===pe[1]?-1:1,te={y:0,d:tn(pe[2])*Ne,h:tn(pe[3])*Ne,m:tn(pe[4])*Ne,s:tn(pe[5])*Ne,ms:tn(Gi(1e3*pe[6]))*Ne}):(pe=pa.exec(L))?te={y:za(pe[2],Ne="-"===pe[1]?-1:1),M:za(pe[3],Ne),w:za(pe[4],Ne),d:za(pe[5],Ne),h:za(pe[6],Ne),m:za(pe[7],Ne),s:za(pe[8],Ne)}:null==te?te={}:"object"==typeof te&&("from"in te||"to"in te)&&(hn=function Wo(L,U){var te;return L.isValid()&&U.isValid()?(U=lh(U,L),L.isBefore(U)?te=hu(L,U):((te=hu(U,L)).milliseconds=-te.milliseconds,te.months=-te.months),te):{milliseconds:0,months:0}}(mr(te.from),mr(te.to)),(te={}).ms=hn.milliseconds,te.M=hn.months),St=new ta(te),Eu(L)&&H(L,"_locale")&&(St._locale=L._locale),Eu(L)&&H(L,"_isValid")&&(St._isValid=L._isValid),St}function za(L,U){var te=L&&parseFloat(L.replace(",","."));return(isNaN(te)?0:te)*U}function hu(L,U){var te={};return te.months=U.month()-L.month()+12*(U.year()-L.year()),L.clone().add(te.months,"M").isAfter(U)&&--te.months,te.milliseconds=+U-+L.clone().add(te.months,"M"),te}function ho(L,U){return function(te,pe){var St;return null!==pe&&!isNaN(+pe)&&(Je(U,"moment()."+U+"(period, number) is deprecated. Please use moment()."+U+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),St=te,te=pe,pe=St),Ma(this,$a(te,pe),L),this}}function Ma(L,U,te,pe){var Ne=U._milliseconds,St=Gi(U._days),hn=Gi(U._months);!L.isValid()||(pe=null==pe||pe,hn&&ti(L,Ui(L,"Month")+hn*te),St&&$r(L,"Date",Ui(L,"Date")+St*te),Ne&&L._d.setTime(L._d.valueOf()+Ne*te),pe&&I.updateOffset(L,St||hn))}$a.fn=ta.prototype,$a.invalid=function qr(){return $a(NaN)};var xl=ho(1,"add"),uh=ho(-1,"subtract");function Yu(L){return"string"==typeof L||L instanceof String}function du(L){return we(L)||Le(L)||Yu(L)||ie(L)||function zc(L){var U=d(L),te=!1;return U&&(te=0===L.filter(function(pe){return!ie(pe)&&Yu(L)}).length),U&&te}(L)||function na(L){var Ne,U=O(L)&&!q(L),te=!1,pe=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(Ne=0;Ne<pe.length;Ne+=1)te=te||H(L,pe[Ne]);return U&&te}(L)||null==L}function So(L){var Ne,U=O(L)&&!q(L),te=!1,pe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(Ne=0;Ne<pe.length;Ne+=1)te=te||H(L,pe[Ne]);return U&&te}function Ps(L,U){if(L.date()<U.date())return-Ps(U,L);var te=12*(U.year()-L.year())+(U.month()-L.month()),pe=L.clone().add(te,"months");return-(te+(U-pe<0?(U-pe)/(pe-L.clone().add(te-1,"months")):(U-pe)/(L.clone().add(te+1,"months")-pe)))||0}function Qs(L){var U;return void 0===L?this._locale._abbr:(null!=(U=xa(L))&&(this._locale=U),this)}I.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",I.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Uc=ct("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(L){return void 0===L?this.localeData():this.locale(L)});function mi(){return this._locale}var Su=6e4,ri=60*Su,pc=3506328*ri;function _o(L,U){return(L%U+U)%U}function zu(L,U,te){return L<100&&L>=0?new Date(L+400,U,te)-pc:new Date(L,U,te).valueOf()}function Ca(L,U,te){return L<100&&L>=0?Date.UTC(L+400,U,te)-pc:Date.UTC(L,U,te)}function h(L,U){return U.erasAbbrRegex(L)}function V(){var Ne,St,L=[],U=[],te=[],pe=[],hn=this.eras();for(Ne=0,St=hn.length;Ne<St;++Ne)U.push(It(hn[Ne].name)),L.push(It(hn[Ne].abbr)),te.push(It(hn[Ne].narrow)),pe.push(It(hn[Ne].name)),pe.push(It(hn[Ne].abbr)),pe.push(It(hn[Ne].narrow));this._erasRegex=new RegExp("^("+pe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+U.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+L.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+te.join("|")+")","i")}function X(L,U){bt(0,[L,L.length],0,U)}function Cn(L,U,te,pe,Ne){var St;return null==L?zi(this,pe,Ne).year:(U>(St=Ga(L,pe,Ne))&&(U=St),Yn.call(this,L,U,te,pe,Ne))}function Yn(L,U,te,pe,Ne){var St=il(L,U,te,pe,Ne),hn=aa(St.year,0,St.dayOfYear);return this.year(hn.getUTCFullYear()),this.month(hn.getUTCMonth()),this.date(hn.getUTCDate()),this}bt("N",0,0,"eraAbbr"),bt("NN",0,0,"eraAbbr"),bt("NNN",0,0,"eraAbbr"),bt("NNNN",0,0,"eraName"),bt("NNNNN",0,0,"eraNarrow"),bt("y",["y",1],"yo","eraYear"),bt("y",["yy",2],0,"eraYear"),bt("y",["yyy",3],0,"eraYear"),bt("y",["yyyy",4],0,"eraYear"),ht("N",h),ht("NN",h),ht("NNN",h),ht("NNNN",function g(L,U){return U.erasNameRegex(L)}),ht("NNNNN",function v(L,U){return U.erasNarrowRegex(L)}),ln(["N","NN","NNN","NNNN","NNNNN"],function(L,U,te,pe){var Ne=te._locale.erasParse(L,pe,te._strict);Ne?Q(te).era=Ne:Q(te).invalidEra=L}),ht("y",Fo),ht("yy",Fo),ht("yyy",Fo),ht("yyyy",Fo),ht("yo",function C(L,U){return U._eraYearOrdinalRegex||Fo}),ln(["y","yy","yyy","yyyy"],0),ln(["yo"],function(L,U,te,pe){var Ne;te._locale._eraYearOrdinalRegex&&(Ne=L.match(te._locale._eraYearOrdinalRegex)),U[0]=te._locale.eraYearOrdinalParse?te._locale.eraYearOrdinalParse(L,Ne):parseInt(L,10)}),bt(0,["gg",2],0,function(){return this.weekYear()%100}),bt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),X("gggg","weekYear"),X("ggggg","weekYear"),X("GGGG","isoWeekYear"),X("GGGGG","isoWeekYear"),Ze("weekYear","gg"),Ze("isoWeekYear","GG"),Kt("weekYear",1),Kt("isoWeekYear",1),ht("G",We),ht("g",We),ht("GG",ai,xi),ht("gg",ai,xi),ht("GGGG",oa,es),ht("gggg",oa,es),ht("GGGGG",xr,wi),ht("ggggg",xr,wi),nn(["gggg","ggggg","GGGG","GGGGG"],function(L,U,te,pe){U[pe.substr(0,2)]=tn(L)}),nn(["gg","GG"],function(L,U,te,pe){U[pe]=I.parseTwoDigitYear(L)}),bt("Q",0,"Qo","quarter"),Ze("quarter","Q"),Kt("quarter",7),ht("Q",Js),ln("Q",function(L,U){U[1]=3*(tn(L)-1)}),bt("D",["DD",2],"Do","date"),Ze("date","D"),Kt("date",9),ht("D",ai),ht("DD",ai,xi),ht("Do",function(L,U){return L?U._dayOfMonthOrdinalParse||U._ordinalParse:U._dayOfMonthOrdinalParseLenient}),ln(["D","DD"],2),ln("Do",function(L,U){U[2]=tn(L.match(ai)[0])});var Mi=br("Date",!0);bt("DDD",["DDDD",3],"DDDo","dayOfYear"),Ze("dayOfYear","DDD"),Kt("dayOfYear",4),ht("DDD",rl),ht("DDDD",qs),ln(["DDD","DDDD"],function(L,U,te){te._dayOfYear=tn(L)}),bt("m",["mm",2],0,"minute"),Ze("minute","m"),Kt("minute",14),ht("m",ai),ht("mm",ai,xi),ln(["m","mm"],4);var ko=br("Minutes",!1);bt("s",["ss",2],0,"second"),Ze("second","s"),Kt("second",15),ht("s",ai),ht("ss",ai,xi),ln(["s","ss"],5);var Ta,ku,Ol=br("Seconds",!1);for(bt("S",0,0,function(){return~~(this.millisecond()/100)}),bt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),bt(0,["SSS",3],0,"millisecond"),bt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),bt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),bt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),bt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),bt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),bt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ze("millisecond","ms"),Kt("millisecond",16),ht("S",rl,Js),ht("SS",rl,xi),ht("SSS",rl,qs),Ta="SSSS";Ta.length<=9;Ta+="S")ht(Ta,Fo);function M(L,U){U[6]=tn(1e3*("0."+L))}for(Ta="S";Ta.length<=9;Ta+="S")ln(Ta,M);ku=br("Milliseconds",!1),bt("z",0,0,"zoneAbbr"),bt("zz",0,0,"zoneName");var w=fe.prototype;function z(L){return L}w.add=xl,w.calendar=function Il(L,U){1===arguments.length&&(arguments[0]?du(arguments[0])?(L=arguments[0],U=void 0):So(arguments[0])&&(U=arguments[0],L=void 0):(L=void 0,U=void 0));var te=L||mr(),pe=lh(te,this).startOf("day"),Ne=I.calendarFormat(this,pe)||"sameElse",St=U&&(Te(U[Ne])?U[Ne].call(this,te):U[Ne]);return this.format(St||this.localeData().calendar(Ne,this,mr(te)))},w.clone=function $o(){return new fe(this)},w.diff=function Pl(L,U,te){var pe,Ne,St;if(!this.isValid())return NaN;if(!(pe=lh(L,this)).isValid())return NaN;switch(Ne=6e4*(pe.utcOffset()-this.utcOffset()),U=_t(U)){case"year":St=Ps(this,pe)/12;break;case"month":St=Ps(this,pe);break;case"quarter":St=Ps(this,pe)/3;break;case"second":St=(this-pe)/1e3;break;case"minute":St=(this-pe)/6e4;break;case"hour":St=(this-pe)/36e5;break;case"day":St=(this-pe-Ne)/864e5;break;case"week":St=(this-pe-Ne)/6048e5;break;default:St=this-pe}return te?St:dr(St)},w.endOf=function Gn(L){var U,te;if(void 0===(L=_t(L))||"millisecond"===L||!this.isValid())return this;switch(te=this._isUTC?Ca:zu,L){case"year":U=te(this.year()+1,0,1)-1;break;case"quarter":U=te(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":U=te(this.year(),this.month()+1,1)-1;break;case"week":U=te(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":U=te(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":U=te(this.year(),this.month(),this.date()+1)-1;break;case"hour":U=this._d.valueOf(),U+=ri-_o(U+(this._isUTC?0:this.utcOffset()*Su),ri)-1;break;case"minute":U=this._d.valueOf(),U+=Su-_o(U,Su)-1;break;case"second":U=this._d.valueOf(),U+=1e3-_o(U,1e3)-1}return this._d.setTime(U),I.updateOffset(this,!0),this},w.format=function Fi(L){L||(L=this.isUtc()?I.defaultFormatUtc:I.defaultFormat);var U=Pn(this,L);return this.localeData().postformat(U)},w.from=function ch(L,U){return this.isValid()&&(we(L)&&L.isValid()||mr(L).isValid())?$a({to:this,from:L}).locale(this.locale()).humanize(!U):this.localeData().invalidDate()},w.fromNow=function Ea(L){return this.from(mr(),L)},w.to=function Xl(L,U){return this.isValid()&&(we(L)&&L.isValid()||mr(L).isValid())?$a({from:this,to:L}).locale(this.locale()).humanize(!U):this.localeData().invalidDate()},w.toNow=function js(L){return this.to(mr(),L)},w.get=function vi(L){return Te(this[L=_t(L)])?this[L]():this},w.invalidAt=function Pr(){return Q(this).overflow},w.isAfter=function Lo(L,U){var te=we(L)?L:mr(L);return!(!this.isValid()||!te.isValid())&&("millisecond"===(U=_t(U)||"millisecond")?this.valueOf()>te.valueOf():te.valueOf()<this.clone().startOf(U).valueOf())},w.isBefore=function $l(L,U){var te=we(L)?L:mr(L);return!(!this.isValid()||!te.isValid())&&("millisecond"===(U=_t(U)||"millisecond")?this.valueOf()<te.valueOf():this.clone().endOf(U).valueOf()<te.valueOf())},w.isBetween=function qi(L,U,te,pe){var Ne=we(L)?L:mr(L),St=we(U)?U:mr(U);return!!(this.isValid()&&Ne.isValid()&&St.isValid())&&("("===(pe=pe||"()")[0]?this.isAfter(Ne,te):!this.isBefore(Ne,te))&&(")"===pe[1]?this.isBefore(St,te):!this.isAfter(St,te))},w.isSame=function Ba(L,U){var pe,te=we(L)?L:mr(L);return!(!this.isValid()||!te.isValid())&&("millisecond"===(U=_t(U)||"millisecond")?this.valueOf()===te.valueOf():(pe=te.valueOf(),this.clone().startOf(U).valueOf()<=pe&&pe<=this.clone().endOf(U).valueOf()))},w.isSameOrAfter=function Zl(L,U){return this.isSame(L,U)||this.isAfter(L,U)},w.isSameOrBefore=function Da(L,U){return this.isSame(L,U)||this.isBefore(L,U)},w.isValid=function gc(){return he(this)},w.lang=Uc,w.locale=Qs,w.localeData=mi,w.max=ha,w.min=$s,w.parsingFlags=function ju(){return qe({},Q(this))},w.set=function Ss(L,U){if("object"==typeof L){var pe,te=function Ut(L){var te,U=[];for(te in L)H(L,te)&&U.push({unit:te,priority:sn[te]});return U.sort(function(pe,Ne){return pe.priority-Ne.priority}),U}(L=zt(L));for(pe=0;pe<te.length;pe++)this[te[pe].unit](L[te[pe].unit])}else if(Te(this[L=_t(L)]))return this[L](U);return this},w.startOf=function Hc(L){var U,te;if(void 0===(L=_t(L))||"millisecond"===L||!this.isValid())return this;switch(te=this._isUTC?Ca:zu,L){case"year":U=te(this.year(),0,1);break;case"quarter":U=te(this.year(),this.month()-this.month()%3,1);break;case"month":U=te(this.year(),this.month(),1);break;case"week":U=te(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":U=te(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":U=te(this.year(),this.month(),this.date());break;case"hour":U=this._d.valueOf(),U-=_o(U+(this._isUTC?0:this.utcOffset()*Su),ri);break;case"minute":U=this._d.valueOf(),U-=_o(U,Su);break;case"second":U=this._d.valueOf(),U-=_o(U,1e3)}return this._d.setTime(U),I.updateOffset(this,!0),this},w.subtract=uh,w.toArray=function Bu(){var L=this;return[L.year(),L.month(),L.date(),L.hour(),L.minute(),L.second(),L.millisecond()]},w.toObject=function mc(){var L=this;return{years:L.year(),months:L.month(),date:L.date(),hours:L.hours(),minutes:L.minutes(),seconds:L.seconds(),milliseconds:L.milliseconds()}},w.toDate=function fu(){return new Date(this.valueOf())},w.toISOString=function Vc(L){if(!this.isValid())return null;var U=!0!==L,te=U?this.clone().utc():this;return te.year()<0||te.year()>9999?Pn(te,U?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Te(Date.prototype.toISOString)?U?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Pn(te,"Z")):Pn(te,U?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},w.inspect=function Zo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var te,pe,L="moment",U="";return this.isLocal()||(L=0===this.utcOffset()?"moment.utc":"moment.parseZone",U="Z"),te="["+L+'("]',pe=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(te+pe+"-MM-DD[T]HH:mm:ss.SSS"+U+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(w[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),w.toJSON=function Za(){return this.isValid()?this.toISOString():null},w.toString=function jc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},w.unix=function ra(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function ja(){return this._d.valueOf()-6e4*(this._offset||0)},w.creationData=function Ar(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},w.eraName=function ma(){var L,U,te,pe=this.localeData().eras();for(L=0,U=pe.length;L<U;++L)if(te=this.clone().startOf("day").valueOf(),pe[L].since<=te&&te<=pe[L].until||pe[L].until<=te&&te<=pe[L].since)return pe[L].name;return""},w.eraNarrow=function hh(){var L,U,te,pe=this.localeData().eras();for(L=0,U=pe.length;L<U;++L)if(te=this.clone().startOf("day").valueOf(),pe[L].since<=te&&te<=pe[L].until||pe[L].until<=te&&te<=pe[L].since)return pe[L].narrow;return""},w.eraAbbr=function Xa(){var L,U,te,pe=this.localeData().eras();for(L=0,U=pe.length;L<U;++L)if(te=this.clone().startOf("day").valueOf(),pe[L].since<=te&&te<=pe[L].until||pe[L].until<=te&&te<=pe[L].since)return pe[L].abbr;return""},w.eraYear=function un(){var L,U,te,pe,Ne=this.localeData().eras();for(L=0,U=Ne.length;L<U;++L)if(te=Ne[L].since<=Ne[L].until?1:-1,pe=this.clone().startOf("day").valueOf(),Ne[L].since<=pe&&pe<=Ne[L].until||Ne[L].until<=pe&&pe<=Ne[L].since)return(this.year()-I(Ne[L].since).year())*te+Ne[L].offset;return this.year()},w.year=uc,w.isLeapYear=function jr(){return qn(this.year())},w.weekYear=function ye(L){return Cn.call(this,L,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},w.isoWeekYear=function Ue(L){return Cn.call(this,L,this.isoWeek(),this.isoWeekday(),1,4)},w.quarter=w.quarters=function sr(L){return null==L?Math.ceil((this.month()+1)/3):this.month(3*(L-1)+this.month()%3)},w.month=Ko,w.daysInMonth=function ah(){return rr(this.year(),this.month())},w.week=w.weeks=function Sl(L){var U=this.localeData().week(this);return null==L?U:this.add(7*(L-U),"d")},w.isoWeek=w.isoWeeks=function cc(L){var U=zi(this,1,4).week;return null==L?U:this.add(7*(L-U),"d")},w.weeksInYear=function Gt(){var L=this.localeData()._week;return Ga(this.year(),L.dow,L.doy)},w.weeksInWeekYear=function Ln(){var L=this.localeData()._week;return Ga(this.weekYear(),L.dow,L.doy)},w.isoWeeksInYear=function vt(){return Ga(this.year(),1,4)},w.isoWeeksInISOWeekYear=function Bt(){return Ga(this.isoWeekYear(),1,4)},w.date=Mi,w.day=w.days=function Ks(L){if(!this.isValid())return null!=L?this:NaN;var U=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=L?(L=function Ra(L,U){return"string"!=typeof L?L:isNaN(L)?"number"==typeof(L=U.weekdaysParse(L))?L:null:parseInt(L,10)}(L,this.localeData()),this.add(L-U,"d")):U},w.weekday=function va(L){if(!this.isValid())return null!=L?this:NaN;var U=(this.day()+7-this.localeData()._week.dow)%7;return null==L?U:this.add(L-U,"d")},w.isoWeekday=function Ru(L){if(!this.isValid())return null!=L?this:NaN;if(null!=L){var U=function Ei(L,U){return"string"==typeof L?U.weekdaysParse(L)%7||7:isNaN(L)?null:L}(L,this.localeData());return this.day(this.day()%7?U:U-7)}return this.day()||7},w.dayOfYear=function so(L){var U=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==L?U:this.add(L-U,"d")},w.hour=w.hours=_l,w.minute=w.minutes=ko,w.second=w.seconds=Ol,w.millisecond=w.milliseconds=ku,w.utcOffset=function Is(L,U,te){var Ne,pe=this._offset||0;if(!this.isValid())return null!=L?this:NaN;if(null!=L){if("string"==typeof L){if(null===(L=ks(be,L)))return this}else Math.abs(L)<16&&!te&&(L*=60);return!this._isUTC&&U&&(Ne=cu(this)),this._offset=L,this._isUTC=!0,null!=Ne&&this.add(Ne,"m"),pe!==L&&(!U||this._changeInProgress?Ma(this,$a(L-pe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,I.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?pe:cu(this)},w.utc=function al(L){return this.utcOffset(0,L)},w.local=function go(L){return this._isUTC&&(this.utcOffset(0,L),this._isUTC=!1,L&&this.subtract(cu(this),"m")),this},w.parseZone=function ll(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var L=ks(de,this._i);null!=L?this.utcOffset(L):this.utcOffset(0,!0)}return this},w.hasAlignedHourOffset=function Co(L){return!!this.isValid()&&(L=L?mr(L).utcOffset():0,(this.utcOffset()-L)%60==0)},w.isDST=function Cu(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},w.isLocal=function ql(){return!!this.isValid()&&!this._isUTC},w.isUtcOffset=function Wl(){return!!this.isValid()&&this._isUTC},w.isUtc=To,w.isUTC=To,w.zoneAbbr=function l(){return this._isUTC?"UTC":""},w.zoneName=function m(){return this._isUTC?"Coordinated Universal Time":""},w.dates=ct("dates accessor is deprecated. Use date instead.",Mi),w.months=ct("months accessor is deprecated. Use month instead",Ko),w.years=ct("years accessor is deprecated. Use year instead",uc),w.zone=ct("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function Ni(L,U){return null!=L?("string"!=typeof L&&(L=-L),this.utcOffset(L,U),this):-this.utcOffset()}),w.isDSTShifted=ct("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function Ya(){if(!W(this._isDSTShifted))return this._isDSTShifted;var U,L={};return re(L,this),(L=vl(L))._a?(U=L._isUTC?Ee(L._a):mr(L._a),this._isDSTShifted=this.isValid()&&function uu(L,U,te){var hn,pe=Math.min(L.length,U.length),Ne=Math.abs(L.length-U.length),St=0;for(hn=0;hn<pe;hn++)(te&&L[hn]!==U[hn]||!te&&tn(L[hn])!==tn(U[hn]))&&St++;return St+Ne}(L._a,U.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var G=Ge.prototype;function K(L,U,te,pe){var Ne=xa(),St=Ee().set(pe,U);return Ne[te](St,L)}function oe(L,U,te){if(ie(L)&&(U=L,L=void 0),L=L||"",null!=U)return K(L,U,te,"month");var pe,Ne=[];for(pe=0;pe<12;pe++)Ne[pe]=K(L,pe,te,"month");return Ne}function le(L,U,te,pe){"boolean"==typeof L?(ie(U)&&(te=U,U=void 0),U=U||""):(te=U=L,L=!1,ie(U)&&(te=U,U=void 0),U=U||"");var hn,Ne=xa(),St=L?Ne._week.dow:0,Ur=[];if(null!=te)return K(U,(te+St)%7,pe,"day");for(hn=0;hn<7;hn++)Ur[hn]=K(U,(hn+St)%7,pe,"day");return Ur}G.calendar=function xt(L,U,te){var pe=this._calendar[L]||this._calendar.sameElse;return Te(pe)?pe.call(U,te):pe},G.longDateFormat=function wn(L){var U=this._longDateFormat[L],te=this._longDateFormat[L.toUpperCase()];return U||!te?U:(this._longDateFormat[L]=te.match(Re).map(function(pe){return"MMMM"===pe||"MM"===pe||"DD"===pe||"dddd"===pe?pe.slice(1):pe}).join(""),this._longDateFormat[L])},G.invalidDate=function Li(){return this._invalidDate},G.ordinal=function Zi(L){return this._ordinal.replace("%d",L)},G.preparse=z,G.postformat=z,G.relativeTime=function Oe(L,U,te,pe){var Ne=this._relativeTime[te];return Te(Ne)?Ne(L,U,te,pe):Ne.replace(/%d/i,L)},G.pastFuture=function ke(L,U){var te=this._relativeTime[L>0?"future":"past"];return Te(te)?te(U):te.replace(/%s/i,U)},G.set=function Xt(L){var U,te;for(te in L)H(L,te)&&(Te(U=L[te])?this[te]=U:this["_"+te]=U);this._config=L,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},G.eras=function Lu(L,U){var te,pe,Ne,St=this._eras||xa("en")._eras;for(te=0,pe=St.length;te<pe;++te)switch("string"==typeof St[te].since&&(Ne=I(St[te].since).startOf("day"),St[te].since=Ne.valueOf()),typeof St[te].until){case"undefined":St[te].until=1/0;break;case"string":Ne=I(St[te].until).startOf("day").valueOf(),St[te].until=Ne.valueOf()}return St},G.erasParse=function Vu(L,U,te){var pe,Ne,hn,Ur,ji,St=this.eras();for(L=L.toUpperCase(),pe=0,Ne=St.length;pe<Ne;++pe)if(hn=St[pe].name.toUpperCase(),Ur=St[pe].abbr.toUpperCase(),ji=St[pe].narrow.toUpperCase(),te)switch(U){case"N":case"NN":case"NNN":if(Ur===L)return St[pe];break;case"NNNN":if(hn===L)return St[pe];break;case"NNNNN":if(ji===L)return St[pe]}else if([hn,Ur,ji].indexOf(L)>=0)return St[pe]},G.erasConvertYear=function Al(L,U){var te=L.since<=L.until?1:-1;return void 0===U?I(L.since).year():I(L.since).year()+(U-L.offset)*te},G.erasAbbrRegex=function gi(L){return H(this,"_erasAbbrRegex")||V.call(this),L?this._erasAbbrRegex:this._erasRegex},G.erasNameRegex=function ki(L){return H(this,"_erasNameRegex")||V.call(this),L?this._erasNameRegex:this._erasRegex},G.erasNarrowRegex=function a(L){return H(this,"_erasNarrowRegex")||V.call(this),L?this._erasNarrowRegex:this._erasRegex},G.months=function Di(L,U){return L?d(this._months)?this._months[L.month()]:this._months[(this._months.isFormat||Jo).test(U)?"format":"standalone"][L.month()]:d(this._months)?this._months:this._months.standalone},G.monthsShort=function Ul(L,U){return L?d(this._monthsShort)?this._monthsShort[L.month()]:this._monthsShort[Jo.test(U)?"format":"standalone"][L.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},G.monthsParse=function Wn(L,U,te){var pe,Ne,St;if(this._monthsParseExact)return Oa.call(this,L,U,te);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),pe=0;pe<12;pe++){if(Ne=Ee([2e3,pe]),te&&!this._longMonthsParse[pe]&&(this._longMonthsParse[pe]=new RegExp("^"+this.months(Ne,"").replace(".","")+"$","i"),this._shortMonthsParse[pe]=new RegExp("^"+this.monthsShort(Ne,"").replace(".","")+"$","i")),!te&&!this._monthsParse[pe]&&(St="^"+this.months(Ne,"")+"|^"+this.monthsShort(Ne,""),this._monthsParse[pe]=new RegExp(St.replace(".",""),"i")),te&&"MMMM"===U&&this._longMonthsParse[pe].test(L))return pe;if(te&&"MMM"===U&&this._shortMonthsParse[pe].test(L))return pe;if(!te&&this._monthsParse[pe].test(L))return pe}},G.monthsRegex=function li(L){return this._monthsParseExact?(H(this,"_monthsRegex")||wr.call(this),L?this._monthsStrictRegex:this._monthsRegex):(H(this,"_monthsRegex")||(this._monthsRegex=Ou),this._monthsStrictRegex&&L?this._monthsStrictRegex:this._monthsRegex)},G.monthsShortRegex=function Jr(L){return this._monthsParseExact?(H(this,"_monthsRegex")||wr.call(this),L?this._monthsShortStrictRegex:this._monthsShortRegex):(H(this,"_monthsShortRegex")||(this._monthsShortRegex=Vn),this._monthsShortStrictRegex&&L?this._monthsShortStrictRegex:this._monthsShortRegex)},G.week=function qa(L){return zi(L,this._week.dow,this._week.doy).week},G.firstDayOfYear=function Yo(){return this._week.doy},G.firstDayOfWeek=function Fc(){return this._week.dow},G.weekdays=function Ji(L,U){var te=d(this._weekdays)?this._weekdays:this._weekdays[L&&!0!==L&&this._weekdays.isFormat.test(U)?"format":"standalone"];return!0===L?Ii(te,this._week.dow):L?te[L.day()]:te},G.weekdaysMin=function mo(L){return!0===L?Ii(this._weekdaysMin,this._week.dow):L?this._weekdaysMin[L.day()]:this._weekdaysMin},G.weekdaysShort=function ea(L){return!0===L?Ii(this._weekdaysShort,this._week.dow):L?this._weekdaysShort[L.day()]:this._weekdaysShort},G.weekdaysParse=function dc(L,U,te){var pe,Ne,St;if(this._weekdaysParseExact)return hc.call(this,L,U,te);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),pe=0;pe<7;pe++){if(Ne=Ee([2e3,1]).day(pe),te&&!this._fullWeekdaysParse[pe]&&(this._fullWeekdaysParse[pe]=new RegExp("^"+this.weekdays(Ne,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[pe]=new RegExp("^"+this.weekdaysShort(Ne,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[pe]=new RegExp("^"+this.weekdaysMin(Ne,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[pe]||(St="^"+this.weekdays(Ne,"")+"|^"+this.weekdaysShort(Ne,"")+"|^"+this.weekdaysMin(Ne,""),this._weekdaysParse[pe]=new RegExp(St.replace(".",""),"i")),te&&"dddd"===U&&this._fullWeekdaysParse[pe].test(L))return pe;if(te&&"ddd"===U&&this._shortWeekdaysParse[pe].test(L))return pe;if(te&&"dd"===U&&this._minWeekdaysParse[pe].test(L))return pe;if(!te&&this._weekdaysParse[pe].test(L))return pe}},G.weekdaysRegex=function ro(L){return this._weekdaysParseExact?(H(this,"_weekdaysRegex")||Tr.call(this),L?this._weekdaysStrictRegex:this._weekdaysRegex):(H(this,"_weekdaysRegex")||(this._weekdaysRegex=zo),this._weekdaysStrictRegex&&L?this._weekdaysStrictRegex:this._weekdaysRegex)},G.weekdaysShortRegex=function Ll(L){return this._weekdaysParseExact?(H(this,"_weekdaysRegex")||Tr.call(this),L?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(H(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Yc),this._weekdaysShortStrictRegex&&L?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},G.weekdaysMinRegex=function au(L){return this._weekdaysParseExact?(H(this,"_weekdaysRegex")||Tr.call(this),L?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(H(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_r),this._weekdaysMinStrictRegex&&L?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},G.isPM=function Dr(L){return"p"===(L+"").toLowerCase().charAt(0)},G.meridiem=function fc(L,U,te){return L>11?te?"pm":"PM":te?"am":"AM"},Hi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(L){var U=L%10;return L+(1===tn(L%100/10)?"th":1===U?"st":2===U?"nd":3===U?"rd":"th")}}),I.lang=ct("moment.lang is deprecated. Use moment.locale instead.",Hi),I.langData=ct("moment.langData is deprecated. Use moment.localeData instead.",xa);var st=Math.abs;function at(L,U,te,pe){var Ne=$a(U,te);return L._milliseconds+=pe*Ne._milliseconds,L._days+=pe*Ne._days,L._months+=pe*Ne._months,L._bubble()}function ft(L){return L<0?Math.floor(L):Math.ceil(L)}function Jt(L){return 4800*L/146097}function Zt(L){return 146097*L/4800}function xn(L){return function(){return this.as(L)}}var on=xn("ms"),kn=xn("s"),Vt=xn("m"),In=xn("h"),Zn=xn("d"),Rr=xn("w"),Vr=xn("M"),Hr=xn("Q"),Nr=xn("y");function _i(L){return function(){return this.isValid()?this._data[L]:NaN}}var ga=_i("milliseconds"),Ja=_i("seconds"),_a=_i("minutes"),Rl=_i("hours"),Io=_i("days"),Uu=_i("months"),pu=_i("years");var Vs=Math.round,yi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vo(L,U,te,pe,Ne){return Ne.relativeTime(U||1,!!te,L,pe)}var Va=Math.abs;function wl(L){return(L>0)-(L<0)||+L}function Ih(){if(!this.isValid())return this.localeData().invalidDate();var pe,Ne,St,hn,ji,xo,mu,Oo,L=Va(this._milliseconds)/1e3,U=Va(this._days),te=Va(this._months),Ur=this.asSeconds();return Ur?(pe=dr(L/60),Ne=dr(pe/60),L%=60,pe%=60,St=dr(te/12),te%=12,hn=L?L.toFixed(3).replace(/\.?0+$/,""):"",ji=Ur<0?"-":"",xo=wl(this._months)!==wl(Ur)?"-":"",mu=wl(this._days)!==wl(Ur)?"-":"",Oo=wl(this._milliseconds)!==wl(Ur)?"-":"",ji+"P"+(St?xo+St+"Y":"")+(te?xo+te+"M":"")+(U?mu+U+"D":"")+(Ne||pe||L?"T":"")+(Ne?Oo+Ne+"H":"")+(pe?Oo+pe+"M":"")+(L?Oo+hn+"S":"")):"P0D"}var Ai=ta.prototype;return Ai.isValid=function Eo(){return this._isValid},Ai.abs=function Xe(){var L=this._data;return this._milliseconds=st(this._milliseconds),this._days=st(this._days),this._months=st(this._months),L.milliseconds=st(L.milliseconds),L.seconds=st(L.seconds),L.minutes=st(L.minutes),L.hours=st(L.hours),L.months=st(L.months),L.years=st(L.years),this},Ai.add=function ut(L,U){return at(this,L,U,1)},Ai.subtract=function Ke(L,U){return at(this,L,U,-1)},Ai.as=function an(L){if(!this.isValid())return NaN;var U,te,pe=this._milliseconds;if("month"===(L=_t(L))||"quarter"===L||"year"===L)switch(U=this._days+pe/864e5,te=this._months+Jt(U),L){case"month":return te;case"quarter":return te/3;case"year":return te/12}else switch(U=this._days+Math.round(Zt(this._months)),L){case"week":return U/7+pe/6048e5;case"day":return U+pe/864e5;case"hour":return 24*U+pe/36e5;case"minute":return 1440*U+pe/6e4;case"second":return 86400*U+pe/1e3;case"millisecond":return Math.floor(864e5*U)+pe;default:throw new Error("Unknown unit "+L)}},Ai.asMilliseconds=on,Ai.asSeconds=kn,Ai.asMinutes=Vt,Ai.asHours=In,Ai.asDays=Zn,Ai.asWeeks=Rr,Ai.asMonths=Vr,Ai.asQuarters=Hr,Ai.asYears=Nr,Ai.valueOf=function Qt(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*tn(this._months/12):NaN},Ai._bubble=function Dt(){var Ne,St,hn,Ur,ji,L=this._milliseconds,U=this._days,te=this._months,pe=this._data;return L>=0&&U>=0&&te>=0||L<=0&&U<=0&&te<=0||(L+=864e5*ft(Zt(te)+U),U=0,te=0),pe.milliseconds=L%1e3,Ne=dr(L/1e3),pe.seconds=Ne%60,St=dr(Ne/60),pe.minutes=St%60,hn=dr(St/60),pe.hours=hn%24,U+=dr(hn/24),te+=ji=dr(Jt(U)),U-=ft(Zt(ji)),Ur=dr(te/12),te%=12,pe.days=U,pe.months=te,pe.years=Ur,this},Ai.clone=function yr(){return $a(this)},Ai.get=function Wr(L){return L=_t(L),this.isValid()?this[L+"s"]():NaN},Ai.milliseconds=ga,Ai.seconds=Ja,Ai.minutes=_a,Ai.hours=Rl,Ai.days=Io,Ai.weeks=function yo(){return dr(this.days()/7)},Ai.months=Uu,Ai.years=pu,Ai.humanize=function Gc(L,U){if(!this.isValid())return this.localeData().invalidDate();var Ne,St,te=!1,pe=yi;return"object"==typeof L&&(U=L,L=!1),"boolean"==typeof L&&(te=L),"object"==typeof U&&(pe=Object.assign({},yi,U),null!=U.s&&null==U.ss&&(pe.ss=U.s-1)),St=function ul(L,U,te,pe){var Ne=$a(L).abs(),St=Vs(Ne.as("s")),hn=Vs(Ne.as("m")),Ur=Vs(Ne.as("h")),ji=Vs(Ne.as("d")),xo=Vs(Ne.as("M")),mu=Vs(Ne.as("w")),Oo=Vs(Ne.as("y")),Ic=St<=te.ss&&["s",St]||St<te.s&&["ss",St]||hn<=1&&["m"]||hn<te.m&&["mm",hn]||Ur<=1&&["h"]||Ur<te.h&&["hh",Ur]||ji<=1&&["d"]||ji<te.d&&["dd",ji];return null!=te.w&&(Ic=Ic||mu<=1&&["w"]||mu<te.w&&["ww",mu]),(Ic=Ic||xo<=1&&["M"]||xo<te.M&&["MM",xo]||Oo<=1&&["y"]||["yy",Oo])[2]=U,Ic[3]=+L>0,Ic[4]=pe,vo.apply(null,Ic)}(this,!te,pe,Ne=this.localeData()),te&&(St=Ne.pastFuture(+this,St)),Ne.postformat(St)},Ai.toISOString=Ih,Ai.toString=Ih,Ai.toJSON=Ih,Ai.locale=Qs,Ai.localeData=mi,Ai.toIsoString=ct("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ih),Ai.lang=Uc,bt("X",0,0,"unix"),bt("x",0,0,"valueOf"),ht("x",We),ht("X",/[+-]?\d+(\.\d{1,3})?/),ln("X",function(L,U,te){te._d=new Date(1e3*parseFloat(L))}),ln("x",function(L,U,te){te._d=new Date(tn(L))}),I.version="2.29.1",function F(L){B=L}(mr),I.fn=w,I.min=function qo(){return ts("isBefore",[].slice.call(arguments,0))},I.max=function Qi(){return ts("isAfter",[].slice.call(arguments,0))},I.now=function(){return Date.now?Date.now():+new Date},I.utc=Ee,I.unix=function S(L){return mr(1e3*L)},I.months=function ce(L,U){return oe(L,U,"months")},I.isDate=Le,I.locale=Hi,I.invalid=xe,I.duration=$a,I.isMoment=we,I.weekdays=function je(L,U,te){return le(L,U,te,"weekdays")},I.parseZone=function k(){return mr.apply(null,arguments).parseZone()},I.localeData=xa,I.isDuration=Eu,I.monthsShort=function Pe(L,U){return oe(L,U,"monthsShort")},I.weekdaysMin=function $e(L,U,te){return le(L,U,te,"weekdaysMin")},I.defineLocale=Kn,I.updateLocale=function Bs(L,U){if(null!=U){var te,pe,Ne=Lc;null!=Ti[L]&&null!=Ti[L].parentLocale?Ti[L].set(Pt(Ti[L]._config,U)):(null!=(pe=lu(L))&&(Ne=pe._config),U=Pt(Ne,U),null==pe&&(U.abbr=L),(te=new Ge(U)).parentLocale=Ti[L],Ti[L]=te),Hi(L)}else null!=Ti[L]&&(null!=Ti[L].parentLocale?(Ti[L]=Ti[L].parentLocale,L===Hi()&&Hi(L)):null!=Ti[L]&&delete Ti[L]);return Ti[L]},I.locales=function jo(){return Mt(Ti)},I.weekdaysShort=function et(L,U,te){return le(L,U,te,"weekdaysShort")},I.normalizeUnits=_t,I.relativeTimeRounding=function Us(L){return void 0===L?Vs:"function"==typeof L&&(Vs=L,!0)},I.relativeTimeThreshold=function Nl(L,U){return void 0!==yi[L]&&(void 0===U?yi[L]:(yi[L]=U,"s"===L&&(yi.ss=U-1),!0))},I.calendarFormat=function Bc(L,U){var te=L.diff(U,"days",!0);return te<-6?"sameElse":te<-1?"lastWeek":te<0?"lastDay":te<1?"sameDay":te<2?"nextDay":te<7?"nextWeek":"sameElse"},I.prototype=w,I.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},I}()},5943:Ve=>{"use strict";var Ce=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;function I(d){if(null==d)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}Ve.exports=function F(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de","5"===Object.getOwnPropertyNames(d)[0])return!1;for(var O={},H=0;H<10;H++)O["_"+String.fromCharCode(H)]=H;if("0123456789"!==Object.getOwnPropertyNames(O).map(function(ie){return O[ie]}).join(""))return!1;var W={};return"abcdefghijklmnopqrst".split("").forEach(function(ie){W[ie]=ie}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},W)).join("")}catch(ie){return!1}}()?Object.assign:function(d,O){for(var H,W,q=I(d),ie=1;ie<arguments.length;ie++){for(var Le in H=Object(arguments[ie]))$.call(H,Le)&&(q[Le]=H[Le]);if(Ce){W=Ce(H);for(var rt=0;rt<W.length;rt++)B.call(H,W[rt])&&(q[W[rt]]=H[W[rt]])}}return q}},1175:Ve=>{"use strict";var Ce=function($){return $!=$};Ve.exports=function(B,I){return 0===B&&0===I?1/B==1/I:!!(B===I||Ce(B)&&Ce(I))}},2e3:(Ve,Ce,$)=>{"use strict";var B=$(2358),I=$(5685),F=$(1175),d=$(6305),O=$(3859),H=I(d(),Object);B(H,{getPolyfill:d,implementation:F,shim:O}),Ve.exports=H},6305:(Ve,Ce,$)=>{"use strict";var B=$(1175);Ve.exports=function(){return"function"==typeof Object.is?Object.is:B}},3859:(Ve,Ce,$)=>{"use strict";var B=$(6305),I=$(2358);Ve.exports=function(){var d=B();return I(Object,{is:d},{is:function(){return Object.is!==d}}),d}},2450:(Ve,Ce,$)=>{"use strict";var B;if(!Object.keys){var I=Object.prototype.hasOwnProperty,F=Object.prototype.toString,d=$(9978),O=Object.prototype.propertyIsEnumerable,H=!O.call({toString:null},"toString"),q=O.call(function(){},"prototype"),W=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ie=function(Ee){var it=Ee.constructor;return it&&it.prototype===Ee},Le={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},rt=function(){if("undefined"==typeof window)return!1;for(var Ee in window)try{if(!Le["$"+Ee]&&I.call(window,Ee)&&null!==window[Ee]&&"object"==typeof window[Ee])try{ie(window[Ee])}catch(it){return!0}}catch(it){return!0}return!1}();B=function(it){var Q=null!==it&&"object"==typeof it,ve="[object Function]"===F.call(it),he=d(it),xe=Q&&"[object String]"===F.call(it),se=[];if(!Q&&!ve&&!he)throw new TypeError("Object.keys called on a non-object");var ne=q&&ve;if(xe&&it.length>0&&!I.call(it,0))for(var re=0;re<it.length;++re)se.push(String(re));if(he&&it.length>0)for(var fe=0;fe<it.length;++fe)se.push(String(fe));else for(var we in it)(!ne||"prototype"!==we)&&I.call(it,we)&&se.push(String(we));if(H)for(var ae=function(Ee){if("undefined"==typeof window||!rt)return ie(Ee);try{return ie(Ee)}catch(it){return!1}}(it),ct=0;ct<W.length;++ct)(!ae||"constructor"!==W[ct])&&I.call(it,W[ct])&&se.push(W[ct]);return se}}Ve.exports=B},1356:(Ve,Ce,$)=>{"use strict";var B=Array.prototype.slice,I=$(9978),F=Object.keys,d=F?function(q){return F(q)}:$(2450),O=Object.keys;d.shim=function(){if(Object.keys){var q=function(){var W=Object.keys(arguments);return W&&W.length===arguments.length}(1,2);q||(Object.keys=function(ie){return I(ie)?O(B.call(ie)):O(ie)})}else Object.keys=d;return Object.keys||d},Ve.exports=d},9978:Ve=>{"use strict";var Ce=Object.prototype.toString;Ve.exports=function(B){var I=Ce.call(B),F="[object Arguments]"===I;return F||(F="[object Array]"!==I&&null!==B&&"object"==typeof B&&"number"==typeof B.length&&B.length>=0&&"[object Function]"===Ce.call(B.callee)),F}},1766:Ve=>{Ve.exports=function($,B,I,F){var d=$[0],O=$[1],H=!1;void 0===I&&(I=0),void 0===F&&(F=B.length);for(var q=(F-I)/2,W=0,ie=q-1;W<q;ie=W++){var Le=B[I+2*W+0],rt=B[I+2*W+1],Ee=B[I+2*ie+1];rt>O!=Ee>O&&d<(B[I+2*ie+0]-Le)*(O-rt)/(Ee-rt)+Le&&(H=!H)}return H}},3870:(Ve,Ce,$)=>{var B=$(1766),I=$(2260);Ve.exports=function(d,O,H,q){return O.length>0&&Array.isArray(O[0])?I(d,O,H,q):B(d,O,H,q)},Ve.exports.nested=I,Ve.exports.flat=B},2260:Ve=>{Ve.exports=function($,B,I,F){var d=$[0],O=$[1],H=!1;void 0===I&&(I=0),void 0===F&&(F=B.length);for(var q=F-I,W=0,ie=q-1;W<q;ie=W++){var Le=B[W+I][0],rt=B[W+I][1],Ee=B[ie+I][1];rt>O!=Ee>O&&d<(B[ie+I][0]-Le)*(O-rt)/(Ee-rt)+Le&&(H=!H)}return H}},9855:function(Ve){Ve.exports=function(){"use strict";function Ce(Lt,Oe){if(!(Lt instanceof Oe))throw new TypeError("Cannot call a class as a function")}function $(Lt,Oe){for(var ke=0;ke<Oe.length;ke++){var De=Oe[ke];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Lt,De.key,De)}}function B(Lt,Oe,ke){return Oe&&$(Lt.prototype,Oe),ke&&$(Lt,ke),Lt}var I=function Lt(Oe,ke){this.next=null,this.key=Oe,this.data=ke,this.left=null,this.right=null};function F(Lt,Oe){return Lt>Oe?1:Lt<Oe?-1:0}function d(Lt,Oe,ke){for(var De=new I(null,null),Ze=De,_t=De;;){var zt=ke(Lt,Oe.key);if(zt<0){if(null===Oe.left)break;if(ke(Lt,Oe.left.key)<0&&(Oe.left=(sn=Oe.left).right,sn.right=Oe,null===(Oe=sn).left))break;_t.left=Oe,_t=Oe,Oe=Oe.left}else{if(!(zt>0))break;if(null===Oe.right)break;var sn;if(ke(Lt,Oe.right.key)>0&&(Oe.right=(sn=Oe.right).left,sn.left=Oe,null===(Oe=sn).right))break;Ze.right=Oe,Ze=Oe,Oe=Oe.right}}return Ze.right=Oe.left,_t.left=Oe.right,Oe.left=De.right,Oe.right=De.left,Oe}function O(Lt,Oe,ke,De){var Ze=new I(Lt,Oe);if(null===ke)return Ze.left=Ze.right=null,Ze;var _t=De(Lt,(ke=d(Lt,ke,De)).key);return _t<0?(Ze.left=ke.left,Ze.right=ke,ke.left=null):_t>=0&&(Ze.right=ke.right,Ze.left=ke,ke.right=null),Ze}function H(Lt,Oe,ke){var De=null,Ze=null;if(Oe){var _t=ke((Oe=d(Lt,Oe,ke)).key,Lt);0===_t?(De=Oe.left,Ze=Oe.right):_t<0?(Ze=Oe.right,Oe.right=null,De=Oe):(De=Oe.left,Oe.left=null,Ze=Oe)}return{left:De,right:Ze}}function W(Lt,Oe,ke,De,Ze){if(Lt){De(Oe+(ke?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+Ze(Lt)+"\n");var _t=Oe+(ke?"    ":"\u2502   ");Lt.left&&W(Lt.left,_t,!1,De,Ze),Lt.right&&W(Lt.right,_t,!0,De,Ze)}}var ie=function(){function Lt(Oe){void 0===Oe&&(Oe=F),this._root=null,this._size=0,this._comparator=Oe}return Lt.prototype.insert=function(Oe,ke){return this._size++,this._root=O(Oe,ke,this._root,this._comparator)},Lt.prototype.add=function(Oe,ke){var De=new I(Oe,ke);null===this._root&&(De.left=De.right=null,this._size++,this._root=De);var Ze=this._comparator,_t=d(Oe,this._root,Ze),zt=Ze(Oe,_t.key);return 0===zt?this._root=_t:(zt<0?(De.left=_t.left,De.right=_t,_t.left=null):zt>0&&(De.right=_t.right,De.left=_t,_t.right=null),this._size++,this._root=De),this._root},Lt.prototype.remove=function(Oe){this._root=this._remove(Oe,this._root,this._comparator)},Lt.prototype._remove=function(Oe,ke,De){var Ze;return null===ke?null:0===De(Oe,(ke=d(Oe,ke,De)).key)?(null===ke.left?Ze=ke.right:(Ze=d(Oe,ke.left,De)).right=ke.right,this._size--,Ze):ke},Lt.prototype.pop=function(){var Oe=this._root;if(Oe){for(;Oe.left;)Oe=Oe.left;return this._root=d(Oe.key,this._root,this._comparator),this._root=this._remove(Oe.key,this._root,this._comparator),{key:Oe.key,data:Oe.data}}return null},Lt.prototype.findStatic=function(Oe){for(var ke=this._root,De=this._comparator;ke;){var Ze=De(Oe,ke.key);if(0===Ze)return ke;ke=Ze<0?ke.left:ke.right}return null},Lt.prototype.find=function(Oe){return this._root&&(this._root=d(Oe,this._root,this._comparator),0!==this._comparator(Oe,this._root.key))?null:this._root},Lt.prototype.contains=function(Oe){for(var ke=this._root,De=this._comparator;ke;){var Ze=De(Oe,ke.key);if(0===Ze)return!0;ke=Ze<0?ke.left:ke.right}return!1},Lt.prototype.forEach=function(Oe,ke){for(var De=this._root,Ze=[],_t=!1;!_t;)null!==De?(Ze.push(De),De=De.left):0!==Ze.length?(De=Ze.pop(),Oe.call(ke,De),De=De.right):_t=!0;return this},Lt.prototype.range=function(Oe,ke,De,Ze){for(var _t=[],zt=this._comparator,sn=this._root;0!==_t.length||sn;)if(sn)_t.push(sn),sn=sn.left;else{if(zt((sn=_t.pop()).key,ke)>0)break;if(zt(sn.key,Oe)>=0&&De.call(Ze,sn))return this;sn=sn.right}return this},Lt.prototype.keys=function(){var Oe=[];return this.forEach(function(ke){return Oe.push(ke.key)}),Oe},Lt.prototype.values=function(){var Oe=[];return this.forEach(function(ke){return Oe.push(ke.data)}),Oe},Lt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Lt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Lt.prototype.minNode=function(Oe){if(void 0===Oe&&(Oe=this._root),Oe)for(;Oe.left;)Oe=Oe.left;return Oe},Lt.prototype.maxNode=function(Oe){if(void 0===Oe&&(Oe=this._root),Oe)for(;Oe.right;)Oe=Oe.right;return Oe},Lt.prototype.at=function(Oe){for(var ke=this._root,De=!1,Ze=0,_t=[];!De;)if(ke)_t.push(ke),ke=ke.left;else if(_t.length>0){if(ke=_t.pop(),Ze===Oe)return ke;Ze++,ke=ke.right}else De=!0;return null},Lt.prototype.next=function(Oe){var ke=this._root,De=null;if(Oe.right){for(De=Oe.right;De.left;)De=De.left;return De}for(var Ze=this._comparator;ke;){var _t=Ze(Oe.key,ke.key);if(0===_t)break;_t<0?(De=ke,ke=ke.left):ke=ke.right}return De},Lt.prototype.prev=function(Oe){var ke=this._root,De=null;if(null!==Oe.left){for(De=Oe.left;De.right;)De=De.right;return De}for(var Ze=this._comparator;ke;){var _t=Ze(Oe.key,ke.key);if(0===_t)break;_t<0?ke=ke.left:(De=ke,ke=ke.right)}return De},Lt.prototype.clear=function(){return this._root=null,this._size=0,this},Lt.prototype.toList=function(){return function qe(Lt){for(var Oe=Lt,ke=[],De=!1,Ze=new I(null,null),_t=Ze;!De;)Oe?(ke.push(Oe),Oe=Oe.left):ke.length>0?Oe=(Oe=_t=_t.next=ke.pop()).right:De=!0;return _t.next=null,Ze.next}(this._root)},Lt.prototype.load=function(Oe,ke,De){void 0===ke&&(ke=[]),void 0===De&&(De=!1);var Ze=Oe.length,_t=this._comparator;if(De&&Q(Oe,ke,0,Ze-1,_t),null===this._root)this._root=Le(Oe,ke,0,Ze),this._size=Ze;else{var zt=function it(Lt,Oe,ke){for(var De=new I(null,null),Ze=De,_t=Lt,zt=Oe;null!==_t&&null!==zt;)ke(_t.key,zt.key)<0?(Ze.next=_t,_t=_t.next):(Ze.next=zt,zt=zt.next),Ze=Ze.next;return null!==_t?Ze.next=_t:null!==zt&&(Ze.next=zt),De.next}(this.toList(),function rt(Lt,Oe){for(var ke=new I(null,null),De=ke,Ze=0;Ze<Lt.length;Ze++)De=De.next=new I(Lt[Ze],Oe[Ze]);return De.next=null,ke.next}(Oe,ke),_t);this._root=Ee({head:zt},0,Ze=this._size+Ze)}return this},Lt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(Lt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Lt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Lt.prototype.toString=function(Oe){void 0===Oe&&(Oe=function(Ze){return String(Ze.key)});var ke=[];return W(this._root,"",!0,function(De){return ke.push(De)},Oe),ke.join("")},Lt.prototype.update=function(Oe,ke,De){var Ze=this._comparator,_t=H(Oe,this._root,Ze),zt=_t.left,sn=_t.right;Ze(Oe,ke)<0?sn=O(ke,De,sn,Ze):zt=O(ke,De,zt,Ze),this._root=function q(Lt,Oe,ke){return null===Oe?Lt:(null===Lt||((Oe=d(Lt.key,Oe,ke)).left=Lt),Oe)}(zt,sn,Ze)},Lt.prototype.split=function(Oe){return H(Oe,this._root,this._comparator)},Lt}();function Le(Lt,Oe,ke,De){var Ze=De-ke;if(Ze>0){var _t=ke+Math.floor(Ze/2),Kt=new I(Lt[_t],Oe[_t]);return Kt.left=Le(Lt,Oe,ke,_t),Kt.right=Le(Lt,Oe,_t+1,De),Kt}return null}function Ee(Lt,Oe,ke){var De=ke-Oe;if(De>0){var Ze=Oe+Math.floor(De/2),_t=Ee(Lt,Oe,Ze),zt=Lt.head;return zt.left=_t,Lt.head=Lt.head.next,zt.right=Ee(Lt,Ze+1,ke),zt}return null}function Q(Lt,Oe,ke,De,Ze){if(!(ke>=De)){for(var _t=Lt[ke+De>>1],zt=ke-1,sn=De+1;;){do{zt++}while(Ze(Lt[zt],_t)<0);do{sn--}while(Ze(Lt[sn],_t)>0);if(zt>=sn)break;var Kt=Lt[zt];Lt[zt]=Lt[sn],Lt[sn]=Kt,Kt=Oe[zt],Oe[zt]=Oe[sn],Oe[sn]=Kt}Q(Lt,Oe,ke,sn,Ze),Q(Lt,Oe,sn+1,De,Ze)}}var ve=function(Oe,ke){return Oe.ll.x<=ke.x&&ke.x<=Oe.ur.x&&Oe.ll.y<=ke.y&&ke.y<=Oe.ur.y},he=function(Oe,ke){return ke.ur.x<Oe.ll.x||Oe.ur.x<ke.ll.x||ke.ur.y<Oe.ll.y||Oe.ur.y<ke.ll.y?null:{ll:{x:Oe.ll.x<ke.ll.x?ke.ll.x:Oe.ll.x,y:Oe.ll.y<ke.ll.y?ke.ll.y:Oe.ll.y},ur:{x:Oe.ur.x<ke.ur.x?Oe.ur.x:ke.ur.x,y:Oe.ur.y<ke.ur.y?Oe.ur.y:ke.ur.y}}},xe=Number.EPSILON;void 0===xe&&(xe=Math.pow(2,-52));var se=xe*xe,ne=function(Oe,ke){if(-xe<Oe&&Oe<xe&&-xe<ke&&ke<xe)return 0;var De=Oe-ke;return De*De<se*Oe*ke?0:Oe<ke?-1:1},re=function(){function Lt(){Ce(this,Lt),this.reset()}return B(Lt,[{key:"reset",value:function(){this.xRounder=new fe,this.yRounder=new fe}},{key:"round",value:function(ke,De){return{x:this.xRounder.round(ke),y:this.yRounder.round(De)}}}]),Lt}(),fe=function(){function Lt(){Ce(this,Lt),this.tree=new ie,this.round(0)}return B(Lt,[{key:"round",value:function(ke){var De=this.tree.add(ke),Ze=this.tree.prev(De);if(null!==Ze&&0===ne(De.key,Ze.key))return this.tree.remove(ke),Ze.key;var _t=this.tree.next(De);return null!==_t&&0===ne(De.key,_t.key)?(this.tree.remove(ke),_t.key):ke}}]),Lt}(),we=new re,ae=function(Oe,ke){return Oe.x*ke.y-Oe.y*ke.x},ct=function(Oe,ke){return Oe.x*ke.x+Oe.y*ke.y},Fe=function(Oe,ke,De){var zt=ae({x:ke.x-Oe.x,y:ke.y-Oe.y},{x:De.x-Oe.x,y:De.y-Oe.y});return ne(zt,0)},Je=function(Oe){return Math.sqrt(ct(Oe,Oe))},Te=function(Oe,ke,De){var Ze={x:ke.x-Oe.x,y:ke.y-Oe.y},_t={x:De.x-Oe.x,y:De.y-Oe.y};return ae(_t,Ze)/Je(_t)/Je(Ze)},Xt=function(Oe,ke,De){var Ze={x:ke.x-Oe.x,y:ke.y-Oe.y},_t={x:De.x-Oe.x,y:De.y-Oe.y};return ct(_t,Ze)/Je(_t)/Je(Ze)},Pt=function(Oe,ke,De){return 0===ke.y?null:{x:Oe.x+ke.x/ke.y*(De-Oe.y),y:De}},Ge=function(Oe,ke,De){return 0===ke.x?null:{x:De,y:Oe.y+ke.y/ke.x*(De-Oe.x)}},tt=function(){function Lt(Oe,ke){Ce(this,Lt),void 0===Oe.events?Oe.events=[this]:Oe.events.push(this),this.point=Oe,this.isLeft=ke}return B(Lt,null,[{key:"compare",value:function(ke,De){var Ze=Lt.comparePoints(ke.point,De.point);return 0!==Ze?Ze:(ke.point!==De.point&&ke.link(De),ke.isLeft!==De.isLeft?ke.isLeft?1:-1:gt.compare(ke.segment,De.segment))}},{key:"comparePoints",value:function(ke,De){return ke.x<De.x?-1:ke.x>De.x?1:ke.y<De.y?-1:ke.y>De.y?1:0}}]),B(Lt,[{key:"link",value:function(ke){if(ke.point===this.point)throw new Error("Tried to link already linked events");for(var De=ke.point.events,Ze=0,_t=De.length;Ze<_t;Ze++){var zt=De[Ze];this.point.events.push(zt),zt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var ke=this.point.events.length,De=0;De<ke;De++){var Ze=this.point.events[De];if(void 0===Ze.segment.consumedBy)for(var _t=De+1;_t<ke;_t++){var zt=this.point.events[_t];void 0===zt.consumedBy&&Ze.otherSE.point.events===zt.otherSE.point.events&&Ze.segment.consume(zt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var ke=[],De=0,Ze=this.point.events.length;De<Ze;De++){var _t=this.point.events[De];_t!==this&&!_t.segment.ringOut&&_t.segment.isInResult()&&ke.push(_t)}return ke}},{key:"getLeftmostComparator",value:function(ke){var De=this,Ze=new Map,_t=function(sn){var Kt=sn.otherSE;Ze.set(sn,{sine:Te(De.point,ke.point,Kt.point),cosine:Xt(De.point,ke.point,Kt.point)})};return function(zt,sn){Ze.has(zt)||_t(zt),Ze.has(sn)||_t(sn);var Kt=Ze.get(zt),Ut=Kt.sine,qn=Kt.cosine,dr=Ze.get(sn),tn=dr.sine,br=dr.cosine;return Ut>=0&&tn>=0?qn<br?1:qn>br?-1:0:Ut<0&&tn<0?qn<br?-1:qn>br?1:0:tn<Ut?-1:tn>Ut?1:0}}}]),Lt}(),xt=0,gt=function(){function Lt(Oe,ke,De,Ze){Ce(this,Lt),this.id=++xt,this.leftSE=Oe,Oe.segment=this,Oe.otherSE=ke,this.rightSE=ke,ke.segment=this,ke.otherSE=Oe,this.rings=De,this.windings=Ze}return B(Lt,null,[{key:"compare",value:function(ke,De){var Ze=ke.leftSE.point.x,_t=De.leftSE.point.x,zt=ke.rightSE.point.x,sn=De.rightSE.point.x;if(sn<Ze)return 1;if(zt<_t)return-1;var Kt=ke.leftSE.point.y,Ut=De.leftSE.point.y,qn=ke.rightSE.point.y,dr=De.rightSE.point.y;if(Ze<_t){if(Ut<Kt&&Ut<qn)return 1;if(Ut>Kt&&Ut>qn)return-1;var tn=ke.comparePoint(De.leftSE.point);if(tn<0)return 1;if(tn>0)return-1;var br=De.comparePoint(ke.rightSE.point);return 0!==br?br:-1}if(Ze>_t){if(Kt<Ut&&Kt<dr)return-1;if(Kt>Ut&&Kt>dr)return 1;var Ui=De.comparePoint(ke.leftSE.point);if(0!==Ui)return Ui;var $r=ke.comparePoint(De.rightSE.point);return $r<0?1:$r>0?-1:1}if(Kt<Ut)return-1;if(Kt>Ut)return 1;if(zt<sn){var vi=De.comparePoint(ke.rightSE.point);if(0!==vi)return vi}if(zt>sn){var Ss=ke.comparePoint(De.rightSE.point);if(Ss<0)return 1;if(Ss>0)return-1}if(zt!==sn){var Js=qn-Kt,xi=zt-Ze,qs=dr-Ut,es=sn-_t;if(Js>xi&&qs<es)return 1;if(Js<xi&&qs>es)return-1}return zt>sn?1:zt<sn||qn<dr?-1:qn>dr?1:ke.id<De.id?-1:ke.id>De.id?1:0}}]),B(Lt,[{key:"replaceRightSE",value:function(ke){this.rightSE=ke,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var ke=this.leftSE.point.y,De=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:ke<De?ke:De},ur:{x:this.rightSE.point.x,y:ke>De?ke:De}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(ke){return ke.x===this.leftSE.point.x&&ke.y===this.leftSE.point.y||ke.x===this.rightSE.point.x&&ke.y===this.rightSE.point.y}},{key:"comparePoint",value:function(ke){if(this.isAnEndpoint(ke))return 0;var De=this.leftSE.point,Ze=this.rightSE.point,_t=this.vector();if(De.x===Ze.x)return ke.x===De.x?0:ke.x<De.x?1:-1;if(ke.x===De.x+(ke.y-De.y)/_t.y*_t.x)return 0;var Ut=De.y+(ke.x-De.x)/_t.x*_t.y;return ke.y===Ut?0:ke.y<Ut?-1:1}},{key:"getIntersection",value:function(ke){var De=this.bbox(),Ze=ke.bbox(),_t=he(De,Ze);if(null===_t)return null;var zt=this.leftSE.point,sn=this.rightSE.point,Kt=ke.leftSE.point,Ut=ke.rightSE.point,qn=ve(De,Kt)&&0===this.comparePoint(Kt),dr=ve(Ze,zt)&&0===ke.comparePoint(zt),tn=ve(De,Ut)&&0===this.comparePoint(Ut),br=ve(Ze,sn)&&0===ke.comparePoint(sn);if(dr&&qn)return br&&!tn?sn:!br&&tn?Ut:null;if(dr)return tn&&zt.x===Ut.x&&zt.y===Ut.y?null:zt;if(qn)return br&&sn.x===Kt.x&&sn.y===Kt.y?null:Kt;if(br&&tn)return null;if(br)return sn;if(tn)return Ut;var Ui=function(Oe,ke,De,Ze){if(0===ke.x)return Ge(De,Ze,Oe.x);if(0===Ze.x)return Ge(Oe,ke,De.x);if(0===ke.y)return Pt(De,Ze,Oe.y);if(0===Ze.y)return Pt(Oe,ke,De.y);var _t=ae(ke,Ze);if(0==_t)return null;var zt={x:De.x-Oe.x,y:De.y-Oe.y},sn=ae(zt,ke)/_t,Kt=ae(zt,Ze)/_t;return{x:(Oe.x+Kt*ke.x+(De.x+sn*Ze.x))/2,y:(Oe.y+Kt*ke.y+(De.y+sn*Ze.y))/2}}(zt,this.vector(),Kt,ke.vector());return null!==Ui&&ve(_t,Ui)?we.round(Ui.x,Ui.y):null}},{key:"split",value:function(ke){var De=[],Ze=void 0!==ke.events,_t=new tt(ke,!0),zt=new tt(ke,!1),sn=this.rightSE;this.replaceRightSE(zt),De.push(zt),De.push(_t);var Kt=new Lt(_t,sn,this.rings.slice(),this.windings.slice());return tt.comparePoints(Kt.leftSE.point,Kt.rightSE.point)>0&&Kt.swapEvents(),tt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Ze&&(_t.checkForConsuming(),zt.checkForConsuming()),De}},{key:"swapEvents",value:function(){var ke=this.rightSE;this.rightSE=this.leftSE,this.leftSE=ke,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var De=0,Ze=this.windings.length;De<Ze;De++)this.windings[De]*=-1}},{key:"consume",value:function(ke){for(var De=this,Ze=ke;De.consumedBy;)De=De.consumedBy;for(;Ze.consumedBy;)Ze=Ze.consumedBy;var _t=Lt.compare(De,Ze);if(0!==_t){if(_t>0){var zt=De;De=Ze,Ze=zt}if(De.prev===Ze){var sn=De;De=Ze,Ze=sn}for(var Kt=0,Ut=Ze.rings.length;Kt<Ut;Kt++){var qn=Ze.rings[Kt],dr=Ze.windings[Kt],tn=De.rings.indexOf(qn);-1===tn?(De.rings.push(qn),De.windings.push(dr)):De.windings[tn]+=dr}Ze.rings=null,Ze.windings=null,Ze.consumedBy=De,Ze.leftSE.consumedBy=De.leftSE,Ze.rightSE.consumedBy=De.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var ke=this.beforeState();this._afterState={rings:ke.rings.slice(0),windings:ke.windings.slice(0),multiPolys:[]};for(var De=this._afterState.rings,Ze=this._afterState.windings,_t=this._afterState.multiPolys,zt=0,sn=this.rings.length;zt<sn;zt++){var Kt=this.rings[zt],Ut=this.windings[zt],qn=De.indexOf(Kt);-1===qn?(De.push(Kt),Ze.push(Ut)):Ze[qn]+=Ut}for(var dr=[],tn=[],br=0,Ui=De.length;br<Ui;br++)if(0!==Ze[br]){var $r=De[br],vi=$r.poly;if(-1===tn.indexOf(vi))if($r.isExterior)dr.push(vi);else{-1===tn.indexOf(vi)&&tn.push(vi);var Ss=dr.indexOf($r.poly);-1!==Ss&&dr.splice(Ss,1)}}for(var Js=0,xi=dr.length;Js<xi;Js++){var qs=dr[Js].multiPoly;-1===_t.indexOf(qs)&&_t.push(qs)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var ke=this.beforeState().multiPolys,De=this.afterState().multiPolys;switch(wn.type){case"union":this._isInResult=0===ke.length!=(0===De.length);break;case"intersection":var zt,sn;ke.length<De.length?(zt=ke.length,sn=De.length):(zt=De.length,sn=ke.length),this._isInResult=sn===wn.numMultiPolys&&zt<sn;break;case"xor":var Kt=Math.abs(ke.length-De.length);this._isInResult=Kt%2==1;break;case"difference":var Ut=function(dr){return 1===dr.length&&dr[0].isSubject};this._isInResult=Ut(ke)!==Ut(De);break;default:throw new Error("Unrecognized operation type found ".concat(wn.type))}return this._isInResult}}],[{key:"fromRing",value:function(ke,De,Ze){var _t,zt,sn,Kt=tt.comparePoints(ke,De);if(Kt<0)_t=ke,zt=De,sn=1;else{if(!(Kt>0))throw new Error("Tried to create degenerate segment at [".concat(ke.x,", ").concat(ke.y,"]"));_t=De,zt=ke,sn=-1}return new Lt(new tt(_t,!0),new tt(zt,!1),[Ze],[sn])}}]),Lt}(),Re=function(){function Lt(Oe,ke,De){if(Ce(this,Lt),!Array.isArray(Oe)||0===Oe.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=ke,this.isExterior=De,this.segments=[],"number"!=typeof Oe[0][0]||"number"!=typeof Oe[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ze=we.round(Oe[0][0],Oe[0][1]);this.bbox={ll:{x:Ze.x,y:Ze.y},ur:{x:Ze.x,y:Ze.y}};for(var _t=Ze,zt=1,sn=Oe.length;zt<sn;zt++){if("number"!=typeof Oe[zt][0]||"number"!=typeof Oe[zt][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Kt=we.round(Oe[zt][0],Oe[zt][1]);Kt.x===_t.x&&Kt.y===_t.y||(this.segments.push(gt.fromRing(_t,Kt,this)),Kt.x<this.bbox.ll.x&&(this.bbox.ll.x=Kt.x),Kt.y<this.bbox.ll.y&&(this.bbox.ll.y=Kt.y),Kt.x>this.bbox.ur.x&&(this.bbox.ur.x=Kt.x),Kt.y>this.bbox.ur.y&&(this.bbox.ur.y=Kt.y),_t=Kt)}(Ze.x!==_t.x||Ze.y!==_t.y)&&this.segments.push(gt.fromRing(_t,Ze,this))}return B(Lt,[{key:"getSweepEvents",value:function(){for(var ke=[],De=0,Ze=this.segments.length;De<Ze;De++){var _t=this.segments[De];ke.push(_t.leftSE),ke.push(_t.rightSE)}return ke}}]),Lt}(),Yt=function(){function Lt(Oe,ke){if(Ce(this,Lt),!Array.isArray(Oe))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Re(Oe[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var De=1,Ze=Oe.length;De<Ze;De++){var _t=new Re(Oe[De],this,!1);_t.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=_t.bbox.ll.x),_t.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=_t.bbox.ll.y),_t.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=_t.bbox.ur.x),_t.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=_t.bbox.ur.y),this.interiorRings.push(_t)}this.multiPoly=ke}return B(Lt,[{key:"getSweepEvents",value:function(){for(var ke=this.exteriorRing.getSweepEvents(),De=0,Ze=this.interiorRings.length;De<Ze;De++)for(var _t=this.interiorRings[De].getSweepEvents(),zt=0,sn=_t.length;zt<sn;zt++)ke.push(_t[zt]);return ke}}]),Lt}(),Ht=function(){function Lt(Oe,ke){if(Ce(this,Lt),!Array.isArray(Oe))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof Oe[0][0][0]&&(Oe=[Oe])}catch(zt){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var De=0,Ze=Oe.length;De<Ze;De++){var _t=new Yt(Oe[De],this);_t.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=_t.bbox.ll.x),_t.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=_t.bbox.ll.y),_t.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=_t.bbox.ur.x),_t.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=_t.bbox.ur.y),this.polys.push(_t)}this.isSubject=ke}return B(Lt,[{key:"getSweepEvents",value:function(){for(var ke=[],De=0,Ze=this.polys.length;De<Ze;De++)for(var _t=this.polys[De].getSweepEvents(),zt=0,sn=_t.length;zt<sn;zt++)ke.push(_t[zt]);return ke}}]),Lt}(),_n=function(){function Lt(Oe){Ce(this,Lt),this.events=Oe;for(var ke=0,De=Oe.length;ke<De;ke++)Oe[ke].segment.ringOut=this;this.poly=null}return B(Lt,null,[{key:"factory",value:function(ke){for(var De=[],Ze=0,_t=ke.length;Ze<_t;Ze++){var zt=ke[Ze];if(zt.isInResult()&&!zt.ringOut){for(var sn=null,Kt=zt.leftSE,Ut=zt.rightSE,qn=[Kt],dr=Kt.point,tn=[];sn=Kt,qn.push(Kt=Ut),Kt.point!==dr;)for(;;){var br=Kt.getAvailableLinkedEvents();if(0===br.length){var Ui=qn[0].point,$r=qn[qn.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Ui.x,",")+" ".concat(Ui.y,"]. Last matching segment found ends at")+" [".concat($r.x,", ").concat($r.y,"]."))}if(1===br.length){Ut=br[0].otherSE;break}for(var vi=null,Ss=0,Js=tn.length;Ss<Js;Ss++)if(tn[Ss].point===Kt.point){vi=Ss;break}if(null===vi){tn.push({index:qn.length,point:Kt.point});var es=Kt.getLeftmostComparator(sn);Ut=br.sort(es)[0].otherSE;break}var xi=tn.splice(vi)[0],qs=qn.splice(xi.index);qs.unshift(qs[0].otherSE),De.push(new Lt(qs.reverse()))}De.push(new Lt(qn))}}return De}}]),B(Lt,[{key:"getGeom",value:function(){for(var ke=this.events[0].point,De=[ke],Ze=1,_t=this.events.length-1;Ze<_t;Ze++){var zt=this.events[Ze].point;0!==Fe(zt,ke,this.events[Ze+1].point)&&(De.push(zt),ke=zt)}if(1===De.length)return null;0===Fe(De[0],ke,De[1])&&De.shift(),De.push(De[0]);for(var qn=this.isExteriorRing()?1:-1,dr=this.isExteriorRing()?0:De.length-1,tn=this.isExteriorRing()?De.length:-1,br=[],Ui=dr;Ui!=tn;Ui+=qn)br.push([De[Ui].x,De[Ui].y]);return br}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var ke=this.enclosingRing();this._isExteriorRing=!ke||!ke.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var ke=this.events[0],De=1,Ze=this.events.length;De<Ze;De++){var _t=this.events[De];tt.compare(ke,_t)>0&&(ke=_t)}for(var zt=ke.segment.prevInResult(),sn=zt?zt.prevInResult():null;;){if(!zt)return null;if(!sn)return zt.ringOut;if(sn.ringOut!==zt.ringOut)return sn.ringOut.enclosingRing()!==zt.ringOut?zt.ringOut:zt.ringOut.enclosingRing();zt=sn.prevInResult(),sn=zt?zt.prevInResult():null}}}]),Lt}(),bt=function(){function Lt(Oe){Ce(this,Lt),this.exteriorRing=Oe,Oe.poly=this,this.interiorRings=[]}return B(Lt,[{key:"addInterior",value:function(ke){this.interiorRings.push(ke),ke.poly=this}},{key:"getGeom",value:function(){var ke=[this.exteriorRing.getGeom()];if(null===ke[0])return null;for(var De=0,Ze=this.interiorRings.length;De<Ze;De++){var _t=this.interiorRings[De].getGeom();null!==_t&&ke.push(_t)}return ke}}]),Lt}(),Qn=function(){function Lt(Oe){Ce(this,Lt),this.rings=Oe,this.polys=this._composePolys(Oe)}return B(Lt,[{key:"getGeom",value:function(){for(var ke=[],De=0,Ze=this.polys.length;De<Ze;De++){var _t=this.polys[De].getGeom();null!==_t&&ke.push(_t)}return ke}},{key:"_composePolys",value:function(ke){for(var De=[],Ze=0,_t=ke.length;Ze<_t;Ze++){var zt=ke[Ze];if(!zt.poly)if(zt.isExteriorRing())De.push(new bt(zt));else{var sn=zt.enclosingRing();sn.poly||De.push(new bt(sn)),sn.poly.addInterior(zt)}}return De}}]),Lt}(),fn=function(){function Lt(Oe){var ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.compare;Ce(this,Lt),this.queue=Oe,this.tree=new ie(ke),this.segments=[]}return B(Lt,[{key:"process",value:function(ke){var De=ke.segment,Ze=[];if(ke.consumedBy)return ke.isLeft?this.queue.remove(ke.otherSE):this.tree.remove(De),Ze;var _t=ke.isLeft?this.tree.insert(De):this.tree.find(De);if(!_t)throw new Error("Unable to find segment #".concat(De.id," ")+"[".concat(De.leftSE.point.x,", ").concat(De.leftSE.point.y,"] -> ")+"[".concat(De.rightSE.point.x,", ").concat(De.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var zt=_t,sn=_t,Kt=void 0,Ut=void 0;void 0===Kt;)null===(zt=this.tree.prev(zt))?Kt=null:void 0===zt.key.consumedBy&&(Kt=zt.key);for(;void 0===Ut;)null===(sn=this.tree.next(sn))?Ut=null:void 0===sn.key.consumedBy&&(Ut=sn.key);if(ke.isLeft){var qn=null;if(Kt){var dr=Kt.getIntersection(De);if(null!==dr&&(De.isAnEndpoint(dr)||(qn=dr),!Kt.isAnEndpoint(dr)))for(var tn=this._splitSafely(Kt,dr),br=0,Ui=tn.length;br<Ui;br++)Ze.push(tn[br])}var $r=null;if(Ut){var vi=Ut.getIntersection(De);if(null!==vi&&(De.isAnEndpoint(vi)||($r=vi),!Ut.isAnEndpoint(vi)))for(var Ss=this._splitSafely(Ut,vi),Js=0,xi=Ss.length;Js<xi;Js++)Ze.push(Ss[Js])}if(null!==qn||null!==$r){var qs;qs=null===qn?$r:null===$r||tt.comparePoints(qn,$r)<=0?qn:$r,this.queue.remove(De.rightSE),Ze.push(De.rightSE);for(var wi=De.split(qs),ai=0,Ys=wi.length;ai<Ys;ai++)Ze.push(wi[ai])}Ze.length>0?(this.tree.remove(De),Ze.push(ke)):(this.segments.push(De),De.prev=Kt)}else{if(Kt&&Ut){var mn=Kt.getIntersection(Ut);if(null!==mn){if(!Kt.isAnEndpoint(mn))for(var rl=this._splitSafely(Kt,mn),oa=0,xr=rl.length;oa<xr;oa++)Ze.push(rl[oa]);if(!Ut.isAnEndpoint(mn))for(var Fo=this._splitSafely(Ut,mn),We=0,de=Fo.length;We<de;We++)Ze.push(Fo[We])}}this.tree.remove(De)}return Ze}},{key:"_splitSafely",value:function(ke,De){this.tree.remove(ke);var Ze=ke.rightSE;this.queue.remove(Ze);var _t=ke.split(De);return _t.push(Ze),void 0===ke.consumedBy&&this.tree.insert(ke),_t}}]),Lt}(),Pn="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Sn="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,wn=new(function(){function Lt(){Ce(this,Lt)}return B(Lt,[{key:"run",value:function(ke,De,Ze){wn.type=ke,we.reset();for(var _t=[new Ht(De,!0)],zt=0,sn=Ze.length;zt<sn;zt++)_t.push(new Ht(Ze[zt],!1));if(wn.numMultiPolys=_t.length,"difference"===wn.type)for(var Kt=_t[0],Ut=1;Ut<_t.length;)null!==he(_t[Ut].bbox,Kt.bbox)?Ut++:_t.splice(Ut,1);if("intersection"===wn.type)for(var qn=0,dr=_t.length;qn<dr;qn++)for(var tn=_t[qn],br=qn+1,Ui=_t.length;br<Ui;br++)if(null===he(tn.bbox,_t[br].bbox))return[];for(var $r=new ie(tt.compare),vi=0,Ss=_t.length;vi<Ss;vi++)for(var Js=_t[vi].getSweepEvents(),xi=0,qs=Js.length;xi<qs;xi++)if($r.insert(Js[xi]),$r.size>Pn)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var es=new fn($r),wi=$r.size,ai=$r.pop();ai;){var Ys=ai.key;if($r.size===wi){var mn=Ys.segment;throw new Error("Unable to pop() ".concat(Ys.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ys.point.x,", ").concat(Ys.point.y,"] from segment #").concat(mn.id," ")+"[".concat(mn.leftSE.point.x,", ").concat(mn.leftSE.point.y,"] -> ")+"[".concat(mn.rightSE.point.x,", ").concat(mn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if($r.size>Pn)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(es.segments.length>Sn)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var rl=es.process(Ys),oa=0,xr=rl.length;oa<xr;oa++){var Fo=rl[oa];void 0===Fo.consumedBy&&$r.insert(Fo)}wi=$r.size,ai=$r.pop()}we.reset();var We=_n.factory(es.segments);return new Qn(We).getGeom()}}]),Lt}());return{union:function(Oe){for(var ke=arguments.length,De=new Array(ke>1?ke-1:0),Ze=1;Ze<ke;Ze++)De[Ze-1]=arguments[Ze];return wn.run("union",Oe,De)},intersection:function(Oe){for(var ke=arguments.length,De=new Array(ke>1?ke-1:0),Ze=1;Ze<ke;Ze++)De[Ze-1]=arguments[Ze];return wn.run("intersection",Oe,De)},xor:function(Oe){for(var ke=arguments.length,De=new Array(ke>1?ke-1:0),Ze=1;Ze<ke;Ze++)De[Ze-1]=arguments[Ze];return wn.run("xor",Oe,De)},difference:function(Oe){for(var ke=arguments.length,De=new Array(ke>1?ke-1:0),Ze=1;Ze<ke;Ze++)De[Ze-1]=arguments[Ze];return wn.run("difference",Oe,De)}}}()},3544:(Ve,Ce,$)=>{"use strict";Ve.exports=I,Ve.exports.default=I;var B=$(6709);function I(he,xe){if(!(this instanceof I))return new I(he,xe);this._maxEntries=Math.max(4,he||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),xe&&this._initFormat(xe),this.clear()}function F(he,xe,se){if(!se)return xe.indexOf(he);for(var ne=0;ne<xe.length;ne++)if(se(he,xe[ne]))return ne;return-1}function d(he,xe){O(he,0,he.children.length,xe,he)}function O(he,xe,se,ne,re){re||(re=Q(null)),re.minX=1/0,re.minY=1/0,re.maxX=-1/0,re.maxY=-1/0;for(var we,fe=xe;fe<se;fe++)we=he.children[fe],H(re,he.leaf?ne(we):we);return re}function H(he,xe){return he.minX=Math.min(he.minX,xe.minX),he.minY=Math.min(he.minY,xe.minY),he.maxX=Math.max(he.maxX,xe.maxX),he.maxY=Math.max(he.maxY,xe.maxY),he}function q(he,xe){return he.minX-xe.minX}function W(he,xe){return he.minY-xe.minY}function ie(he){return(he.maxX-he.minX)*(he.maxY-he.minY)}function Le(he){return he.maxX-he.minX+(he.maxY-he.minY)}function rt(he,xe){return(Math.max(xe.maxX,he.maxX)-Math.min(xe.minX,he.minX))*(Math.max(xe.maxY,he.maxY)-Math.min(xe.minY,he.minY))}function qe(he,xe){var se=Math.max(he.minX,xe.minX),ne=Math.max(he.minY,xe.minY),re=Math.min(he.maxX,xe.maxX),fe=Math.min(he.maxY,xe.maxY);return Math.max(0,re-se)*Math.max(0,fe-ne)}function Ee(he,xe){return he.minX<=xe.minX&&he.minY<=xe.minY&&xe.maxX<=he.maxX&&xe.maxY<=he.maxY}function it(he,xe){return xe.minX<=he.maxX&&xe.minY<=he.maxY&&xe.maxX>=he.minX&&xe.maxY>=he.minY}function Q(he){return{children:he,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ve(he,xe,se,ne,re){for(var we,fe=[xe,se];fe.length;)!((se=fe.pop())-(xe=fe.pop())<=ne)&&(we=xe+Math.ceil((se-xe)/ne/2)*ne,B(he,we,xe,se,re),fe.push(xe,we,we,se))}I.prototype={all:function(){return this._all(this.data,[])},search:function(he){var xe=this.data,se=[],ne=this.toBBox;if(!it(he,xe))return se;for(var fe,we,ae,ct,re=[];xe;){for(fe=0,we=xe.children.length;fe<we;fe++)ae=xe.children[fe],it(he,ct=xe.leaf?ne(ae):ae)&&(xe.leaf?se.push(ae):Ee(he,ct)?this._all(ae,se):re.push(ae));xe=re.pop()}return se},collides:function(he){var xe=this.data,se=this.toBBox;if(!it(he,xe))return!1;for(var re,fe,we,ae,ne=[];xe;){for(re=0,fe=xe.children.length;re<fe;re++)if(we=xe.children[re],it(he,ae=xe.leaf?se(we):we)){if(xe.leaf||Ee(he,ae))return!0;ne.push(we)}xe=ne.pop()}return!1},load:function(he){if(!he||!he.length)return this;if(he.length<this._minEntries){for(var xe=0,se=he.length;xe<se;xe++)this.insert(he[xe]);return this}var ne=this._build(he.slice(),0,he.length-1,0);if(this.data.children.length)if(this.data.height===ne.height)this._splitRoot(this.data,ne);else{if(this.data.height<ne.height){var re=this.data;this.data=ne,ne=re}this._insert(ne,this.data.height-ne.height-1,!0)}else this.data=ne;return this},insert:function(he){return he&&this._insert(he,this.data.height-1),this},clear:function(){return this.data=Q([]),this},remove:function(he,xe){if(!he)return this;for(var we,ae,ct,Fe,se=this.data,ne=this.toBBox(he),re=[],fe=[];se||re.length;){if(se||(se=re.pop(),ae=re[re.length-1],we=fe.pop(),Fe=!0),se.leaf&&-1!==(ct=F(he,se.children,xe)))return se.children.splice(ct,1),re.push(se),this._condense(re),this;Fe||se.leaf||!Ee(se,ne)?ae?(we++,se=ae.children[we],Fe=!1):se=null:(re.push(se),fe.push(we),we=0,ae=se,se=se.children[0])}return this},toBBox:function(he){return he},compareMinX:q,compareMinY:W,toJSON:function(){return this.data},fromJSON:function(he){return this.data=he,this},_all:function(he,xe){for(var se=[];he;)he.leaf?xe.push.apply(xe,he.children):se.push.apply(se,he.children),he=se.pop();return xe},_build:function(he,xe,se,ne){var we,re=se-xe+1,fe=this._maxEntries;if(re<=fe)return d(we=Q(he.slice(xe,se+1)),this.toBBox),we;ne||(ne=Math.ceil(Math.log(re)/Math.log(fe)),fe=Math.ceil(re/Math.pow(fe,ne-1))),(we=Q([])).leaf=!1,we.height=ne;var Fe,Je,Te,Xt,ae=Math.ceil(re/fe),ct=ae*Math.ceil(Math.sqrt(fe));for(ve(he,xe,se,ct,this.compareMinX),Fe=xe;Fe<=se;Fe+=ct)for(ve(he,Fe,Te=Math.min(Fe+ct-1,se),ae,this.compareMinY),Je=Fe;Je<=Te;Je+=ae)Xt=Math.min(Je+ae-1,Te),we.children.push(this._build(he,Je,Xt,ne-1));return d(we,this.toBBox),we},_chooseSubtree:function(he,xe,se,ne){for(var re,fe,we,ae,ct,Fe,Je,Te;ne.push(xe),!xe.leaf&&ne.length-1!==se;){for(Je=Te=1/0,re=0,fe=xe.children.length;re<fe;re++)ct=ie(we=xe.children[re]),(Fe=rt(he,we)-ct)<Te?(Te=Fe,Je=ct<Je?ct:Je,ae=we):Fe===Te&&ct<Je&&(Je=ct,ae=we);xe=ae||xe.children[0]}return xe},_insert:function(he,xe,se){var re=se?he:(0,this.toBBox)(he),fe=[],we=this._chooseSubtree(re,this.data,xe,fe);for(we.children.push(he),H(we,re);xe>=0&&fe[xe].children.length>this._maxEntries;)this._split(fe,xe),xe--;this._adjustParentBBoxes(re,fe,xe)},_split:function(he,xe){var se=he[xe],ne=se.children.length,re=this._minEntries;this._chooseSplitAxis(se,re,ne);var fe=this._chooseSplitIndex(se,re,ne),we=Q(se.children.splice(fe,se.children.length-fe));we.height=se.height,we.leaf=se.leaf,d(se,this.toBBox),d(we,this.toBBox),xe?he[xe-1].children.push(we):this._splitRoot(se,we)},_splitRoot:function(he,xe){this.data=Q([he,xe]),this.data.height=he.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},_chooseSplitIndex:function(he,xe,se){var ne,re,fe,we,ae,ct,Fe,Je;for(ct=Fe=1/0,ne=xe;ne<=se-xe;ne++)we=qe(re=O(he,0,ne,this.toBBox),fe=O(he,ne,se,this.toBBox)),ae=ie(re)+ie(fe),we<ct?(ct=we,Je=ne,Fe=ae<Fe?ae:Fe):we===ct&&ae<Fe&&(Fe=ae,Je=ne);return Je},_chooseSplitAxis:function(he,xe,se){var ne=he.leaf?this.compareMinX:q,re=he.leaf?this.compareMinY:W;this._allDistMargin(he,xe,se,ne)<this._allDistMargin(he,xe,se,re)&&he.children.sort(ne)},_allDistMargin:function(he,xe,se,ne){he.children.sort(ne);var ct,Fe,re=this.toBBox,fe=O(he,0,xe,re),we=O(he,se-xe,se,re),ae=Le(fe)+Le(we);for(ct=xe;ct<se-xe;ct++)Fe=he.children[ct],H(fe,he.leaf?re(Fe):Fe),ae+=Le(fe);for(ct=se-xe-1;ct>=xe;ct--)Fe=he.children[ct],H(we,he.leaf?re(Fe):Fe),ae+=Le(we);return ae},_adjustParentBBoxes:function(he,xe,se){for(var ne=se;ne>=0;ne--)H(xe[ne],he)},_condense:function(he){for(var se,xe=he.length-1;xe>=0;xe--)0===he[xe].children.length?xe>0?(se=he[xe-1].children).splice(se.indexOf(he[xe]),1):this.clear():d(he[xe],this.toBBox)},_initFormat:function(he){var xe=["return a"," - b",";"];this.compareMinX=new Function("a","b",xe.join(he[0])),this.compareMinY=new Function("a","b",xe.join(he[1])),this.toBBox=new Function("a","return {minX: a"+he[0]+", minY: a"+he[1]+", maxX: a"+he[2]+", maxY: a"+he[3]+"};")}}},6709:function(Ve){Ve.exports=function(){"use strict";function $(F,d,O,H,q){for(;H>O;){if(H-O>600){var W=H-O+1,ie=d-O+1,Le=Math.log(W),rt=.5*Math.exp(2*Le/3),qe=.5*Math.sqrt(Le*rt*(W-rt)/W)*(ie-W/2<0?-1:1);$(F,d,Math.max(O,Math.floor(d-ie*rt/W+qe)),Math.min(H,Math.floor(d+(W-ie)*rt/W+qe)),q)}var Q=F[d],ve=O,he=H;for(B(F,O,d),q(F[H],Q)>0&&B(F,O,H);ve<he;){for(B(F,ve,he),ve++,he--;q(F[ve],Q)<0;)ve++;for(;q(F[he],Q)>0;)he--}0===q(F[O],Q)?B(F,O,he):B(F,++he,H),he<=d&&(O=he+1),d<=he&&(H=he-1)}}function B(F,d,O){var H=F[d];F[d]=F[O],F[O]=H}function I(F,d){return F<d?-1:F>d?1:0}return function Ce(F,d,O,H,q){$(F,d,O||0,H||F.length-1,q||I)}}()},4468:Ve=>{"use strict";var Ce=Object,$=TypeError;Ve.exports=function(){if(null!=this&&this!==Ce(this))throw new $("RegExp.prototype.flags getter called on non-object");var I="";return this.hasIndices&&(I+="d"),this.global&&(I+="g"),this.ignoreCase&&(I+="i"),this.multiline&&(I+="m"),this.dotAll&&(I+="s"),this.unicode&&(I+="u"),this.sticky&&(I+="y"),I}},9235:(Ve,Ce,$)=>{"use strict";var B=$(2358),I=$(5685),F=$(4468),d=$(6343),O=$(1956),H=I(d());B(H,{getPolyfill:d,implementation:F,shim:O}),Ve.exports=H},6343:(Ve,Ce,$)=>{"use strict";var B=$(4468),I=$(2358).supportsDescriptors,F=Object.getOwnPropertyDescriptor;Ve.exports=function(){if(I&&"gim"===/a/gim.flags){var O=F(RegExp.prototype,"flags");if(O&&"function"==typeof O.get&&"boolean"==typeof/a/.dotAll)return O.get}return B}},1956:(Ve,Ce,$)=>{"use strict";var B=$(2358).supportsDescriptors,I=$(6343),F=Object.getOwnPropertyDescriptor,d=Object.defineProperty,O=TypeError,H=Object.getPrototypeOf,q=/a/;Ve.exports=function(){if(!B||!H)throw new O("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ie=I(),Le=H(q),rt=F(Le,"flags");return(!rt||rt.get!==ie)&&d(Le,"flags",{configurable:!0,enumerable:!1,get:ie}),ie}},7563:function(Ve,Ce){!function($){"use strict";const B=134217729;function F(Ee,it,Q,ve,he){let xe,se,ne,re,fe=it[0],we=ve[0],ae=0,ct=0;we>fe==we>-fe?(xe=fe,fe=it[++ae]):(xe=we,we=ve[++ct]);let Fe=0;if(ae<Ee&&ct<Q)for(we>fe==we>-fe?(ne=xe-((se=fe+xe)-fe),fe=it[++ae]):(ne=xe-((se=we+xe)-we),we=ve[++ct]),xe=se,0!==ne&&(he[Fe++]=ne);ae<Ee&&ct<Q;)we>fe==we>-fe?(ne=xe-((se=xe+fe)-(re=se-xe))+(fe-re),fe=it[++ae]):(ne=xe-((se=xe+we)-(re=se-xe))+(we-re),we=ve[++ct]),xe=se,0!==ne&&(he[Fe++]=ne);for(;ae<Ee;)ne=xe-((se=xe+fe)-(re=se-xe))+(fe-re),fe=it[++ae],xe=se,0!==ne&&(he[Fe++]=ne);for(;ct<Q;)ne=xe-((se=xe+we)-(re=se-xe))+(we-re),we=ve[++ct],xe=se,0!==ne&&(he[Fe++]=ne);return 0===xe&&0!==Fe||(he[Fe++]=xe),Fe}function d(Ee){return new Float64Array(Ee)}const W=d(4),ie=d(8),Le=d(12),rt=d(16),qe=d(4);$.orient2d=function(Ee,it,Q,ve,he,xe){const se=(it-xe)*(Q-he),ne=(Ee-he)*(ve-xe),re=se-ne;if(0===se||0===ne||se>0!=ne>0)return re;const fe=Math.abs(se+ne);return Math.abs(re)>=33306690738754716e-32*fe?re:-function(we,ae,ct,Fe,Je,Te,Xt){let Pt,Ge,Mt,tt,xt,gt,Re,Yt,Ht,_n,bt,Qn,fn,Pn,Sn,On,wn,Xr;const Li=we-Je,or=ct-Je,oi=ae-Te,Zi=Fe-Te;xt=(Sn=(Yt=Li-(Re=(gt=B*Li)-(gt-Li)))*(_n=Zi-(Ht=(gt=B*Zi)-(gt-Zi)))-((Pn=Li*Zi)-Re*Ht-Yt*Ht-Re*_n))-(bt=Sn-(wn=(Yt=oi-(Re=(gt=B*oi)-(gt-oi)))*(_n=or-(Ht=(gt=B*or)-(gt-or)))-((On=oi*or)-Re*Ht-Yt*Ht-Re*_n))),W[0]=Sn-(bt+xt)+(xt-wn),xt=(fn=Pn-((Qn=Pn+bt)-(xt=Qn-Pn))+(bt-xt))-(bt=fn-On),W[1]=fn-(bt+xt)+(xt-On),xt=(Xr=Qn+bt)-Qn,W[2]=Qn-(Xr-xt)+(bt-xt),W[3]=Xr;let Lt=function(_t,zt){let sn=zt[0];for(let Kt=1;Kt<4;Kt++)sn+=zt[Kt];return sn}(0,W),Oe=22204460492503146e-32*Xt;if(Lt>=Oe||-Lt>=Oe||(Pt=we-(Li+(xt=we-Li))+(xt-Je),Mt=ct-(or+(xt=ct-or))+(xt-Je),Ge=ae-(oi+(xt=ae-oi))+(xt-Te),tt=Fe-(Zi+(xt=Fe-Zi))+(xt-Te),0===Pt&&0===Ge&&0===Mt&&0===tt)||(Oe=11093356479670487e-47*Xt+33306690738754706e-32*Math.abs(Lt),(Lt+=Li*tt+Zi*Pt-(oi*Mt+or*Ge))>=Oe||-Lt>=Oe))return Lt;xt=(Sn=(Yt=Pt-(Re=(gt=B*Pt)-(gt-Pt)))*(_n=Zi-(Ht=(gt=B*Zi)-(gt-Zi)))-((Pn=Pt*Zi)-Re*Ht-Yt*Ht-Re*_n))-(bt=Sn-(wn=(Yt=Ge-(Re=(gt=B*Ge)-(gt-Ge)))*(_n=or-(Ht=(gt=B*or)-(gt-or)))-((On=Ge*or)-Re*Ht-Yt*Ht-Re*_n))),qe[0]=Sn-(bt+xt)+(xt-wn),xt=(fn=Pn-((Qn=Pn+bt)-(xt=Qn-Pn))+(bt-xt))-(bt=fn-On),qe[1]=fn-(bt+xt)+(xt-On),xt=(Xr=Qn+bt)-Qn,qe[2]=Qn-(Xr-xt)+(bt-xt),qe[3]=Xr;const ke=F(4,W,4,qe,ie);xt=(Sn=(Yt=Li-(Re=(gt=B*Li)-(gt-Li)))*(_n=tt-(Ht=(gt=B*tt)-(gt-tt)))-((Pn=Li*tt)-Re*Ht-Yt*Ht-Re*_n))-(bt=Sn-(wn=(Yt=oi-(Re=(gt=B*oi)-(gt-oi)))*(_n=Mt-(Ht=(gt=B*Mt)-(gt-Mt)))-((On=oi*Mt)-Re*Ht-Yt*Ht-Re*_n))),qe[0]=Sn-(bt+xt)+(xt-wn),xt=(fn=Pn-((Qn=Pn+bt)-(xt=Qn-Pn))+(bt-xt))-(bt=fn-On),qe[1]=fn-(bt+xt)+(xt-On),xt=(Xr=Qn+bt)-Qn,qe[2]=Qn-(Xr-xt)+(bt-xt),qe[3]=Xr;const De=F(ke,ie,4,qe,Le);xt=(Sn=(Yt=Pt-(Re=(gt=B*Pt)-(gt-Pt)))*(_n=tt-(Ht=(gt=B*tt)-(gt-tt)))-((Pn=Pt*tt)-Re*Ht-Yt*Ht-Re*_n))-(bt=Sn-(wn=(Yt=Ge-(Re=(gt=B*Ge)-(gt-Ge)))*(_n=Mt-(Ht=(gt=B*Mt)-(gt-Mt)))-((On=Ge*Mt)-Re*Ht-Yt*Ht-Re*_n))),qe[0]=Sn-(bt+xt)+(xt-wn),xt=(fn=Pn-((Qn=Pn+bt)-(xt=Qn-Pn))+(bt-xt))-(bt=fn-On),qe[1]=fn-(bt+xt)+(xt-On),xt=(Xr=Qn+bt)-Qn,qe[2]=Qn-(Xr-xt)+(bt-xt),qe[3]=Xr;const Ze=F(De,Le,4,qe,rt);return rt[Ze-1]}(Ee,it,Q,ve,he,xe,fe)},$.orient2dfast=function(Ee,it,Q,ve,he,xe){return(it-xe)*(Q-he)-(Ee-he)*(ve-xe)},Object.defineProperty($,"__esModule",{value:!0})}(Ce)},9231:Ve=>{"use strict";Ve.exports={eudist:function($,B,I){for(var F=$.length,d=0,O=0;O<F;O++){var H=($[O]||0)-(B[O]||0);d+=H*H}return I?Math.sqrt(d):d},mandist:function($,B,I){for(var F=$.length,d=0,O=0;O<F;O++)d+=Math.abs(($[O]||0)-(B[O]||0));return I?Math.sqrt(d):d},dist:function($,B,I){var F=Math.abs($-B);return I?F:F*F}}},5561:(Ve,Ce,$)=>{"use strict";var B=$(9231),I=B.eudist,F=B.dist;Ve.exports={kmrand:function(O,H){for(var q={},W=[],ie=H<<2,Le=O.length,rt=O[0].length>0;W.length<H&&ie-- >0;){var qe=O[Math.floor(Math.random()*Le)],Ee=rt?qe.join("_"):""+qe;q[Ee]||(q[Ee]=!0,W.push(qe))}if(W.length<H)throw new Error("Error initializating clusters");return W},kmpp:function(O,H){var q=O[0].length?I:F,W=[],ie=O.length,Le=O[0].length>0,qe=O[Math.floor(Math.random()*ie)];for(Le&&qe.join("_"),W.push(qe);W.length<H;){for(var it=[],Q=W.length,ve=0,he=[],xe=0;xe<ie;xe++){for(var se=1/0,ne=0;ne<Q;ne++){var re=q(O[xe],W[ne]);re<=se&&(se=re)}it[xe]=se}for(var fe=0;fe<ie;fe++)ve+=it[fe];for(var we=0;we<ie;we++)he[we]={i:we,v:O[we],pr:it[we]/ve,cs:0};he.sort(function(Je,Te){return Je.pr-Te.pr}),he[0].cs=he[0].pr;for(var ae=1;ae<ie;ae++)he[ae].cs=he[ae-1].cs+he[ae].pr;for(var ct=Math.random(),Fe=0;Fe<ie-1&&he[Fe++].cs<ct;);W.push(he[Fe-1].v)}return W}}},9475:(Ve,Ce,$)=>{"use strict";var B=$(9231),I=$(5561),F=B.eudist,H=I.kmrand,q=I.kmpp;function ie(rt,qe,Ee){Ee=Ee||[];for(var it=0;it<rt;it++)Ee[it]=qe;return Ee}Ve.exports=function Le(rt,qe,Ee,it){var Q=[],ve=[],he=[],xe=[],se=!1,ne=it||1e4,re=rt.length,fe=rt[0].length,we=fe>0,ae=[];if(Ee)Q="kmrand"==Ee?H(rt,qe):"kmpp"==Ee?q(rt,qe):Ee;else for(var ct={};Q.length<qe;){var Fe=Math.floor(Math.random()*re);ct[Fe]||(ct[Fe]=!0,Q.push(rt[Fe]))}do{ie(qe,0,ae);for(var Je=0;Je<re;Je++){for(var Te=1/0,Xt=0,Pt=0;Pt<qe;Pt++)(xe=we?F(rt[Je],Q[Pt]):Math.abs(rt[Je]-Q[Pt]))<=Te&&(Te=xe,Xt=Pt);he[Je]=Xt,ae[Xt]++}for(var Ge=[],tt=(ve=[],0);tt<qe;tt++)Ge[tt]=we?ie(fe,0,Ge[tt]):0,ve[tt]=Q[tt];if(we){for(var xt=0;xt<qe;xt++)Q[xt]=[];for(var gt=0;gt<re;gt++)for(var Yt=Ge[he[gt]],Ht=rt[gt],_n=0;_n<fe;_n++)Yt[_n]+=Ht[_n];se=!0;for(var bt=0;bt<qe;bt++){for(var Qn=Q[bt],fn=Ge[bt],Pn=ve[bt],Sn=ae[bt],On=0;On<fe;On++)Qn[On]=fn[On]/Sn||0;if(se)for(var wn=0;wn<fe;wn++)if(Pn[wn]!=Qn[wn]){se=!1;break}}}else{for(var Xr=0;Xr<re;Xr++)Ge[he[Xr]]+=rt[Xr];for(var or=0;or<qe;or++)Q[or]=Ge[or]/ae[or]||0;se=!0;for(var oi=0;oi<qe;oi++)if(ve[oi]!=Q[oi]){se=!1;break}}se=se||--ne<=0}while(!se);return{it:1e4-ne,k:qe,idxs:he,centroids:Q}}},6775:function(Ve){var B;B=function(){var $=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function B(H){return H.match($)||[]}function F(H){return{language:(H=B(H))[1]||"",extlang:H[2]||"",script:H[3]||"",region:H[4]||""}}function d(H,q,W){Object.defineProperty(H,q,{value:W,enumerable:!0})}function O(H,q,W){function ie(Le){return B(Le)[H]||""}d(ie,"pattern",q),d(F,W,ie)}return O(1,/^[a-zA-Z]{2,3}$/,"language"),O(2,/^[a-zA-Z]{3}$/,"extlang"),O(3,/^[a-zA-Z]{4}$/,"script"),O(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),d(F,"split",function I(H){return B(H).filter(function(q,W){return q&&W})}),F},Ve.exports?Ve.exports=B():this.subtag=B()},5562:(Ve,Ce,$)=>{"use strict";var B=$(8576);Ve.exports=B,"undefined"!=typeof window&&(window.Suggestions=B)},7554:Ve=>{"use strict";var Ce=function($){return this.component=$,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,$.el.parentNode.insertBefore(this.wrapper,$.el.nextSibling),this};Ce.prototype.show=function(){this.element.style.display="block"},Ce.prototype.hide=function(){this.element.style.display="none"},Ce.prototype.add=function($){this.items.push($)},Ce.prototype.clear=function(){this.items=[],this.active=0},Ce.prototype.isEmpty=function(){return!this.items.length},Ce.prototype.isVisible=function(){return"block"===this.element.style.display},Ce.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var $=0;$<this.items.length;$++)this.drawItem(this.items[$],this.active===$);this.show()}else this.hide()},Ce.prototype.drawItem=function($,B){var I=document.createElement("li"),F=document.createElement("a");B&&(I.className+=" active"),F.innerHTML=$.string,I.appendChild(F),this.element.appendChild(I),I.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),I.addEventListener("mouseup",function(){this.handleMouseUp.call(this,$)}.bind(this))},Ce.prototype.handleMouseUp=function($){this.selectingListItem=!1,this.component.value($.original),this.clear(),this.draw()},Ce.prototype.move=function($){this.active=$,this.draw()},Ce.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},Ce.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},Ce.prototype.drawError=function($){var B=document.createElement("li");B.innerHTML=$,this.element.appendChild(B),this.show()},Ve.exports=Ce},8576:(Ve,Ce,$)=>{"use strict";var B=$(4703),I=$(5780),F=$(7554),d=function(O,H,q){return this.options=B({minLength:2,limit:5,filter:!0,hideOnBlur:!0},q=q||{}),this.el=O,this.data=H||[],this.list=new F(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(W){this.handleKeyUp(W.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(W){this.handleKeyDown(W)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(W){this.handlePaste(W)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};d.prototype.handleKeyUp=function(O){40===O||38===O||27===O||13===O||9===O||this.handleInputChange(this.el.value)},d.prototype.handleKeyDown=function(O){switch(O.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&O.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},d.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},d.prototype.handlePaste=function(O){if(O.clipboardData)this.handleInputChange(O.clipboardData.getData("Text"));else{var H=this;setTimeout(function(){H.handleInputChange(O.target.value)},100)}},d.prototype.handleInputChange=function(O){this.query=this.normalize(O),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(H){for(var q=0;q<H.length&&(this.list.add(H[q]),q!==this.options.limit-1);q++);this.list.draw()}.bind(this))},d.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},d.prototype.update=function(O){this.data=O,this.handleKeyUp()},d.prototype.clear=function(){this.data=[],this.list.clear()},d.prototype.normalize=function(O){return O.toLowerCase()},d.prototype.match=function(O,H){return O.indexOf(H)>-1},d.prototype.value=function(O){if(this.selected=O,this.el.value=this.getItemValue(O),document.createEvent){var H=document.createEvent("HTMLEvents");H.initEvent("change",!0,!1),this.el.dispatchEvent(H)}else this.el.fireEvent("onchange")},d.prototype.getCandidates=function(O){var H={pre:"<strong>",post:"</strong>",extract:function(W){return this.getItemValue(W)}.bind(this)};O(this.options.filter?I.filter(this.query,this.data,H).map(function(W){return{original:W.original,string:this.render(W.original,W.string)}}.bind(this)):this.data.map(function(W){return{original:W,string:this.render(W)}}.bind(this)))},d.prototype.getItemValue=function(O){return O},d.prototype.render=function(O,H){if(H)return H;for(var q=this.getItemValue(O.original?O.original:O),W=this.normalize(q),ie=W.lastIndexOf(this.query);ie>-1;){var Le=ie+this.query.length;q=q.slice(0,ie)+"<strong>"+q.slice(ie,Le)+"</strong>"+q.slice(Le),ie=W.slice(0,ie).lastIndexOf(this.query)}return q},d.prototype.renderError=function(O){this.list.drawError(O)},Ve.exports=d},7253:(Ve,Ce,$)=>{"use strict";$.r(Ce),$.d(Ce,{default:()=>B});class B{constructor(d=[],O=I){if(this.data=d,this.length=this.data.length,this.compare=O,this.length>0)for(let H=(this.length>>1)-1;H>=0;H--)this._down(H)}push(d){this.data.push(d),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const d=this.data[0],O=this.data.pop();return this.length--,this.length>0&&(this.data[0]=O,this._down(0)),d}peek(){return this.data[0]}_up(d){const{data:O,compare:H}=this,q=O[d];for(;d>0;){const W=d-1>>1,ie=O[W];if(H(q,ie)>=0)break;O[d]=ie,d=W}O[d]=q}_down(d){const{data:O,compare:H}=this,q=this.length>>1,W=O[d];for(;d<q;){let ie=1+(d<<1),Le=O[ie];const rt=ie+1;if(rt<this.length&&H(O[rt],Le)<0&&(ie=rt,Le=O[rt]),H(Le,W)>=0)break;O[d]=Le,d=ie}O[d]=W}}function I(F,d){return F<d?-1:F>d?1:0}},770:function(Ve,Ce){!function($){"use strict";function B(){}function I(a){this.message=a||""}function F(a){this.message=a||""}function d(a){this.message=a||""}function O(){}function H(a){return null===a?ht:a.color}function q(a){return null===a?null:a.parent}function W(a,h){null!==a&&(a.color=h)}function ie(a){return null===a?null:a.left}function Le(a){return null===a?null:a.right}function rt(){this.root_=null,this.size_=0}function qe(){}function Ee(){this.array_=[],arguments[0]instanceof wi&&this.addAll(arguments[0])}function it(){}function Q(a){this.message=a||""}function ve(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(a){if(null==this)throw new TypeError(this+" is not an object");var h=Object(this),g=Math.max(Math.min(h.length,9007199254740991),0)||0,v=1 in arguments&&parseInt(Number(arguments[1]),10)||0;v=v<0?Math.max(g+v,0):Math.min(v,g);var C=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:g;for(C=C<0?Math.max(g+arguments[2],0):Math.min(C,g);v<C;)h[v]=a,++v;return h},writable:!0}),Number.isFinite=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(a){return a!=a},Math.trunc=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)};var he=function(){};he.prototype.interfaces_=function(){return[]},he.prototype.getClass=function(){return he},he.prototype.equalsWithTolerance=function(a,h,g){return Math.abs(a-h)<=g};var xe=function(a){function h(g){a.call(this,g),this.name="IllegalArgumentException",this.message=g,this.stack=(new a).stack}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h}(Error),se=function(){},ne={MAX_VALUE:{configurable:!0}};se.isNaN=function(a){return Number.isNaN(a)},se.doubleToLongBits=function(a){return a},se.longBitsToDouble=function(a){return a},se.isInfinite=function(a){return!Number.isFinite(a)},ne.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(se,ne);var re=function(){},fe=function(){},we=function(){},ae=function a(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=a.NULL_ORDINATE;else if(1===arguments.length){var h=arguments[0];this.x=h.x,this.y=h.y,this.z=h.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=a.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ct={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};ae.prototype.setOrdinate=function(a,h){switch(a){case ae.X:this.x=h;break;case ae.Y:this.y=h;break;case ae.Z:this.z=h;break;default:throw new xe("Invalid ordinate index: "+a)}},ae.prototype.equals2D=function(){if(1===arguments.length){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(2===arguments.length){var h=arguments[0],g=arguments[1];return!!he.equalsWithTolerance(this.x,h.x,g)&&!!he.equalsWithTolerance(this.y,h.y,g)}},ae.prototype.getOrdinate=function(a){switch(a){case ae.X:return this.x;case ae.Y:return this.y;case ae.Z:return this.z}throw new xe("Invalid ordinate index: "+a)},ae.prototype.equals3D=function(a){return this.x===a.x&&this.y===a.y&&(this.z===a.z||se.isNaN(this.z))&&se.isNaN(a.z)},ae.prototype.equals=function(a){return a instanceof ae&&this.equals2D(a)},ae.prototype.equalInZ=function(a,h){return he.equalsWithTolerance(this.z,a.z,h)},ae.prototype.compareTo=function(a){return this.x<a.x?-1:this.x>a.x?1:this.y<a.y?-1:this.y>a.y?1:0},ae.prototype.clone=function(){},ae.prototype.copy=function(){return new ae(this)},ae.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},ae.prototype.distance3D=function(a){var h=this.x-a.x,g=this.y-a.y,v=this.z-a.z;return Math.sqrt(h*h+g*g+v*v)},ae.prototype.distance=function(a){var h=this.x-a.x,g=this.y-a.y;return Math.sqrt(h*h+g*g)},ae.prototype.hashCode=function(){var a=17;return 37*(a=37*a+ae.hashCode(this.x))+ae.hashCode(this.y)},ae.prototype.setCoordinate=function(a){this.x=a.x,this.y=a.y,this.z=a.z},ae.prototype.interfaces_=function(){return[re,fe,B]},ae.prototype.getClass=function(){return ae},ae.hashCode=function(){if(1===arguments.length){var h=se.doubleToLongBits(arguments[0]);return Math.trunc((h^h)>>>32)}},ct.DimensionalComparator.get=function(){return Fe},ct.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ct.NULL_ORDINATE.get=function(){return se.NaN},ct.X.get=function(){return 0},ct.Y.get=function(){return 1},ct.Z.get=function(){return 2},Object.defineProperties(ae,ct);var Fe=function(a){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var h=arguments[0];if(2!==h&&3!==h)throw new xe("only 2 or 3 dimensions may be specified");this._dimensionsToTest=h}};Fe.prototype.compare=function(a,h){var g=a,v=h,C=Fe.compare(g.x,v.x);if(0!==C)return C;var V=Fe.compare(g.y,v.y);return 0!==V?V:this._dimensionsToTest<=2?0:Fe.compare(g.z,v.z)},Fe.prototype.interfaces_=function(){return[we]},Fe.prototype.getClass=function(){return Fe},Fe.compare=function(a,h){return a<h?-1:a>h?1:se.isNaN(a)?se.isNaN(h)?0:-1:se.isNaN(h)?1:0};var Je=function(){};Je.prototype.create=function(){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Te=function(){},Xt={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te},Te.toLocationSymbol=function(a){switch(a){case Te.EXTERIOR:return"e";case Te.BOUNDARY:return"b";case Te.INTERIOR:return"i";case Te.NONE:return"-"}throw new xe("Unknown location value: "+a)},Xt.INTERIOR.get=function(){return 0},Xt.BOUNDARY.get=function(){return 1},Xt.EXTERIOR.get=function(){return 2},Xt.NONE.get=function(){return-1},Object.defineProperties(Te,Xt);var Pt=function(a,h){return a.interfaces_&&a.interfaces_().indexOf(h)>-1},Ge=function(){},Mt={LOG_10:{configurable:!0}};Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge},Ge.log10=function(a){var h=Math.log(a);return se.isInfinite(h)||se.isNaN(h)?h:h/Ge.LOG_10},Ge.min=function(a,h,g,v){var C=a;return h<C&&(C=h),g<C&&(C=g),v<C&&(C=v),C},Ge.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],h=arguments[1],g=arguments[2];return a<h?h:a>g?g:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var v=arguments[0],C=arguments[1],V=arguments[2];return v<C?C:v>V?V:v}},Ge.wrap=function(a,h){return a<0?h- -a%h:a%h},Ge.max=function(){if(3===arguments.length){var h=arguments[1],g=arguments[2],v=arguments[0];return h>v&&(v=h),g>v&&(v=g),v}if(4===arguments.length){var V=arguments[1],X=arguments[2],ye=arguments[3],Ue=arguments[0];return V>Ue&&(Ue=V),X>Ue&&(Ue=X),ye>Ue&&(Ue=ye),Ue}},Ge.average=function(a,h){return(a+h)/2},Mt.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Ge,Mt);var tt=function(a){this.str=a};tt.prototype.append=function(a){this.str+=a},tt.prototype.setCharAt=function(a,h){this.str=this.str.substr(0,a)+h+this.str.substr(a+1)},tt.prototype.toString=function(a){return this.str};var xt=function(a){this.value=a};xt.prototype.intValue=function(){return this.value},xt.prototype.compareTo=function(a){return this.value<a?-1:this.value>a?1:0},xt.isNaN=function(a){return Number.isNaN(a)};var gt=function(){};gt.isWhitespace=function(a){return a<=32&&a>=0||127===a},gt.toUpperCase=function(a){return a.toUpperCase()};var Re=function a(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof a?this.init(arguments[0]):"string"==typeof arguments[0]&&a.call(this,a.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Yt={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Re.prototype.le=function(a){return(this._hi<a._hi||this._hi===a._hi)&&this._lo<=a._lo},Re.prototype.extractSignificantDigits=function(a,h){var g=this.abs(),v=Re.magnitude(g._hi),C=Re.TEN.pow(v);(g=g.divide(C)).gt(Re.TEN)?(g=g.divide(Re.TEN),v+=1):g.lt(Re.ONE)&&(g=g.multiply(Re.TEN),v-=1);for(var V=v+1,X=new tt,ye=Re.MAX_PRINT_DIGITS-1,Ue=0;Ue<=ye;Ue++){a&&Ue===V&&X.append(".");var vt=Math.trunc(g._hi);if(vt<0)break;var Bt=!1,Gt=0;vt>9?(Bt=!0,Gt="9"):Gt="0"+vt,X.append(Gt),g=g.subtract(Re.valueOf(vt)).multiply(Re.TEN),Bt&&g.selfAdd(Re.TEN);var Ln=!0,Cn=Re.magnitude(g._hi);if(Cn<0&&Math.abs(Cn)>=ye-Ue&&(Ln=!1),!Ln)break}return h[0]=v,X.toString()},Re.prototype.sqr=function(){return this.multiply(this)},Re.prototype.doubleValue=function(){return this._hi+this._lo},Re.prototype.subtract=function(){return arguments[0]instanceof Re?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},Re.prototype.equals=function(){if(1===arguments.length){var a=arguments[0];return this._hi===a._hi&&this._lo===a._lo}},Re.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Re.prototype.selfSubtract=function(){if(arguments[0]instanceof Re){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a._hi,-a._lo)}if("number"==typeof arguments[0]){var h=arguments[0];return this.isNaN()?this:this.selfAdd(-h,0)}},Re.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Re.prototype.min=function(a){return this.le(a)?this:a},Re.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Re){var a=arguments[0];return this.selfDivide(a._hi,a._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var g=arguments[0],C=null,V=null,X=null,ye=null,Ue=null,vt=null,Bt=null,Gt=null;return this._hi=Gt=(Ue=this._hi/g)+(vt=(this._hi-(Bt=Ue*g)-(Gt=(C=(vt=Re.SPLIT*Ue)-(C=vt-Ue))*(X=(Gt=Re.SPLIT*g)-(X=Gt-g))-Bt+C*(ye=g-X)+(V=Ue-C)*X+V*ye)+this._lo-Ue*arguments[1])/g),this._lo=Ue-Gt+vt,this}},Re.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Re.prototype.divide=function(){if(arguments[0]instanceof Re){var a=arguments[0],h=null,g=null,v=null,C=null,V=null,X=null,ye=null,Ue=null;return g=(V=this._hi/a._hi)-(h=(X=Re.SPLIT*V)-(h=X-V)),Ue=h*(v=(Ue=Re.SPLIT*a._hi)-(v=Ue-a._hi))-(ye=V*a._hi)+h*(C=a._hi-v)+g*v+g*C,new Re(Ue=V+(X=(this._hi-ye-Ue+this._lo-V*a._lo)/a._hi),V-Ue+X)}if("number"==typeof arguments[0]){var vt=arguments[0];return se.isNaN(vt)?Re.createNaN():Re.copy(this).selfDivide(vt,0)}},Re.prototype.ge=function(a){return(this._hi>a._hi||this._hi===a._hi)&&this._lo>=a._lo},Re.prototype.pow=function(a){if(0===a)return Re.valueOf(1);var h=new Re(this),g=Re.valueOf(1),v=Math.abs(a);if(v>1)for(;v>0;)v%2==1&&g.selfMultiply(h),(v/=2)>0&&(h=h.sqr());else g=h;return a<0?g.reciprocal():g},Re.prototype.ceil=function(){if(this.isNaN())return Re.NaN;var a=Math.ceil(this._hi),h=0;return a===this._hi&&(h=Math.ceil(this._lo)),new Re(a,h)},Re.prototype.compareTo=function(a){return this._hi<a._hi?-1:this._hi>a._hi?1:this._lo<a._lo?-1:this._lo>a._lo?1:0},Re.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Re.prototype.setValue=function(){return arguments[0]instanceof Re||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},Re.prototype.max=function(a){return this.ge(a)?this:a},Re.prototype.sqrt=function(){if(this.isZero())return Re.valueOf(0);if(this.isNegative())return Re.NaN;var a=1/Math.sqrt(this._hi),g=Re.valueOf(this._hi*a),v=this.subtract(g.sqr())._hi*(.5*a);return g.add(v)},Re.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Re){var a=arguments[0];return this.selfAdd(a._hi,a._lo)}if("number"==typeof arguments[0]){var h=arguments[0],g=null,v=null,C=null,X=null,ye=null;return this._hi=(g=(C=this._hi+h)+(ye=h-(X=C-this._hi)+(this._hi-(C-X))+this._lo))+(v=ye+(C-g)),this._lo=v+(g-this._hi),this}}else if(2===arguments.length){var Ue=arguments[0],vt=arguments[1],Bt=null,Gt=null,Ln=null,Cn=null,Yn=null,sr=null,Mi=null;Yn=(Cn=this._hi+Ue)-(sr=Cn-this._hi),Ln=(Gt=this._lo+vt)-(Mi=Gt-this._lo);var so=(Bt=Cn+(sr=(Yn=Ue-sr+(this._hi-Yn))+Gt))+(sr=(Ln=vt-Mi+(this._lo-Ln))+(sr+(Cn-Bt))),ko=sr+(Bt-so);return this._hi=so,this._lo=ko,this}},Re.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Re){var a=arguments[0];return this.selfMultiply(a._hi,a._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var g=arguments[0],C=null,V=null,X=null,ye=null,Ue=null,vt=null;C=(Ue=Re.SPLIT*this._hi)-this._hi,C=Ue-C;var Bt=(Ue=this._hi*g)+(vt=C*(X=(vt=Re.SPLIT*g)-(X=vt-g))-Ue+C*(ye=g-X)+(V=this._hi-C)*X+V*ye+(this._hi*arguments[1]+this._lo*g)),Gt=vt+(C=Ue-Bt);return this._hi=Bt,this._lo=Gt,this}},Re.prototype.selfSqr=function(){return this.selfMultiply(this)},Re.prototype.floor=function(){if(this.isNaN())return Re.NaN;var a=Math.floor(this._hi),h=0;return a===this._hi&&(h=Math.floor(this._lo)),new Re(a,h)},Re.prototype.negate=function(){return this.isNaN()?this:new Re(-this._hi,-this._lo)},Re.prototype.clone=function(){},Re.prototype.multiply=function(){if(arguments[0]instanceof Re){var a=arguments[0];return a.isNaN()?Re.createNaN():Re.copy(this).selfMultiply(a)}if("number"==typeof arguments[0]){var h=arguments[0];return se.isNaN(h)?Re.createNaN():Re.copy(this).selfMultiply(h,0)}},Re.prototype.isNaN=function(){return se.isNaN(this._hi)},Re.prototype.intValue=function(){return Math.trunc(this._hi)},Re.prototype.toString=function(){var a=Re.magnitude(this._hi);return a>=-3&&a<=20?this.toStandardNotation():this.toSciNotation()},Re.prototype.toStandardNotation=function(){var a=this.getSpecialNumberString();if(null!==a)return a;var h=new Array(1).fill(null),g=this.extractSignificantDigits(!0,h),v=h[0]+1,C=g;return"."===g.charAt(0)?C="0"+g:v<0?C="0."+Re.stringOfChar("0",-v)+g:-1===g.indexOf(".")&&(C=g+Re.stringOfChar("0",v-g.length)+".0"),this.isNegative()?"-"+C:C},Re.prototype.reciprocal=function(){var h,v,C,X,a=null,g=null,V=null,ye=null;h=(C=1/this._hi)-(a=(V=Re.SPLIT*C)-(a=V-C)),g=(ye=Re.SPLIT*this._hi)-this._hi;var Ue=C+(V=(1-(X=C*this._hi)-(ye=a*(g=ye-g)-X+a*(v=this._hi-g)+h*g+h*v)-C*this._lo)/this._hi);return new Re(Ue,C-Ue+V)},Re.prototype.toSciNotation=function(){if(this.isZero())return Re.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var h=new Array(1).fill(null),g=this.extractSignificantDigits(!1,h),v=Re.SCI_NOT_EXPONENT_CHAR+h[0];if("0"===g.charAt(0))throw new Error("Found leading zero: "+g);var C="";g.length>1&&(C=g.substring(1));var V=g.charAt(0)+"."+C;return this.isNegative()?"-"+V+v:V+v},Re.prototype.abs=function(){return this.isNaN()?Re.NaN:this.isNegative()?this.negate():new Re(this)},Re.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Re.prototype.lt=function(a){return(this._hi<a._hi||this._hi===a._hi)&&this._lo<a._lo},Re.prototype.add=function(){if(arguments[0]instanceof Re){var a=arguments[0];return Re.copy(this).selfAdd(a)}if("number"==typeof arguments[0]){var h=arguments[0];return Re.copy(this).selfAdd(h)}},Re.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof Re){var h=arguments[0];this._hi=h._hi,this._lo=h._lo}}else if(2===arguments.length){var v=arguments[1];this._hi=arguments[0],this._lo=v}},Re.prototype.gt=function(a){return(this._hi>a._hi||this._hi===a._hi)&&this._lo>a._lo},Re.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Re.prototype.trunc=function(){return this.isNaN()?Re.NaN:this.isPositive()?this.floor():this.ceil()},Re.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Re.prototype.interfaces_=function(){return[B,re,fe]},Re.prototype.getClass=function(){return Re},Re.sqr=function(a){return Re.valueOf(a).selfMultiply(a)},Re.valueOf=function(){return"string"==typeof arguments[0]?Re.parse(arguments[0]):"number"==typeof arguments[0]?new Re(arguments[0]):void 0},Re.sqrt=function(a){return Re.valueOf(a).sqrt()},Re.parse=function(a){for(var h=0,g=a.length;gt.isWhitespace(a.charAt(h));)h++;var v=!1;if(h<g){var C=a.charAt(h);"-"!==C&&"+"!==C||(h++,"-"===C&&(v=!0))}for(var V=new Re,X=0,ye=0,Ue=0;!(h>=g);){var vt=a.charAt(h);if(h++,gt.isDigit(vt)){var Bt=vt-"0";V.selfMultiply(Re.TEN),V.selfAdd(Bt),X++}else{if("."!==vt){if("e"===vt||"E"===vt){var Gt=a.substring(h);try{Ue=xt.parseInt(Gt)}catch(Mi){throw Mi instanceof Error?new Error("Invalid exponent "+Gt+" in string "+a):Mi}break}throw new Error("Unexpected character '"+vt+"' at position "+h+" in string "+a)}ye=X}}var Ln=V,Cn=X-ye-Ue;if(0===Cn)Ln=V;else if(Cn>0){var Yn=Re.TEN.pow(Cn);Ln=V.divide(Yn)}else if(Cn<0){var sr=Re.TEN.pow(-Cn);Ln=V.multiply(sr)}return v?Ln.negate():Ln},Re.createNaN=function(){return new Re(se.NaN,se.NaN)},Re.copy=function(a){return new Re(a)},Re.magnitude=function(a){var h=Math.abs(a),g=Math.log(h)/Math.log(10),v=Math.trunc(Math.floor(g));return 10*Math.pow(10,v)<=h&&(v+=1),v},Re.stringOfChar=function(a,h){for(var g=new tt,v=0;v<h;v++)g.append(a);return g.toString()},Yt.PI.get=function(){return new Re(3.141592653589793,12246467991473532e-32)},Yt.TWO_PI.get=function(){return new Re(6.283185307179586,24492935982947064e-32)},Yt.PI_2.get=function(){return new Re(1.5707963267948966,6123233995736766e-32)},Yt.E.get=function(){return new Re(2.718281828459045,14456468917292502e-32)},Yt.NaN.get=function(){return new Re(se.NaN,se.NaN)},Yt.EPS.get=function(){return 123259516440783e-46},Yt.SPLIT.get=function(){return 134217729},Yt.MAX_PRINT_DIGITS.get=function(){return 32},Yt.TEN.get=function(){return Re.valueOf(10)},Yt.ONE.get=function(){return Re.valueOf(1)},Yt.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Yt.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Re,Yt);var Ht=function(){},_n={DP_SAFE_EPSILON:{configurable:!0}};Ht.prototype.interfaces_=function(){return[]},Ht.prototype.getClass=function(){return Ht},Ht.orientationIndex=function(a,h,g){var v=Ht.orientationIndexFilter(a,h,g);if(v<=1)return v;var C=Re.valueOf(h.x).selfAdd(-a.x),V=Re.valueOf(h.y).selfAdd(-a.y),X=Re.valueOf(g.x).selfAdd(-h.x),ye=Re.valueOf(g.y).selfAdd(-h.y);return C.selfMultiply(ye).selfSubtract(V.selfMultiply(X)).signum()},Ht.signOfDet2x2=function(a,h,g,v){return a.multiply(v).selfSubtract(h.multiply(g)).signum()},Ht.intersection=function(a,h,g,v){var C=Re.valueOf(v.y).selfSubtract(g.y).selfMultiply(Re.valueOf(h.x).selfSubtract(a.x)),V=Re.valueOf(v.x).selfSubtract(g.x).selfMultiply(Re.valueOf(h.y).selfSubtract(a.y)),X=C.subtract(V),ye=Re.valueOf(v.x).selfSubtract(g.x).selfMultiply(Re.valueOf(a.y).selfSubtract(g.y)),Ue=Re.valueOf(v.y).selfSubtract(g.y).selfMultiply(Re.valueOf(a.x).selfSubtract(g.x)),vt=ye.subtract(Ue).selfDivide(X).doubleValue(),Bt=Re.valueOf(a.x).selfAdd(Re.valueOf(h.x).selfSubtract(a.x).selfMultiply(vt)).doubleValue(),Gt=Re.valueOf(h.x).selfSubtract(a.x).selfMultiply(Re.valueOf(a.y).selfSubtract(g.y)),Ln=Re.valueOf(h.y).selfSubtract(a.y).selfMultiply(Re.valueOf(a.x).selfSubtract(g.x)),Cn=Gt.subtract(Ln).selfDivide(X).doubleValue(),Yn=Re.valueOf(g.y).selfAdd(Re.valueOf(v.y).selfSubtract(g.y).selfMultiply(Cn)).doubleValue();return new ae(Bt,Yn)},Ht.orientationIndexFilter=function(a,h,g){var v=null,C=(a.x-g.x)*(h.y-g.y),V=(a.y-g.y)*(h.x-g.x),X=C-V;if(C>0){if(V<=0)return Ht.signum(X);v=C+V}else{if(!(C<0)||V>=0)return Ht.signum(X);v=-C-V}var ye=Ht.DP_SAFE_EPSILON*v;return X>=ye||-X>=ye?Ht.signum(X):2},Ht.signum=function(a){return a>0?1:a<0?-1:0},_n.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Ht,_n);var bt=function(){},Qn={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Qn.X.get=function(){return 0},Qn.Y.get=function(){return 1},Qn.Z.get=function(){return 2},Qn.M.get=function(){return 3},bt.prototype.setOrdinate=function(a,h,g){},bt.prototype.size=function(){},bt.prototype.getOrdinate=function(a,h){},bt.prototype.getCoordinate=function(){},bt.prototype.getCoordinateCopy=function(a){},bt.prototype.getDimension=function(){},bt.prototype.getX=function(a){},bt.prototype.clone=function(){},bt.prototype.expandEnvelope=function(a){},bt.prototype.copy=function(){},bt.prototype.getY=function(a){},bt.prototype.toCoordinateArray=function(){},bt.prototype.interfaces_=function(){return[fe]},bt.prototype.getClass=function(){return bt},Object.defineProperties(bt,Qn);var fn=function(){},Pn=function(a){function h(){a.call(this,"Projective point not representable on the Cartesian plane.")}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(fn),Sn=function(){};Sn.arraycopy=function(a,h,g,v,C){for(var V=0,X=h;X<h+C;X++)g[v+V]=a[X],V++},Sn.getProperty=function(a){return{"line.separator":"\n"}[a]};var On=function a(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var h=arguments[0];this.x=h.x,this.y=h.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var v=arguments[1];this.x=arguments[0],this.y=v,this.w=1}else if(arguments[0]instanceof a&&arguments[1]instanceof a){var C=arguments[0],V=arguments[1];this.x=C.y*V.w-V.y*C.w,this.y=V.x*C.w-C.x*V.w,this.w=C.x*V.y-V.x*C.y}else if(arguments[0]instanceof ae&&arguments[1]instanceof ae){var X=arguments[0],ye=arguments[1];this.x=X.y-ye.y,this.y=ye.x-X.x,this.w=X.x*ye.y-ye.x*X.y}}else if(3===arguments.length){var vt=arguments[1],Bt=arguments[2];this.x=arguments[0],this.y=vt,this.w=Bt}else if(4===arguments.length){var Gt=arguments[0],Ln=arguments[1],Cn=arguments[2],Yn=arguments[3],sr=Gt.y-Ln.y,Mi=Ln.x-Gt.x,so=Gt.x*Ln.y-Ln.x*Gt.y,ko=Cn.y-Yn.y,Ol=Yn.x-Cn.x,Ta=Cn.x*Yn.y-Yn.x*Cn.y;this.x=Mi*Ta-Ol*so,this.y=ko*so-sr*Ta,this.w=sr*Ol-ko*Mi}};On.prototype.getY=function(){var a=this.y/this.w;if(se.isNaN(a)||se.isInfinite(a))throw new Pn;return a},On.prototype.getX=function(){var a=this.x/this.w;if(se.isNaN(a)||se.isInfinite(a))throw new Pn;return a},On.prototype.getCoordinate=function(){var a=new ae;return a.x=this.getX(),a.y=this.getY(),a},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.intersection=function(a,h,g,v){var C=a.y-h.y,V=h.x-a.x,X=a.x*h.y-h.x*a.y,ye=g.y-v.y,Ue=v.x-g.x,vt=g.x*v.y-v.x*g.y,Bt=C*Ue-ye*V,Gt=(V*vt-Ue*X)/Bt,Ln=(ye*X-C*vt)/Bt;if(se.isNaN(Gt)||se.isInfinite(Gt)||se.isNaN(Ln)||se.isInfinite(Ln))throw new Pn;return new ae(Gt,Ln)};var wn=function a(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof ae){var h=arguments[0];this.init(h.x,h.x,h.y,h.y)}else arguments[0]instanceof a&&this.init(arguments[0]);else if(2===arguments.length){var v=arguments[0],C=arguments[1];this.init(v.x,C.x,v.y,C.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Xr={serialVersionUID:{configurable:!0}};wn.prototype.getArea=function(){return this.getWidth()*this.getHeight()},wn.prototype.equals=function(a){if(!(a instanceof wn))return!1;var h=a;return this.isNull()?h.isNull():this._maxx===h.getMaxX()&&this._maxy===h.getMaxY()&&this._minx===h.getMinX()&&this._miny===h.getMinY()},wn.prototype.intersection=function(a){return this.isNull()||a.isNull()||!this.intersects(a)?new wn:new wn(this._minx>a._minx?this._minx:a._minx,this._maxx<a._maxx?this._maxx:a._maxx,this._miny>a._miny?this._miny:a._miny,this._maxy<a._maxy?this._maxy:a._maxy)},wn.prototype.isNull=function(){return this._maxx<this._minx},wn.prototype.getMaxX=function(){return this._maxx},wn.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof ae){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof wn){var h=arguments[0];return!this.isNull()&&!h.isNull()&&h.getMinX()>=this._minx&&h.getMaxX()<=this._maxx&&h.getMinY()>=this._miny&&h.getMaxY()<=this._maxy}}else if(2===arguments.length){var g=arguments[0],v=arguments[1];return!this.isNull()&&g>=this._minx&&g<=this._maxx&&v>=this._miny&&v<=this._maxy}},wn.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof wn){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny)}if(arguments[0]instanceof ae){var h=arguments[0];return this.intersects(h.x,h.y)}}else if(2===arguments.length){var g=arguments[0],v=arguments[1];return!this.isNull()&&!(g>this._maxx||g<this._minx||v>this._maxy||v<this._miny)}},wn.prototype.getMinY=function(){return this._miny},wn.prototype.getMinX=function(){return this._minx},wn.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof ae){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof wn){var h=arguments[0];if(h.isNull())return null;this.isNull()?(this._minx=h.getMinX(),this._maxx=h.getMaxX(),this._miny=h.getMinY(),this._maxy=h.getMaxY()):(h._minx<this._minx&&(this._minx=h._minx),h._maxx>this._maxx&&(this._maxx=h._maxx),h._miny<this._miny&&(this._miny=h._miny),h._maxy>this._maxy&&(this._maxy=h._maxy))}}else if(2===arguments.length){var g=arguments[0],v=arguments[1];this.isNull()?(this._minx=g,this._maxx=g,this._miny=v,this._maxy=v):(g<this._minx&&(this._minx=g),g>this._maxx&&(this._maxx=g),v<this._miny&&(this._miny=v),v>this._maxy&&(this._maxy=v))}},wn.prototype.minExtent=function(){if(this.isNull())return 0;var a=this.getWidth(),h=this.getHeight();return a<h?a:h},wn.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},wn.prototype.compareTo=function(a){var h=a;return this.isNull()?h.isNull()?0:-1:h.isNull()?1:this._minx<h._minx?-1:this._minx>h._minx?1:this._miny<h._miny?-1:this._miny>h._miny?1:this._maxx<h._maxx?-1:this._maxx>h._maxx?1:this._maxy<h._maxy?-1:this._maxy>h._maxy?1:0},wn.prototype.translate=function(a,h){if(this.isNull())return null;this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+h,this.getMaxY()+h)},wn.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},wn.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},wn.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},wn.prototype.maxExtent=function(){if(this.isNull())return 0;var a=this.getWidth(),h=this.getHeight();return a>h?a:h},wn.prototype.expandBy=function(){if(1===arguments.length){var a=arguments[0];this.expandBy(a,a)}else if(2===arguments.length){var h=arguments[0],g=arguments[1];if(this.isNull())return null;this._minx-=h,this._maxx+=h,this._miny-=g,this._maxy+=g,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},wn.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof wn)return this.covers(arguments[0]);if(arguments[0]instanceof ae)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},wn.prototype.centre=function(){return this.isNull()?null:new ae((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},wn.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof ae){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof wn){var h=arguments[0];this._minx=h._minx,this._maxx=h._maxx,this._miny=h._miny,this._maxy=h._maxy}}else if(2===arguments.length){var g=arguments[0],v=arguments[1];this.init(g.x,v.x,g.y,v.y)}else if(4===arguments.length){var C=arguments[0],V=arguments[1],X=arguments[2],ye=arguments[3];C<V?(this._minx=C,this._maxx=V):(this._minx=V,this._maxx=C),X<ye?(this._miny=X,this._maxy=ye):(this._miny=ye,this._maxy=X)}},wn.prototype.getMaxY=function(){return this._maxy},wn.prototype.distance=function(a){if(this.intersects(a))return 0;var h=0;this._maxx<a._minx?h=a._minx-this._maxx:this._minx>a._maxx&&(h=this._minx-a._maxx);var g=0;return this._maxy<a._miny?g=a._miny-this._maxy:this._miny>a._maxy&&(g=this._miny-a._maxy),0===h?g:0===g?h:Math.sqrt(h*h+g*g)},wn.prototype.hashCode=function(){var a=17;return 37*(a=37*(a=37*(a=37*a+ae.hashCode(this._minx))+ae.hashCode(this._maxx))+ae.hashCode(this._miny))+ae.hashCode(this._maxy)},wn.prototype.interfaces_=function(){return[re,B]},wn.prototype.getClass=function(){return wn},wn.intersects=function(){if(3===arguments.length){var a=arguments[0],h=arguments[1],g=arguments[2];return g.x>=(a.x<h.x?a.x:h.x)&&g.x<=(a.x>h.x?a.x:h.x)&&g.y>=(a.y<h.y?a.y:h.y)&&g.y<=(a.y>h.y?a.y:h.y)}if(4===arguments.length){var v=arguments[0],C=arguments[1],V=arguments[2],X=arguments[3],ye=Math.min(V.x,X.x),Ue=Math.max(V.x,X.x),vt=Math.min(v.x,C.x),Bt=Math.max(v.x,C.x);return!(vt>Ue||Bt<ye||(ye=Math.min(V.y,X.y),Ue=Math.max(V.y,X.y),vt=Math.min(v.y,C.y),Bt=Math.max(v.y,C.y),vt>Ue||Bt<ye))}},Xr.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(wn,Xr);var Li={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},or=function(a){this.geometryFactory=a||new jr};or.prototype.read=function(a){var h,g;a=a.replace(/[\n\r]/g," ");var C=Li.typeStr.exec(a);if(-1!==a.search("EMPTY")&&((C=Li.emptyTypeStr.exec(a))[2]=void 0),C&&(g=C[1].toLowerCase(),Zi[g]&&(h=Zi[g].apply(this,[C[2]]))),void 0===h)throw new Error("Could not parse WKT "+a);return h},or.prototype.write=function(a){return this.extractGeometry(a)},or.prototype.extractGeometry=function(a){var h=a.getGeometryType().toLowerCase();if(!oi[h])return null;var g=h.toUpperCase();return a.isEmpty()?g+" EMPTY":g+"("+oi[h].apply(this,[a])+")"};var oi={coordinate:function(a){return a.x+" "+a.y},point:function(a){return oi.coordinate.call(this,a._coordinates._coordinates[0])},multipoint:function(a){for(var h=[],g=0,v=a._geometries.length;g<v;++g)h.push("("+oi.point.apply(this,[a._geometries[g]])+")");return h.join(",")},linestring:function(a){for(var h=[],g=0,v=a._points._coordinates.length;g<v;++g)h.push(oi.coordinate.apply(this,[a._points._coordinates[g]]));return h.join(",")},linearring:function(a){for(var h=[],g=0,v=a._points._coordinates.length;g<v;++g)h.push(oi.coordinate.apply(this,[a._points._coordinates[g]]));return h.join(",")},multilinestring:function(a){for(var h=[],g=0,v=a._geometries.length;g<v;++g)h.push("("+oi.linestring.apply(this,[a._geometries[g]])+")");return h.join(",")},polygon:function(a){var h=[];h.push("("+oi.linestring.apply(this,[a._shell])+")");for(var g=0,v=a._holes.length;g<v;++g)h.push("("+oi.linestring.apply(this,[a._holes[g]])+")");return h.join(",")},multipolygon:function(a){for(var h=[],g=0,v=a._geometries.length;g<v;++g)h.push("("+oi.polygon.apply(this,[a._geometries[g]])+")");return h.join(",")},geometrycollection:function(a){for(var h=[],g=0,v=a._geometries.length;g<v;++g)h.push(this.extractGeometry(a._geometries[g]));return h.join(",")}},Zi={point:function(a){if(void 0===a)return this.geometryFactory.createPoint();var h=a.trim().split(Li.spaces);return this.geometryFactory.createPoint(new ae(Number.parseFloat(h[0]),Number.parseFloat(h[1])))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var h,g=a.trim().split(","),v=[],C=0,V=g.length;C<V;++C)h=g[C].replace(Li.trimParens,"$1"),v.push(Zi.point.apply(this,[h]));return this.geometryFactory.createMultiPoint(v)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();for(var h,g=a.trim().split(","),v=[],C=0,V=g.length;C<V;++C)h=g[C].trim().split(Li.spaces),v.push(new ae(Number.parseFloat(h[0]),Number.parseFloat(h[1])));return this.geometryFactory.createLineString(v)},linearring:function(a){if(void 0===a)return this.geometryFactory.createLinearRing();for(var h,g=a.trim().split(","),v=[],C=0,V=g.length;C<V;++C)h=g[C].trim().split(Li.spaces),v.push(new ae(Number.parseFloat(h[0]),Number.parseFloat(h[1])));return this.geometryFactory.createLinearRing(v)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var h,g=a.trim().split(Li.parenComma),v=[],C=0,V=g.length;C<V;++C)h=g[C].replace(Li.trimParens,"$1"),v.push(Zi.linestring.apply(this,[h]));return this.geometryFactory.createMultiLineString(v)},polygon:function(a){if(void 0===a)return this.geometryFactory.createPolygon();for(var h,g,v,C,V=a.trim().split(Li.parenComma),X=[],ye=0,Ue=V.length;ye<Ue;++ye)h=V[ye].replace(Li.trimParens,"$1"),g=Zi.linestring.apply(this,[h]),v=this.geometryFactory.createLinearRing(g._points),0===ye?C=v:X.push(v);return this.geometryFactory.createPolygon(C,X)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var h,g=a.trim().split(Li.doubleParenComma),v=[],C=0,V=g.length;C<V;++C)h=g[C].replace(Li.trimParens,"$1"),v.push(Zi.polygon.apply(this,[h]));return this.geometryFactory.createMultiPolygon(v)},geometrycollection:function(a){if(void 0===a)return this.geometryFactory.createGeometryCollection();for(var h=(a=a.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),g=[],v=0,C=h.length;v<C;++v)g.push(this.read(h[v]));return this.geometryFactory.createGeometryCollection(g)}},Lt=function(a){this.parser=new or(a)};Lt.prototype.write=function(a){return this.parser.write(a)},Lt.toLineString=function(a,h){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+h.x+" "+h.y+" )"};var Oe=function(a){function h(g){a.call(this,g),this.name="RuntimeException",this.message=g,this.stack=(new a).stack}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h}(Error),ke=function(a){function h(){a.call(this),0===arguments.length?a.call(this):1===arguments.length&&a.call(this,arguments[0])}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Oe),De=function(){};De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De},De.shouldNeverReachHere=function(){if(0===arguments.length)De.shouldNeverReachHere(null);else if(1===arguments.length){var a=arguments[0];throw new ke("Should never reach here"+(null!==a?": "+a:""))}},De.isTrue=function(){var h;if(1===arguments.length)De.isTrue(arguments[0],null);else if(2===arguments.length&&(h=arguments[1],!arguments[0]))throw null===h?new ke:new ke(h)},De.equals=function(){var a,h,g;if(2===arguments.length)De.equals(a=arguments[0],h=arguments[1],null);else if(3===arguments.length&&(g=arguments[2],!(h=arguments[1]).equals(a=arguments[0])))throw new ke("Expected "+a+" but encountered "+h+(null!==g?": "+g:""))};var Ze=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ae,this._intPt[1]=new ae,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},_t={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ze.prototype.getIndexAlongSegment=function(a,h){return this.computeIntLineIndex(),this._intLineIndex[a][h]},Ze.prototype.getTopologySummary=function(){var a=new tt;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()},Ze.prototype.computeIntersection=function(a,h,g,v){this._inputLines[0][0]=a,this._inputLines[0][1]=h,this._inputLines[1][0]=g,this._inputLines[1][1]=v,this._result=this.computeIntersect(a,h,g,v)},Ze.prototype.getIntersectionNum=function(){return this._result},Ze.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var a=arguments[0];this.getEdgeDistance(a,0)>this.getEdgeDistance(a,1)?(this._intLineIndex[a][0]=0,this._intLineIndex[a][1]=1):(this._intLineIndex[a][0]=1,this._intLineIndex[a][1]=0)}},Ze.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ze.prototype.setPrecisionModel=function(a){this._precisionModel=a},Ze.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var a=arguments[0],h=0;h<this._result;h++)if(!this._intPt[h].equals2D(this._inputLines[a][0])&&!this._intPt[h].equals2D(this._inputLines[a][1]))return!0;return!1}},Ze.prototype.getIntersection=function(a){return this._intPt[a]},Ze.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ze.prototype.hasIntersection=function(){return this._result!==Ze.NO_INTERSECTION},Ze.prototype.getEdgeDistance=function(a,h){return Ze.computeEdgeDistance(this._intPt[h],this._inputLines[a][0],this._inputLines[a][1])},Ze.prototype.isCollinear=function(){return this._result===Ze.COLLINEAR_INTERSECTION},Ze.prototype.toString=function(){return Lt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Lt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ze.prototype.getEndpoint=function(a,h){return this._inputLines[a][h]},Ze.prototype.isIntersection=function(a){for(var h=0;h<this._result;h++)if(this._intPt[h].equals2D(a))return!0;return!1},Ze.prototype.getIntersectionAlongSegment=function(a,h){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[a][h]]},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze},Ze.computeEdgeDistance=function(a,h,g){var v=Math.abs(g.x-h.x),C=Math.abs(g.y-h.y),V=-1;if(a.equals(h))V=0;else if(a.equals(g))V=v>C?v:C;else{var X=Math.abs(a.x-h.x),ye=Math.abs(a.y-h.y);0!==(V=v>C?X:ye)||a.equals(h)||(V=Math.max(X,ye))}return De.isTrue(!(0===V&&!a.equals(h)),"Bad distance calculation"),V},Ze.nonRobustComputeEdgeDistance=function(a,h,g){var v=a.x-h.x,C=a.y-h.y,V=Math.sqrt(v*v+C*C);return De.isTrue(!(0===V&&!a.equals(h)),"Invalid distance calculation"),V},_t.DONT_INTERSECT.get=function(){return 0},_t.DO_INTERSECT.get=function(){return 1},_t.COLLINEAR.get=function(){return 2},_t.NO_INTERSECTION.get=function(){return 0},_t.POINT_INTERSECTION.get=function(){return 1},_t.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ze,_t);var zt=function(a){function h(){a.apply(this,arguments)}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.isInSegmentEnvelopes=function(g){var v=new wn(this._inputLines[0][0],this._inputLines[0][1]),C=new wn(this._inputLines[1][0],this._inputLines[1][1]);return v.contains(g)&&C.contains(g)},h.prototype.computeIntersection=function(){if(3!==arguments.length)return a.prototype.computeIntersection.apply(this,arguments);var g=arguments[0],v=arguments[1],C=arguments[2];if(this._isProper=!1,wn.intersects(v,C,g)&&0===Ut.orientationIndex(v,C,g)&&0===Ut.orientationIndex(C,v,g))return this._isProper=!0,(g.equals(v)||g.equals(C))&&(this._isProper=!1),this._result=a.POINT_INTERSECTION,null;this._result=a.NO_INTERSECTION},h.prototype.normalizeToMinimum=function(g,v,C,V,X){X.x=this.smallestInAbsValue(g.x,v.x,C.x,V.x),X.y=this.smallestInAbsValue(g.y,v.y,C.y,V.y),g.x-=X.x,g.y-=X.y,v.x-=X.x,v.y-=X.y,C.x-=X.x,C.y-=X.y,V.x-=X.x,V.y-=X.y},h.prototype.safeHCoordinateIntersection=function(g,v,C,V){var X=null;try{X=On.intersection(g,v,C,V)}catch(ye){if(!(ye instanceof Pn))throw ye;X=h.nearestEndpoint(g,v,C,V)}return X},h.prototype.intersection=function(g,v,C,V){var X=this.intersectionWithNormalization(g,v,C,V);return this.isInSegmentEnvelopes(X)||(X=new ae(h.nearestEndpoint(g,v,C,V))),null!==this._precisionModel&&this._precisionModel.makePrecise(X),X},h.prototype.smallestInAbsValue=function(g,v,C,V){var X=g,ye=Math.abs(X);return Math.abs(v)<ye&&(X=v,ye=Math.abs(v)),Math.abs(C)<ye&&(X=C,ye=Math.abs(C)),Math.abs(V)<ye&&(X=V),X},h.prototype.checkDD=function(g,v,C,V,X){var ye=Ht.intersection(g,v,C,V),Ue=this.isInSegmentEnvelopes(ye);Sn.out.println("DD in env = "+Ue+"  --------------------- "+ye),X.distance(ye)>1e-4&&Sn.out.println("Distance = "+X.distance(ye))},h.prototype.intersectionWithNormalization=function(g,v,C,V){var X=new ae(g),ye=new ae(v),Ue=new ae(C),vt=new ae(V),Bt=new ae;this.normalizeToEnvCentre(X,ye,Ue,vt,Bt);var Gt=this.safeHCoordinateIntersection(X,ye,Ue,vt);return Gt.x+=Bt.x,Gt.y+=Bt.y,Gt},h.prototype.computeCollinearIntersection=function(g,v,C,V){var X=wn.intersects(g,v,C),ye=wn.intersects(g,v,V),Ue=wn.intersects(C,V,g),vt=wn.intersects(C,V,v);return X&&ye?(this._intPt[0]=C,this._intPt[1]=V,a.COLLINEAR_INTERSECTION):Ue&&vt?(this._intPt[0]=g,this._intPt[1]=v,a.COLLINEAR_INTERSECTION):X&&Ue?(this._intPt[0]=C,this._intPt[1]=g,!C.equals(g)||ye||vt?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):X&&vt?(this._intPt[0]=C,this._intPt[1]=v,!C.equals(v)||ye||Ue?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):ye&&Ue?(this._intPt[0]=V,this._intPt[1]=g,!V.equals(g)||X||vt?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):ye&&vt?(this._intPt[0]=V,this._intPt[1]=v,!V.equals(v)||X||Ue?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):a.NO_INTERSECTION},h.prototype.normalizeToEnvCentre=function(g,v,C,V,X){var ye=g.x<v.x?g.x:v.x,Ue=g.y<v.y?g.y:v.y,vt=g.x>v.x?g.x:v.x,Bt=g.y>v.y?g.y:v.y,Gt=C.x<V.x?C.x:V.x,Ln=C.y<V.y?C.y:V.y,Cn=C.x>V.x?C.x:V.x,Yn=C.y>V.y?C.y:V.y,Mi=((Ue>Ln?Ue:Ln)+(Bt<Yn?Bt:Yn))/2;X.x=((ye>Gt?ye:Gt)+(vt<Cn?vt:Cn))/2,X.y=Mi,g.x-=X.x,g.y-=X.y,v.x-=X.x,v.y-=X.y,C.x-=X.x,C.y-=X.y,V.x-=X.x,V.y-=X.y},h.prototype.computeIntersect=function(g,v,C,V){if(this._isProper=!1,!wn.intersects(g,v,C,V))return a.NO_INTERSECTION;var X=Ut.orientationIndex(g,v,C),ye=Ut.orientationIndex(g,v,V);if(X>0&&ye>0||X<0&&ye<0)return a.NO_INTERSECTION;var Ue=Ut.orientationIndex(C,V,g),vt=Ut.orientationIndex(C,V,v);return Ue>0&&vt>0||Ue<0&&vt<0?a.NO_INTERSECTION:0===X&&0===ye&&0===Ue&&0===vt?this.computeCollinearIntersection(g,v,C,V):(0===X||0===ye||0===Ue||0===vt?(this._isProper=!1,g.equals2D(C)||g.equals2D(V)?this._intPt[0]=g:v.equals2D(C)||v.equals2D(V)?this._intPt[0]=v:0===X?this._intPt[0]=new ae(C):0===ye?this._intPt[0]=new ae(V):0===Ue?this._intPt[0]=new ae(g):0===vt&&(this._intPt[0]=new ae(v))):(this._isProper=!0,this._intPt[0]=this.intersection(g,v,C,V)),a.POINT_INTERSECTION)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h.nearestEndpoint=function(g,v,C,V){var X=g,ye=Ut.distancePointLine(g,C,V),Ue=Ut.distancePointLine(v,C,V);return Ue<ye&&(ye=Ue,X=v),(Ue=Ut.distancePointLine(C,g,v))<ye&&(ye=Ue,X=C),(Ue=Ut.distancePointLine(V,g,v))<ye&&(ye=Ue,X=V),X},h}(Ze),sn=function(){};sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.orientationIndex=function(a,h,g){return sn.signOfDet2x2(h.x-a.x,h.y-a.y,g.x-h.x,g.y-h.y)},sn.signOfDet2x2=function(a,h,g,v){var C=null,V=null,X=null;if(C=1,0===a||0===v)return 0===h||0===g?0:h>0?g>0?-C:C:g>0?C:-C;if(0===h||0===g)return v>0?a>0?C:-C:a>0?-C:C;if(h>0?v>0?h<=v||(C=-C,V=a,a=g,g=V,V=h,h=v,v=V):h<=-v?(C=-C,g=-g,v=-v):(V=a,a=-g,g=V,V=h,h=-v,v=V):v>0?-h<=v?(C=-C,a=-a,h=-h):(V=-a,a=g,g=V,V=-h,h=v,v=V):h>=v?(a=-a,h=-h,g=-g,v=-v):(C=-C,V=-a,a=-g,g=V,V=-h,h=-v,v=V),a>0){if(!(g>0&&a<=g))return C}else{if(g>0||!(a>=g))return-C;C=-C,a=-a,g=-g}for(;;){if((v-=(X=Math.floor(g/a))*h)<0)return-C;if(v>h)return C;if(a>(g-=X*a)+g){if(h<v+v)return C}else{if(h>v+v)return-C;g=a-g,v=h-v,C=-C}if(0===v)return 0===g?0:-C;if(0===g||(a-=(X=Math.floor(a/g))*g,(h-=X*v)<0))return C;if(h>v)return-C;if(g>a+a){if(v<h+h)return-C}else{if(v>h+h)return C;a=g-a,h=v-h,C=-C}if(0===h)return 0===a?0:C;if(0===a)return-C}};var Kt=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Kt.prototype.countSegment=function(a,h){if(a.x<this._p.x&&h.x<this._p.x)return null;if(this._p.x===h.x&&this._p.y===h.y)return this._isPointOnSegment=!0,null;if(a.y===this._p.y&&h.y===this._p.y){var g=a.x,v=h.x;return g>v&&(g=h.x,v=a.x),this._p.x>=g&&this._p.x<=v&&(this._isPointOnSegment=!0),null}if(a.y>this._p.y&&h.y<=this._p.y||h.y>this._p.y&&a.y<=this._p.y){var V=a.y-this._p.y,ye=h.y-this._p.y,Ue=sn.signOfDet2x2(a.x-this._p.x,V,h.x-this._p.x,ye);if(0===Ue)return this._isPointOnSegment=!0,null;ye<V&&(Ue=-Ue),Ue>0&&this._crossingCount++}},Kt.prototype.isPointInPolygon=function(){return this.getLocation()!==Te.EXTERIOR},Kt.prototype.getLocation=function(){return this._isPointOnSegment?Te.BOUNDARY:this._crossingCount%2==1?Te.INTERIOR:Te.EXTERIOR},Kt.prototype.isOnSegment=function(){return this._isPointOnSegment},Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt},Kt.locatePointInRing=function(){if(arguments[0]instanceof ae&&Pt(arguments[1],bt)){for(var h=arguments[1],g=new Kt(arguments[0]),v=new ae,C=new ae,V=1;V<h.size();V++)if(h.getCoordinate(V,v),h.getCoordinate(V-1,C),g.countSegment(v,C),g.isOnSegment())return g.getLocation();return g.getLocation()}if(arguments[0]instanceof ae&&arguments[1]instanceof Array){for(var ye=arguments[1],Ue=new Kt(arguments[0]),vt=1;vt<ye.length;vt++)if(Ue.countSegment(ye[vt],ye[vt-1]),Ue.isOnSegment())return Ue.getLocation();return Ue.getLocation()}};var Ut=function(){},qn={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut},Ut.orientationIndex=function(a,h,g){return Ht.orientationIndex(a,h,g)},Ut.signedArea=function(){if(arguments[0]instanceof Array){var a=arguments[0];if(a.length<3)return 0;for(var h=0,g=a[0].x,v=1;v<a.length-1;v++)h+=(a[v].x-g)*(a[v-1].y-a[v+1].y);return h/2}if(Pt(arguments[0],bt)){var X=arguments[0],ye=X.size();if(ye<3)return 0;var Ue=new ae,vt=new ae,Bt=new ae;X.getCoordinate(0,vt),X.getCoordinate(1,Bt);var Gt=vt.x;Bt.x-=Gt;for(var Ln=0,Cn=1;Cn<ye-1;Cn++)Ue.y=vt.y,vt.x=Bt.x,vt.y=Bt.y,X.getCoordinate(Cn+1,Bt),Bt.x-=Gt,Ln+=vt.x*(Ue.y-Bt.y);return Ln/2}},Ut.distanceLineLine=function(a,h,g,v){if(a.equals(h))return Ut.distancePointLine(a,g,v);if(g.equals(v))return Ut.distancePointLine(v,a,h);var C=!1;if(wn.intersects(a,h,g,v)){var V=(h.x-a.x)*(v.y-g.y)-(h.y-a.y)*(v.x-g.x);if(0===V)C=!0;else{var ye=((a.y-g.y)*(h.x-a.x)-(a.x-g.x)*(h.y-a.y))/V,Ue=((a.y-g.y)*(v.x-g.x)-(a.x-g.x)*(v.y-g.y))/V;(Ue<0||Ue>1||ye<0||ye>1)&&(C=!0)}}else C=!0;return C?Ge.min(Ut.distancePointLine(a,g,v),Ut.distancePointLine(h,g,v),Ut.distancePointLine(g,a,h),Ut.distancePointLine(v,a,h)):0},Ut.isPointInRing=function(a,h){return Ut.locatePointInRing(a,h)!==Te.EXTERIOR},Ut.computeLength=function(a){var h=a.size();if(h<=1)return 0;var g=0,v=new ae;a.getCoordinate(0,v);for(var C=v.x,V=v.y,X=1;X<h;X++){a.getCoordinate(X,v);var ye=v.x,Ue=v.y,vt=ye-C,Bt=Ue-V;g+=Math.sqrt(vt*vt+Bt*Bt),C=ye,V=Ue}return g},Ut.isCCW=function(a){var h=a.length-1;if(h<3)throw new xe("Ring has fewer than 4 points, so orientation cannot be determined");for(var g=a[0],v=0,C=1;C<=h;C++){var V=a[C];V.y>g.y&&(g=V,v=C)}var X=v;do{(X-=1)<0&&(X=h)}while(a[X].equals2D(g)&&X!==v);var ye=v;do{ye=(ye+1)%h}while(a[ye].equals2D(g)&&ye!==v);var Ue=a[X],vt=a[ye];if(Ue.equals2D(g)||vt.equals2D(g)||Ue.equals2D(vt))return!1;var Bt=Ut.computeOrientation(Ue,g,vt);return 0===Bt?Ue.x>vt.x:Bt>0},Ut.locatePointInRing=function(a,h){return Kt.locatePointInRing(a,h)},Ut.distancePointLinePerpendicular=function(a,h,g){var v=(g.x-h.x)*(g.x-h.x)+(g.y-h.y)*(g.y-h.y);return Math.abs(((h.y-a.y)*(g.x-h.x)-(h.x-a.x)*(g.y-h.y))/v)*Math.sqrt(v)},Ut.computeOrientation=function(a,h,g){return Ut.orientationIndex(a,h,g)},Ut.distancePointLine=function(){if(2===arguments.length){var a=arguments[0],h=arguments[1];if(0===h.length)throw new xe("Line array must contain at least one vertex");for(var g=a.distance(h[0]),v=0;v<h.length-1;v++){var C=Ut.distancePointLine(a,h[v],h[v+1]);C<g&&(g=C)}return g}if(3===arguments.length){var V=arguments[0],X=arguments[1],ye=arguments[2];if(X.x===ye.x&&X.y===ye.y)return V.distance(X);var Ue=(ye.x-X.x)*(ye.x-X.x)+(ye.y-X.y)*(ye.y-X.y),vt=((V.x-X.x)*(ye.x-X.x)+(V.y-X.y)*(ye.y-X.y))/Ue;return vt<=0?V.distance(X):vt>=1?V.distance(ye):Math.abs(((X.y-V.y)*(ye.x-X.x)-(X.x-V.x)*(ye.y-X.y))/Ue)*Math.sqrt(Ue)}},Ut.isOnLine=function(a,h){for(var g=new zt,v=1;v<h.length;v++)if(g.computeIntersection(a,h[v-1],h[v]),g.hasIntersection())return!0;return!1},qn.CLOCKWISE.get=function(){return-1},qn.RIGHT.get=function(){return Ut.CLOCKWISE},qn.COUNTERCLOCKWISE.get=function(){return 1},qn.LEFT.get=function(){return Ut.COUNTERCLOCKWISE},qn.COLLINEAR.get=function(){return 0},qn.STRAIGHT.get=function(){return Ut.COLLINEAR},Object.defineProperties(Ut,qn);var dr=function(){};dr.prototype.filter=function(a){},dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr};var tn=function(){var a=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=a,this._SRID=a.getSRID()},br={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};tn.prototype.isGeometryCollection=function(){return this.getSortIndex()===tn.SORTINDEX_GEOMETRYCOLLECTION},tn.prototype.getFactory=function(){return this._factory},tn.prototype.getGeometryN=function(a){return this},tn.prototype.getArea=function(){return 0},tn.prototype.isRectangle=function(){return!1},tn.prototype.equals=function(){if(arguments[0]instanceof tn){var a=arguments[0];return null!==a&&this.equalsTopo(a)}if(arguments[0]instanceof Object){var h=arguments[0];return h instanceof tn&&this.equalsExact(h)}},tn.prototype.equalsExact=function(a){return this===a||this.equalsExact(a,0)},tn.prototype.geometryChanged=function(){this.apply(tn.geometryChangedFilter)},tn.prototype.geometryChangedAction=function(){this._envelope=null},tn.prototype.equalsNorm=function(a){return null!==a&&this.norm().equalsExact(a.norm())},tn.prototype.getLength=function(){return 0},tn.prototype.getNumGeometries=function(){return 1},tn.prototype.compareTo=function(){if(1===arguments.length){var a=arguments[0],h=a;return this.getSortIndex()!==h.getSortIndex()?this.getSortIndex()-h.getSortIndex():this.isEmpty()&&h.isEmpty()?0:this.isEmpty()?-1:h.isEmpty()?1:this.compareToSameClass(a)}if(2===arguments.length){var g=arguments[0],v=arguments[1];return this.getSortIndex()!==g.getSortIndex()?this.getSortIndex()-g.getSortIndex():this.isEmpty()&&g.isEmpty()?0:this.isEmpty()?-1:g.isEmpty()?1:this.compareToSameClass(g,v)}},tn.prototype.getUserData=function(){return this._userData},tn.prototype.getSRID=function(){return this._SRID},tn.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},tn.prototype.checkNotGeometryCollection=function(a){if(a.getSortIndex()===tn.SORTINDEX_GEOMETRYCOLLECTION)throw new xe("This method does not support GeometryCollection arguments")},tn.prototype.equal=function(a,h,g){return 0===g?a.equals(h):a.distance(h)<=g},tn.prototype.norm=function(){var a=this.copy();return a.normalize(),a},tn.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},tn.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new wn(this._envelope)},tn.prototype.setSRID=function(a){this._SRID=a},tn.prototype.setUserData=function(a){this._userData=a},tn.prototype.compare=function(a,h){for(var g=a.iterator(),v=h.iterator();g.hasNext()&&v.hasNext();){var C=g.next(),V=v.next(),X=C.compareTo(V);if(0!==X)return X}return g.hasNext()?1:v.hasNext()?-1:0},tn.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},tn.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===tn.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===tn.SORTINDEX_MULTIPOINT||this.getSortIndex()===tn.SORTINDEX_MULTILINESTRING||this.getSortIndex()===tn.SORTINDEX_MULTIPOLYGON},tn.prototype.interfaces_=function(){return[fe,re,B]},tn.prototype.getClass=function(){return tn},tn.hasNonEmptyElements=function(a){for(var h=0;h<a.length;h++)if(!a[h].isEmpty())return!0;return!1},tn.hasNullElements=function(a){for(var h=0;h<a.length;h++)if(null===a[h])return!0;return!1},br.serialVersionUID.get=function(){return 0x799ea46522854c00},br.SORTINDEX_POINT.get=function(){return 0},br.SORTINDEX_MULTIPOINT.get=function(){return 1},br.SORTINDEX_LINESTRING.get=function(){return 2},br.SORTINDEX_LINEARRING.get=function(){return 3},br.SORTINDEX_MULTILINESTRING.get=function(){return 4},br.SORTINDEX_POLYGON.get=function(){return 5},br.SORTINDEX_MULTIPOLYGON.get=function(){return 6},br.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},br.geometryChangedFilter.get=function(){return Ui},Object.defineProperties(tn,br);var Ui=function(){};Ui.interfaces_=function(){return[dr]},Ui.filter=function(a){a.geometryChangedAction()};var $r=function(){};$r.prototype.filter=function(a){},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r};var vi=function(){},Ss={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};vi.prototype.isInBoundary=function(a){},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},Ss.Mod2BoundaryNodeRule.get=function(){return Js},Ss.EndPointBoundaryNodeRule.get=function(){return xi},Ss.MultiValentEndPointBoundaryNodeRule.get=function(){return qs},Ss.MonoValentEndPointBoundaryNodeRule.get=function(){return es},Ss.MOD2_BOUNDARY_RULE.get=function(){return new Js},Ss.ENDPOINT_BOUNDARY_RULE.get=function(){return new xi},Ss.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new qs},Ss.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new es},Ss.OGC_SFS_BOUNDARY_RULE.get=function(){return vi.MOD2_BOUNDARY_RULE},Object.defineProperties(vi,Ss);var Js=function(){};Js.prototype.isInBoundary=function(a){return a%2==1},Js.prototype.interfaces_=function(){return[vi]},Js.prototype.getClass=function(){return Js};var xi=function(){};xi.prototype.isInBoundary=function(a){return a>0},xi.prototype.interfaces_=function(){return[vi]},xi.prototype.getClass=function(){return xi};var qs=function(){};qs.prototype.isInBoundary=function(a){return a>1},qs.prototype.interfaces_=function(){return[vi]},qs.prototype.getClass=function(){return qs};var es=function(){};es.prototype.isInBoundary=function(a){return 1===a},es.prototype.interfaces_=function(){return[vi]},es.prototype.getClass=function(){return es};var wi=function(){};wi.prototype.add=function(){},wi.prototype.addAll=function(){},wi.prototype.isEmpty=function(){},wi.prototype.iterator=function(){},wi.prototype.size=function(){},wi.prototype.toArray=function(){},wi.prototype.remove=function(){},(I.prototype=new Error).name="IndexOutOfBoundsException";var ai=function(){};ai.prototype.hasNext=function(){},ai.prototype.next=function(){},ai.prototype.remove=function(){};var Ys=function(a){function h(){a.apply(this,arguments)}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.get=function(){},h.prototype.set=function(){},h.prototype.isEmpty=function(){},h}(wi);(F.prototype=new Error).name="NoSuchElementException";var mn=function(a){function h(){a.call(this),this.array_=[],arguments[0]instanceof wi&&this.addAll(arguments[0])}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.ensureCapacity=function(){},h.prototype.interfaces_=function(){return[a,wi]},h.prototype.add=function(g){return 1===arguments.length?this.array_.push(g):this.array_.splice(arguments[0],arguments[1]),!0},h.prototype.clear=function(){this.array_=[]},h.prototype.addAll=function(g){for(var v=g.iterator();v.hasNext();)this.add(v.next());return!0},h.prototype.set=function(g,v){var C=this.array_[g];return this.array_[g]=v,C},h.prototype.iterator=function(){return new rl(this)},h.prototype.get=function(g){if(g<0||g>=this.size())throw new I;return this.array_[g]},h.prototype.isEmpty=function(){return 0===this.array_.length},h.prototype.size=function(){return this.array_.length},h.prototype.toArray=function(){for(var g=[],v=0,C=this.array_.length;v<C;v++)g.push(this.array_[v]);return g},h.prototype.remove=function(g){for(var v=!1,C=0,V=this.array_.length;C<V;C++)if(this.array_[C]===g){this.array_.splice(C,1),v=!0;break}return v},h}(Ys),rl=function(a){function h(g){a.call(this),this.arrayList_=g,this.position_=0}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new F;return this.arrayList_.get(this.position_++)},h.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},h.prototype.set=function(g){return this.arrayList_.set(this.position_-1,g)},h.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},h}(ai),oa=function(a){function h(){if(a.call(this),0!==arguments.length)if(1===arguments.length){var v=arguments[0];this.ensureCapacity(v.length),this.add(v,!0)}else if(2===arguments.length){var C=arguments[0],V=arguments[1];this.ensureCapacity(C.length),this.add(C,V)}}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={coordArrayType:{configurable:!0}};return g.coordArrayType.get=function(){return new Array(0).fill(null)},h.prototype.getCoordinate=function(v){return this.get(v)},h.prototype.addAll=function(){if(2===arguments.length){for(var C=arguments[1],V=!1,X=arguments[0].iterator();X.hasNext();)this.add(X.next(),C),V=!0;return V}return a.prototype.addAll.apply(this,arguments)},h.prototype.clone=function(){for(var v=a.prototype.clone.call(this),C=0;C<this.size();C++)v.add(C,this.get(C).copy());return v},h.prototype.toCoordinateArray=function(){return this.toArray(h.coordArrayType)},h.prototype.add=function(){if(1===arguments.length)a.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof ae&&"boolean"==typeof arguments[1]){var X=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(X))return null;a.prototype.add.call(this,X)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var vt=arguments[0],Bt=arguments[1];if(arguments[2])for(var Gt=0;Gt<vt.length;Gt++)this.add(vt[Gt],Bt);else for(var Ln=vt.length-1;Ln>=0;Ln--)this.add(vt[Ln],Bt);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof ae){var Cn=arguments[0],Yn=arguments[1];if(!arguments[2]){var sr=this.size();if(sr>0&&(Cn>0&&this.get(Cn-1).equals2D(Yn)||Cn<sr&&this.get(Cn).equals2D(Yn)))return null}a.prototype.add.call(this,Cn,Yn)}}else if(4===arguments.length){var Mi=arguments[0],so=arguments[1],ko=arguments[2],Ol=arguments[3],Ta=1;ko>Ol&&(Ta=-1);for(var ku=ko;ku!==Ol;ku+=Ta)this.add(Mi[ku],so);return!0}},h.prototype.closeRing=function(){this.size()>0&&this.add(new ae(this.get(0)),!1)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},Object.defineProperties(h,g),h}(mn),xr=function(){},Fo={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Fo.ForwardComparator.get=function(){return We},Fo.BidirectionalComparator.get=function(){return de},Fo.coordArrayType.get=function(){return new Array(0).fill(null)},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr},xr.isRing=function(a){return!(a.length<4||!a[0].equals2D(a[a.length-1]))},xr.ptNotInList=function(a,h){for(var g=0;g<a.length;g++){var v=a[g];if(xr.indexOf(v,h)<0)return v}return null},xr.scroll=function(a,h){var g=xr.indexOf(h,a);if(g<0)return null;var v=new Array(a.length).fill(null);Sn.arraycopy(a,g,v,0,a.length-g),Sn.arraycopy(a,0,v,a.length-g,g),Sn.arraycopy(v,0,a,0,a.length)},xr.equals=function(){if(2===arguments.length){var a=arguments[0],h=arguments[1];if(a===h)return!0;if(null===a||null===h||a.length!==h.length)return!1;for(var g=0;g<a.length;g++)if(!a[g].equals(h[g]))return!1;return!0}if(3===arguments.length){var v=arguments[0],C=arguments[1],V=arguments[2];if(v===C)return!0;if(null===v||null===C||v.length!==C.length)return!1;for(var X=0;X<v.length;X++)if(0!==V.compare(v[X],C[X]))return!1;return!0}},xr.intersection=function(a,h){for(var g=new oa,v=0;v<a.length;v++)h.intersects(a[v])&&g.add(a[v],!0);return g.toCoordinateArray()},xr.hasRepeatedPoints=function(a){for(var h=1;h<a.length;h++)if(a[h-1].equals(a[h]))return!0;return!1},xr.removeRepeatedPoints=function(a){return xr.hasRepeatedPoints(a)?new oa(a,!1).toCoordinateArray():a},xr.reverse=function(a){for(var h=a.length-1,g=Math.trunc(h/2),v=0;v<=g;v++){var C=a[v];a[v]=a[h-v],a[h-v]=C}},xr.removeNull=function(a){for(var h=0,g=0;g<a.length;g++)null!==a[g]&&h++;var v=new Array(h).fill(null);if(0===h)return v;for(var C=0,V=0;V<a.length;V++)null!==a[V]&&(v[C++]=a[V]);return v},xr.copyDeep=function(){if(1===arguments.length){for(var a=arguments[0],h=new Array(a.length).fill(null),g=0;g<a.length;g++)h[g]=new ae(a[g]);return h}if(5===arguments.length)for(var v=arguments[0],C=arguments[1],V=arguments[2],X=arguments[3],ye=arguments[4],Ue=0;Ue<ye;Ue++)V[X+Ue]=new ae(v[C+Ue])},xr.isEqualReversed=function(a,h){for(var g=0;g<a.length;g++)if(0!==a[g].compareTo(h[a.length-g-1]))return!1;return!0},xr.envelope=function(a){for(var h=new wn,g=0;g<a.length;g++)h.expandToInclude(a[g]);return h},xr.toCoordinateArray=function(a){return a.toArray(xr.coordArrayType)},xr.atLeastNCoordinatesOrNothing=function(a,h){return h.length>=a?h:[]},xr.indexOf=function(a,h){for(var g=0;g<h.length;g++)if(a.equals(h[g]))return g;return-1},xr.increasingDirection=function(a){for(var h=0;h<Math.trunc(a.length/2);h++){var v=a[h].compareTo(a[a.length-1-h]);if(0!==v)return v}return 1},xr.compare=function(a,h){for(var g=0;g<a.length&&g<h.length;){var v=a[g].compareTo(h[g]);if(0!==v)return v;g++}return g<h.length?-1:g<a.length?1:0},xr.minCoordinate=function(a){for(var h=null,g=0;g<a.length;g++)(null===h||h.compareTo(a[g])>0)&&(h=a[g]);return h},xr.extract=function(a,h,g){h=Ge.clamp(h,0,a.length);var v=(g=Ge.clamp(g,-1,a.length))-h+1;g<0&&(v=0),h>=a.length&&(v=0),g<h&&(v=0);var C=new Array(v).fill(null);if(0===v)return C;for(var V=0,X=h;X<=g;X++)C[V++]=a[X];return C},Object.defineProperties(xr,Fo);var We=function(){};We.prototype.compare=function(a,h){return xr.compare(a,h)},We.prototype.interfaces_=function(){return[we]},We.prototype.getClass=function(){return We};var de=function(){};de.prototype.compare=function(a,h){var g=a,v=h;if(g.length<v.length)return-1;if(g.length>v.length)return 1;if(0===g.length)return 0;var C=xr.compare(g,v);return xr.isEqualReversed(g,v)?0:C},de.prototype.OLDcompare=function(a,h){var g=a,v=h;if(g.length<v.length)return-1;if(g.length>v.length)return 1;if(0===g.length)return 0;for(var C=xr.increasingDirection(g),V=xr.increasingDirection(v),X=C>0?0:g.length-1,ye=V>0?0:g.length-1,Ue=0;Ue<g.length;Ue++){var vt=g[X].compareTo(v[ye]);if(0!==vt)return vt;X+=C,ye+=V}return 0},de.prototype.interfaces_=function(){return[we]},de.prototype.getClass=function(){return de};var be=function(){};be.prototype.get=function(){},be.prototype.put=function(){},be.prototype.size=function(){},be.prototype.values=function(){},be.prototype.entrySet=function(){};var Qe=function(a){function h(){a.apply(this,arguments)}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h}(be);(d.prototype=new Error).name="OperationNotSupported",(O.prototype=new wi).contains=function(){};var ot=function(a){function h(){a.call(this),this.array_=[],arguments[0]instanceof wi&&this.addAll(arguments[0])}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.contains=function(g){for(var v=0,C=this.array_.length;v<C;v++)if(this.array_[v]===g)return!0;return!1},h.prototype.add=function(g){return!this.contains(g)&&(this.array_.push(g),!0)},h.prototype.addAll=function(g){for(var v=g.iterator();v.hasNext();)this.add(v.next());return!0},h.prototype.remove=function(g){throw new Error},h.prototype.size=function(){return this.array_.length},h.prototype.isEmpty=function(){return 0===this.array_.length},h.prototype.toArray=function(){for(var g=[],v=0,C=this.array_.length;v<C;v++)g.push(this.array_[v]);return g},h.prototype.iterator=function(){return new yt(this)},h}(O),yt=function(a){function h(g){a.call(this),this.hashSet_=g,this.position_=0}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new F;return this.hashSet_.array_[this.position_++]},h.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},h.prototype.remove=function(){throw new d},h}(ai),ht=0;(rt.prototype=new Qe).get=function(a){for(var h=this.root_;null!==h;){var g=a.compareTo(h.key);if(g<0)h=h.left;else{if(!(g>0))return h.value;h=h.right}}return null},rt.prototype.put=function(a,h){if(null===this.root_)return this.root_={key:a,value:h,left:null,right:null,parent:null,color:ht,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var g,v,C=this.root_;do{if(g=C,(v=a.compareTo(C.key))<0)C=C.left;else{if(!(v>0)){var V=C.value;return C.value=h,V}C=C.right}}while(null!==C);var X={key:a,left:null,right:null,value:h,parent:g,color:ht,getValue:function(){return this.value},getKey:function(){return this.key}};return v<0?g.left=X:g.right=X,this.fixAfterInsertion(X),this.size_++,null},rt.prototype.fixAfterInsertion=function(a){for(a.color=1;null!=a&&a!==this.root_&&1===a.parent.color;)if(q(a)===ie(q(q(a)))){var h=Le(q(q(a)));1===H(h)?(W(q(a),ht),W(h,ht),W(q(q(a)),1),a=q(q(a))):(a===Le(q(a))&&(a=q(a),this.rotateLeft(a)),W(q(a),ht),W(q(q(a)),1),this.rotateRight(q(q(a))))}else{var g=ie(q(q(a)));1===H(g)?(W(q(a),ht),W(g,ht),W(q(q(a)),1),a=q(q(a))):(a===ie(q(a))&&(a=q(a),this.rotateRight(a)),W(q(a),ht),W(q(q(a)),1),this.rotateLeft(q(q(a))))}this.root_.color=ht},rt.prototype.values=function(){var a=new mn,h=this.getFirstEntry();if(null!==h)for(a.add(h.value);null!==(h=rt.successor(h));)a.add(h.value);return a},rt.prototype.entrySet=function(){var a=new ot,h=this.getFirstEntry();if(null!==h)for(a.add(h);null!==(h=rt.successor(h));)a.add(h);return a},rt.prototype.rotateLeft=function(a){if(null!=a){var h=a.right;a.right=h.left,null!=h.left&&(h.left.parent=a),h.parent=a.parent,null===a.parent?this.root_=h:a.parent.left===a?a.parent.left=h:a.parent.right=h,h.left=a,a.parent=h}},rt.prototype.rotateRight=function(a){if(null!=a){var h=a.left;a.left=h.right,null!=h.right&&(h.right.parent=a),h.parent=a.parent,null===a.parent?this.root_=h:a.parent.right===a?a.parent.right=h:a.parent.left=h,h.right=a,a.parent=h}},rt.prototype.getFirstEntry=function(){var a=this.root_;if(null!=a)for(;null!=a.left;)a=a.left;return a},rt.successor=function(a){if(null===a)return null;if(null!==a.right){for(var h=a.right;null!==h.left;)h=h.left;return h}for(var g=a.parent,v=a;null!==g&&v===g.right;)v=g,g=g.parent;return g},rt.prototype.size=function(){return this.size_};var kt=function(){};kt.prototype.interfaces_=function(){return[]},kt.prototype.getClass=function(){return kt},qe.prototype=new O,(Ee.prototype=new qe).contains=function(a){for(var h=0,g=this.array_.length;h<g;h++)if(0===this.array_[h].compareTo(a))return!0;return!1},Ee.prototype.add=function(a){if(this.contains(a))return!1;for(var h=0,g=this.array_.length;h<g;h++)if(1===this.array_[h].compareTo(a))return this.array_.splice(h,0,a),!0;return this.array_.push(a),!0},Ee.prototype.addAll=function(a){for(var h=a.iterator();h.hasNext();)this.add(h.next());return!0},Ee.prototype.remove=function(a){throw new d},Ee.prototype.size=function(){return this.array_.length},Ee.prototype.isEmpty=function(){return 0===this.array_.length},Ee.prototype.toArray=function(){for(var a=[],h=0,g=this.array_.length;h<g;h++)a.push(this.array_[h]);return a},Ee.prototype.iterator=function(){return new Et(this)};var Et=function(a){this.treeSet_=a,this.position_=0};Et.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new F;return this.treeSet_.array_[this.position_++]},Et.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Et.prototype.remove=function(){throw new d};var It=function(){};It.sort=function(){var a,h,g,C=arguments[0];if(1===arguments.length)C.sort(function(X,ye){return X.compareTo(ye)});else if(2===arguments.length)g=arguments[1],C.sort(function(X,ye){return g.compare(X,ye)});else if(3===arguments.length){(h=C.slice(arguments[1],arguments[2])).sort();var V=C.slice(0,arguments[1]).concat(h,C.slice(arguments[2],C.length));for(C.splice(0,C.length),a=0;a<V.length;a++)C.push(V[a])}else if(4===arguments.length)for(h=C.slice(arguments[1],arguments[2]),g=arguments[3],h.sort(function(X,ye){return g.compare(X,ye)}),V=C.slice(0,arguments[1]).concat(h,C.slice(arguments[2],C.length)),C.splice(0,C.length),a=0;a<V.length;a++)C.push(V[a])},It.asList=function(a){for(var h=new mn,g=0,v=a.length;g<v;g++)h.add(a[g]);return h};var jt=function(){},ln={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};ln.P.get=function(){return 0},ln.L.get=function(){return 1},ln.A.get=function(){return 2},ln.FALSE.get=function(){return-1},ln.TRUE.get=function(){return-2},ln.DONTCARE.get=function(){return-3},ln.SYM_FALSE.get=function(){return"F"},ln.SYM_TRUE.get=function(){return"T"},ln.SYM_DONTCARE.get=function(){return"*"},ln.SYM_P.get=function(){return"0"},ln.SYM_L.get=function(){return"1"},ln.SYM_A.get=function(){return"2"},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.toDimensionSymbol=function(a){switch(a){case jt.FALSE:return jt.SYM_FALSE;case jt.TRUE:return jt.SYM_TRUE;case jt.DONTCARE:return jt.SYM_DONTCARE;case jt.P:return jt.SYM_P;case jt.L:return jt.SYM_L;case jt.A:return jt.SYM_A}throw new xe("Unknown dimension value: "+a)},jt.toDimensionValue=function(a){switch(gt.toUpperCase(a)){case jt.SYM_FALSE:return jt.FALSE;case jt.SYM_TRUE:return jt.TRUE;case jt.SYM_DONTCARE:return jt.DONTCARE;case jt.SYM_P:return jt.P;case jt.SYM_L:return jt.L;case jt.SYM_A:return jt.A}throw new xe("Unknown dimension symbol: "+a)},Object.defineProperties(jt,ln);var nn=function(){};nn.prototype.filter=function(a){},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn};var Un=function(){};Un.prototype.filter=function(a,h){},Un.prototype.isDone=function(){},Un.prototype.isGeometryChanged=function(){},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var pn=function(a){function h(v,C){if(a.call(this,C),this._geometries=v||[],a.hasNullElements(this._geometries))throw new xe("geometries must not contain null elements")}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={serialVersionUID:{configurable:!0}};return h.prototype.computeEnvelopeInternal=function(){for(var v=new wn,C=0;C<this._geometries.length;C++)v.expandToInclude(this._geometries[C].getEnvelopeInternal());return v},h.prototype.getGeometryN=function(v){return this._geometries[v]},h.prototype.getSortIndex=function(){return a.SORTINDEX_GEOMETRYCOLLECTION},h.prototype.getCoordinates=function(){for(var v=new Array(this.getNumPoints()).fill(null),C=-1,V=0;V<this._geometries.length;V++)for(var X=this._geometries[V].getCoordinates(),ye=0;ye<X.length;ye++)v[++C]=X[ye];return v},h.prototype.getArea=function(){for(var v=0,C=0;C<this._geometries.length;C++)v+=this._geometries[C].getArea();return v},h.prototype.equalsExact=function(){if(2===arguments.length){var v=arguments[0],C=arguments[1];if(!this.isEquivalentClass(v))return!1;var V=v;if(this._geometries.length!==V._geometries.length)return!1;for(var X=0;X<this._geometries.length;X++)if(!this._geometries[X].equalsExact(V._geometries[X],C))return!1;return!0}return a.prototype.equalsExact.apply(this,arguments)},h.prototype.normalize=function(){for(var v=0;v<this._geometries.length;v++)this._geometries[v].normalize();It.sort(this._geometries)},h.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},h.prototype.getBoundaryDimension=function(){for(var v=jt.FALSE,C=0;C<this._geometries.length;C++)v=Math.max(v,this._geometries[C].getBoundaryDimension());return v},h.prototype.getDimension=function(){for(var v=jt.FALSE,C=0;C<this._geometries.length;C++)v=Math.max(v,this._geometries[C].getDimension());return v},h.prototype.getLength=function(){for(var v=0,C=0;C<this._geometries.length;C++)v+=this._geometries[C].getLength();return v},h.prototype.getNumPoints=function(){for(var v=0,C=0;C<this._geometries.length;C++)v+=this._geometries[C].getNumPoints();return v},h.prototype.getNumGeometries=function(){return this._geometries.length},h.prototype.reverse=function(){for(var C=new Array(this._geometries.length).fill(null),V=0;V<this._geometries.length;V++)C[V]=this._geometries[V].reverse();return this.getFactory().createGeometryCollection(C)},h.prototype.compareToSameClass=function(){if(1===arguments.length){var v=arguments[0],C=new Ee(It.asList(this._geometries)),V=new Ee(It.asList(v._geometries));return this.compare(C,V)}if(2===arguments.length){for(var ye=arguments[1],Ue=arguments[0],vt=this.getNumGeometries(),Bt=Ue.getNumGeometries(),Gt=0;Gt<vt&&Gt<Bt;){var Ln=this.getGeometryN(Gt),Cn=Ue.getGeometryN(Gt),Yn=Ln.compareToSameClass(Cn,ye);if(0!==Yn)return Yn;Gt++}return Gt<vt?1:Gt<Bt?-1:0}},h.prototype.apply=function(){if(Pt(arguments[0],$r))for(var v=arguments[0],C=0;C<this._geometries.length;C++)this._geometries[C].apply(v);else if(Pt(arguments[0],Un)){var V=arguments[0];if(0===this._geometries.length)return null;for(var X=0;X<this._geometries.length&&(this._geometries[X].apply(V),!V.isDone());X++);V.isGeometryChanged()&&this.geometryChanged()}else if(Pt(arguments[0],nn)){var ye=arguments[0];ye.filter(this);for(var Ue=0;Ue<this._geometries.length;Ue++)this._geometries[Ue].apply(ye)}else if(Pt(arguments[0],dr)){var vt=arguments[0];vt.filter(this);for(var Bt=0;Bt<this._geometries.length;Bt++)this._geometries[Bt].apply(vt)}},h.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),De.shouldNeverReachHere(),null},h.prototype.clone=function(){var v=a.prototype.clone.call(this);v._geometries=new Array(this._geometries.length).fill(null);for(var C=0;C<this._geometries.length;C++)v._geometries[C]=this._geometries[C].clone();return v},h.prototype.getGeometryType=function(){return"GeometryCollection"},h.prototype.copy=function(){for(var v=new Array(this._geometries.length).fill(null),C=0;C<v.length;C++)v[C]=this._geometries[C].copy();return new h(v,this._factory)},h.prototype.isEmpty=function(){for(var v=0;v<this._geometries.length;v++)if(!this._geometries[v].isEmpty())return!1;return!0},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},g.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(h,g),h}(tn),Ct=function(a){function h(){a.apply(this,arguments)}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={serialVersionUID:{configurable:!0}};return h.prototype.getSortIndex=function(){return tn.SORTINDEX_MULTILINESTRING},h.prototype.equalsExact=function(){if(2===arguments.length){var v=arguments[0],C=arguments[1];return!!this.isEquivalentClass(v)&&a.prototype.equalsExact.call(this,v,C)}return a.prototype.equalsExact.apply(this,arguments)},h.prototype.getBoundaryDimension=function(){return this.isClosed()?jt.FALSE:0},h.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var v=0;v<this._geometries.length;v++)if(!this._geometries[v].isClosed())return!1;return!0},h.prototype.getDimension=function(){return 1},h.prototype.reverse=function(){for(var v=this._geometries.length,C=new Array(v).fill(null),V=0;V<this._geometries.length;V++)C[v-1-V]=this._geometries[V].reverse();return this.getFactory().createMultiLineString(C)},h.prototype.getBoundary=function(){return new qt(this).getBoundary()},h.prototype.getGeometryType=function(){return"MultiLineString"},h.prototype.copy=function(){for(var v=new Array(this._geometries.length).fill(null),C=0;C<v.length;C++)v[C]=this._geometries[C].copy();return new h(v,this._factory)},h.prototype.interfaces_=function(){return[kt]},h.prototype.getClass=function(){return h},g.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(h,g),h}(pn),qt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var a=arguments[0],h=vi.MOD2_BOUNDARY_RULE;this._geom=a,this._geomFact=a.getFactory(),this._bnRule=h}else if(2===arguments.length){var g=arguments[0],v=arguments[1];this._geom=g,this._geomFact=g.getFactory(),this._bnRule=v}};qt.prototype.boundaryMultiLineString=function(a){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var h=this.computeBoundaryCoordinates(a);return 1===h.length?this._geomFact.createPoint(h[0]):this._geomFact.createMultiPointFromCoords(h)},qt.prototype.getBoundary=function(){return this._geom instanceof pr?this.boundaryLineString(this._geom):this._geom instanceof Ct?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},qt.prototype.boundaryLineString=function(a){return this._geom.isEmpty()?this.getEmptyMultiPoint():a.isClosed()?this._bnRule.isInBoundary(2)?a.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])},qt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},qt.prototype.computeBoundaryCoordinates=function(a){var h=new mn;this._endpointMap=new rt;for(var g=0;g<a.getNumGeometries();g++){var v=a.getGeometryN(g);0!==v.getNumPoints()&&(this.addEndpoint(v.getCoordinateN(0)),this.addEndpoint(v.getCoordinateN(v.getNumPoints()-1)))}for(var C=this._endpointMap.entrySet().iterator();C.hasNext();){var V=C.next(),X=V.getValue().count;this._bnRule.isInBoundary(X)&&h.add(V.getKey())}return xr.toCoordinateArray(h)},qt.prototype.addEndpoint=function(a){var h=this._endpointMap.get(a);null===h&&(h=new fr,this._endpointMap.put(a,h)),h.count++},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.getBoundary=function(){return 1===arguments.length?new qt(arguments[0]).getBoundary():2===arguments.length?new qt(arguments[0],arguments[1]).getBoundary():void 0};var fr=function(){this.count=null};fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr};var Mr=function(){},gr={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},Mr.chars=function(a,h){for(var g=new Array(h).fill(null),v=0;v<h;v++)g[v]=a;return String(g)},Mr.getStackTrace=function(){if(1===arguments.length){var a=arguments[0],h=new function(){},g=new function(){}(h);return a.printStackTrace(g),h.toString()}if(2===arguments.length){for(var C=arguments[1],V="",X=new function(){}(new function(){}(Mr.getStackTrace(arguments[0]))),ye=0;ye<C;ye++)try{V+=X.readLine()+Mr.NEWLINE}catch(Ue){if(!(Ue instanceof it))throw Ue;De.shouldNeverReachHere()}return V}},Mr.split=function(a,h){for(var g=h.length,v=new mn,C=""+a,V=C.indexOf(h);V>=0;){var X=C.substring(0,V);v.add(X),V=(C=C.substring(V+g)).indexOf(h)}C.length>0&&v.add(C);for(var ye=new Array(v.size()).fill(null),Ue=0;Ue<ye.length;Ue++)ye[Ue]=v.get(Ue);return ye},Mr.toString=function(){if(1===arguments.length)return Mr.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Mr.spaces=function(a){return Mr.chars(" ",a)},gr.NEWLINE.get=function(){return Sn.getProperty("line.separator")},gr.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Mr,gr);var nr=function(){};nr.prototype.interfaces_=function(){return[]},nr.prototype.getClass=function(){return nr},nr.copyCoord=function(a,h,g,v){for(var C=Math.min(a.getDimension(),g.getDimension()),V=0;V<C;V++)g.setOrdinate(v,V,a.getOrdinate(h,V))},nr.isRing=function(a){var h=a.size();return 0===h||!(h<=3)&&a.getOrdinate(0,bt.X)===a.getOrdinate(h-1,bt.X)&&a.getOrdinate(0,bt.Y)===a.getOrdinate(h-1,bt.Y)},nr.isEqual=function(a,h){var g=a.size();if(g!==h.size())return!1;for(var v=Math.min(a.getDimension(),h.getDimension()),C=0;C<g;C++)for(var V=0;V<v;V++){var X=a.getOrdinate(C,V),ye=h.getOrdinate(C,V);if(!(a.getOrdinate(C,V)===h.getOrdinate(C,V)||se.isNaN(X)&&se.isNaN(ye)))return!1}return!0},nr.extend=function(a,h,g){var v=a.create(g,h.getDimension()),C=h.size();if(nr.copy(h,0,v,0,C),C>0)for(var V=C;V<g;V++)nr.copy(h,C-1,v,V,1);return v},nr.reverse=function(a){for(var h=a.size()-1,g=Math.trunc(h/2),v=0;v<=g;v++)nr.swap(a,v,h-v)},nr.swap=function(a,h,g){if(h===g)return null;for(var v=0;v<a.getDimension();v++){var C=a.getOrdinate(h,v);a.setOrdinate(h,v,a.getOrdinate(g,v)),a.setOrdinate(g,v,C)}},nr.copy=function(a,h,g,v,C){for(var V=0;V<C;V++)nr.copyCoord(a,h+V,g,v+V)},nr.toString=function(){if(1===arguments.length){var a=arguments[0],h=a.size();if(0===h)return"()";var g=a.getDimension(),v=new tt;v.append("(");for(var C=0;C<h;C++){C>0&&v.append(" ");for(var V=0;V<g;V++)V>0&&v.append(","),v.append(Mr.toString(a.getOrdinate(C,V)))}return v.append(")"),v.toString()}},nr.ensureValidRing=function(a,h){var g=h.size();return 0===g?h:g<=3?nr.createClosedRing(a,h,4):h.getOrdinate(0,bt.X)===h.getOrdinate(g-1,bt.X)&&h.getOrdinate(0,bt.Y)===h.getOrdinate(g-1,bt.Y)?h:nr.createClosedRing(a,h,g+1)},nr.createClosedRing=function(a,h,g){var v=a.create(g,h.getDimension()),C=h.size();nr.copy(h,0,v,0,C);for(var V=C;V<g;V++)nr.copy(h,0,v,V,1);return v};var pr=function(a){function h(v,C){a.call(this,C),this._points=null,this.init(v)}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={serialVersionUID:{configurable:!0}};return h.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new wn:this._points.expandEnvelope(new wn)},h.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},h.prototype.getSortIndex=function(){return a.SORTINDEX_LINESTRING},h.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},h.prototype.equalsExact=function(){if(2===arguments.length){var v=arguments[0],C=arguments[1];if(!this.isEquivalentClass(v))return!1;var V=v;if(this._points.size()!==V._points.size())return!1;for(var X=0;X<this._points.size();X++)if(!this.equal(this._points.getCoordinate(X),V._points.getCoordinate(X),C))return!1;return!0}return a.prototype.equalsExact.apply(this,arguments)},h.prototype.normalize=function(){for(var v=0;v<Math.trunc(this._points.size()/2);v++){var C=this._points.size()-1-v;if(!this._points.getCoordinate(v).equals(this._points.getCoordinate(C)))return this._points.getCoordinate(v).compareTo(this._points.getCoordinate(C))>0&&nr.reverse(this._points),null}},h.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},h.prototype.getBoundaryDimension=function(){return this.isClosed()?jt.FALSE:0},h.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},h.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},h.prototype.getDimension=function(){return 1},h.prototype.getLength=function(){return Ut.computeLength(this._points)},h.prototype.getNumPoints=function(){return this._points.size()},h.prototype.reverse=function(){var v=this._points.copy();return nr.reverse(v),this.getFactory().createLineString(v)},h.prototype.compareToSameClass=function(){if(1===arguments.length){for(var v=arguments[0],C=0,V=0;C<this._points.size()&&V<v._points.size();){var X=this._points.getCoordinate(C).compareTo(v._points.getCoordinate(V));if(0!==X)return X;C++,V++}return C<this._points.size()?1:V<v._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},h.prototype.apply=function(){if(Pt(arguments[0],$r))for(var v=arguments[0],C=0;C<this._points.size();C++)v.filter(this._points.getCoordinate(C));else if(Pt(arguments[0],Un)){var V=arguments[0];if(0===this._points.size())return null;for(var X=0;X<this._points.size()&&(V.filter(this._points,X),!V.isDone());X++);V.isGeometryChanged()&&this.geometryChanged()}else(Pt(arguments[0],nn)||Pt(arguments[0],dr))&&arguments[0].filter(this)},h.prototype.getBoundary=function(){return new qt(this).getBoundary()},h.prototype.isEquivalentClass=function(v){return v instanceof h},h.prototype.clone=function(){var v=a.prototype.clone.call(this);return v._points=this._points.clone(),v},h.prototype.getCoordinateN=function(v){return this._points.getCoordinate(v)},h.prototype.getGeometryType=function(){return"LineString"},h.prototype.copy=function(){return new h(this._points.copy(),this._factory)},h.prototype.getCoordinateSequence=function(){return this._points},h.prototype.isEmpty=function(){return 0===this._points.size()},h.prototype.init=function(v){if(null===v&&(v=this.getFactory().getCoordinateSequenceFactory().create([])),1===v.size())throw new xe("Invalid number of points in LineString (found "+v.size()+" - must be 0 or >= 2)");this._points=v},h.prototype.isCoordinate=function(v){for(var C=0;C<this._points.size();C++)if(this._points.getCoordinate(C).equals(v))return!0;return!1},h.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},h.prototype.getPointN=function(v){return this.getFactory().createPoint(this._points.getCoordinate(v))},h.prototype.interfaces_=function(){return[kt]},h.prototype.getClass=function(){return h},g.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(h,g),h}(tn),ou=function(){};ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou};var co=function(a){function h(v,C){a.call(this,C),this._coordinates=v||null,this.init(this._coordinates)}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={serialVersionUID:{configurable:!0}};return h.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new wn;var v=new wn;return v.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),v},h.prototype.getSortIndex=function(){return a.SORTINDEX_POINT},h.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},h.prototype.equalsExact=function(){if(2===arguments.length){var v=arguments[0],C=arguments[1];return!!this.isEquivalentClass(v)&&(!(!this.isEmpty()||!v.isEmpty())||this.isEmpty()===v.isEmpty()&&this.equal(v.getCoordinate(),this.getCoordinate(),C))}return a.prototype.equalsExact.apply(this,arguments)},h.prototype.normalize=function(){},h.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},h.prototype.getBoundaryDimension=function(){return jt.FALSE},h.prototype.getDimension=function(){return 0},h.prototype.getNumPoints=function(){return this.isEmpty()?0:1},h.prototype.reverse=function(){return this.copy()},h.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},h.prototype.compareToSameClass=function(){if(1===arguments.length){var v=arguments[0];return this.getCoordinate().compareTo(v.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},h.prototype.apply=function(){if(Pt(arguments[0],$r)){var v=arguments[0];if(this.isEmpty())return null;v.filter(this.getCoordinate())}else if(Pt(arguments[0],Un)){var C=arguments[0];if(this.isEmpty())return null;C.filter(this._coordinates,0),C.isGeometryChanged()&&this.geometryChanged()}else(Pt(arguments[0],nn)||Pt(arguments[0],dr))&&arguments[0].filter(this)},h.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},h.prototype.clone=function(){var v=a.prototype.clone.call(this);return v._coordinates=this._coordinates.clone(),v},h.prototype.getGeometryType=function(){return"Point"},h.prototype.copy=function(){return new h(this._coordinates.copy(),this._factory)},h.prototype.getCoordinateSequence=function(){return this._coordinates},h.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},h.prototype.isEmpty=function(){return 0===this._coordinates.size()},h.prototype.init=function(v){null===v&&(v=this.getFactory().getCoordinateSequenceFactory().create([])),De.isTrue(v.size()<=1),this._coordinates=v},h.prototype.isSimple=function(){return!0},h.prototype.interfaces_=function(){return[ou]},h.prototype.getClass=function(){return h},g.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(h,g),h}(tn),rn=function(){};rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn};var rr=function(a){function h(v,C,V){if(a.call(this,V),this._shell=null,this._holes=null,null===v&&(v=this.getFactory().createLinearRing()),null===C&&(C=[]),a.hasNullElements(C))throw new xe("holes must not contain null elements");if(v.isEmpty()&&a.hasNonEmptyElements(C))throw new xe("shell is empty but holes are not");this._shell=v,this._holes=C}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={serialVersionUID:{configurable:!0}};return h.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},h.prototype.getSortIndex=function(){return a.SORTINDEX_POLYGON},h.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var v=new Array(this.getNumPoints()).fill(null),C=-1,V=this._shell.getCoordinates(),X=0;X<V.length;X++)v[++C]=V[X];for(var ye=0;ye<this._holes.length;ye++)for(var Ue=this._holes[ye].getCoordinates(),vt=0;vt<Ue.length;vt++)v[++C]=Ue[vt];return v},h.prototype.getArea=function(){var v=0;v+=Math.abs(Ut.signedArea(this._shell.getCoordinateSequence()));for(var C=0;C<this._holes.length;C++)v-=Math.abs(Ut.signedArea(this._holes[C].getCoordinateSequence()));return v},h.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var v=this._shell.getCoordinateSequence(),C=this.getEnvelopeInternal(),V=0;V<5;V++){var X=v.getX(V);if(X!==C.getMinX()&&X!==C.getMaxX())return!1;var ye=v.getY(V);if(ye!==C.getMinY()&&ye!==C.getMaxY())return!1}for(var Ue=v.getX(0),vt=v.getY(0),Bt=1;Bt<=4;Bt++){var Gt=v.getX(Bt),Ln=v.getY(Bt);if(Gt!==Ue==(Ln!==vt))return!1;Ue=Gt,vt=Ln}return!0},h.prototype.equalsExact=function(){if(2===arguments.length){var v=arguments[0],C=arguments[1];if(!this.isEquivalentClass(v))return!1;var V=v;if(!this._shell.equalsExact(V._shell,C)||this._holes.length!==V._holes.length)return!1;for(var Ue=0;Ue<this._holes.length;Ue++)if(!this._holes[Ue].equalsExact(V._holes[Ue],C))return!1;return!0}return a.prototype.equalsExact.apply(this,arguments)},h.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var v=0;v<this._holes.length;v++)this.normalize(this._holes[v],!1);It.sort(this._holes)}else if(2===arguments.length){var C=arguments[0],V=arguments[1];if(C.isEmpty())return null;var X=new Array(C.getCoordinates().length-1).fill(null);Sn.arraycopy(C.getCoordinates(),0,X,0,X.length);var ye=xr.minCoordinate(C.getCoordinates());xr.scroll(X,ye),Sn.arraycopy(X,0,C.getCoordinates(),0,X.length),C.getCoordinates()[X.length]=X[0],Ut.isCCW(C.getCoordinates())===V&&xr.reverse(C.getCoordinates())}},h.prototype.getCoordinate=function(){return this._shell.getCoordinate()},h.prototype.getNumInteriorRing=function(){return this._holes.length},h.prototype.getBoundaryDimension=function(){return 1},h.prototype.getDimension=function(){return 2},h.prototype.getLength=function(){var v=0;v+=this._shell.getLength();for(var C=0;C<this._holes.length;C++)v+=this._holes[C].getLength();return v},h.prototype.getNumPoints=function(){for(var v=this._shell.getNumPoints(),C=0;C<this._holes.length;C++)v+=this._holes[C].getNumPoints();return v},h.prototype.reverse=function(){var v=this.copy();v._shell=this._shell.copy().reverse(),v._holes=new Array(this._holes.length).fill(null);for(var C=0;C<this._holes.length;C++)v._holes[C]=this._holes[C].copy().reverse();return v},h.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},h.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var ye=arguments[1],Ue=arguments[0],Gt=this._shell.compareToSameClass(Ue._shell,ye);if(0!==Gt)return Gt;for(var Ln=this.getNumInteriorRing(),Cn=Ue.getNumInteriorRing(),Yn=0;Yn<Ln&&Yn<Cn;){var sr=this.getInteriorRingN(Yn),Mi=Ue.getInteriorRingN(Yn),so=sr.compareToSameClass(Mi,ye);if(0!==so)return so;Yn++}return Yn<Ln?1:Yn<Cn?-1:0}},h.prototype.apply=function(v){if(Pt(v,$r)){this._shell.apply(v);for(var C=0;C<this._holes.length;C++)this._holes[C].apply(v)}else if(Pt(v,Un)){if(this._shell.apply(v),!v.isDone())for(var V=0;V<this._holes.length&&(this._holes[V].apply(v),!v.isDone());V++);v.isGeometryChanged()&&this.geometryChanged()}else if(Pt(v,nn))v.filter(this);else if(Pt(v,dr)){v.filter(this),this._shell.apply(v);for(var X=0;X<this._holes.length;X++)this._holes[X].apply(v)}},h.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var v=new Array(this._holes.length+1).fill(null);v[0]=this._shell;for(var C=0;C<this._holes.length;C++)v[C+1]=this._holes[C];return v.length<=1?this.getFactory().createLinearRing(v[0].getCoordinateSequence()):this.getFactory().createMultiLineString(v)},h.prototype.clone=function(){var v=a.prototype.clone.call(this);v._shell=this._shell.clone(),v._holes=new Array(this._holes.length).fill(null);for(var C=0;C<this._holes.length;C++)v._holes[C]=this._holes[C].clone();return v},h.prototype.getGeometryType=function(){return"Polygon"},h.prototype.copy=function(){for(var v=this._shell.copy(),C=new Array(this._holes.length).fill(null),V=0;V<C.length;V++)C[V]=this._holes[V].copy();return new h(v,C,this._factory)},h.prototype.getExteriorRing=function(){return this._shell},h.prototype.isEmpty=function(){return this._shell.isEmpty()},h.prototype.getInteriorRingN=function(v){return this._holes[v]},h.prototype.interfaces_=function(){return[rn]},h.prototype.getClass=function(){return h},g.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(h,g),h}(tn),Fr=function(a){function h(){a.apply(this,arguments)}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={serialVersionUID:{configurable:!0}};return h.prototype.getSortIndex=function(){return tn.SORTINDEX_MULTIPOINT},h.prototype.isValid=function(){return!0},h.prototype.equalsExact=function(){if(2===arguments.length){var v=arguments[0],C=arguments[1];return!!this.isEquivalentClass(v)&&a.prototype.equalsExact.call(this,v,C)}return a.prototype.equalsExact.apply(this,arguments)},h.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():a.prototype.getCoordinate.apply(this,arguments)},h.prototype.getBoundaryDimension=function(){return jt.FALSE},h.prototype.getDimension=function(){return 0},h.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},h.prototype.getGeometryType=function(){return"MultiPoint"},h.prototype.copy=function(){for(var v=new Array(this._geometries.length).fill(null),C=0;C<v.length;C++)v[C]=this._geometries[C].copy();return new h(v,this._factory)},h.prototype.interfaces_=function(){return[ou]},h.prototype.getClass=function(){return h},g.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(h,g),h}(pn),Xi=function(a){function h(v,C){v instanceof ae&&C instanceof jr&&(v=C.getCoordinateSequenceFactory().create(v)),a.call(this,v,C),this.validateConstruction()}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return h.prototype.getSortIndex=function(){return tn.SORTINDEX_LINEARRING},h.prototype.getBoundaryDimension=function(){return jt.FALSE},h.prototype.isClosed=function(){return!!this.isEmpty()||a.prototype.isClosed.call(this)},h.prototype.reverse=function(){var v=this._points.copy();return nr.reverse(v),this.getFactory().createLinearRing(v)},h.prototype.validateConstruction=function(){if(!this.isEmpty()&&!a.prototype.isClosed.call(this))throw new xe("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<h.MINIMUM_VALID_SIZE)throw new xe("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},h.prototype.getGeometryType=function(){return"LinearRing"},h.prototype.copy=function(){return new h(this._points.copy(),this._factory)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},g.MINIMUM_VALID_SIZE.get=function(){return 4},g.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(h,g),h}(pr),Jo=function(a){function h(){a.apply(this,arguments)}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={serialVersionUID:{configurable:!0}};return h.prototype.getSortIndex=function(){return tn.SORTINDEX_MULTIPOLYGON},h.prototype.equalsExact=function(){if(2===arguments.length){var v=arguments[0],C=arguments[1];return!!this.isEquivalentClass(v)&&a.prototype.equalsExact.call(this,v,C)}return a.prototype.equalsExact.apply(this,arguments)},h.prototype.getBoundaryDimension=function(){return 1},h.prototype.getDimension=function(){return 2},h.prototype.reverse=function(){for(var C=new Array(this._geometries.length).fill(null),V=0;V<this._geometries.length;V++)C[V]=this._geometries[V].reverse();return this.getFactory().createMultiPolygon(C)},h.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var v=new mn,C=0;C<this._geometries.length;C++)for(var V=this._geometries[C].getBoundary(),X=0;X<V.getNumGeometries();X++)v.add(V.getGeometryN(X));var ye=new Array(v.size()).fill(null);return this.getFactory().createMultiLineString(v.toArray(ye))},h.prototype.getGeometryType=function(){return"MultiPolygon"},h.prototype.copy=function(){for(var v=new Array(this._geometries.length).fill(null),C=0;C<v.length;C++)v[C]=this._geometries[C].copy();return new h(v,this._factory)},h.prototype.interfaces_=function(){return[rn]},h.prototype.getClass=function(){return h},g.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(h,g),h}(pn),Vn=function(a){this._factory=a||null,this._isUserDataCopied=!1},Ou={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Vn.prototype.setCopyUserData=function(a){this._isUserDataCopied=a},Vn.prototype.edit=function(a,h){if(null===a)return null;var g=this.editInternal(a,h);return this._isUserDataCopied&&g.setUserData(a.getUserData()),g},Vn.prototype.editInternal=function(a,h){return null===this._factory&&(this._factory=a.getFactory()),a instanceof pn?this.editGeometryCollection(a,h):a instanceof rr?this.editPolygon(a,h):a instanceof co||a instanceof pr?h.edit(a,this._factory):(De.shouldNeverReachHere("Unsupported Geometry class: "+a.getClass().getName()),null)},Vn.prototype.editGeometryCollection=function(a,h){for(var g=h.edit(a,this._factory),v=new mn,C=0;C<g.getNumGeometries();C++){var V=this.edit(g.getGeometryN(C),h);null===V||V.isEmpty()||v.add(V)}return g.getClass()===Fr?this._factory.createMultiPoint(v.toArray([])):g.getClass()===Ct?this._factory.createMultiLineString(v.toArray([])):g.getClass()===Jo?this._factory.createMultiPolygon(v.toArray([])):this._factory.createGeometryCollection(v.toArray([]))},Vn.prototype.editPolygon=function(a,h){var g=h.edit(a,this._factory);if(null===g&&(g=this._factory.createPolygon(null)),g.isEmpty())return g;var v=this.edit(g.getExteriorRing(),h);if(null===v||v.isEmpty())return this._factory.createPolygon();for(var C=new mn,V=0;V<g.getNumInteriorRing();V++){var X=this.edit(g.getInteriorRingN(V),h);null===X||X.isEmpty()||C.add(X)}return this._factory.createPolygon(v,C.toArray([]))},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn},Vn.GeometryEditorOperation=function(){},Ou.NoOpGeometryOperation.get=function(){return Di},Ou.CoordinateOperation.get=function(){return Ul},Ou.CoordinateSequenceOperation.get=function(){return Oa},Object.defineProperties(Vn,Ou);var Di=function(){};Di.prototype.edit=function(a,h){return a},Di.prototype.interfaces_=function(){return[Vn.GeometryEditorOperation]},Di.prototype.getClass=function(){return Di};var Ul=function(){};Ul.prototype.edit=function(a,h){var g=this.editCoordinates(a.getCoordinates(),a);return null===g?a:a instanceof Xi?h.createLinearRing(g):a instanceof pr?h.createLineString(g):a instanceof co?g.length>0?h.createPoint(g[0]):h.createPoint():a},Ul.prototype.interfaces_=function(){return[Vn.GeometryEditorOperation]},Ul.prototype.getClass=function(){return Ul};var Oa=function(){};Oa.prototype.edit=function(a,h){return a instanceof Xi?h.createLinearRing(this.edit(a.getCoordinateSequence(),a)):a instanceof pr?h.createLineString(this.edit(a.getCoordinateSequence(),a)):a instanceof co?h.createPoint(this.edit(a.getCoordinateSequence(),a)):a},Oa.prototype.interfaces_=function(){return[Vn.GeometryEditorOperation]},Oa.prototype.getClass=function(){return Oa};var Wn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var a=arguments[0];this._coordinates=new Array(a).fill(null);for(var h=0;h<a;h++)this._coordinates[h]=new ae}else if(Pt(arguments[0],bt)){var g=arguments[0];if(null===g)return this._coordinates=new Array(0).fill(null),null;this._dimension=g.getDimension(),this._coordinates=new Array(g.size()).fill(null);for(var v=0;v<this._coordinates.length;v++)this._coordinates[v]=g.getCoordinateCopy(v)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var C=arguments[0],V=arguments[1];this._coordinates=C,this._dimension=V,null===C&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var X=arguments[0],ye=arguments[1];this._coordinates=new Array(X).fill(null),this._dimension=ye;for(var Ue=0;Ue<X;Ue++)this._coordinates[Ue]=new ae}},ti={serialVersionUID:{configurable:!0}};Wn.prototype.setOrdinate=function(a,h,g){switch(h){case bt.X:this._coordinates[a].x=g;break;case bt.Y:this._coordinates[a].y=g;break;case bt.Z:this._coordinates[a].z=g;break;default:throw new xe("invalid ordinateIndex")}},Wn.prototype.size=function(){return this._coordinates.length},Wn.prototype.getOrdinate=function(a,h){switch(h){case bt.X:return this._coordinates[a].x;case bt.Y:return this._coordinates[a].y;case bt.Z:return this._coordinates[a].z}return se.NaN},Wn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var h=arguments[0],g=arguments[1];g.x=this._coordinates[h].x,g.y=this._coordinates[h].y,g.z=this._coordinates[h].z}},Wn.prototype.getCoordinateCopy=function(a){return new ae(this._coordinates[a])},Wn.prototype.getDimension=function(){return this._dimension},Wn.prototype.getX=function(a){return this._coordinates[a].x},Wn.prototype.clone=function(){for(var a=new Array(this.size()).fill(null),h=0;h<this._coordinates.length;h++)a[h]=this._coordinates[h].clone();return new Wn(a,this._dimension)},Wn.prototype.expandEnvelope=function(a){for(var h=0;h<this._coordinates.length;h++)a.expandToInclude(this._coordinates[h]);return a},Wn.prototype.copy=function(){for(var a=new Array(this.size()).fill(null),h=0;h<this._coordinates.length;h++)a[h]=this._coordinates[h].copy();return new Wn(a,this._dimension)},Wn.prototype.toString=function(){if(this._coordinates.length>0){var a=new tt(17*this._coordinates.length);a.append("("),a.append(this._coordinates[0]);for(var h=1;h<this._coordinates.length;h++)a.append(", "),a.append(this._coordinates[h]);return a.append(")"),a.toString()}return"()"},Wn.prototype.getY=function(a){return this._coordinates[a].y},Wn.prototype.toCoordinateArray=function(){return this._coordinates},Wn.prototype.interfaces_=function(){return[bt,B]},Wn.prototype.getClass=function(){return Wn},ti.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Wn,ti);var Ko=function(){},ah={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Ko.prototype.readResolve=function(){return Ko.instance()},Ko.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Wn(arguments[0]);if(Pt(arguments[0],bt))return new Wn(arguments[0])}else if(2===arguments.length){var g=arguments[0],v=arguments[1];return v>3&&(v=3),v<2?new Wn(g):new Wn(g,v)}},Ko.prototype.interfaces_=function(){return[Je,B]},Ko.prototype.getClass=function(){return Ko},Ko.instance=function(){return Ko.instanceObject},ah.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ah.instanceObject.get=function(){return new Ko},Object.defineProperties(Ko,ah);var Jr=function(a){function h(){a.call(this),this.map_=new Map}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.get=function(g){return this.map_.get(g)||null},h.prototype.put=function(g,v){return this.map_.set(g,v),v},h.prototype.values=function(){for(var g=new mn,v=this.map_.values(),C=v.next();!C.done;)g.add(C.value),C=v.next();return g},h.prototype.entrySet=function(){var g=new ot;return this.map_.entries().forEach(function(v){return g.add(v)}),g},h.prototype.size=function(){return this.map_.size()},h}(be),li=function a(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=a.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ar){var h=arguments[0];this._modelType=h,h===a.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var g=arguments[0];this._modelType=a.FIXED,this.setScale(g)}else if(arguments[0]instanceof a){var v=arguments[0];this._modelType=v._modelType,this._scale=v._scale}},wr={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};li.prototype.equals=function(a){return a instanceof li&&this._modelType===a._modelType&&this._scale===a._scale},li.prototype.compareTo=function(a){var h=a,g=this.getMaximumSignificantDigits(),v=h.getMaximumSignificantDigits();return new xt(g).compareTo(new xt(v))},li.prototype.getScale=function(){return this._scale},li.prototype.isFloating=function(){return this._modelType===li.FLOATING||this._modelType===li.FLOATING_SINGLE},li.prototype.getType=function(){return this._modelType},li.prototype.toString=function(){var a="UNKNOWN";return this._modelType===li.FLOATING?a="Floating":this._modelType===li.FLOATING_SINGLE?a="Floating-Single":this._modelType===li.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a},li.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var a=arguments[0];return se.isNaN(a)||this._modelType===li.FLOATING_SINGLE?a:this._modelType===li.FIXED?Math.round(a*this._scale)/this._scale:a}if(arguments[0]instanceof ae){var h=arguments[0];if(this._modelType===li.FLOATING)return null;h.x=this.makePrecise(h.x),h.y=this.makePrecise(h.y)}},li.prototype.getMaximumSignificantDigits=function(){var a=16;return this._modelType===li.FLOATING?a=16:this._modelType===li.FLOATING_SINGLE?a=6:this._modelType===li.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a},li.prototype.setScale=function(a){this._scale=Math.abs(a)},li.prototype.interfaces_=function(){return[B,re]},li.prototype.getClass=function(){return li},li.mostPrecise=function(a,h){return a.compareTo(h)>=0?a:h},wr.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},wr.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(li,wr);var ar=function a(h){this._name=h||null,a.nameToTypeMap.put(h,this)},uc={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ar.prototype.readResolve=function(){return ar.nameToTypeMap.get(this._name)},ar.prototype.toString=function(){return this._name},ar.prototype.interfaces_=function(){return[B]},ar.prototype.getClass=function(){return ar},uc.serialVersionUID.get=function(){return-552860263173159e4},uc.nameToTypeMap.get=function(){return new Jr},Object.defineProperties(ar,uc),li.Type=ar,li.FIXED=new ar("FIXED"),li.FLOATING=new ar("FLOATING"),li.FLOATING_SINGLE=new ar("FLOATING SINGLE");var jr=function a(){this._precisionModel=new li,this._SRID=0,this._coordinateSequenceFactory=a.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Pt(arguments[0],Je)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof li&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ha={serialVersionUID:{configurable:!0}};jr.prototype.toGeometry=function(a){return a.isNull()?this.createPoint(null):a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new ae(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new ae(a.getMinX(),a.getMinY()),new ae(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new ae(a.getMinX(),a.getMinY()),new ae(a.getMinX(),a.getMaxY()),new ae(a.getMaxX(),a.getMaxY()),new ae(a.getMaxX(),a.getMinY()),new ae(a.getMinX(),a.getMinY())]),null)},jr.prototype.createLineString=function(a){return a?a instanceof Array?new pr(this.getCoordinateSequenceFactory().create(a),this):Pt(a,bt)?new pr(a,this):void 0:new pr(this.getCoordinateSequenceFactory().create([]),this)},jr.prototype.createMultiLineString=function(){return 0===arguments.length?new Ct(null,this):1===arguments.length?new Ct(arguments[0],this):void 0},jr.prototype.buildGeometry=function(a){for(var h=null,g=!1,v=!1,C=a.iterator();C.hasNext();){var V=C.next(),X=V.getClass();null===h&&(h=X),X!==h&&(g=!0),V.isGeometryCollectionOrDerived()&&(v=!0)}if(null===h)return this.createGeometryCollection();if(g||v)return this.createGeometryCollection(jr.toGeometryArray(a));var ye=a.iterator().next();if(a.size()>1){if(ye instanceof rr)return this.createMultiPolygon(jr.toPolygonArray(a));if(ye instanceof pr)return this.createMultiLineString(jr.toLineStringArray(a));if(ye instanceof co)return this.createMultiPoint(jr.toPointArray(a));De.shouldNeverReachHere("Unhandled class: "+ye.getClass().getName())}return ye},jr.prototype.createMultiPointFromCoords=function(a){return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)},jr.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof ae){var a=arguments[0];return this.createPoint(null!==a?this.getCoordinateSequenceFactory().create([a]):null)}if(Pt(arguments[0],bt))return new co(arguments[0],this)}},jr.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},jr.prototype.createPolygon=function(){if(0===arguments.length)return new rr(null,null,this);if(1===arguments.length){if(Pt(arguments[0],bt))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Xi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new rr(arguments[0],arguments[1],this)},jr.prototype.getSRID=function(){return this._SRID},jr.prototype.createGeometryCollection=function(){return 0===arguments.length?new pn(null,this):1===arguments.length?new pn(arguments[0],this):void 0},jr.prototype.createGeometry=function(a){return new Vn(this).edit(a,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},jr.prototype.getPrecisionModel=function(){return this._precisionModel},jr.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Pt(arguments[0],bt))return new Xi(arguments[0],this)}},jr.prototype.createMultiPolygon=function(){return 0===arguments.length?new Jo(null,this):1===arguments.length?new Jo(arguments[0],this):void 0},jr.prototype.createMultiPoint=function(){if(0===arguments.length)return new Fr(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Fr(arguments[0],this);if(arguments[0]instanceof Array){var h=arguments[0];return this.createMultiPoint(null!==h?this.getCoordinateSequenceFactory().create(h):null)}if(Pt(arguments[0],bt)){var g=arguments[0];if(null===g)return this.createMultiPoint(new Array(0).fill(null));for(var v=new Array(g.size()).fill(null),C=0;C<g.size();C++){var V=this.getCoordinateSequenceFactory().create(1,g.getDimension());nr.copy(g,C,V,0,1),v[C]=this.createPoint(V)}return this.createMultiPoint(v)}}},jr.prototype.interfaces_=function(){return[B]},jr.prototype.getClass=function(){return jr},jr.toMultiPolygonArray=function(a){var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.toGeometryArray=function(a){if(null===a)return null;var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.getDefaultCoordinateSequenceFactory=function(){return Ko.instance()},jr.toMultiLineStringArray=function(a){var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.toLineStringArray=function(a){var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.toMultiPointArray=function(a){var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.toLinearRingArray=function(a){var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.toPointArray=function(a){var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.toPolygonArray=function(a){var h=new Array(a.size()).fill(null);return a.toArray(h)},jr.createPointFromInternalCoord=function(a,h){return h.getPrecisionModel().makePrecise(a),h.getFactory().createPoint(a)},Ha.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(jr,Ha);var aa=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Qo=function(a){this.geometryFactory=a||new jr};Qo.prototype.read=function(a){var h,g=(h="string"==typeof a?JSON.parse(a):a).type;if(!il[g])throw new Error("Unknown GeoJSON type: "+h.type);return-1!==aa.indexOf(g)?il[g].apply(this,[h.coordinates]):il[g].apply(this,"GeometryCollection"===g?[h.geometries]:[h])},Qo.prototype.write=function(a){var h=a.getGeometryType();if(!zi[h])throw new Error("Geometry is not supported");return zi[h].apply(this,[a])};var il={Feature:function(a){var h={};for(var g in a)h[g]=a[g];if(a.geometry){if(!il[a.geometry.type])throw new Error("Unknown GeoJSON type: "+a.type);h.geometry=this.read(a.geometry)}return a.bbox&&(h.bbox=il.bbox.apply(this,[a.bbox])),h},FeatureCollection:function(a){var h={};if(a.features){h.features=[];for(var g=0;g<a.features.length;++g)h.features.push(this.read(a.features[g]))}return a.bbox&&(h.bbox=this.parse.bbox.apply(this,[a.bbox])),h},coordinates:function(a){for(var h=[],g=0;g<a.length;++g){var v=a[g];h.push(new ae(v[0],v[1]))}return h},bbox:function(a){return this.geometryFactory.createLinearRing([new ae(a[0],a[1]),new ae(a[2],a[1]),new ae(a[2],a[3]),new ae(a[0],a[3]),new ae(a[0],a[1])])},Point:function(a){var h=new ae(a[0],a[1]);return this.geometryFactory.createPoint(h)},MultiPoint:function(a){for(var h=[],g=0;g<a.length;++g)h.push(il.Point.apply(this,[a[g]]));return this.geometryFactory.createMultiPoint(h)},LineString:function(a){var h=il.coordinates.apply(this,[a]);return this.geometryFactory.createLineString(h)},MultiLineString:function(a){for(var h=[],g=0;g<a.length;++g)h.push(il.LineString.apply(this,[a[g]]));return this.geometryFactory.createMultiLineString(h)},Polygon:function(a){for(var h=il.coordinates.apply(this,[a[0]]),g=this.geometryFactory.createLinearRing(h),v=[],C=1;C<a.length;++C){var X=il.coordinates.apply(this,[a[C]]),ye=this.geometryFactory.createLinearRing(X);v.push(ye)}return this.geometryFactory.createPolygon(g,v)},MultiPolygon:function(a){for(var h=[],g=0;g<a.length;++g)h.push(il.Polygon.apply(this,[a[g]]));return this.geometryFactory.createMultiPolygon(h)},GeometryCollection:function(a){for(var h=[],g=0;g<a.length;++g)h.push(this.read(a[g]));return this.geometryFactory.createGeometryCollection(h)}},zi={coordinate:function(a){return[a.x,a.y]},Point:function(a){return{type:"Point",coordinates:zi.coordinate.apply(this,[a.getCoordinate()])}},MultiPoint:function(a){for(var h=[],g=0;g<a._geometries.length;++g){var C=zi.Point.apply(this,[a._geometries[g]]);h.push(C.coordinates)}return{type:"MultiPoint",coordinates:h}},LineString:function(a){for(var h=[],g=a.getCoordinates(),v=0;v<g.length;++v)h.push(zi.coordinate.apply(this,[g[v]]));return{type:"LineString",coordinates:h}},MultiLineString:function(a){for(var h=[],g=0;g<a._geometries.length;++g){var C=zi.LineString.apply(this,[a._geometries[g]]);h.push(C.coordinates)}return{type:"MultiLineString",coordinates:h}},Polygon:function(a){var h=[],g=zi.LineString.apply(this,[a._shell]);h.push(g.coordinates);for(var v=0;v<a._holes.length;++v){var V=zi.LineString.apply(this,[a._holes[v]]);h.push(V.coordinates)}return{type:"Polygon",coordinates:h}},MultiPolygon:function(a){for(var h=[],g=0;g<a._geometries.length;++g){var C=zi.Polygon.apply(this,[a._geometries[g]]);h.push(C.coordinates)}return{type:"MultiPolygon",coordinates:h}},GeometryCollection:function(a){for(var h=[],g=0;g<a._geometries.length;++g){var v=a._geometries[g],C=v.getGeometryType();h.push(zi[C].apply(this,[v]))}return{type:"GeometryCollection",geometries:h}}},Ga=function(a){this.geometryFactory=a||new jr,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Qo(this.geometryFactory)};Ga.prototype.read=function(a){var h=this.parser.read(a);return this.precisionModel.getType()===li.FIXED&&this.reducePrecision(h),h},Ga.prototype.reducePrecision=function(a){var h,g;if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(h=0,g=a.points.length;h<g;h++)this.precisionModel.makePrecise(a.points[h]);else if(a.geometries)for(h=0,g=a.geometries.length;h<g;h++)this.reducePrecision(a.geometries[h])};var qa=function(){this.parser=new Qo(this.geometryFactory)};qa.prototype.write=function(a){return this.parser.write(a)};var vn=function(){},Fc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.opposite=function(a){return a===vn.LEFT?vn.RIGHT:a===vn.RIGHT?vn.LEFT:a},Fc.ON.get=function(){return 0},Fc.LEFT.get=function(){return 1},Fc.RIGHT.get=function(){return 2},Object.defineProperties(vn,Fc),(Q.prototype=new Error).name="EmptyStackException",(ve.prototype=new Ys).add=function(a){return this.array_.push(a),!0},ve.prototype.get=function(a){if(a<0||a>=this.size())throw new Error;return this.array_[a]},ve.prototype.push=function(a){return this.array_.push(a),a},ve.prototype.pop=function(a){if(0===this.array_.length)throw new Q;return this.array_.pop()},ve.prototype.peek=function(){if(0===this.array_.length)throw new Q;return this.array_[this.array_.length-1]},ve.prototype.empty=function(){return 0===this.array_.length},ve.prototype.isEmpty=function(){return this.empty()},ve.prototype.search=function(a){return this.array_.indexOf(a)},ve.prototype.size=function(){return this.array_.length},ve.prototype.toArray=function(){for(var a=[],h=0,g=this.array_.length;h<g;h++)a.push(this.array_[h]);return a};var Yo=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Yo.prototype.getCoordinate=function(){return this._minCoord},Yo.prototype.getRightmostSide=function(a,h){var g=this.getRightmostSideOfSegment(a,h);return g<0&&(g=this.getRightmostSideOfSegment(a,h-1)),g<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a)),g},Yo.prototype.findRightmostEdgeAtVertex=function(){var a=this._minDe.getEdge().getCoordinates();De.isTrue(this._minIndex>0&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var h=a[this._minIndex-1],g=a[this._minIndex+1],v=Ut.computeOrientation(this._minCoord,g,h),C=!1;(h.y<this._minCoord.y&&g.y<this._minCoord.y&&v===Ut.COUNTERCLOCKWISE||h.y>this._minCoord.y&&g.y>this._minCoord.y&&v===Ut.CLOCKWISE)&&(C=!0),C&&(this._minIndex=this._minIndex-1)},Yo.prototype.getRightmostSideOfSegment=function(a,h){var g=a.getEdge().getCoordinates();if(h<0||h+1>=g.length||g[h].y===g[h+1].y)return-1;var v=vn.LEFT;return g[h].y<g[h+1].y&&(v=vn.RIGHT),v},Yo.prototype.getEdge=function(){return this._orientedDe},Yo.prototype.checkForRightmostCoordinate=function(a){for(var h=a.getEdge().getCoordinates(),g=0;g<h.length-1;g++)(null===this._minCoord||h[g].x>this._minCoord.x)&&(this._minDe=a,this._minIndex=g,this._minCoord=h[g])},Yo.prototype.findRightmostEdgeAtNode=function(){var a=this._minDe.getNode().getEdges();this._minDe=a.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Yo.prototype.findEdge=function(a){for(var h=a.iterator();h.hasNext();){var g=h.next();g.isForward()&&this.checkForRightmostCoordinate(g)}De.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===vn.LEFT&&(this._orientedDe=this._minDe.getSym())},Yo.prototype.interfaces_=function(){return[]},Yo.prototype.getClass=function(){return Yo};var Sl=function(a){function h(g,v){a.call(this,h.msgWithCoord(g,v)),this.pt=v?new ae(v):null,this.name="TopologyException"}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.getCoordinate=function(){return this.pt},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h.msgWithCoord=function(g,v){return v?g:g+" [ "+v+" ]"},h}(Oe),cc=function(){this.array_=[]};cc.prototype.addLast=function(a){this.array_.push(a)},cc.prototype.removeFirst=function(){return this.array_.shift()},cc.prototype.isEmpty=function(){return 0===this.array_.length};var Ra=function(){this._finder=null,this._dirEdgeList=new mn,this._nodes=new mn,this._rightMostCoord=null,this._env=null,this._finder=new Yo};Ra.prototype.clearVisitedEdges=function(){for(var a=this._dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)},Ra.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ra.prototype.computeNodeDepth=function(a){for(var h=null,g=a.getEdges().iterator();g.hasNext();){var v=g.next();if(v.isVisited()||v.getSym().isVisited()){h=v;break}}if(null===h)throw new Sl("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(h);for(var C=a.getEdges().iterator();C.hasNext();){var V=C.next();V.setVisited(!0),this.copySymDepths(V)}},Ra.prototype.computeDepth=function(a){this.clearVisitedEdges();var h=this._finder.getEdge();h.setEdgeDepths(vn.RIGHT,a),this.copySymDepths(h),this.computeDepths(h)},Ra.prototype.create=function(a){this.addReachable(a),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ra.prototype.findResultEdges=function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var h=a.next();h.getDepth(vn.RIGHT)>=1&&h.getDepth(vn.LEFT)<=0&&!h.isInteriorAreaEdge()&&h.setInResult(!0)}},Ra.prototype.computeDepths=function(a){var h=new ot,g=new cc,v=a.getNode();for(g.addLast(v),h.add(v),a.setVisited(!0);!g.isEmpty();){var C=g.removeFirst();h.add(C),this.computeNodeDepth(C);for(var V=C.getEdges().iterator();V.hasNext();){var X=V.next().getSym();if(!X.isVisited()){var ye=X.getNode();h.contains(ye)||(g.addLast(ye),h.add(ye))}}}},Ra.prototype.compareTo=function(a){return this._rightMostCoord.x<a._rightMostCoord.x?-1:this._rightMostCoord.x>a._rightMostCoord.x?1:0},Ra.prototype.getEnvelope=function(){if(null===this._env){for(var a=new wn,h=this._dirEdgeList.iterator();h.hasNext();)for(var g=h.next().getEdge().getCoordinates(),v=0;v<g.length-1;v++)a.expandToInclude(g[v]);this._env=a}return this._env},Ra.prototype.addReachable=function(a){var h=new ve;for(h.add(a);!h.empty();){var g=h.pop();this.add(g,h)}},Ra.prototype.copySymDepths=function(a){var h=a.getSym();h.setDepth(vn.LEFT,a.getDepth(vn.RIGHT)),h.setDepth(vn.RIGHT,a.getDepth(vn.LEFT))},Ra.prototype.add=function(a,h){a.setVisited(!0),this._nodes.add(a);for(var g=a.getEdges().iterator();g.hasNext();){var v=g.next();this._dirEdgeList.add(v);var C=v.getSym().getNode();C.isVisited()||h.push(C)}},Ra.prototype.getNodes=function(){return this._nodes},Ra.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ra.prototype.interfaces_=function(){return[re]},Ra.prototype.getClass=function(){return Ra};var Ei=function a(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var g=arguments[0];this.init(1),this.location[vn.ON]=g}else if(arguments[0]instanceof a){var v=arguments[0];if(this.init(v.location.length),null!==v)for(var C=0;C<this.location.length;C++)this.location[C]=v.location[C]}}else if(3===arguments.length){var V=arguments[0],X=arguments[1],ye=arguments[2];this.init(3),this.location[vn.ON]=V,this.location[vn.LEFT]=X,this.location[vn.RIGHT]=ye}};Ei.prototype.setAllLocations=function(a){for(var h=0;h<this.location.length;h++)this.location[h]=a},Ei.prototype.isNull=function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==Te.NONE)return!1;return!0},Ei.prototype.setAllLocationsIfNull=function(a){for(var h=0;h<this.location.length;h++)this.location[h]===Te.NONE&&(this.location[h]=a)},Ei.prototype.isLine=function(){return 1===this.location.length},Ei.prototype.merge=function(a){if(a.location.length>this.location.length){var h=new Array(3).fill(null);h[vn.ON]=this.location[vn.ON],h[vn.LEFT]=Te.NONE,h[vn.RIGHT]=Te.NONE,this.location=h}for(var g=0;g<this.location.length;g++)this.location[g]===Te.NONE&&g<a.location.length&&(this.location[g]=a.location[g])},Ei.prototype.getLocations=function(){return this.location},Ei.prototype.flip=function(){if(this.location.length<=1)return null;var a=this.location[vn.LEFT];this.location[vn.LEFT]=this.location[vn.RIGHT],this.location[vn.RIGHT]=a},Ei.prototype.toString=function(){var a=new tt;return this.location.length>1&&a.append(Te.toLocationSymbol(this.location[vn.LEFT])),a.append(Te.toLocationSymbol(this.location[vn.ON])),this.location.length>1&&a.append(Te.toLocationSymbol(this.location[vn.RIGHT])),a.toString()},Ei.prototype.setLocations=function(a,h,g){this.location[vn.ON]=a,this.location[vn.LEFT]=h,this.location[vn.RIGHT]=g},Ei.prototype.get=function(a){return a<this.location.length?this.location[a]:Te.NONE},Ei.prototype.isArea=function(){return this.location.length>1},Ei.prototype.isAnyNull=function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===Te.NONE)return!0;return!1},Ei.prototype.setLocation=function(){1===arguments.length?this.setLocation(vn.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},Ei.prototype.init=function(a){this.location=new Array(a).fill(null),this.setAllLocations(Te.NONE)},Ei.prototype.isEqualOnSide=function(a,h){return this.location[h]===a.location[h]},Ei.prototype.allPositionsEqual=function(a){for(var h=0;h<this.location.length;h++)if(this.location[h]!==a)return!1;return!0},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei};var Ii=function a(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var h=arguments[0];this.elt[0]=new Ei(h),this.elt[1]=new Ei(h)}else if(arguments[0]instanceof a){var g=arguments[0];this.elt[0]=new Ei(g.elt[0]),this.elt[1]=new Ei(g.elt[1])}}else if(2===arguments.length){var v=arguments[0],C=arguments[1];this.elt[0]=new Ei(Te.NONE),this.elt[1]=new Ei(Te.NONE),this.elt[v].setLocation(C)}else if(3===arguments.length){var V=arguments[0],X=arguments[1],ye=arguments[2];this.elt[0]=new Ei(V,X,ye),this.elt[1]=new Ei(V,X,ye)}else if(4===arguments.length){var Ue=arguments[0],vt=arguments[1],Bt=arguments[2],Gt=arguments[3];this.elt[0]=new Ei(Te.NONE,Te.NONE,Te.NONE),this.elt[1]=new Ei(Te.NONE,Te.NONE,Te.NONE),this.elt[Ue].setLocations(vt,Bt,Gt)}};Ii.prototype.getGeometryCount=function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a},Ii.prototype.setAllLocations=function(a,h){this.elt[a].setAllLocations(h)},Ii.prototype.isNull=function(a){return this.elt[a].isNull()},Ii.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Ii.prototype.isLine=function(a){return this.elt[a].isLine()},Ii.prototype.merge=function(a){for(var h=0;h<2;h++)null===this.elt[h]&&null!==a.elt[h]?this.elt[h]=new Ei(a.elt[h]):this.elt[h].merge(a.elt[h])},Ii.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Ii.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(vn.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Ii.prototype.toString=function(){var a=new tt;return null!==this.elt[0]&&(a.append("A:"),a.append(this.elt[0].toString())),null!==this.elt[1]&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()},Ii.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Ii.prototype.isAnyNull=function(a){return this.elt[a].isAnyNull()},Ii.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(vn.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Ii.prototype.isEqualOnSide=function(a,h){return this.elt[0].isEqualOnSide(a.elt[0],h)&&this.elt[1].isEqualOnSide(a.elt[1],h)},Ii.prototype.allPositionsEqual=function(a,h){return this.elt[a].allPositionsEqual(h)},Ii.prototype.toLine=function(a){this.elt[a].isArea()&&(this.elt[a]=new Ei(this.elt[a].location[0]))},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Ii.toLineLabel=function(a){for(var h=new Ii(Te.NONE),g=0;g<2;g++)h.setLocation(g,a.getLocation(g));return h};var Ci=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new mn,this._pts=new mn,this._label=new Ii(Te.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new mn,this._geometryFactory=null;var a=arguments[0];this._geometryFactory=arguments[1],this.computePoints(a),this.computeRing()};Ci.prototype.computeRing=function(){if(null!==this._ring)return null;for(var a=new Array(this._pts.size()).fill(null),h=0;h<this._pts.size();h++)a[h]=this._pts.get(h);this._ring=this._geometryFactory.createLinearRing(a),this._isHole=Ut.isCCW(this._ring.getCoordinates())},Ci.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ci.prototype.computePoints=function(a){this._startDe=a;var h=a,g=!0;do{if(null===h)throw new Sl("Found null DirectedEdge");if(h.getEdgeRing()===this)throw new Sl("Directed Edge visited twice during ring-building at "+h.getCoordinate());this._edges.add(h);var v=h.getLabel();De.isTrue(v.isArea()),this.mergeLabel(v),this.addPoints(h.getEdge(),h.isForward(),g),g=!1,this.setEdgeRing(h,this),h=this.getNext(h)}while(h!==this._startDe)},Ci.prototype.getLinearRing=function(){return this._ring},Ci.prototype.getCoordinate=function(a){return this._pts.get(a)},Ci.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var a=this._startDe;do{var h=a.getNode().getEdges().getOutgoingDegree(this);h>this._maxNodeDegree&&(this._maxNodeDegree=h),a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2},Ci.prototype.addPoints=function(a,h,g){var v=a.getCoordinates();if(h){var C=1;g&&(C=0);for(var V=C;V<v.length;V++)this._pts.add(v[V])}else{var X=v.length-2;g&&(X=v.length-1);for(var ye=X;ye>=0;ye--)this._pts.add(v[ye])}},Ci.prototype.isHole=function(){return this._isHole},Ci.prototype.setInResult=function(){var a=this._startDe;do{a.getEdge().setInResult(!0),a=a.getNext()}while(a!==this._startDe)},Ci.prototype.containsPoint=function(a){var h=this.getLinearRing();if(!h.getEnvelopeInternal().contains(a)||!Ut.isPointInRing(a,h.getCoordinates()))return!1;for(var g=this._holes.iterator();g.hasNext();)if(g.next().containsPoint(a))return!1;return!0},Ci.prototype.addHole=function(a){this._holes.add(a)},Ci.prototype.isShell=function(){return null===this._shell},Ci.prototype.getLabel=function(){return this._label},Ci.prototype.getEdges=function(){return this._edges},Ci.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ci.prototype.getShell=function(){return this._shell},Ci.prototype.mergeLabel=function(){if(1===arguments.length){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(2===arguments.length){var g=arguments[1],v=arguments[0].getLocation(g,vn.RIGHT);if(v===Te.NONE)return null;if(this._label.getLocation(g)===Te.NONE)return this._label.setLocation(g,v),null}},Ci.prototype.setShell=function(a){this._shell=a,null!==a&&a.addHole(this)},Ci.prototype.toPolygon=function(a){for(var h=new Array(this._holes.size()).fill(null),g=0;g<this._holes.size();g++)h[g]=this._holes.get(g).getLinearRing();return a.createPolygon(this.getLinearRing(),h)},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci};var hi=function(a){function h(){a.call(this,arguments[0],arguments[1])}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.setEdgeRing=function(g,v){g.setMinEdgeRing(v)},h.prototype.getNext=function(g){return g.getNextMin()},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Ci),kh=function(a){function h(){a.call(this,arguments[0],arguments[1])}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.buildMinimalRings=function(){var g=new mn,v=this._startDe;do{if(null===v.getMinEdgeRing()){var C=new hi(v,this._geometryFactory);g.add(C)}v=v.getNext()}while(v!==this._startDe);return g},h.prototype.setEdgeRing=function(g,v){g.setEdgeRing(v)},h.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var g=this._startDe;do{g.getNode().getEdges().linkMinimalDirectedEdges(this),g=g.getNext()}while(g!==this._startDe)},h.prototype.getNext=function(g){return g.getNext()},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Ci),zo=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};zo.prototype.setVisited=function(a){this._isVisited=a},zo.prototype.setInResult=function(a){this._isInResult=a},zo.prototype.isCovered=function(){return this._isCovered},zo.prototype.isCoveredSet=function(){return this._isCoveredSet},zo.prototype.setLabel=function(a){this._label=a},zo.prototype.getLabel=function(){return this._label},zo.prototype.setCovered=function(a){this._isCovered=a,this._isCoveredSet=!0},zo.prototype.updateIM=function(a){De.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)},zo.prototype.isInResult=function(){return this._isInResult},zo.prototype.isVisited=function(){return this._isVisited},zo.prototype.interfaces_=function(){return[]},zo.prototype.getClass=function(){return zo};var Yc=function(a){function h(){a.call(this),this._coord=null,this._edges=null;var v=arguments[1];this._coord=arguments[0],this._edges=v,this._label=new Ii(0,Te.NONE)}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.isIncidentEdgeInResult=function(){for(var g=this.getEdges().getEdges().iterator();g.hasNext();)if(g.next().getEdge().isInResult())return!0;return!1},h.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},h.prototype.getCoordinate=function(){return this._coord},h.prototype.print=function(g){g.println("node "+this._coord+" lbl: "+this._label)},h.prototype.computeIM=function(g){},h.prototype.computeMergedLocation=function(g,v){var C=Te.NONE;if(C=this._label.getLocation(v),!g.isNull(v)){var V=g.getLocation(v);C!==Te.BOUNDARY&&(C=V)}return C},h.prototype.setLabel=function(){if(2!==arguments.length)return a.prototype.setLabel.apply(this,arguments);var g=arguments[0],v=arguments[1];null===this._label?this._label=new Ii(g,v):this._label.setLocation(g,v)},h.prototype.getEdges=function(){return this._edges},h.prototype.mergeLabel=function(){if(arguments[0]instanceof h)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Ii)for(var v=arguments[0],C=0;C<2;C++){var V=this.computeMergedLocation(v,C);this._label.getLocation(C)===Te.NONE&&this._label.setLocation(C,V)}},h.prototype.add=function(g){this._edges.insert(g),g.setNode(this)},h.prototype.setLabelBoundary=function(g){if(null===this._label)return null;var v=Te.NONE;null!==this._label&&(v=this._label.getLocation(g)),this._label.setLocation(g,v===Te.BOUNDARY?Te.INTERIOR:Te.BOUNDARY)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(zo),_r=function(){this.nodeMap=new rt,this.nodeFact=null,this.nodeFact=arguments[0]};_r.prototype.find=function(a){return this.nodeMap.get(a)},_r.prototype.addNode=function(){if(arguments[0]instanceof ae){var a=arguments[0],h=this.nodeMap.get(a);return null===h&&(h=this.nodeFact.createNode(a),this.nodeMap.put(a,h)),h}if(arguments[0]instanceof Yc){var g=arguments[0],v=this.nodeMap.get(g.getCoordinate());return null===v?(this.nodeMap.put(g.getCoordinate(),g),g):(v.mergeLabel(g),v)}},_r.prototype.print=function(a){for(var h=this.iterator();h.hasNext();)h.next().print(a)},_r.prototype.iterator=function(){return this.nodeMap.values().iterator()},_r.prototype.values=function(){return this.nodeMap.values()},_r.prototype.getBoundaryNodes=function(a){for(var h=new mn,g=this.iterator();g.hasNext();){var v=g.next();v.getLabel().getLocation(a)===Te.BOUNDARY&&h.add(v)}return h},_r.prototype.add=function(a){var h=a.getCoordinate();this.addNode(h).add(a)},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r};var Ji=function(){},ea={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.isNorthern=function(a){return a===Ji.NE||a===Ji.NW},Ji.isOpposite=function(a,h){return a!==h&&(a-h+4)%4==2},Ji.commonHalfPlane=function(a,h){if(a===h)return a;if((a-h+4)%4==2)return-1;var g=a<h?a:h;return 0===g&&3===(a>h?a:h)?3:g},Ji.isInHalfPlane=function(a,h){return h===Ji.SE?a===Ji.SE||a===Ji.SW:a===h||a===h+1},Ji.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],h=arguments[1];if(0===a&&0===h)throw new xe("Cannot compute the quadrant for point ( "+a+", "+h+" )");return a>=0?h>=0?Ji.NE:Ji.SE:h>=0?Ji.NW:Ji.SW}if(arguments[0]instanceof ae&&arguments[1]instanceof ae){var g=arguments[0],v=arguments[1];if(v.x===g.x&&v.y===g.y)throw new xe("Cannot compute the quadrant for two identical points "+g);return v.x>=g.x?v.y>=g.y?Ji.NE:Ji.SE:v.y>=g.y?Ji.NW:Ji.SW}},ea.NE.get=function(){return 0},ea.NW.get=function(){return 1},ea.SW.get=function(){return 2},ea.SE.get=function(){return 3},Object.defineProperties(Ji,ea);var mo=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var g=arguments[1],v=arguments[2];this._edge=arguments[0],this.init(g,v),this._label=null}else if(4===arguments.length){var V=arguments[1],X=arguments[2],ye=arguments[3];this._edge=arguments[0],this.init(V,X),this._label=ye}};mo.prototype.compareDirection=function(a){return this._dx===a._dx&&this._dy===a._dy?0:this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:Ut.computeOrientation(a._p0,a._p1,this._p1)},mo.prototype.getDy=function(){return this._dy},mo.prototype.getCoordinate=function(){return this._p0},mo.prototype.setNode=function(a){this._node=a},mo.prototype.print=function(a){var h=Math.atan2(this._dy,this._dx),g=this.getClass().getName(),v=g.lastIndexOf("."),C=g.substring(v+1);a.print("  "+C+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+h+"   "+this._label)},mo.prototype.compareTo=function(a){return this.compareDirection(a)},mo.prototype.getDirectedCoordinate=function(){return this._p1},mo.prototype.getDx=function(){return this._dx},mo.prototype.getLabel=function(){return this._label},mo.prototype.getEdge=function(){return this._edge},mo.prototype.getQuadrant=function(){return this._quadrant},mo.prototype.getNode=function(){return this._node},mo.prototype.toString=function(){var a=Math.atan2(this._dy,this._dx),h=this.getClass().getName(),g=h.lastIndexOf(".");return"  "+h.substring(g+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label},mo.prototype.computeLabel=function(a){},mo.prototype.init=function(a,h){this._p0=a,this._p1=h,this._dx=h.x-a.x,this._dy=h.y-a.y,this._quadrant=Ji.quadrant(this._dx,this._dy),De.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},mo.prototype.interfaces_=function(){return[re]},mo.prototype.getClass=function(){return mo};var hc=function(a){function h(){var g=arguments[0],v=arguments[1];if(a.call(this,g),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=v,v)this.init(g.getCoordinate(0),g.getCoordinate(1));else{var C=g.getNumPoints()-1;this.init(g.getCoordinate(C),g.getCoordinate(C-1))}this.computeDirectedLabel()}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.getNextMin=function(){return this._nextMin},h.prototype.getDepth=function(g){return this._depth[g]},h.prototype.setVisited=function(g){this._isVisited=g},h.prototype.computeDirectedLabel=function(){this._label=new Ii(this._edge.getLabel()),this._isForward||this._label.flip()},h.prototype.getNext=function(){return this._next},h.prototype.setDepth=function(g,v){if(-999!==this._depth[g]&&this._depth[g]!==v)throw new Sl("assigned depths do not match",this.getCoordinate());this._depth[g]=v},h.prototype.isInteriorAreaEdge=function(){for(var g=!0,v=0;v<2;v++)this._label.isArea(v)&&this._label.getLocation(v,vn.LEFT)===Te.INTERIOR&&this._label.getLocation(v,vn.RIGHT)===Te.INTERIOR||(g=!1);return g},h.prototype.setNextMin=function(g){this._nextMin=g},h.prototype.print=function(g){a.prototype.print.call(this,g),g.print(" "+this._depth[vn.LEFT]+"/"+this._depth[vn.RIGHT]),g.print(" ("+this.getDepthDelta()+")"),this._isInResult&&g.print(" inResult")},h.prototype.setMinEdgeRing=function(g){this._minEdgeRing=g},h.prototype.isLineEdge=function(){var g=this._label.isLine(0)||this._label.isLine(1),v=!this._label.isArea(0)||this._label.allPositionsEqual(0,Te.EXTERIOR),C=!this._label.isArea(1)||this._label.allPositionsEqual(1,Te.EXTERIOR);return g&&v&&C},h.prototype.setEdgeRing=function(g){this._edgeRing=g},h.prototype.getMinEdgeRing=function(){return this._minEdgeRing},h.prototype.getDepthDelta=function(){var g=this._edge.getDepthDelta();return this._isForward||(g=-g),g},h.prototype.setInResult=function(g){this._isInResult=g},h.prototype.getSym=function(){return this._sym},h.prototype.isForward=function(){return this._isForward},h.prototype.getEdge=function(){return this._edge},h.prototype.printEdge=function(g){this.print(g),g.print(" "),this._isForward?this._edge.print(g):this._edge.printReverse(g)},h.prototype.setSym=function(g){this._sym=g},h.prototype.setVisitedEdge=function(g){this.setVisited(g),this._sym.setVisited(g)},h.prototype.setEdgeDepths=function(g,v){var C=this.getEdge().getDepthDelta();this._isForward||(C=-C);var V=1;g===vn.LEFT&&(V=-1);var X=vn.opposite(g),ye=v+C*V;this.setDepth(g,v),this.setDepth(X,ye)},h.prototype.getEdgeRing=function(){return this._edgeRing},h.prototype.isInResult=function(){return this._isInResult},h.prototype.setNext=function(g){this._next=g},h.prototype.isVisited=function(){return this._isVisited},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h.depthFactor=function(g,v){return g===Te.EXTERIOR&&v===Te.INTERIOR?1:g===Te.INTERIOR&&v===Te.EXTERIOR?-1:0},h}(mo),dc=function(){};dc.prototype.createNode=function(a){return new Yc(a,null)},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc};var Ks=function(){this._edges=new mn,this._nodes=null,this._edgeEndList=new mn,0===arguments.length?this._nodes=new _r(new dc):1===arguments.length&&(this._nodes=new _r(arguments[0]))};Ks.prototype.printEdges=function(a){a.println("Edges:");for(var h=0;h<this._edges.size();h++){a.println("edge "+h+":");var g=this._edges.get(h);g.print(a),g.eiList.print(a)}},Ks.prototype.find=function(a){return this._nodes.find(a)},Ks.prototype.addNode=function(){return arguments[0]instanceof Yc||arguments[0]instanceof ae?this._nodes.addNode(arguments[0]):void 0},Ks.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ks.prototype.linkResultDirectedEdges=function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()},Ks.prototype.debugPrintln=function(a){Sn.out.println(a)},Ks.prototype.isBoundaryNode=function(a,h){var g=this._nodes.find(h);if(null===g)return!1;var v=g.getLabel();return null!==v&&v.getLocation(a)===Te.BOUNDARY},Ks.prototype.linkAllDirectedEdges=function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()},Ks.prototype.matchInSameDirection=function(a,h,g,v){return!!a.equals(g)&&Ut.computeOrientation(a,h,v)===Ut.COLLINEAR&&Ji.quadrant(a,h)===Ji.quadrant(g,v)},Ks.prototype.getEdgeEnds=function(){return this._edgeEndList},Ks.prototype.debugPrint=function(a){Sn.out.print(a)},Ks.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ks.prototype.findEdgeInSameDirection=function(a,h){for(var g=0;g<this._edges.size();g++){var v=this._edges.get(g),C=v.getCoordinates();if(this.matchInSameDirection(a,h,C[0],C[1])||this.matchInSameDirection(a,h,C[C.length-1],C[C.length-2]))return v}return null},Ks.prototype.insertEdge=function(a){this._edges.add(a)},Ks.prototype.findEdgeEnd=function(a){for(var h=this.getEdgeEnds().iterator();h.hasNext();){var g=h.next();if(g.getEdge()===a)return g}return null},Ks.prototype.addEdges=function(a){for(var h=a.iterator();h.hasNext();){var g=h.next();this._edges.add(g);var v=new hc(g,!0),C=new hc(g,!1);v.setSym(C),C.setSym(v),this.add(v),this.add(C)}},Ks.prototype.add=function(a){this._nodes.add(a),this._edgeEndList.add(a)},Ks.prototype.getNodes=function(){return this._nodes.values()},Ks.prototype.findEdge=function(a,h){for(var g=0;g<this._edges.size();g++){var v=this._edges.get(g),C=v.getCoordinates();if(a.equals(C[0])&&h.equals(C[1]))return v}return null},Ks.prototype.interfaces_=function(){return[]},Ks.prototype.getClass=function(){return Ks},Ks.linkResultDirectedEdges=function(a){for(var h=a.iterator();h.hasNext();)h.next().getEdges().linkResultDirectedEdges()};var va=function(){this._geometryFactory=null,this._shellList=new mn,this._geometryFactory=arguments[0]};va.prototype.sortShellsAndHoles=function(a,h,g){for(var v=a.iterator();v.hasNext();){var C=v.next();C.isHole()?g.add(C):h.add(C)}},va.prototype.computePolygons=function(a){for(var h=new mn,g=a.iterator();g.hasNext();){var v=g.next().toPolygon(this._geometryFactory);h.add(v)}return h},va.prototype.placeFreeHoles=function(a,h){for(var g=h.iterator();g.hasNext();){var v=g.next();if(null===v.getShell()){var C=this.findEdgeRingContaining(v,a);if(null===C)throw new Sl("unable to assign hole to a shell",v.getCoordinate(0));v.setShell(C)}}},va.prototype.buildMinimalEdgeRings=function(a,h,g){for(var v=new mn,C=a.iterator();C.hasNext();){var V=C.next();if(V.getMaxNodeDegree()>2){V.linkDirectedEdgesForMinimalEdgeRings();var X=V.buildMinimalRings(),ye=this.findShell(X);null!==ye?(this.placePolygonHoles(ye,X),h.add(ye)):g.addAll(X)}else v.add(V)}return v},va.prototype.containsPoint=function(a){for(var h=this._shellList.iterator();h.hasNext();)if(h.next().containsPoint(a))return!0;return!1},va.prototype.buildMaximalEdgeRings=function(a){for(var h=new mn,g=a.iterator();g.hasNext();){var v=g.next();if(v.isInResult()&&v.getLabel().isArea()&&null===v.getEdgeRing()){var C=new kh(v,this._geometryFactory);h.add(C),C.setInResult()}}return h},va.prototype.placePolygonHoles=function(a,h){for(var g=h.iterator();g.hasNext();){var v=g.next();v.isHole()&&v.setShell(a)}},va.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},va.prototype.findEdgeRingContaining=function(a,h){for(var g=a.getLinearRing(),v=g.getEnvelopeInternal(),C=g.getCoordinateN(0),V=null,X=null,ye=h.iterator();ye.hasNext();){var Ue=ye.next(),vt=Ue.getLinearRing(),Bt=vt.getEnvelopeInternal();null!==V&&(X=V.getLinearRing().getEnvelopeInternal());var Gt=!1;Bt.contains(v)&&Ut.isPointInRing(C,vt.getCoordinates())&&(Gt=!0),Gt&&(null===V||X.contains(Bt))&&(V=Ue)}return V},va.prototype.findShell=function(a){for(var h=0,g=null,v=a.iterator();v.hasNext();){var C=v.next();C.isHole()||(g=C,h++)}return De.isTrue(h<=1,"found two shells in MinimalEdgeRing list"),g},va.prototype.add=function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){var h=arguments[0];Ks.linkResultDirectedEdges(arguments[1]);var v=this.buildMaximalEdgeRings(h),C=new mn,V=this.buildMinimalEdgeRings(v,this._shellList,C);this.sortShellsAndHoles(V,this._shellList,C),this.placeFreeHoles(this._shellList,C)}},va.prototype.interfaces_=function(){return[]},va.prototype.getClass=function(){return va};var Ru=function(){};Ru.prototype.getBounds=function(){},Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru};var ro=function(){this._bounds=null,this._item=null;var h=arguments[1];this._bounds=arguments[0],this._item=h};ro.prototype.getItem=function(){return this._item},ro.prototype.getBounds=function(){return this._bounds},ro.prototype.interfaces_=function(){return[Ru,B]},ro.prototype.getClass=function(){return ro};var Ll=function(){this._size=null,this._items=null,this._size=0,this._items=new mn,this._items.add(null)};Ll.prototype.poll=function(){if(this.isEmpty())return null;var a=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),a},Ll.prototype.size=function(){return this._size},Ll.prototype.reorder=function(a){for(var h=null,g=this._items.get(a);2*a<=this._size&&((h=2*a)!==this._size&&this._items.get(h+1).compareTo(this._items.get(h))<0&&h++,this._items.get(h).compareTo(g)<0);a=h)this._items.set(a,this._items.get(h));this._items.set(a,g)},Ll.prototype.clear=function(){this._size=0,this._items.clear()},Ll.prototype.isEmpty=function(){return 0===this._size},Ll.prototype.add=function(a){this._items.add(null),this._size+=1;var h=this._size;for(this._items.set(0,a);a.compareTo(this._items.get(Math.trunc(h/2)))<0;h/=2)this._items.set(h,this._items.get(Math.trunc(h/2)));this._items.set(h,a)},Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll};var au=function(){};au.prototype.visitItem=function(a){},au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au};var Tr=function(){};Tr.prototype.insert=function(a,h){},Tr.prototype.remove=function(a,h){},Tr.prototype.query=function(){},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr};var Ki=function(){this._childBoundables=new mn,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},Nu={serialVersionUID:{configurable:!0}};Ki.prototype.getLevel=function(){return this._level},Ki.prototype.size=function(){return this._childBoundables.size()},Ki.prototype.getChildBoundables=function(){return this._childBoundables},Ki.prototype.addChildBoundable=function(a){De.isTrue(null===this._bounds),this._childBoundables.add(a)},Ki.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Ki.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Ki.prototype.interfaces_=function(){return[Ru,B]},Ki.prototype.getClass=function(){return Ki},Nu.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Ki,Nu);var io=function(){};io.reverseOrder=function(){return{compare:function(a,h){return h.compareTo(a)}}},io.min=function(a){return io.sort(a),a.get(0)},io.sort=function(a,h){var g=a.toArray();h?It.sort(g,h):It.sort(g);for(var v=a.iterator(),C=0,V=g.length;C<V;C++)v.next(),v.set(g[C])},io.singletonList=function(a){var h=new mn;return h.add(a),h};var zs=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var h=arguments[1],g=arguments[2];this._boundable1=arguments[0],this._boundable2=h,this._itemDistance=g,this._distance=this.distance()};zs.prototype.expandToQueue=function(a,h){var g=zs.isComposite(this._boundable1),v=zs.isComposite(this._boundable2);if(g&&v)return zs.area(this._boundable1)>zs.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,a,h),null):(this.expand(this._boundable2,this._boundable1,a,h),null);if(g)return this.expand(this._boundable1,this._boundable2,a,h),null;if(v)return this.expand(this._boundable2,this._boundable1,a,h),null;throw new xe("neither boundable is composite")},zs.prototype.isLeaves=function(){return!(zs.isComposite(this._boundable1)||zs.isComposite(this._boundable2))},zs.prototype.compareTo=function(a){return this._distance<a._distance?-1:this._distance>a._distance?1:0},zs.prototype.expand=function(a,h,g,v){for(var C=a.getChildBoundables().iterator();C.hasNext();){var V=C.next(),X=new zs(V,h,this._itemDistance);X.getDistance()<v&&g.add(X)}},zs.prototype.getBoundable=function(a){return 0===a?this._boundable1:this._boundable2},zs.prototype.getDistance=function(){return this._distance},zs.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},zs.prototype.interfaces_=function(){return[re]},zs.prototype.getClass=function(){return zs},zs.area=function(a){return a.getBounds().getArea()},zs.isComposite=function(a){return a instanceof Ki};var Dr=function a(){if(this._root=null,this._built=!1,this._itemBoundables=new mn,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=a.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var g=arguments[0];De.isTrue(g>1,"Node capacity must be greater than 1"),this._nodeCapacity=g}},gl={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Dr.prototype.getNodeCapacity=function(){return this._nodeCapacity},Dr.prototype.lastNode=function(a){return a.get(a.size()-1)},Dr.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var a=0,h=arguments[0].getChildBoundables().iterator();h.hasNext();){var g=h.next();g instanceof Ki?a+=this.size(g):g instanceof ro&&(a+=1)}return a}},Dr.prototype.removeItem=function(a,h){for(var g=null,v=a.getChildBoundables().iterator();v.hasNext();){var C=v.next();C instanceof ro&&C.getItem()===h&&(g=C)}return null!==g&&(a.getChildBoundables().remove(g),!0)},Dr.prototype.itemsTree=function(){if(0===arguments.length){this.build();var a=this.itemsTree(this._root);return null===a?new mn:a}if(1===arguments.length){for(var h=arguments[0],g=new mn,v=h.getChildBoundables().iterator();v.hasNext();){var C=v.next();if(C instanceof Ki){var V=this.itemsTree(C);null!==V&&g.add(V)}else C instanceof ro?g.add(C.getItem()):De.shouldNeverReachHere()}return g.size()<=0?null:g}},Dr.prototype.insert=function(a,h){De.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ro(a,h))},Dr.prototype.boundablesAtLevel=function(){if(1===arguments.length){var a=arguments[0],h=new mn;return this.boundablesAtLevel(a,this._root,h),h}if(3===arguments.length){var g=arguments[0],v=arguments[1],C=arguments[2];if(De.isTrue(g>-2),v.getLevel()===g)return C.add(v),null;for(var V=v.getChildBoundables().iterator();V.hasNext();){var X=V.next();X instanceof Ki?this.boundablesAtLevel(g,X,C):(De.isTrue(X instanceof ro),-1===g&&C.add(X))}return null}},Dr.prototype.query=function(){if(1===arguments.length){var a=arguments[0];this.build();var h=new mn;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,h),h}if(2===arguments.length){var g=arguments[0],v=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),g)&&this.query(g,this._root,v)}else if(3===arguments.length)if(Pt(arguments[2],au)&&arguments[0]instanceof Object&&arguments[1]instanceof Ki)for(var C=arguments[0],X=arguments[2],ye=arguments[1].getChildBoundables(),Ue=0;Ue<ye.size();Ue++){var vt=ye.get(Ue);this.getIntersectsOp().intersects(vt.getBounds(),C)&&(vt instanceof Ki?this.query(C,vt,X):vt instanceof ro?X.visitItem(vt.getItem()):De.shouldNeverReachHere())}else if(Pt(arguments[2],Ys)&&arguments[0]instanceof Object&&arguments[1]instanceof Ki)for(var Bt=arguments[0],Ln=arguments[2],Cn=arguments[1].getChildBoundables(),Yn=0;Yn<Cn.size();Yn++){var sr=Cn.get(Yn);this.getIntersectsOp().intersects(sr.getBounds(),Bt)&&(sr instanceof Ki?this.query(Bt,sr,Ln):sr instanceof ro?Ln.add(sr.getItem()):De.shouldNeverReachHere())}},Dr.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Dr.prototype.getRoot=function(){return this.build(),this._root},Dr.prototype.remove=function(){if(2===arguments.length){var a=arguments[0],h=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.remove(a,this._root,h)}if(3===arguments.length){var g=arguments[0],v=arguments[1],C=arguments[2],V=this.removeItem(v,C);if(V)return!0;for(var X=null,ye=v.getChildBoundables().iterator();ye.hasNext();){var Ue=ye.next();if(this.getIntersectsOp().intersects(Ue.getBounds(),g)&&Ue instanceof Ki&&(V=this.remove(g,Ue,C))){X=Ue;break}}return null!==X&&X.getChildBoundables().isEmpty()&&v.getChildBoundables().remove(X),V}},Dr.prototype.createHigherLevels=function(a,h){De.isTrue(!a.isEmpty());var g=this.createParentBoundables(a,h+1);return 1===g.size()?g.get(0):this.createHigherLevels(g,h+1)},Dr.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var a=0,h=arguments[0].getChildBoundables().iterator();h.hasNext();){var g=h.next();if(g instanceof Ki){var v=this.depth(g);v>a&&(a=v)}}return a+1}},Dr.prototype.createParentBoundables=function(a,h){De.isTrue(!a.isEmpty());var g=new mn;g.add(this.createNode(h));var v=new mn(a);io.sort(v,this.getComparator());for(var C=v.iterator();C.hasNext();){var V=C.next();this.lastNode(g).getChildBoundables().size()===this.getNodeCapacity()&&g.add(this.createNode(h)),this.lastNode(g).addChildBoundable(V)}return g},Dr.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Dr.prototype.interfaces_=function(){return[B]},Dr.prototype.getClass=function(){return Dr},Dr.compareDoubles=function(a,h){return a>h?1:a<h?-1:0},gl.IntersectsOp.get=function(){return _l},gl.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},gl.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Dr,gl);var _l=function(){},fc=function(){};fc.prototype.distance=function(a,h){},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var Lc=function(a){function h(v){a.call(this,v=v||h.DEFAULT_NODE_CAPACITY)}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return h.prototype.createParentBoundablesFromVerticalSlices=function(v,C){De.isTrue(v.length>0);for(var V=new mn,X=0;X<v.length;X++)V.addAll(this.createParentBoundablesFromVerticalSlice(v[X],C));return V},h.prototype.createNode=function(v){return new Ti(v)},h.prototype.size=function(){return 0===arguments.length?a.prototype.size.call(this):a.prototype.size.apply(this,arguments)},h.prototype.insert=function(){if(2!==arguments.length)return a.prototype.insert.apply(this,arguments);var v=arguments[0],C=arguments[1];if(v.isNull())return null;a.prototype.insert.call(this,v,C)},h.prototype.getIntersectsOp=function(){return h.intersectsOp},h.prototype.verticalSlices=function(v,C){for(var V=Math.trunc(Math.ceil(v.size()/C)),X=new Array(C).fill(null),ye=v.iterator(),Ue=0;Ue<C;Ue++){X[Ue]=new mn;for(var vt=0;ye.hasNext()&&vt<V;){var Bt=ye.next();X[Ue].add(Bt),vt++}}return X},h.prototype.query=function(){if(1===arguments.length)return a.prototype.query.call(this,arguments[0]);2===arguments.length?a.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Pt(arguments[2],au)&&arguments[0]instanceof Object&&arguments[1]instanceof Ki||Pt(arguments[2],Ys)&&arguments[0]instanceof Object&&arguments[1]instanceof Ki)&&a.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},h.prototype.getComparator=function(){return h.yComparator},h.prototype.createParentBoundablesFromVerticalSlice=function(v,C){return a.prototype.createParentBoundables.call(this,v,C)},h.prototype.remove=function(){return 2===arguments.length?a.prototype.remove.call(this,arguments[0],arguments[1]):a.prototype.remove.apply(this,arguments)},h.prototype.depth=function(){return 0===arguments.length?a.prototype.depth.call(this):a.prototype.depth.apply(this,arguments)},h.prototype.createParentBoundables=function(v,C){De.isTrue(!v.isEmpty());var V=Math.trunc(Math.ceil(v.size()/this.getNodeCapacity())),X=new mn(v);io.sort(X,h.xComparator);var ye=this.verticalSlices(X,Math.trunc(Math.ceil(Math.sqrt(V))));return this.createParentBoundablesFromVerticalSlices(ye,C)},h.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Pt(arguments[0],fc)){var v=arguments[0],C=new zs(this.getRoot(),this.getRoot(),v);return this.nearestNeighbour(C)}if(arguments[0]instanceof zs)return this.nearestNeighbour(arguments[0],se.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof h&&Pt(arguments[1],fc)){var X=arguments[0],ye=arguments[1],Ue=new zs(this.getRoot(),X.getRoot(),ye);return this.nearestNeighbour(Ue)}if(arguments[0]instanceof zs&&"number"==typeof arguments[1]){var vt=arguments[0],Bt=arguments[1],Gt=null,Ln=new Ll;for(Ln.add(vt);!Ln.isEmpty()&&Bt>0;){var Cn=Ln.poll(),Yn=Cn.getDistance();if(Yn>=Bt)break;Cn.isLeaves()?(Bt=Yn,Gt=Cn):Cn.expandToQueue(Ln,Bt)}return[Gt.getBoundable(0).getItem(),Gt.getBoundable(1).getItem()]}}else if(3===arguments.length){var so=arguments[2],ko=new ro(arguments[0],arguments[1]),Ol=new zs(this.getRoot(),ko,so);return this.nearestNeighbour(Ol)[0]}},h.prototype.interfaces_=function(){return[Tr,B]},h.prototype.getClass=function(){return h},h.centreX=function(v){return h.avg(v.getMinX(),v.getMaxX())},h.avg=function(v,C){return(v+C)/2},h.centreY=function(v){return h.avg(v.getMinY(),v.getMaxY())},g.STRtreeNode.get=function(){return Ti},g.serialVersionUID.get=function(){return 0x39920f7d5f261e0},g.xComparator.get=function(){return{interfaces_:function(){return[we]},compare:function(v,C){return a.compareDoubles(h.centreX(v.getBounds()),h.centreX(C.getBounds()))}}},g.yComparator.get=function(){return{interfaces_:function(){return[we]},compare:function(v,C){return a.compareDoubles(h.centreY(v.getBounds()),h.centreY(C.getBounds()))}}},g.intersectsOp.get=function(){return{interfaces_:function(){return[a.IntersectsOp]},intersects:function(v,C){return v.intersects(C)}}},g.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(h,g),h}(Dr),Ti=function(a){function h(){a.call(this,arguments[0])}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.computeBounds=function(){for(var g=null,v=this.getChildBoundables().iterator();v.hasNext();){var C=v.next();null===g?g=new wn(C.getBounds()):g.expandToInclude(C.getBounds())}return g},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Ki),kr=function(){};kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr},kr.relativeSign=function(a,h){return a<h?-1:a>h?1:0},kr.compare=function(a,h,g){if(h.equals2D(g))return 0;var v=kr.relativeSign(h.x,g.x),C=kr.relativeSign(h.y,g.y);switch(a){case 0:return kr.compareValue(v,C);case 1:return kr.compareValue(C,v);case 2:return kr.compareValue(C,-v);case 3:return kr.compareValue(-v,C);case 4:return kr.compareValue(-v,-C);case 5:return kr.compareValue(-C,-v);case 6:return kr.compareValue(-C,v);case 7:return kr.compareValue(v,-C)}return De.shouldNeverReachHere("invalid octant value"),0},kr.compareValue=function(a,h){return a<0?-1:a>0?1:h<0?-1:h>0?1:0};var Na=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var a=arguments[0],h=arguments[1],g=arguments[2],v=arguments[3];this._segString=a,this.coord=new ae(h),this.segmentIndex=g,this._segmentOctant=v,this._isInterior=!h.equals2D(a.getCoordinate(g))};Na.prototype.getCoordinate=function(){return this.coord},Na.prototype.print=function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)},Na.prototype.compareTo=function(a){var h=a;return this.segmentIndex<h.segmentIndex?-1:this.segmentIndex>h.segmentIndex?1:this.coord.equals2D(h.coord)?0:kr.compare(this._segmentOctant,this.coord,h.coord)},Na.prototype.isEndPoint=function(a){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===a},Na.prototype.isInterior=function(){return this._isInterior},Na.prototype.interfaces_=function(){return[re]},Na.prototype.getClass=function(){return Na};var Bo=function(){this._nodeMap=new rt,this._edge=null,this._edge=arguments[0]};Bo.prototype.getSplitCoordinates=function(){var a=new oa;this.addEndpoints();for(var h=this.iterator(),g=h.next();h.hasNext();){var v=h.next();this.addEdgeCoordinates(g,v,a),g=v}return a.toCoordinateArray()},Bo.prototype.addCollapsedNodes=function(){var a=new mn;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var h=a.iterator();h.hasNext();){var g=h.next().intValue();this.add(this._edge.getCoordinate(g),g)}},Bo.prototype.print=function(a){a.println("Intersections:");for(var h=this.iterator();h.hasNext();)h.next().print(a)},Bo.prototype.findCollapsesFromExistingVertices=function(a){for(var h=0;h<this._edge.size()-2;h++){var g=this._edge.getCoordinate(h),v=this._edge.getCoordinate(h+2);g.equals2D(v)&&a.add(new xt(h+1))}},Bo.prototype.addEdgeCoordinates=function(a,h,g){var v=this._edge.getCoordinate(h.segmentIndex),C=h.isInterior()||!h.coord.equals2D(v);g.add(new ae(a.coord),!1);for(var V=a.segmentIndex+1;V<=h.segmentIndex;V++)g.add(this._edge.getCoordinate(V));C&&g.add(new ae(h.coord))},Bo.prototype.iterator=function(){return this._nodeMap.values().iterator()},Bo.prototype.addSplitEdges=function(a){this.addEndpoints(),this.addCollapsedNodes();for(var h=this.iterator(),g=h.next();h.hasNext();){var v=h.next(),C=this.createSplitEdge(g,v);a.add(C),g=v}},Bo.prototype.findCollapseIndex=function(a,h,g){if(!a.coord.equals2D(h.coord))return!1;var v=h.segmentIndex-a.segmentIndex;return h.isInterior()||v--,1===v&&(g[0]=a.segmentIndex+1,!0)},Bo.prototype.findCollapsesFromInsertedNodes=function(a){for(var h=new Array(1).fill(null),g=this.iterator(),v=g.next();g.hasNext();){var C=g.next();this.findCollapseIndex(v,C,h)&&a.add(new xt(h[0])),v=C}},Bo.prototype.getEdge=function(){return this._edge},Bo.prototype.addEndpoints=function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(a),a)},Bo.prototype.createSplitEdge=function(a,h){var g=h.segmentIndex-a.segmentIndex+2,v=this._edge.getCoordinate(h.segmentIndex),C=h.isInterior()||!h.coord.equals2D(v);C||g--;var V=new Array(g).fill(null),X=0;V[X++]=new ae(a.coord);for(var ye=a.segmentIndex+1;ye<=h.segmentIndex;ye++)V[X++]=this._edge.getCoordinate(ye);return C&&(V[X]=new ae(h.coord)),new Hi(V,this._edge.getData())},Bo.prototype.add=function(a,h){var g=new Na(this._edge,a,h,this._edge.getSegmentOctant(h)),v=this._nodeMap.get(g);return null!==v?(De.isTrue(v.coord.equals2D(a),"Found equal nodes with different coordinates"),v):(this._nodeMap.put(g,g),g)},Bo.prototype.checkSplitEdgesCorrectness=function(a){var h=this._edge.getCoordinates(),g=a.get(0).getCoordinate(0);if(!g.equals2D(h[0]))throw new Oe("bad split edge start point at "+g);var v=a.get(a.size()-1).getCoordinates(),C=v[v.length-1];if(!C.equals2D(h[h.length-1]))throw new Oe("bad split edge end point at "+C)},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo};var Fu=function(){};Fu.prototype.interfaces_=function(){return[]},Fu.prototype.getClass=function(){return Fu},Fu.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],h=arguments[1];if(0===a&&0===h)throw new xe("Cannot compute the octant for point ( "+a+", "+h+" )");var g=Math.abs(a),v=Math.abs(h);return a>=0?h>=0?g>=v?0:1:g>=v?7:6:h>=0?g>=v?3:2:g>=v?4:5}if(arguments[0]instanceof ae&&arguments[1]instanceof ae){var C=arguments[0],V=arguments[1],X=V.x-C.x,ye=V.y-C.y;if(0===X&&0===ye)throw new xe("Cannot compute the octant for two identical points "+C);return Fu.octant(X,ye)}};var bi=function(){};bi.prototype.getCoordinates=function(){},bi.prototype.size=function(){},bi.prototype.getCoordinate=function(a){},bi.prototype.isClosed=function(){},bi.prototype.setData=function(a){},bi.prototype.getData=function(){},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi};var lu=function(){};lu.prototype.addIntersection=function(a,h){},lu.prototype.interfaces_=function(){return[bi]},lu.prototype.getClass=function(){return lu};var Hi=function(){this._nodeList=new Bo(this),this._pts=null,this._data=null;var h=arguments[1];this._pts=arguments[0],this._data=h};Hi.prototype.getCoordinates=function(){return this._pts},Hi.prototype.size=function(){return this._pts.length},Hi.prototype.getCoordinate=function(a){return this._pts[a]},Hi.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Hi.prototype.getSegmentOctant=function(a){return a===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))},Hi.prototype.setData=function(a){this._data=a},Hi.prototype.safeOctant=function(a,h){return a.equals2D(h)?0:Fu.octant(a,h)},Hi.prototype.getData=function(){return this._data},Hi.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var v=arguments[1],V=new ae(arguments[0].getIntersection(arguments[3]));this.addIntersection(V,v)}},Hi.prototype.toString=function(){return Lt.toLineString(new Wn(this._pts))},Hi.prototype.getNodeList=function(){return this._nodeList},Hi.prototype.addIntersectionNode=function(a,h){var g=h,v=g+1;return v<this._pts.length&&a.equals2D(this._pts[v])&&(g=v),this._nodeList.add(a,g)},Hi.prototype.addIntersections=function(a,h,g){for(var v=0;v<a.getIntersectionNum();v++)this.addIntersection(a,h,g,v)},Hi.prototype.interfaces_=function(){return[lu]},Hi.prototype.getClass=function(){return Hi},Hi.getNodedSubstrings=function(){if(1===arguments.length){var a=arguments[0],h=new mn;return Hi.getNodedSubstrings(a,h),h}if(2===arguments.length)for(var v=arguments[1],C=arguments[0].iterator();C.hasNext();)C.next().getNodeList().addSplitEdges(v)};var Kn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new ae,this.p1=new ae;else if(1===arguments.length){var a=arguments[0];this.p0=new ae(a.p0),this.p1=new ae(a.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var v=arguments[2],C=arguments[3];this.p0=new ae(arguments[0],arguments[1]),this.p1=new ae(v,C)}},Bs={serialVersionUID:{configurable:!0}};Kn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Kn.prototype.orientationIndex=function(){if(arguments[0]instanceof Kn){var a=arguments[0],h=Ut.orientationIndex(this.p0,this.p1,a.p0),g=Ut.orientationIndex(this.p0,this.p1,a.p1);return h>=0&&g>=0||h<=0&&g<=0?Math.max(h,g):0}if(arguments[0]instanceof ae)return Ut.orientationIndex(this.p0,this.p1,arguments[0])},Kn.prototype.toGeometry=function(a){return a.createLineString([this.p0,this.p1])},Kn.prototype.isVertical=function(){return this.p0.x===this.p1.x},Kn.prototype.equals=function(a){if(!(a instanceof Kn))return!1;var h=a;return this.p0.equals(h.p0)&&this.p1.equals(h.p1)},Kn.prototype.intersection=function(a){var h=new zt;return h.computeIntersection(this.p0,this.p1,a.p0,a.p1),h.hasIntersection()?h.getIntersection(0):null},Kn.prototype.project=function(){if(arguments[0]instanceof ae){var a=arguments[0];if(a.equals(this.p0)||a.equals(this.p1))return new ae(a);var h=this.projectionFactor(a),g=new ae;return g.x=this.p0.x+h*(this.p1.x-this.p0.x),g.y=this.p0.y+h*(this.p1.y-this.p0.y),g}if(arguments[0]instanceof Kn){var v=arguments[0],C=this.projectionFactor(v.p0),V=this.projectionFactor(v.p1);if(C>=1&&V>=1||C<=0&&V<=0)return null;var X=this.project(v.p0);C<0&&(X=this.p0),C>1&&(X=this.p1);var ye=this.project(v.p1);return V<0&&(ye=this.p0),V>1&&(ye=this.p1),new Kn(X,ye)}},Kn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Kn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Kn.prototype.getCoordinate=function(a){return 0===a?this.p0:this.p1},Kn.prototype.distancePerpendicular=function(a){return Ut.distancePointLinePerpendicular(a,this.p0,this.p1)},Kn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Kn.prototype.midPoint=function(){return Kn.midPoint(this.p0,this.p1)},Kn.prototype.projectionFactor=function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var h=this.p1.x-this.p0.x,g=this.p1.y-this.p0.y,v=h*h+g*g;return v<=0?se.NaN:((a.x-this.p0.x)*h+(a.y-this.p0.y)*g)/v},Kn.prototype.closestPoints=function(a){var h=this.intersection(a);if(null!==h)return[h,h];var g=new Array(2).fill(null),v=se.MAX_VALUE,C=null,V=this.closestPoint(a.p0);v=V.distance(a.p0),g[0]=V,g[1]=a.p0;var X=this.closestPoint(a.p1);(C=X.distance(a.p1))<v&&(v=C,g[0]=X,g[1]=a.p1);var ye=a.closestPoint(this.p0);(C=ye.distance(this.p0))<v&&(v=C,g[0]=this.p0,g[1]=ye);var Ue=a.closestPoint(this.p1);return(C=Ue.distance(this.p1))<v&&(v=C,g[0]=this.p1,g[1]=Ue),g},Kn.prototype.closestPoint=function(a){var h=this.projectionFactor(a);return h>0&&h<1?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1},Kn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Kn.prototype.getLength=function(){return this.p0.distance(this.p1)},Kn.prototype.compareTo=function(a){var h=a,g=this.p0.compareTo(h.p0);return 0!==g?g:this.p1.compareTo(h.p1)},Kn.prototype.reverse=function(){var a=this.p0;this.p0=this.p1,this.p1=a},Kn.prototype.equalsTopo=function(a){return this.p0.equals(a.p0)&&(this.p1.equals(a.p1)||this.p0.equals(a.p1))&&this.p1.equals(a.p0)},Kn.prototype.lineIntersection=function(a){try{return On.intersection(this.p0,this.p1,a.p0,a.p1)}catch(h){if(!(h instanceof Pn))throw h}return null},Kn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Kn.prototype.pointAlongOffset=function(a,h){var g=this.p0.x+a*(this.p1.x-this.p0.x),v=this.p0.y+a*(this.p1.y-this.p0.y),C=this.p1.x-this.p0.x,V=this.p1.y-this.p0.y,X=Math.sqrt(C*C+V*V),ye=0,Ue=0;if(0!==h){if(X<=0)throw new Error("Cannot compute offset from zero-length line segment");ye=h*C/X,Ue=h*V/X}return new ae(g-Ue,v+ye)},Kn.prototype.setCoordinates=function(){if(1===arguments.length){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(2===arguments.length){var h=arguments[0],g=arguments[1];this.p0.x=h.x,this.p0.y=h.y,this.p1.x=g.x,this.p1.y=g.y}},Kn.prototype.segmentFraction=function(a){var h=this.projectionFactor(a);return h<0?h=0:(h>1||se.isNaN(h))&&(h=1),h},Kn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Kn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Kn.prototype.distance=function(){if(arguments[0]instanceof Kn){var a=arguments[0];return Ut.distanceLineLine(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof ae)return Ut.distancePointLine(arguments[0],this.p0,this.p1)},Kn.prototype.pointAlong=function(a){var h=new ae;return h.x=this.p0.x+a*(this.p1.x-this.p0.x),h.y=this.p0.y+a*(this.p1.y-this.p0.y),h},Kn.prototype.hashCode=function(){var a=se.doubleToLongBits(this.p0.x);a^=31*se.doubleToLongBits(this.p0.y);var h=Math.trunc(a)^Math.trunc(a>>32),g=se.doubleToLongBits(this.p1.x);return g^=31*se.doubleToLongBits(this.p1.y),h^Math.trunc(g)^Math.trunc(g>>32)},Kn.prototype.interfaces_=function(){return[re,B]},Kn.prototype.getClass=function(){return Kn},Kn.midPoint=function(a,h){return new ae((a.x+h.x)/2,(a.y+h.y)/2)},Bs.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Kn,Bs);var xa=function(){this.tempEnv1=new wn,this.tempEnv2=new wn,this._overlapSeg1=new Kn,this._overlapSeg2=new Kn};xa.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var g=arguments[2],v=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),g.getLineSegment(v,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},xa.prototype.interfaces_=function(){return[]},xa.prototype.getClass=function(){return xa};var jo=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var h=arguments[1],g=arguments[2],v=arguments[3];this._pts=arguments[0],this._start=h,this._end=g,this._context=v};jo.prototype.getLineSegment=function(a,h){h.p0=this._pts[a],h.p1=this._pts[a+1]},jo.prototype.computeSelect=function(a,h,g,v){if(v.tempEnv1.init(this._pts[h],this._pts[g]),g-h==1)return v.select(this,h),null;if(!a.intersects(v.tempEnv1))return null;var X=Math.trunc((h+g)/2);h<X&&this.computeSelect(a,h,X,v),X<g&&this.computeSelect(a,X,g,v)},jo.prototype.getCoordinates=function(){for(var a=new Array(this._end-this._start+1).fill(null),h=0,g=this._start;g<=this._end;g++)a[h++]=this._pts[g];return a},jo.prototype.computeOverlaps=function(a,h){this.computeOverlapsInternal(this._start,this._end,a,a._start,a._end,h)},jo.prototype.setId=function(a){this._id=a},jo.prototype.select=function(a,h){this.computeSelect(a,this._start,this._end,h)},jo.prototype.getEnvelope=function(){return null===this._env&&(this._env=new wn(this._pts[this._start],this._pts[this._end])),this._env},jo.prototype.getEndIndex=function(){return this._end},jo.prototype.getStartIndex=function(){return this._start},jo.prototype.getContext=function(){return this._context},jo.prototype.getId=function(){return this._id},jo.prototype.computeOverlapsInternal=function(a,h,g,v,C,V){var X=this._pts[a],ye=this._pts[h],Ue=g._pts[v],vt=g._pts[C];if(h-a==1&&C-v==1)return V.overlap(this,a,g,v),null;if(V.tempEnv1.init(X,ye),V.tempEnv2.init(Ue,vt),!V.tempEnv1.intersects(V.tempEnv2))return null;var Bt=Math.trunc((a+h)/2),Gt=Math.trunc((v+C)/2);a<Bt&&(v<Gt&&this.computeOverlapsInternal(a,Bt,g,v,Gt,V),Gt<C&&this.computeOverlapsInternal(a,Bt,g,Gt,C,V)),Bt<h&&(v<Gt&&this.computeOverlapsInternal(Bt,h,g,v,Gt,V),Gt<C&&this.computeOverlapsInternal(Bt,h,g,Gt,C,V))},jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo};var la=function(){};la.prototype.interfaces_=function(){return[]},la.prototype.getClass=function(){return la},la.getChainStartIndices=function(a){var h=0,g=new mn;g.add(new xt(h));do{var v=la.findChainEnd(a,h);g.add(new xt(v)),h=v}while(h<a.length-1);return la.toIntArray(g)},la.findChainEnd=function(a,h){for(var g=h;g<a.length-1&&a[g].equals2D(a[g+1]);)g++;if(g>=a.length-1)return a.length-1;for(var v=Ji.quadrant(a[g],a[g+1]),C=h+1;C<a.length&&(a[C-1].equals2D(a[C])||Ji.quadrant(a[C-1],a[C])===v);)C++;return C-1},la.getChains=function(){if(1===arguments.length)return la.getChains(arguments[0],null);if(2===arguments.length){for(var h=arguments[0],g=arguments[1],v=new mn,C=la.getChainStartIndices(h),V=0;V<C.length-1;V++){var X=new jo(h,C[V],C[V+1],g);v.add(X)}return v}},la.toIntArray=function(a){for(var h=new Array(a.size()).fill(null),g=0;g<h.length;g++)h[g]=a.get(g).intValue();return h};var Hl=function(){};Hl.prototype.computeNodes=function(a){},Hl.prototype.getNodedSubstrings=function(){},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl};var sl=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};sl.prototype.setSegmentIntersector=function(a){this._segInt=a},sl.prototype.interfaces_=function(){return[Hl]},sl.prototype.getClass=function(){return sl};var Ju=function(a){function h(v){v?a.call(this,v):a.call(this),this._monoChains=new mn,this._index=new Lc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h;var g={SegmentOverlapAction:{configurable:!0}};return h.prototype.getMonotoneChains=function(){return this._monoChains},h.prototype.getNodedSubstrings=function(){return Hi.getNodedSubstrings(this._nodedSegStrings)},h.prototype.getIndex=function(){return this._index},h.prototype.add=function(v){for(var C=la.getChains(v.getCoordinates(),v).iterator();C.hasNext();){var V=C.next();V.setId(this._idCounter++),this._index.insert(V.getEnvelope(),V),this._monoChains.add(V)}},h.prototype.computeNodes=function(v){this._nodedSegStrings=v;for(var C=v.iterator();C.hasNext();)this.add(C.next());this.intersectChains()},h.prototype.intersectChains=function(){for(var v=new kc(this._segInt),C=this._monoChains.iterator();C.hasNext();)for(var V=C.next(),X=this._index.query(V.getEnvelope()).iterator();X.hasNext();){var ye=X.next();if(ye.getId()>V.getId()&&(V.computeOverlaps(ye,v),this._nOverlaps++),this._segInt.isDone())return null}},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},g.SegmentOverlapAction.get=function(){return kc},Object.defineProperties(h,g),h}(sl),kc=function(a){function h(){a.call(this),this._si=null,this._si=arguments[0]}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.overlap=function(){if(4!==arguments.length)return a.prototype.overlap.apply(this,arguments);var v=arguments[1],C=arguments[2],V=arguments[3],X=arguments[0].getContext(),ye=C.getContext();this._si.processIntersections(X,v,ye,V)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(xa),vr=function a(){if(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=a.CAP_ROUND,this._joinStyle=a.JOIN_ROUND,this._mitreLimit=a.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=a.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var v=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(v)}else if(4===arguments.length){var V=arguments[1],X=arguments[2],ye=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(V),this.setJoinStyle(X),this.setMitreLimit(ye)}},yl={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};vr.prototype.getEndCapStyle=function(){return this._endCapStyle},vr.prototype.isSingleSided=function(){return this._isSingleSided},vr.prototype.setQuadrantSegments=function(a){this._quadrantSegments=a,0===this._quadrantSegments&&(this._joinStyle=vr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=vr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),a<=0&&(this._quadrantSegments=1),this._joinStyle!==vr.JOIN_ROUND&&(this._quadrantSegments=vr.DEFAULT_QUADRANT_SEGMENTS)},vr.prototype.getJoinStyle=function(){return this._joinStyle},vr.prototype.setJoinStyle=function(a){this._joinStyle=a},vr.prototype.setSimplifyFactor=function(a){this._simplifyFactor=a<0?0:a},vr.prototype.getSimplifyFactor=function(){return this._simplifyFactor},vr.prototype.getQuadrantSegments=function(){return this._quadrantSegments},vr.prototype.setEndCapStyle=function(a){this._endCapStyle=a},vr.prototype.getMitreLimit=function(){return this._mitreLimit},vr.prototype.setMitreLimit=function(a){this._mitreLimit=a},vr.prototype.setSingleSided=function(a){this._isSingleSided=a},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.bufferDistanceError=function(a){var h=Math.PI/2/a;return 1-Math.cos(h/2)},yl.CAP_ROUND.get=function(){return 1},yl.CAP_FLAT.get=function(){return 2},yl.CAP_SQUARE.get=function(){return 3},yl.JOIN_ROUND.get=function(){return 1},yl.JOIN_MITRE.get=function(){return 2},yl.JOIN_BEVEL.get=function(){return 3},yl.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},yl.DEFAULT_MITRE_LIMIT.get=function(){return 5},yl.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(vr,yl);var Ws=function(a){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ut.COUNTERCLOCKWISE,this._inputLine=a||null},wa={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ws.prototype.isDeletable=function(a,h,g,v){var C=this._inputLine[a],V=this._inputLine[h],X=this._inputLine[g];return!!this.isConcave(C,V,X)&&!!this.isShallow(C,V,X,v)&&this.isShallowSampled(C,V,a,g,v)},Ws.prototype.deleteShallowConcavities=function(){for(var a=1,h=this.findNextNonDeletedIndex(a),g=this.findNextNonDeletedIndex(h),v=!1;g<this._inputLine.length;){var C=!1;this.isDeletable(a,h,g,this._distanceTol)&&(this._isDeleted[h]=Ws.DELETE,C=!0,v=!0),h=this.findNextNonDeletedIndex(a=C?g:h),g=this.findNextNonDeletedIndex(h)}return v},Ws.prototype.isShallowConcavity=function(a,h,g,v){return Ut.computeOrientation(a,h,g)===this._angleOrientation&&Ut.distancePointLine(h,a,g)<v},Ws.prototype.isShallowSampled=function(a,h,g,v,C){var V=Math.trunc((v-g)/Ws.NUM_PTS_TO_CHECK);V<=0&&(V=1);for(var X=g;X<v;X+=V)if(!this.isShallow(a,h,this._inputLine[X],C))return!1;return!0},Ws.prototype.isConcave=function(a,h,g){return Ut.computeOrientation(a,h,g)===this._angleOrientation},Ws.prototype.simplify=function(a){this._distanceTol=Math.abs(a),a<0&&(this._angleOrientation=Ut.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var h=!1;do{h=this.deleteShallowConcavities()}while(h);return this.collapseLine()},Ws.prototype.findNextNonDeletedIndex=function(a){for(var h=a+1;h<this._inputLine.length&&this._isDeleted[h]===Ws.DELETE;)h++;return h},Ws.prototype.isShallow=function(a,h,g,v){return Ut.distancePointLine(h,a,g)<v},Ws.prototype.collapseLine=function(){for(var a=new oa,h=0;h<this._inputLine.length;h++)this._isDeleted[h]!==Ws.DELETE&&a.add(this._inputLine[h]);return a.toCoordinateArray()},Ws.prototype.interfaces_=function(){return[]},Ws.prototype.getClass=function(){return Ws},Ws.simplify=function(a,h){return new Ws(a).simplify(h)},wa.INIT.get=function(){return 0},wa.DELETE.get=function(){return 1},wa.KEEP.get=function(){return 1},wa.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ws,wa);var ua=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new mn},ca={COORDINATE_ARRAY_TYPE:{configurable:!0}};ua.prototype.getCoordinates=function(){return this._ptList.toArray(ua.COORDINATE_ARRAY_TYPE)},ua.prototype.setPrecisionModel=function(a){this._precisionModel=a},ua.prototype.addPt=function(a){var h=new ae(a);if(this._precisionModel.makePrecise(h),this.isRedundant(h))return null;this._ptList.add(h)},ua.prototype.revere=function(){},ua.prototype.addPts=function(a,h){if(h)for(var g=0;g<a.length;g++)this.addPt(a[g]);else for(var v=a.length-1;v>=0;v--)this.addPt(a[v])},ua.prototype.isRedundant=function(a){if(this._ptList.size()<1)return!1;var h=this._ptList.get(this._ptList.size()-1);return a.distance(h)<this._minimimVertexDistance},ua.prototype.toString=function(){return(new jr).createLineString(this.getCoordinates()).toString()},ua.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var a=new ae(this._ptList.get(0)),h=this._ptList.get(this._ptList.size()-1);if(a.equals(h))return null;this._ptList.add(a)},ua.prototype.setMinimumVertexDistance=function(a){this._minimimVertexDistance=a},ua.prototype.interfaces_=function(){return[]},ua.prototype.getClass=function(){return ua},ca.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(ua,ca);var Kr=function(){},Du={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.toDegrees=function(a){return 180*a/Math.PI},Kr.normalize=function(a){for(;a>Math.PI;)a-=Kr.PI_TIMES_2;for(;a<=-Math.PI;)a+=Kr.PI_TIMES_2;return a},Kr.angle=function(){if(1===arguments.length){var a=arguments[0];return Math.atan2(a.y,a.x)}if(2===arguments.length){var h=arguments[0],g=arguments[1];return Math.atan2(g.y-h.y,g.x-h.x)}},Kr.isAcute=function(a,h,g){return(a.x-h.x)*(g.x-h.x)+(a.y-h.y)*(g.y-h.y)>0},Kr.isObtuse=function(a,h,g){return(a.x-h.x)*(g.x-h.x)+(a.y-h.y)*(g.y-h.y)<0},Kr.interiorAngle=function(a,h,g){var v=Kr.angle(h,a),C=Kr.angle(h,g);return Math.abs(C-v)},Kr.normalizePositive=function(a){if(a<0){for(;a<0;)a+=Kr.PI_TIMES_2;a>=Kr.PI_TIMES_2&&(a=0)}else{for(;a>=Kr.PI_TIMES_2;)a-=Kr.PI_TIMES_2;a<0&&(a=0)}return a},Kr.angleBetween=function(a,h,g){var v=Kr.angle(h,a),C=Kr.angle(h,g);return Kr.diff(v,C)},Kr.diff=function(a,h){var g=null;return(g=a<h?h-a:a-h)>Math.PI&&(g=2*Math.PI-g),g},Kr.toRadians=function(a){return a*Math.PI/180},Kr.getTurn=function(a,h){var g=Math.sin(h-a);return g>0?Kr.COUNTERCLOCKWISE:g<0?Kr.CLOCKWISE:Kr.NONE},Kr.angleBetweenOriented=function(a,h,g){var v=Kr.angle(h,a),C=Kr.angle(h,g)-v;return C<=-Math.PI?C+Kr.PI_TIMES_2:C>Math.PI?C-Kr.PI_TIMES_2:C},Du.PI_TIMES_2.get=function(){return 2*Math.PI},Du.PI_OVER_2.get=function(){return Math.PI/2},Du.PI_OVER_4.get=function(){return Math.PI/4},Du.COUNTERCLOCKWISE.get=function(){return Ut.COUNTERCLOCKWISE},Du.CLOCKWISE.get=function(){return Ut.CLOCKWISE},Du.NONE.get=function(){return Ut.COLLINEAR},Object.defineProperties(Kr,Du);var Hn=function a(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Kn,this._seg1=new Kn,this._offset0=new Kn,this._offset1=new Kn,this._side=0,this._hasNarrowConcaveAngle=!1;var g=arguments[1],v=arguments[2];this._precisionModel=arguments[0],this._bufParams=g,this._li=new zt,this._filletAngleQuantum=Math.PI/2/g.getQuadrantSegments(),g.getQuadrantSegments()>=8&&g.getJoinStyle()===vr.JOIN_ROUND&&(this._closingSegLengthFactor=a.MAX_CLOSING_SEG_LEN_FACTOR),this.init(v)},Vo={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Hn.prototype.addNextSegment=function(a,h){if(this._s0=this._s1,this._s1=this._s2,this._s2=a,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var g=Ut.computeOrientation(this._s0,this._s1,this._s2),v=g===Ut.CLOCKWISE&&this._side===vn.LEFT||g===Ut.COUNTERCLOCKWISE&&this._side===vn.RIGHT;0===g?this.addCollinear(h):v?this.addOutsideTurn(g,h):this.addInsideTurn(g,h)},Hn.prototype.addLineEndCap=function(a,h){var g=new Kn(a,h),v=new Kn;this.computeOffsetSegment(g,vn.LEFT,this._distance,v);var C=new Kn;this.computeOffsetSegment(g,vn.RIGHT,this._distance,C);var ye=Math.atan2(h.y-a.y,h.x-a.x);switch(this._bufParams.getEndCapStyle()){case vr.CAP_ROUND:this._segList.addPt(v.p1),this.addFilletArc(h,ye+Math.PI/2,ye-Math.PI/2,Ut.CLOCKWISE,this._distance),this._segList.addPt(C.p1);break;case vr.CAP_FLAT:this._segList.addPt(v.p1),this._segList.addPt(C.p1);break;case vr.CAP_SQUARE:var Ue=new ae;Ue.x=Math.abs(this._distance)*Math.cos(ye),Ue.y=Math.abs(this._distance)*Math.sin(ye);var vt=new ae(v.p1.x+Ue.x,v.p1.y+Ue.y),Bt=new ae(C.p1.x+Ue.x,C.p1.y+Ue.y);this._segList.addPt(vt),this._segList.addPt(Bt)}},Hn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Hn.prototype.addMitreJoin=function(a,h,g,v){var C=!0,V=null;try{V=On.intersection(h.p0,h.p1,g.p0,g.p1),(v<=0?1:V.distance(a)/Math.abs(v))>this._bufParams.getMitreLimit()&&(C=!1)}catch(X){if(!(X instanceof Pn))throw X;V=new ae(0,0),C=!1}C?this._segList.addPt(V):this.addLimitedMitreJoin(h,g,v,this._bufParams.getMitreLimit())},Hn.prototype.addFilletCorner=function(a,h,g,v,C){var ye=Math.atan2(h.y-a.y,h.x-a.x),Bt=Math.atan2(g.y-a.y,g.x-a.x);v===Ut.CLOCKWISE?ye<=Bt&&(ye+=2*Math.PI):ye>=Bt&&(ye-=2*Math.PI),this._segList.addPt(h),this.addFilletArc(a,ye,Bt,v,C),this._segList.addPt(g)},Hn.prototype.addOutsideTurn=function(a,h){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Hn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===vr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===vr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(h&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,a,this._distance),this._segList.addPt(this._offset1.p0))},Hn.prototype.createSquare=function(a){this._segList.addPt(new ae(a.x+this._distance,a.y+this._distance)),this._segList.addPt(new ae(a.x+this._distance,a.y-this._distance)),this._segList.addPt(new ae(a.x-this._distance,a.y-this._distance)),this._segList.addPt(new ae(a.x-this._distance,a.y+this._distance)),this._segList.closeRing()},Hn.prototype.addSegments=function(a,h){this._segList.addPts(a,h)},Hn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Hn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Hn.prototype.initSideSegments=function(a,h,g){this._s1=a,this._s2=h,this._side=g,this._seg1.setCoordinates(a,h),this.computeOffsetSegment(this._seg1,g,this._distance,this._offset1)},Hn.prototype.addLimitedMitreJoin=function(a,h,g,v){var C=this._seg0.p1,V=Kr.angle(C,this._seg0.p0),X=Kr.angleBetweenOriented(this._seg0.p0,C,this._seg1.p1)/2,ye=Kr.normalize(V+X),Ue=Kr.normalize(ye+Math.PI),vt=v*g,Bt=g-vt*Math.abs(Math.sin(X)),Gt=C.x+vt*Math.cos(Ue),Ln=C.y+vt*Math.sin(Ue),Cn=new ae(Gt,Ln),Yn=new Kn(C,Cn),sr=Yn.pointAlongOffset(1,Bt),Mi=Yn.pointAlongOffset(1,-Bt);this._side===vn.LEFT?(this._segList.addPt(sr),this._segList.addPt(Mi)):(this._segList.addPt(Mi),this._segList.addPt(sr))},Hn.prototype.computeOffsetSegment=function(a,h,g,v){var C=h===vn.LEFT?1:-1,V=a.p1.x-a.p0.x,X=a.p1.y-a.p0.y,ye=Math.sqrt(V*V+X*X),Ue=C*g*V/ye,vt=C*g*X/ye;v.p0.x=a.p0.x-vt,v.p0.y=a.p0.y+Ue,v.p1.x=a.p1.x-vt,v.p1.y=a.p1.y+Ue},Hn.prototype.addFilletArc=function(a,h,g,v,C){var V=v===Ut.CLOCKWISE?-1:1,X=Math.abs(h-g),ye=Math.trunc(X/this._filletAngleQuantum+.5);if(ye<1)return null;for(var Ue=X/ye,vt=0,Bt=new ae;vt<X;){var Gt=h+V*vt;Bt.x=a.x+C*Math.cos(Gt),Bt.y=a.y+C*Math.sin(Gt),this._segList.addPt(Bt),vt+=Ue}},Hn.prototype.addInsideTurn=function(a,h){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Hn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var g=new ae((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(g);var v=new ae((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(v)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Hn.prototype.createCircle=function(a){var h=new ae(a.x+this._distance,a.y);this._segList.addPt(h),this.addFilletArc(a,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Hn.prototype.addBevelJoin=function(a,h){this._segList.addPt(a.p1),this._segList.addPt(h.p0)},Hn.prototype.init=function(a){this._distance=a,this._maxCurveSegmentError=a*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ua,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(a*Hn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Hn.prototype.addCollinear=function(a){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===vr.JOIN_BEVEL||this._bufParams.getJoinStyle()===vr.JOIN_MITRE?(a&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Ut.CLOCKWISE,this._distance))},Hn.prototype.closeRing=function(){this._segList.closeRing()},Hn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Vo.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Vo.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Vo.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Vo.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Hn,Vo);var Pi=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var h=arguments[1];this._precisionModel=arguments[0],this._bufParams=h};Pi.prototype.getOffsetCurve=function(a,h){if(this._distance=h,0===h)return null;var g=h<0,v=Math.abs(h),C=this.getSegGen(v);a.length<=1?this.computePointCurve(a[0],C):this.computeOffsetCurve(a,g,C);var V=C.getCoordinates();return g&&xr.reverse(V),V},Pi.prototype.computeSingleSidedBufferCurve=function(a,h,g){var v=this.simplifyTolerance(this._distance);if(h){g.addSegments(a,!0);var C=Ws.simplify(a,-v),V=C.length-1;g.initSideSegments(C[V],C[V-1],vn.LEFT),g.addFirstSegment();for(var X=V-2;X>=0;X--)g.addNextSegment(C[X],!0)}else{g.addSegments(a,!1);var ye=Ws.simplify(a,v),Ue=ye.length-1;g.initSideSegments(ye[0],ye[1],vn.LEFT),g.addFirstSegment();for(var vt=2;vt<=Ue;vt++)g.addNextSegment(ye[vt],!0)}g.addLastSegment(),g.closeRing()},Pi.prototype.computeRingBufferCurve=function(a,h,g){var v=this.simplifyTolerance(this._distance);h===vn.RIGHT&&(v=-v);var C=Ws.simplify(a,v),V=C.length-1;g.initSideSegments(C[V-1],C[0],h);for(var X=1;X<=V;X++)g.addNextSegment(C[X],1!==X);g.closeRing()},Pi.prototype.computeLineBufferCurve=function(a,h){var g=this.simplifyTolerance(this._distance),v=Ws.simplify(a,g),C=v.length-1;h.initSideSegments(v[0],v[1],vn.LEFT);for(var V=2;V<=C;V++)h.addNextSegment(v[V],!0);h.addLastSegment(),h.addLineEndCap(v[C-1],v[C]);var X=Ws.simplify(a,-g),ye=X.length-1;h.initSideSegments(X[ye],X[ye-1],vn.LEFT);for(var Ue=ye-2;Ue>=0;Ue--)h.addNextSegment(X[Ue],!0);h.addLastSegment(),h.addLineEndCap(X[1],X[0]),h.closeRing()},Pi.prototype.computePointCurve=function(a,h){switch(this._bufParams.getEndCapStyle()){case vr.CAP_ROUND:h.createCircle(a);break;case vr.CAP_SQUARE:h.createSquare(a)}},Pi.prototype.getLineCurve=function(a,h){if(this._distance=h,h<0&&!this._bufParams.isSingleSided()||0===h)return null;var g=Math.abs(h),v=this.getSegGen(g);return a.length<=1?this.computePointCurve(a[0],v):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(a,h<0,v):this.computeLineBufferCurve(a,v),v.getCoordinates()},Pi.prototype.getBufferParameters=function(){return this._bufParams},Pi.prototype.simplifyTolerance=function(a){return a*this._bufParams.getSimplifyFactor()},Pi.prototype.getRingCurve=function(a,h,g){if(this._distance=g,a.length<=2)return this.getLineCurve(a,g);if(0===g)return Pi.copyCoordinates(a);var v=this.getSegGen(g);return this.computeRingBufferCurve(a,h,v),v.getCoordinates()},Pi.prototype.computeOffsetCurve=function(a,h,g){var v=this.simplifyTolerance(this._distance);if(h){var C=Ws.simplify(a,-v),V=C.length-1;g.initSideSegments(C[V],C[V-1],vn.LEFT),g.addFirstSegment();for(var X=V-2;X>=0;X--)g.addNextSegment(C[X],!0)}else{var ye=Ws.simplify(a,v),Ue=ye.length-1;g.initSideSegments(ye[0],ye[1],vn.LEFT),g.addFirstSegment();for(var vt=2;vt<=Ue;vt++)g.addNextSegment(ye[vt],!0)}g.addLastSegment()},Pi.prototype.getSegGen=function(a){return new Hn(this._precisionModel,this._bufParams,a)},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.copyCoordinates=function(a){for(var h=new Array(a.length).fill(null),g=0;g<h.length;g++)h[g]=new ae(a[g]);return h};var Fa=function(){this._subgraphs=null,this._seg=new Kn,this._cga=new Ut,this._subgraphs=arguments[0]},Wa={DepthSegment:{configurable:!0}};Fa.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var a=arguments[0],h=new mn,g=this._subgraphs.iterator();g.hasNext();){var v=g.next(),C=v.getEnvelope();a.y<C.getMinY()||a.y>C.getMaxY()||this.findStabbedSegments(a,v.getDirectedEdges(),h)}return h}if(3===arguments.length)if(Pt(arguments[2],Ys)&&arguments[0]instanceof ae&&arguments[1]instanceof hc){for(var V=arguments[0],X=arguments[1],ye=arguments[2],Ue=X.getEdge().getCoordinates(),vt=0;vt<Ue.length-1;vt++)if(this._seg.p0=Ue[vt],this._seg.p1=Ue[vt+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<V.x||this._seg.isHorizontal()||V.y<this._seg.p0.y||V.y>this._seg.p1.y||Ut.computeOrientation(this._seg.p0,this._seg.p1,V)===Ut.RIGHT)){var Bt=X.getDepth(vn.LEFT);this._seg.p0.equals(Ue[vt])||(Bt=X.getDepth(vn.RIGHT));var Gt=new Uo(this._seg,Bt);ye.add(Gt)}}else if(Pt(arguments[2],Ys)&&arguments[0]instanceof ae&&Pt(arguments[1],Ys))for(var Ln=arguments[0],Yn=arguments[2],sr=arguments[1].iterator();sr.hasNext();){var Mi=sr.next();Mi.isForward()&&this.findStabbedSegments(Ln,Mi,Yn)}},Fa.prototype.getDepth=function(a){var h=this.findStabbedSegments(a);return 0===h.size()?0:io.min(h)._leftDepth},Fa.prototype.interfaces_=function(){return[]},Fa.prototype.getClass=function(){return Fa},Wa.DepthSegment.get=function(){return Uo},Object.defineProperties(Fa,Wa);var Uo=function(){this._upwardSeg=null,this._leftDepth=null;var h=arguments[1];this._upwardSeg=new Kn(arguments[0]),this._leftDepth=h};Uo.prototype.compareTo=function(a){var h=a;if(this._upwardSeg.minX()>=h._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=h._upwardSeg.minX())return-1;var g=this._upwardSeg.orientationIndex(h._upwardSeg);return 0!==g||0!=(g=-1*h._upwardSeg.orientationIndex(this._upwardSeg))?g:this._upwardSeg.compareTo(h._upwardSeg)},Uo.prototype.compareX=function(a,h){var g=a.p0.compareTo(h.p0);return 0!==g?g:a.p1.compareTo(h.p1)},Uo.prototype.toString=function(){return this._upwardSeg.toString()},Uo.prototype.interfaces_=function(){return[re]},Uo.prototype.getClass=function(){return Uo};var ni=function(a,h,g){this.p0=a||null,this.p1=h||null,this.p2=g||null};ni.prototype.area=function(){return ni.area(this.p0,this.p1,this.p2)},ni.prototype.signedArea=function(){return ni.signedArea(this.p0,this.p1,this.p2)},ni.prototype.interpolateZ=function(a){if(null===a)throw new xe("Supplied point is null.");return ni.interpolateZ(a,this.p0,this.p1,this.p2)},ni.prototype.longestSideLength=function(){return ni.longestSideLength(this.p0,this.p1,this.p2)},ni.prototype.isAcute=function(){return ni.isAcute(this.p0,this.p1,this.p2)},ni.prototype.circumcentre=function(){return ni.circumcentre(this.p0,this.p1,this.p2)},ni.prototype.area3D=function(){return ni.area3D(this.p0,this.p1,this.p2)},ni.prototype.centroid=function(){return ni.centroid(this.p0,this.p1,this.p2)},ni.prototype.inCentre=function(){return ni.inCentre(this.p0,this.p1,this.p2)},ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.area=function(a,h,g){return Math.abs(((g.x-a.x)*(h.y-a.y)-(h.x-a.x)*(g.y-a.y))/2)},ni.signedArea=function(a,h,g){return((g.x-a.x)*(h.y-a.y)-(h.x-a.x)*(g.y-a.y))/2},ni.det=function(a,h,g,v){return a*v-h*g},ni.interpolateZ=function(a,h,g,v){var C=h.x,V=h.y,X=g.x-C,ye=v.x-C,Ue=g.y-V,vt=v.y-V,Bt=X*vt-ye*Ue,Gt=a.x-C,Ln=a.y-V;return h.z+(vt*Gt-ye*Ln)/Bt*(g.z-h.z)+(-Ue*Gt+X*Ln)/Bt*(v.z-h.z)},ni.longestSideLength=function(a,h,g){var v=a.distance(h),C=h.distance(g),V=g.distance(a),X=v;return C>X&&(X=C),V>X&&(X=V),X},ni.isAcute=function(a,h,g){return!!Kr.isAcute(a,h,g)&&!!Kr.isAcute(h,g,a)&&!!Kr.isAcute(g,a,h)},ni.circumcentre=function(a,h,g){var v=g.x,C=g.y,V=a.x-v,X=a.y-C,ye=h.x-v,Ue=h.y-C,vt=2*ni.det(V,X,ye,Ue),Bt=ni.det(X,V*V+X*X,Ue,ye*ye+Ue*Ue),Gt=ni.det(V,V*V+X*X,ye,ye*ye+Ue*Ue);return new ae(v-Bt/vt,C+Gt/vt)},ni.perpendicularBisector=function(a,h){var g=h.x-a.x,v=h.y-a.y,C=new On(a.x+g/2,a.y+v/2,1),V=new On(a.x-v+g/2,a.y+g+v/2,1);return new On(C,V)},ni.angleBisector=function(a,h,g){var v=h.distance(a),C=v/(v+h.distance(g));return new ae(a.x+C*(g.x-a.x),a.y+C*(g.y-a.y))},ni.area3D=function(a,h,g){var v=h.x-a.x,C=h.y-a.y,V=h.z-a.z,X=g.x-a.x,ye=g.y-a.y,Ue=g.z-a.z,vt=C*Ue-V*ye,Bt=V*X-v*Ue,Gt=v*ye-C*X;return Math.sqrt(vt*vt+Bt*Bt+Gt*Gt)/2},ni.centroid=function(a,h,g){return new ae((a.x+h.x+g.x)/3,(a.y+h.y+g.y)/3)},ni.inCentre=function(a,h,g){var v=h.distance(g),C=a.distance(g),V=a.distance(h),X=v+C+V;return new ae((v*a.x+C*h.x+V*g.x)/X,(v*a.y+C*h.y+V*g.y)/X)};var Ho=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new mn;var h=arguments[1],g=arguments[2];this._inputGeom=arguments[0],this._distance=h,this._curveBuilder=g};Ho.prototype.addPoint=function(a){if(this._distance<=0)return null;var h=a.getCoordinates(),g=this._curveBuilder.getLineCurve(h,this._distance);this.addCurve(g,Te.EXTERIOR,Te.INTERIOR)},Ho.prototype.addPolygon=function(a){var h=this._distance,g=vn.LEFT;this._distance<0&&(h=-this._distance,g=vn.RIGHT);var v=a.getExteriorRing(),C=xr.removeRepeatedPoints(v.getCoordinates());if(this._distance<0&&this.isErodedCompletely(v,this._distance)||this._distance<=0&&C.length<3)return null;this.addPolygonRing(C,h,g,Te.EXTERIOR,Te.INTERIOR);for(var V=0;V<a.getNumInteriorRing();V++){var X=a.getInteriorRingN(V),ye=xr.removeRepeatedPoints(X.getCoordinates());this._distance>0&&this.isErodedCompletely(X,-this._distance)||this.addPolygonRing(ye,h,vn.opposite(g),Te.INTERIOR,Te.EXTERIOR)}},Ho.prototype.isTriangleErodedCompletely=function(a,h){var g=new ni(a[0],a[1],a[2]),v=g.inCentre();return Ut.distancePointLine(v,g.p0,g.p1)<Math.abs(h)},Ho.prototype.addLineString=function(a){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var h=xr.removeRepeatedPoints(a.getCoordinates()),g=this._curveBuilder.getLineCurve(h,this._distance);this.addCurve(g,Te.EXTERIOR,Te.INTERIOR)},Ho.prototype.addCurve=function(a,h,g){if(null===a||a.length<2)return null;var v=new Hi(a,new Ii(0,Te.BOUNDARY,h,g));this._curveList.add(v)},Ho.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Ho.prototype.addPolygonRing=function(a,h,g,v,C){if(0===h&&a.length<Xi.MINIMUM_VALID_SIZE)return null;var V=v,X=C;a.length>=Xi.MINIMUM_VALID_SIZE&&Ut.isCCW(a)&&(V=C,X=v,g=vn.opposite(g));var ye=this._curveBuilder.getRingCurve(a,g,h);this.addCurve(ye,V,X)},Ho.prototype.add=function(a){if(a.isEmpty())return null;a instanceof rr?this.addPolygon(a):a instanceof pr?this.addLineString(a):a instanceof co?this.addPoint(a):(a instanceof Fr||a instanceof Ct||a instanceof Jo||a instanceof pn)&&this.addCollection(a)},Ho.prototype.isErodedCompletely=function(a,h){var g=a.getCoordinates();if(g.length<4)return h<0;if(4===g.length)return this.isTriangleErodedCompletely(g,h);var v=a.getEnvelopeInternal(),C=Math.min(v.getHeight(),v.getWidth());return h<0&&2*Math.abs(h)>C},Ho.prototype.addCollection=function(a){for(var h=0;h<a.getNumGeometries();h++){var g=a.getGeometryN(h);this.add(g)}},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho};var kl=function(){};kl.prototype.locate=function(a){},kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl};var ol=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var a=arguments[0];this._parent=a,this._atStart=!0,this._index=0,this._max=a.getNumGeometries()};ol.prototype.next=function(){if(this._atStart)return this._atStart=!1,ol.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new F;var a=this._parent.getGeometryN(this._index++);return a instanceof pn?(this._subcollectionIterator=new ol(a),this._subcollectionIterator.next()):a},ol.prototype.remove=function(){throw new Error(this.getClass().getName())},ol.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ol.prototype.interfaces_=function(){return[ai]},ol.prototype.getClass=function(){return ol},ol.isAtomic=function(a){return!(a instanceof pn)};var Go=function(){this._geom=null,this._geom=arguments[0]};Go.prototype.locate=function(a){return Go.locate(a,this._geom)},Go.prototype.interfaces_=function(){return[kl]},Go.prototype.getClass=function(){return Go},Go.isPointInRing=function(a,h){return!!h.getEnvelopeInternal().intersects(a)&&Ut.isPointInRing(a,h.getCoordinates())},Go.containsPointInPolygon=function(a,h){if(h.isEmpty())return!1;var g=h.getExteriorRing();if(!Go.isPointInRing(a,g))return!1;for(var v=0;v<h.getNumInteriorRing();v++){var C=h.getInteriorRingN(v);if(Go.isPointInRing(a,C))return!1}return!0},Go.containsPoint=function(a,h){if(h instanceof rr)return Go.containsPointInPolygon(a,h);if(h instanceof pn)for(var g=new ol(h);g.hasNext();){var v=g.next();if(v!==h&&Go.containsPoint(a,v))return!0}return!1},Go.locate=function(a,h){return h.isEmpty()?Te.EXTERIOR:Go.containsPoint(a,h)?Te.INTERIOR:Te.EXTERIOR};var Bi=function(){this._edgeMap=new rt,this._edgeList=null,this._ptInAreaLocation=[Te.NONE,Te.NONE]};Bi.prototype.getNextCW=function(a){this.getEdges();var h=this._edgeList.indexOf(a),g=h-1;return 0===h&&(g=this._edgeList.size()-1),this._edgeList.get(g)},Bi.prototype.propagateSideLabels=function(a){for(var h=Te.NONE,g=this.iterator();g.hasNext();){var v=g.next().getLabel();v.isArea(a)&&v.getLocation(a,vn.LEFT)!==Te.NONE&&(h=v.getLocation(a,vn.LEFT))}if(h===Te.NONE)return null;for(var C=h,V=this.iterator();V.hasNext();){var X=V.next(),ye=X.getLabel();if(ye.getLocation(a,vn.ON)===Te.NONE&&ye.setLocation(a,vn.ON,C),ye.isArea(a)){var Ue=ye.getLocation(a,vn.LEFT),vt=ye.getLocation(a,vn.RIGHT);if(vt!==Te.NONE){if(vt!==C)throw new Sl("side location conflict",X.getCoordinate());Ue===Te.NONE&&De.shouldNeverReachHere("found single null side (at "+X.getCoordinate()+")"),C=Ue}else De.isTrue(ye.getLocation(a,vn.LEFT)===Te.NONE,"found single null side"),ye.setLocation(a,vn.RIGHT,C),ye.setLocation(a,vn.LEFT,C)}}},Bi.prototype.getCoordinate=function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},Bi.prototype.print=function(a){Sn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var h=this.iterator();h.hasNext();)h.next().print(a)},Bi.prototype.isAreaLabelsConsistent=function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Bi.prototype.checkAreaLabelsConsistent=function(a){var h=this.getEdges();if(h.size()<=0)return!0;var g=h.size()-1,v=h.get(g).getLabel().getLocation(a,vn.LEFT);De.isTrue(v!==Te.NONE,"Found unlabelled area edge");for(var C=v,V=this.iterator();V.hasNext();){var X=V.next().getLabel();De.isTrue(X.isArea(a),"Found non-area edge");var ye=X.getLocation(a,vn.LEFT),Ue=X.getLocation(a,vn.RIGHT);if(ye===Ue||Ue!==C)return!1;C=ye}return!0},Bi.prototype.findIndex=function(a){this.iterator();for(var h=0;h<this._edgeList.size();h++)if(this._edgeList.get(h)===a)return h;return-1},Bi.prototype.iterator=function(){return this.getEdges().iterator()},Bi.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new mn(this._edgeMap.values())),this._edgeList},Bi.prototype.getLocation=function(a,h,g){return this._ptInAreaLocation[a]===Te.NONE&&(this._ptInAreaLocation[a]=Go.locate(h,g[a].getGeometry())),this._ptInAreaLocation[a]},Bi.prototype.toString=function(){var a=new tt;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append("\n");for(var h=this.iterator();h.hasNext();){var g=h.next();a.append(g),a.append("\n")}return a.toString()},Bi.prototype.computeEdgeEndLabels=function(a){for(var h=this.iterator();h.hasNext();)h.next().computeLabel(a)},Bi.prototype.computeLabelling=function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var h=[!1,!1],g=this.iterator();g.hasNext();)for(var v=g.next().getLabel(),C=0;C<2;C++)v.isLine(C)&&v.getLocation(C)===Te.BOUNDARY&&(h[C]=!0);for(var V=this.iterator();V.hasNext();)for(var X=V.next(),ye=X.getLabel(),Ue=0;Ue<2;Ue++)if(ye.isAnyNull(Ue)){var vt=Te.NONE;if(h[Ue])vt=Te.EXTERIOR;else{var Bt=X.getCoordinate();vt=this.getLocation(Ue,Bt,a)}ye.setAllLocationsIfNull(Ue,vt)}},Bi.prototype.getDegree=function(){return this._edgeMap.size()},Bi.prototype.insertEdgeEnd=function(a,h){this._edgeMap.put(a,h),this._edgeList=null},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi};var Td=function(a){function h(){a.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var g=null,v=null,C=this._SCANNING_FOR_INCOMING,V=0;V<this._resultAreaEdgeList.size();V++){var X=this._resultAreaEdgeList.get(V),ye=X.getSym();if(X.getLabel().isArea())switch(null===g&&X.isInResult()&&(g=X),C){case this._SCANNING_FOR_INCOMING:if(!ye.isInResult())continue;v=ye,C=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!X.isInResult())continue;v.setNext(X),C=this._SCANNING_FOR_INCOMING}}if(C===this._LINKING_TO_OUTGOING){if(null===g)throw new Sl("no outgoing dirEdge found",this.getCoordinate());De.isTrue(g.isInResult(),"unable to link last incoming dirEdge"),v.setNext(g)}},h.prototype.insert=function(g){this.insertEdgeEnd(g,g)},h.prototype.getRightmostEdge=function(){var g=this.getEdges(),v=g.size();if(v<1)return null;var C=g.get(0);if(1===v)return C;var V=g.get(v-1),X=C.getQuadrant(),ye=V.getQuadrant();return Ji.isNorthern(X)&&Ji.isNorthern(ye)?C:Ji.isNorthern(X)||Ji.isNorthern(ye)?0!==C.getDy()?C:0!==V.getDy()?V:(De.shouldNeverReachHere("found two horizontal edges incident on node"),null):V},h.prototype.print=function(g){Sn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var v=this.iterator();v.hasNext();){var C=v.next();g.print("out "),C.print(g),g.println(),g.print("in "),C.getSym().print(g),g.println()}},h.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new mn;for(var g=this.iterator();g.hasNext();){var v=g.next();(v.isInResult()||v.getSym().isInResult())&&this._resultAreaEdgeList.add(v)}return this._resultAreaEdgeList},h.prototype.updateLabelling=function(g){for(var v=this.iterator();v.hasNext();){var C=v.next().getLabel();C.setAllLocationsIfNull(0,g.getLocation(0)),C.setAllLocationsIfNull(1,g.getLocation(1))}},h.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var g=null,v=null,C=this._edgeList.size()-1;C>=0;C--){var V=this._edgeList.get(C),X=V.getSym();null===v&&(v=X),null!==g&&X.setNext(g),g=V}v.setNext(g)},h.prototype.computeDepths=function(){if(1===arguments.length){var g=arguments[0],v=this.findIndex(g),C=g.getDepth(vn.LEFT),V=g.getDepth(vn.RIGHT),X=this.computeDepths(v+1,this._edgeList.size(),C);if(this.computeDepths(0,v,X)!==V)throw new Sl("depth mismatch at "+g.getCoordinate())}else if(3===arguments.length){for(var Ue=arguments[1],vt=arguments[2],Bt=arguments[0];Bt<Ue;Bt++){var Gt=this._edgeList.get(Bt);Gt.setEdgeDepths(vn.RIGHT,vt),vt=Gt.getDepth(vn.LEFT)}return vt}},h.prototype.mergeSymLabels=function(){for(var g=this.iterator();g.hasNext();){var v=g.next();v.getLabel().merge(v.getSym().getLabel())}},h.prototype.linkMinimalDirectedEdges=function(g){for(var v=null,C=null,V=this._SCANNING_FOR_INCOMING,X=this._resultAreaEdgeList.size()-1;X>=0;X--){var ye=this._resultAreaEdgeList.get(X),Ue=ye.getSym();switch(null===v&&ye.getEdgeRing()===g&&(v=ye),V){case this._SCANNING_FOR_INCOMING:if(Ue.getEdgeRing()!==g)continue;C=Ue,V=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(ye.getEdgeRing()!==g)continue;C.setNextMin(ye),V=this._SCANNING_FOR_INCOMING}}V===this._LINKING_TO_OUTGOING&&(De.isTrue(null!==v,"found null for first outgoing dirEdge"),De.isTrue(v.getEdgeRing()===g,"unable to link last incoming dirEdge"),C.setNextMin(v))},h.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var g=0,v=this.iterator();v.hasNext();)v.next().isInResult()&&g++;return g}if(1===arguments.length){for(var C=arguments[0],V=0,X=this.iterator();X.hasNext();)X.next().getEdgeRing()===C&&V++;return V}},h.prototype.getLabel=function(){return this._label},h.prototype.findCoveredLineEdges=function(){for(var g=Te.NONE,v=this.iterator();v.hasNext();){var C=v.next(),V=C.getSym();if(!C.isLineEdge()){if(C.isInResult()){g=Te.INTERIOR;break}if(V.isInResult()){g=Te.EXTERIOR;break}}}if(g===Te.NONE)return null;for(var X=g,ye=this.iterator();ye.hasNext();){var Ue=ye.next(),vt=Ue.getSym();Ue.isLineEdge()?Ue.getEdge().setCovered(X===Te.INTERIOR):(Ue.isInResult()&&(X=Te.EXTERIOR),vt.isInResult()&&(X=Te.INTERIOR))}},h.prototype.computeLabelling=function(g){a.prototype.computeLabelling.call(this,g),this._label=new Ii(Te.NONE);for(var v=this.iterator();v.hasNext();)for(var C=v.next().getEdge().getLabel(),V=0;V<2;V++){var X=C.getLocation(V);X!==Te.INTERIOR&&X!==Te.BOUNDARY||this._label.setLocation(V,Te.INTERIOR)}},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Bi),vl=function(a){function h(){a.apply(this,arguments)}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.createNode=function(g){return new Yc(g,new Td)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(dc),Rn=function a(){this._pts=null,this._orientation=null;var h=arguments[0];this._pts=h,this._orientation=a.orientation(h)};Rn.prototype.compareTo=function(a){return Rn.compareOriented(this._pts,this._orientation,a._pts,a._orientation)},Rn.prototype.interfaces_=function(){return[re]},Rn.prototype.getClass=function(){return Rn},Rn.orientation=function(a){return 1===xr.increasingDirection(a)},Rn.compareOriented=function(a,h,g,v){for(var C=h?1:-1,V=v?1:-1,X=h?a.length:-1,ye=v?g.length:-1,Ue=h?0:a.length-1,vt=v?0:g.length-1;;){var Bt=a[Ue].compareTo(g[vt]);if(0!==Bt)return Bt;var Gt=(Ue+=C)===X,Ln=(vt+=V)===ye;if(Gt&&!Ln)return-1;if(!Gt&&Ln)return 1;if(Gt&&Ln)return 0}};var Ir=function(){this._edges=new mn,this._ocaMap=new rt};Ir.prototype.print=function(a){a.print("MULTILINESTRING ( ");for(var h=0;h<this._edges.size();h++){var g=this._edges.get(h);h>0&&a.print(","),a.print("(");for(var v=g.getCoordinates(),C=0;C<v.length;C++)C>0&&a.print(","),a.print(v[C].x+" "+v[C].y);a.println(")")}a.print(")  ")},Ir.prototype.addAll=function(a){for(var h=a.iterator();h.hasNext();)this.add(h.next())},Ir.prototype.findEdgeIndex=function(a){for(var h=0;h<this._edges.size();h++)if(this._edges.get(h).equals(a))return h;return-1},Ir.prototype.iterator=function(){return this._edges.iterator()},Ir.prototype.getEdges=function(){return this._edges},Ir.prototype.get=function(a){return this._edges.get(a)},Ir.prototype.findEqualEdge=function(a){var h=new Rn(a.getCoordinates());return this._ocaMap.get(h)},Ir.prototype.add=function(a){this._edges.add(a);var h=new Rn(a.getCoordinates());this._ocaMap.put(h,a)},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir};var mr=function(){};mr.prototype.processIntersections=function(a,h,g,v){},mr.prototype.isDone=function(){},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr};var $s=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};$s.prototype.isTrivialIntersection=function(a,h,g,v){if(a===g&&1===this._li.getIntersectionNum()){if($s.isAdjacentSegments(h,v))return!0;if(a.isClosed()){var C=a.size()-1;if(0===h&&v===C||0===v&&h===C)return!0}}return!1},$s.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},$s.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},$s.prototype.getLineIntersector=function(){return this._li},$s.prototype.hasProperIntersection=function(){return this._hasProper},$s.prototype.processIntersections=function(a,h,g,v){if(a===g&&h===v)return null;this.numTests++;var C=a.getCoordinates()[h],V=a.getCoordinates()[h+1],X=g.getCoordinates()[v],ye=g.getCoordinates()[v+1];this._li.computeIntersection(C,V,X,ye),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(a,h,g,v)||(this._hasIntersection=!0,a.addIntersections(this._li,h,0),g.addIntersections(this._li,v,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},$s.prototype.hasIntersection=function(){return this._hasIntersection},$s.prototype.isDone=function(){return!1},$s.prototype.hasInteriorIntersection=function(){return this._hasInterior},$s.prototype.interfaces_=function(){return[mr]},$s.prototype.getClass=function(){return $s},$s.isAdjacentSegments=function(a,h){return 1===Math.abs(a-h)};var ha=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var h=arguments[1],g=arguments[2];this.coord=new ae(arguments[0]),this.segmentIndex=h,this.dist=g};ha.prototype.getSegmentIndex=function(){return this.segmentIndex},ha.prototype.getCoordinate=function(){return this.coord},ha.prototype.print=function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)},ha.prototype.compareTo=function(a){return this.compare(a.segmentIndex,a.dist)},ha.prototype.isEndPoint=function(a){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===a},ha.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},ha.prototype.getDistance=function(){return this.dist},ha.prototype.compare=function(a,h){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<h?-1:this.dist>h?1:0},ha.prototype.interfaces_=function(){return[re]},ha.prototype.getClass=function(){return ha};var ts=function(){this._nodeMap=new rt,this.edge=null,this.edge=arguments[0]};ts.prototype.print=function(a){a.println("Intersections:");for(var h=this.iterator();h.hasNext();)h.next().print(a)},ts.prototype.iterator=function(){return this._nodeMap.values().iterator()},ts.prototype.addSplitEdges=function(a){this.addEndpoints();for(var h=this.iterator(),g=h.next();h.hasNext();){var v=h.next(),C=this.createSplitEdge(g,v);a.add(C),g=v}},ts.prototype.addEndpoints=function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)},ts.prototype.createSplitEdge=function(a,h){var g=h.segmentIndex-a.segmentIndex+2,C=h.dist>0||!h.coord.equals2D(this.edge.pts[h.segmentIndex]);C||g--;var V=new Array(g).fill(null),X=0;V[X++]=new ae(a.coord);for(var ye=a.segmentIndex+1;ye<=h.segmentIndex;ye++)V[X++]=this.edge.pts[ye];return C&&(V[X]=h.coord),new Qr(V,new Ii(this.edge._label))},ts.prototype.add=function(a,h,g){var v=new ha(a,h,g),C=this._nodeMap.get(v);return null!==C?C:(this._nodeMap.put(v,v),v)},ts.prototype.isIntersection=function(a){for(var h=this.iterator();h.hasNext();)if(h.next().coord.equals(a))return!0;return!1},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts};var qo=function(){};qo.prototype.getChainStartIndices=function(a){var h=0,g=new mn;g.add(new xt(h));do{var v=this.findChainEnd(a,h);g.add(new xt(v)),h=v}while(h<a.length-1);return qo.toIntArray(g)},qo.prototype.findChainEnd=function(a,h){for(var g=Ji.quadrant(a[h],a[h+1]),v=h+1;v<a.length&&Ji.quadrant(a[v-1],a[v])===g;)v++;return v-1},qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo},qo.toIntArray=function(a){for(var h=new Array(a.size()).fill(null),g=0;g<h.length;g++)h[g]=a.get(g).intValue();return h};var Qi=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new wn,this.env2=new wn;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var h=new qo;this.startIndex=h.getChainStartIndices(this.pts)};Qi.prototype.getCoordinates=function(){return this.pts},Qi.prototype.getMaxX=function(a){var h=this.pts[this.startIndex[a]].x,g=this.pts[this.startIndex[a+1]].x;return h>g?h:g},Qi.prototype.getMinX=function(a){var h=this.pts[this.startIndex[a]].x,g=this.pts[this.startIndex[a+1]].x;return h<g?h:g},Qi.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var a=arguments[0],h=arguments[1],g=arguments[2];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],h,h.startIndex[g],h.startIndex[g+1],arguments[3])}else if(6===arguments.length){var C=arguments[0],V=arguments[1],X=arguments[2],ye=arguments[3],Ue=arguments[4],vt=arguments[5],Bt=this.pts[C],Gt=this.pts[V],Ln=X.pts[ye],Cn=X.pts[Ue];if(V-C==1&&Ue-ye==1)return vt.addIntersections(this.e,C,X.e,ye),null;if(this.env1.init(Bt,Gt),this.env2.init(Ln,Cn),!this.env1.intersects(this.env2))return null;var Yn=Math.trunc((C+V)/2),sr=Math.trunc((ye+Ue)/2);C<Yn&&(ye<sr&&this.computeIntersectsForChain(C,Yn,X,ye,sr,vt),sr<Ue&&this.computeIntersectsForChain(C,Yn,X,sr,Ue,vt)),Yn<V&&(ye<sr&&this.computeIntersectsForChain(Yn,V,X,ye,sr,vt),sr<Ue&&this.computeIntersectsForChain(Yn,V,X,sr,Ue,vt))}},Qi.prototype.getStartIndexes=function(){return this.startIndex},Qi.prototype.computeIntersects=function(a,h){for(var g=0;g<this.startIndex.length-1;g++)for(var v=0;v<a.startIndex.length-1;v++)this.computeIntersectsForChain(g,a,v,h)},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi};var Ls=function a(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var h=0;h<2;h++)for(var g=0;g<3;g++)this._depth[h][g]=a.NULL_VALUE},ba={NULL_VALUE:{configurable:!0}};Ls.prototype.getDepth=function(a,h){return this._depth[a][h]},Ls.prototype.setDepth=function(a,h,g){this._depth[a][h]=g},Ls.prototype.isNull=function(){if(0===arguments.length){for(var a=0;a<2;a++)for(var h=0;h<3;h++)if(this._depth[a][h]!==Ls.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Ls.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Ls.NULL_VALUE:void 0},Ls.prototype.normalize=function(){for(var a=0;a<2;a++)if(!this.isNull(a)){var h=this._depth[a][1];this._depth[a][2]<h&&(h=this._depth[a][2]),h<0&&(h=0);for(var g=1;g<3;g++){var v=0;this._depth[a][g]>h&&(v=1),this._depth[a][g]=v}}},Ls.prototype.getDelta=function(a){return this._depth[a][vn.RIGHT]-this._depth[a][vn.LEFT]},Ls.prototype.getLocation=function(a,h){return this._depth[a][h]<=0?Te.EXTERIOR:Te.INTERIOR},Ls.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Ls.prototype.add=function(){if(1===arguments.length)for(var a=arguments[0],h=0;h<2;h++)for(var g=1;g<3;g++){var v=a.getLocation(h,g);v!==Te.EXTERIOR&&v!==Te.INTERIOR||(this.isNull(h,g)?this._depth[h][g]=Ls.depthAtLocation(v):this._depth[h][g]+=Ls.depthAtLocation(v))}else 3===arguments.length&&arguments[2]===Te.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Ls.prototype.interfaces_=function(){return[]},Ls.prototype.getClass=function(){return Ls},Ls.depthAtLocation=function(a){return a===Te.EXTERIOR?0:a===Te.INTERIOR?1:Ls.NULL_VALUE},ba.NULL_VALUE.get=function(){return-1},Object.defineProperties(Ls,ba);var Qr=function(a){function h(){if(a.call(this),this.pts=null,this._env=null,this.eiList=new ts(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ls,this._depthDelta=0,1===arguments.length)h.call(this,arguments[0],null);else if(2===arguments.length){var C=arguments[1];this.pts=arguments[0],this._label=C}}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.getDepth=function(){return this._depth},h.prototype.getCollapsedEdge=function(){var g=new Array(2).fill(null);return g[0]=this.pts[0],g[1]=this.pts[1],new h(g,Ii.toLineLabel(this._label))},h.prototype.isIsolated=function(){return this._isIsolated},h.prototype.getCoordinates=function(){return this.pts},h.prototype.setIsolated=function(g){this._isIsolated=g},h.prototype.setName=function(g){this._name=g},h.prototype.equals=function(g){if(!(g instanceof h))return!1;var v=g;if(this.pts.length!==v.pts.length)return!1;for(var C=!0,V=!0,X=this.pts.length,ye=0;ye<this.pts.length;ye++)if(this.pts[ye].equals2D(v.pts[ye])||(C=!1),this.pts[ye].equals2D(v.pts[--X])||(V=!1),!C&&!V)return!1;return!0},h.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},h.prototype.print=function(g){g.print("edge "+this._name+": "),g.print("LINESTRING (");for(var v=0;v<this.pts.length;v++)v>0&&g.print(","),g.print(this.pts[v].x+" "+this.pts[v].y);g.print(")  "+this._label+" "+this._depthDelta)},h.prototype.computeIM=function(g){h.updateIM(this._label,g)},h.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},h.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},h.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},h.prototype.getDepthDelta=function(){return this._depthDelta},h.prototype.getNumPoints=function(){return this.pts.length},h.prototype.printReverse=function(g){g.print("edge "+this._name+": ");for(var v=this.pts.length-1;v>=0;v--)g.print(this.pts[v]+" ");g.println("")},h.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Qi(this)),this._mce},h.prototype.getEnvelope=function(){if(null===this._env){this._env=new wn;for(var g=0;g<this.pts.length;g++)this._env.expandToInclude(this.pts[g])}return this._env},h.prototype.addIntersection=function(g,v,C,V){var X=new ae(g.getIntersection(V)),ye=v,Ue=g.getEdgeDistance(C,V),vt=ye+1;vt<this.pts.length&&X.equals2D(this.pts[vt])&&(ye=vt,Ue=0),this.eiList.add(X,ye,Ue)},h.prototype.toString=function(){var g=new tt;g.append("edge "+this._name+": "),g.append("LINESTRING (");for(var v=0;v<this.pts.length;v++)v>0&&g.append(","),g.append(this.pts[v].x+" "+this.pts[v].y);return g.append(")  "+this._label+" "+this._depthDelta),g.toString()},h.prototype.isPointwiseEqual=function(g){if(this.pts.length!==g.pts.length)return!1;for(var v=0;v<this.pts.length;v++)if(!this.pts[v].equals2D(g.pts[v]))return!1;return!0},h.prototype.setDepthDelta=function(g){this._depthDelta=g},h.prototype.getEdgeIntersectionList=function(){return this.eiList},h.prototype.addIntersections=function(g,v,C){for(var V=0;V<g.getIntersectionNum();V++)this.addIntersection(g,v,C,V)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h.updateIM=function(){if(2!==arguments.length)return a.prototype.updateIM.apply(this,arguments);var g=arguments[0],v=arguments[1];v.setAtLeastIfValid(g.getLocation(0,vn.ON),g.getLocation(1,vn.ON),1),g.isArea()&&(v.setAtLeastIfValid(g.getLocation(0,vn.LEFT),g.getLocation(1,vn.LEFT),2),v.setAtLeastIfValid(g.getLocation(0,vn.RIGHT),g.getLocation(1,vn.RIGHT),2))},h}(zo),Eo=function(a){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ir,this._bufParams=a||null};Eo.prototype.setWorkingPrecisionModel=function(a){this._workingPrecisionModel=a},Eo.prototype.insertUniqueEdge=function(a){var h=this._edgeList.findEqualEdge(a);if(null!==h){var g=h.getLabel(),v=a.getLabel();h.isPointwiseEqual(a)||(v=new Ii(a.getLabel())).flip(),g.merge(v);var C=Eo.depthDelta(v),V=h.getDepthDelta()+C;h.setDepthDelta(V)}else this._edgeList.add(a),a.setDepthDelta(Eo.depthDelta(a.getLabel()))},Eo.prototype.buildSubgraphs=function(a,h){for(var g=new mn,v=a.iterator();v.hasNext();){var C=v.next(),V=C.getRightmostCoordinate(),X=new Fa(g).getDepth(V);C.computeDepth(X),C.findResultEdges(),g.add(C),h.add(C.getDirectedEdges(),C.getNodes())}},Eo.prototype.createSubgraphs=function(a){for(var h=new mn,g=a.getNodes().iterator();g.hasNext();){var v=g.next();if(!v.isVisited()){var C=new Ra;C.create(v),h.add(C)}}return io.sort(h,io.reverseOrder()),h},Eo.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Eo.prototype.getNoder=function(a){if(null!==this._workingNoder)return this._workingNoder;var h=new Ju,g=new zt;return g.setPrecisionModel(a),h.setSegmentIntersector(new $s(g)),h},Eo.prototype.buffer=function(a,h){var g=this._workingPrecisionModel;null===g&&(g=a.getPrecisionModel()),this._geomFact=a.getFactory();var v=new Pi(g,this._bufParams),C=new Ho(a,h,v).getCurves();if(C.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(C,g),this._graph=new Ks(new vl),this._graph.addEdges(this._edgeList.getEdges());var V=this.createSubgraphs(this._graph),X=new va(this._geomFact);this.buildSubgraphs(V,X);var ye=X.getPolygons();return ye.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(ye)},Eo.prototype.computeNodedEdges=function(a,h){var g=this.getNoder(h);g.computeNodes(a);for(var v=g.getNodedSubstrings().iterator();v.hasNext();){var C=v.next(),V=C.getCoordinates();if(2!==V.length||!V[0].equals2D(V[1])){var X=C.getData(),ye=new Qr(C.getCoordinates(),new Ii(X));this.insertUniqueEdge(ye)}}},Eo.prototype.setNoder=function(a){this._workingNoder=a},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo},Eo.depthDelta=function(a){var h=a.getLocation(0,vn.LEFT),g=a.getLocation(0,vn.RIGHT);return h===Te.INTERIOR&&g===Te.EXTERIOR?1:h===Te.EXTERIOR&&g===Te.INTERIOR?-1:0},Eo.convertSegStrings=function(a){for(var h=new jr,g=new mn;a.hasNext();){var v=a.next(),C=h.createLineString(v.getCoordinates());g.add(C)}return h.buildGeometry(g)};var qr=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var h=arguments[1];this._noder=arguments[0],this._scaleFactor=h,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var v=arguments[1],C=arguments[2],V=arguments[3];this._noder=arguments[0],this._scaleFactor=v,this._offsetX=C,this._offsetY=V,this._isScaled=!this.isIntegerPrecision()}};qr.prototype.rescale=function(){if(Pt(arguments[0],wi))for(var a=arguments[0].iterator();a.hasNext();){var h=a.next();this.rescale(h.getCoordinates())}else if(arguments[0]instanceof Array){for(var g=arguments[0],v=0;v<g.length;v++)g[v].x=g[v].x/this._scaleFactor+this._offsetX,g[v].y=g[v].y/this._scaleFactor+this._offsetY;2===g.length&&g[0].equals2D(g[1])&&Sn.out.println(g)}},qr.prototype.scale=function(){if(Pt(arguments[0],wi)){for(var a=arguments[0],h=new mn,g=a.iterator();g.hasNext();){var v=g.next();h.add(new Hi(this.scale(v.getCoordinates()),v.getData()))}return h}if(arguments[0]instanceof Array){for(var C=arguments[0],V=new Array(C.length).fill(null),X=0;X<C.length;X++)V[X]=new ae(Math.round((C[X].x-this._offsetX)*this._scaleFactor),Math.round((C[X].y-this._offsetY)*this._scaleFactor),C[X].z);return xr.removeRepeatedPoints(V)}},qr.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},qr.prototype.getNodedSubstrings=function(){var a=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(a),a},qr.prototype.computeNodes=function(a){var h=a;this._isScaled&&(h=this.scale(a)),this._noder.computeNodes(h)},qr.prototype.interfaces_=function(){return[Hl]},qr.prototype.getClass=function(){return qr};var ta=function(){this._li=new zt,this._segStrings=null,this._segStrings=arguments[0]},Eu={fact:{configurable:!0}};ta.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var h=a.next().getCoordinates();this.checkEndPtVertexIntersections(h[0],this._segStrings),this.checkEndPtVertexIntersections(h[h.length-1],this._segStrings)}else if(2===arguments.length)for(var g=arguments[0],v=arguments[1].iterator();v.hasNext();)for(var C=v.next().getCoordinates(),V=1;V<C.length-1;V++)if(C[V].equals(g))throw new Oe("found endpt/interior pt intersection at index "+V+" :pt "+g)},ta.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();)for(var h=a.next(),g=this._segStrings.iterator();g.hasNext();){var v=g.next();this.checkInteriorIntersections(h,v)}else if(2===arguments.length)for(var C=arguments[0],V=arguments[1],X=C.getCoordinates(),ye=V.getCoordinates(),Ue=0;Ue<X.length-1;Ue++)for(var vt=0;vt<ye.length-1;vt++)this.checkInteriorIntersections(C,Ue,V,vt);else if(4===arguments.length){var Bt=arguments[0],Gt=arguments[1],Ln=arguments[2],Cn=arguments[3];if(Bt===Ln&&Gt===Cn)return null;var Yn=Bt.getCoordinates()[Gt],sr=Bt.getCoordinates()[Gt+1],Mi=Ln.getCoordinates()[Cn],so=Ln.getCoordinates()[Cn+1];if(this._li.computeIntersection(Yn,sr,Mi,so),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Yn,sr)||this.hasInteriorIntersection(this._li,Mi,so)))throw new Oe("found non-noded intersection at "+Yn+"-"+sr+" and "+Mi+"-"+so)}},ta.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ta.prototype.checkCollapses=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var h=a.next();this.checkCollapses(h)}else if(1===arguments.length)for(var g=arguments[0].getCoordinates(),v=0;v<g.length-2;v++)this.checkCollapse(g[v],g[v+1],g[v+2])},ta.prototype.hasInteriorIntersection=function(a,h,g){for(var v=0;v<a.getIntersectionNum();v++){var C=a.getIntersection(v);if(!C.equals(h)&&!C.equals(g))return!0}return!1},ta.prototype.checkCollapse=function(a,h,g){if(a.equals(g))throw new Oe("found non-noded collapse at "+ta.fact.createLineString([a,h,g]))},ta.prototype.interfaces_=function(){return[]},ta.prototype.getClass=function(){return ta},Eu.fact.get=function(){return new jr},Object.defineProperties(ta,Eu);var Gi=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var a=arguments[0],h=arguments[1],g=arguments[2];if(this._originalPt=a,this._pt=a,this._scaleFactor=h,this._li=g,h<=0)throw new xe("Scale factor must be non-zero");1!==h&&(this._pt=new ae(this.scale(a.x),this.scale(a.y)),this._p0Scaled=new ae,this._p1Scaled=new ae),this.initCorners(this._pt)},uu={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Gi.prototype.intersectsScaled=function(a,h){var g=Math.min(a.x,h.x),v=Math.max(a.x,h.x),C=Math.min(a.y,h.y),V=Math.max(a.y,h.y),X=this._maxx<g||this._minx>v||this._maxy<C||this._miny>V;if(X)return!1;var ye=this.intersectsToleranceSquare(a,h);return De.isTrue(!(X&&ye),"Found bad envelope test"),ye},Gi.prototype.initCorners=function(a){this._minx=a.x-.5,this._maxx=a.x+.5,this._miny=a.y-.5,this._maxy=a.y+.5,this._corner[0]=new ae(this._maxx,this._maxy),this._corner[1]=new ae(this._minx,this._maxy),this._corner[2]=new ae(this._minx,this._miny),this._corner[3]=new ae(this._maxx,this._miny)},Gi.prototype.intersects=function(a,h){return 1===this._scaleFactor?this.intersectsScaled(a,h):(this.copyScaled(a,this._p0Scaled),this.copyScaled(h,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Gi.prototype.scale=function(a){return Math.round(a*this._scaleFactor)},Gi.prototype.getCoordinate=function(){return this._originalPt},Gi.prototype.copyScaled=function(a,h){h.x=this.scale(a.x),h.y=this.scale(a.y)},Gi.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var a=Gi.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new wn(this._originalPt.x-a,this._originalPt.x+a,this._originalPt.y-a,this._originalPt.y+a)}return this._safeEnv},Gi.prototype.intersectsPixelClosure=function(a,h){return this._li.computeIntersection(a,h,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(a,h,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(a,h,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(a,h,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Gi.prototype.intersectsToleranceSquare=function(a,h){var g=!1,v=!1;return this._li.computeIntersection(a,h,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(a,h,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(g=!0),this._li.computeIntersection(a,h,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(v=!0),this._li.computeIntersection(a,h,this._corner[3],this._corner[0]),this._li.isProper()||g&&v||a.equals(this._pt)||h.equals(this._pt)))))},Gi.prototype.addSnappedNode=function(a,h){var g=a.getCoordinate(h),v=a.getCoordinate(h+1);return!!this.intersects(g,v)&&(a.addIntersection(this.getCoordinate(),h),!0)},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},uu.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Gi,uu);var Gl=function(){this.tempEnv1=new wn,this.selectedSegment=new Kn};Gl.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl};var da=function(){this._index=null,this._index=arguments[0]},ks={HotPixelSnapAction:{configurable:!0}};da.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var h=arguments[0],g=arguments[1],v=arguments[2],C=h.getSafeEnvelope(),V=new lh(h,g,v);return this._index.query(C,{interfaces_:function(){return[au]},visitItem:function(X){X.select(C,V)}}),V.isNodeAdded()}},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da},ks.HotPixelSnapAction.get=function(){return lh},Object.defineProperties(da,ks);var lh=function(a){function h(){a.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var v=arguments[1],C=arguments[2];this._hotPixel=arguments[0],this._parentEdge=v,this._hotPixelVertexIndex=C}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.isNodeAdded=function(){return this._isNodeAdded},h.prototype.select=function(){if(2!==arguments.length)return a.prototype.select.apply(this,arguments);var v=arguments[1],C=arguments[0].getContext();if(null!==this._parentEdge&&C===this._parentEdge&&v===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(C,v)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Gl),cu=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new mn};cu.prototype.processIntersections=function(a,h,g,v){if(a===g&&h===v)return null;var C=a.getCoordinates()[h],V=a.getCoordinates()[h+1],X=g.getCoordinates()[v],ye=g.getCoordinates()[v+1];if(this._li.computeIntersection(C,V,X,ye),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var Ue=0;Ue<this._li.getIntersectionNum();Ue++)this._interiorIntersections.add(this._li.getIntersection(Ue));a.addIntersections(this._li,h,0),g.addIntersections(this._li,v,1)}},cu.prototype.isDone=function(){return!1},cu.prototype.getInteriorIntersections=function(){return this._interiorIntersections},cu.prototype.interfaces_=function(){return[mr]},cu.prototype.getClass=function(){return cu};var Is=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var a=arguments[0];this._pm=a,this._li=new zt,this._li.setPrecisionModel(a),this._scaleFactor=a.getScale()};Is.prototype.checkCorrectness=function(a){var h=Hi.getNodedSubstrings(a),g=new ta(h);try{g.checkValid()}catch(v){if(!(v instanceof fn))throw v;v.printStackTrace()}},Is.prototype.getNodedSubstrings=function(){return Hi.getNodedSubstrings(this._nodedSegStrings)},Is.prototype.snapRound=function(a,h){var g=this.findInteriorIntersections(a,h);this.computeIntersectionSnaps(g),this.computeVertexSnaps(a)},Is.prototype.findInteriorIntersections=function(a,h){var g=new cu(h);return this._noder.setSegmentIntersector(g),this._noder.computeNodes(a),g.getInteriorIntersections()},Is.prototype.computeVertexSnaps=function(){if(Pt(arguments[0],wi))for(var a=arguments[0].iterator();a.hasNext();){var h=a.next();this.computeVertexSnaps(h)}else if(arguments[0]instanceof Hi)for(var g=arguments[0],v=g.getCoordinates(),C=0;C<v.length;C++){var V=new Gi(v[C],this._scaleFactor,this._li);this._pointSnapper.snap(V,g,C)&&g.addIntersection(v[C],C)}},Is.prototype.computeNodes=function(a){this._nodedSegStrings=a,this._noder=new Ju,this._pointSnapper=new da(this._noder.getIndex()),this.snapRound(a,this._li)},Is.prototype.computeIntersectionSnaps=function(a){for(var h=a.iterator();h.hasNext();){var g=h.next(),v=new Gi(g,this._scaleFactor,this._li);this._pointSnapper.snap(v)}},Is.prototype.interfaces_=function(){return[Hl]},Is.prototype.getClass=function(){return Is};var Ni=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new vr,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var g=arguments[1];this._argGeom=arguments[0],this._bufParams=g}},al={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Ni.prototype.bufferFixedPrecision=function(a){var h=new qr(new Is(new li(1)),a.getScale()),g=new Eo(this._bufParams);g.setWorkingPrecisionModel(a),g.setNoder(h),this._resultGeometry=g.buffer(this._argGeom,this._distance)},Ni.prototype.bufferReducedPrecision=function(){var a=this;if(0===arguments.length){for(var h=Ni.MAX_PRECISION_DIGITS;h>=0;h--){try{a.bufferReducedPrecision(h)}catch(V){if(!(V instanceof Sl))throw V;a._saveException=V}if(null!==a._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var v=Ni.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),C=new li(v);this.bufferFixedPrecision(C)}},Ni.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var a=this._argGeom.getFactory().getPrecisionModel();a.getType()===li.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()},Ni.prototype.setQuadrantSegments=function(a){this._bufParams.setQuadrantSegments(a)},Ni.prototype.bufferOriginalPrecision=function(){try{var a=new Eo(this._bufParams);this._resultGeometry=a.buffer(this._argGeom,this._distance)}catch(h){if(!(h instanceof Oe))throw h;this._saveException=h}},Ni.prototype.getResultGeometry=function(a){return this._distance=a,this.computeGeometry(),this._resultGeometry},Ni.prototype.setEndCapStyle=function(a){this._bufParams.setEndCapStyle(a)},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.bufferOp=function(){if(2===arguments.length){var h=arguments[1];return new Ni(arguments[0]).getResultGeometry(h)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof tn&&"number"==typeof arguments[1]){var v=arguments[1],C=arguments[2],V=new Ni(arguments[0]);return V.setQuadrantSegments(C),V.getResultGeometry(v)}if(arguments[2]instanceof vr&&arguments[0]instanceof tn&&"number"==typeof arguments[1]){var ye=arguments[1];return new Ni(arguments[0],arguments[2]).getResultGeometry(ye)}}else if(4===arguments.length){var Bt=arguments[1],Gt=arguments[2],Ln=arguments[3],Cn=new Ni(arguments[0]);return Cn.setQuadrantSegments(Gt),Cn.setEndCapStyle(Ln),Cn.getResultGeometry(Bt)}},Ni.precisionScaleFactor=function(a,h,g){var v=a.getEnvelopeInternal(),C=Ge.max(Math.abs(v.getMaxX()),Math.abs(v.getMaxY()),Math.abs(v.getMinX()),Math.abs(v.getMinY()))+2*(h>0?h:0),V=g-Math.trunc(Math.log(C)/Math.log(10)+1);return Math.pow(10,V)},al.CAP_ROUND.get=function(){return vr.CAP_ROUND},al.CAP_BUTT.get=function(){return vr.CAP_FLAT},al.CAP_FLAT.get=function(){return vr.CAP_FLAT},al.CAP_SQUARE.get=function(){return vr.CAP_SQUARE},al.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Ni,al);var go=function(){this._pt=[new ae,new ae],this._distance=se.NaN,this._isNull=!0};go.prototype.getCoordinates=function(){return this._pt},go.prototype.getCoordinate=function(a){return this._pt[a]},go.prototype.setMinimum=function(){if(1===arguments.length){var a=arguments[0];this.setMinimum(a._pt[0],a._pt[1])}else if(2===arguments.length){var h=arguments[0],g=arguments[1];if(this._isNull)return this.initialize(h,g),null;var v=h.distance(g);v<this._distance&&this.initialize(h,g,v)}},go.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var a=arguments[0],h=arguments[1];this._pt[0].setCoordinate(a),this._pt[1].setCoordinate(h),this._distance=a.distance(h),this._isNull=!1}else if(3===arguments.length){var v=arguments[1],C=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(v),this._distance=C,this._isNull=!1}},go.prototype.getDistance=function(){return this._distance},go.prototype.setMaximum=function(){if(1===arguments.length){var a=arguments[0];this.setMaximum(a._pt[0],a._pt[1])}else if(2===arguments.length){var h=arguments[0],g=arguments[1];if(this._isNull)return this.initialize(h,g),null;var v=h.distance(g);v>this._distance&&this.initialize(h,g,v)}},go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go};var ll=function(){};ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll},ll.computeDistance=function(){if(arguments[2]instanceof go&&arguments[0]instanceof pr&&arguments[1]instanceof ae)for(var h=arguments[1],g=arguments[2],v=arguments[0].getCoordinates(),C=new Kn,V=0;V<v.length-1;V++){C.setCoordinates(v[V],v[V+1]);var X=C.closestPoint(h);g.setMinimum(X,h)}else if(arguments[2]instanceof go&&arguments[0]instanceof rr&&arguments[1]instanceof ae){var ye=arguments[0],Ue=arguments[1],vt=arguments[2];ll.computeDistance(ye.getExteriorRing(),Ue,vt);for(var Bt=0;Bt<ye.getNumInteriorRing();Bt++)ll.computeDistance(ye.getInteriorRingN(Bt),Ue,vt)}else if(arguments[2]instanceof go&&arguments[0]instanceof tn&&arguments[1]instanceof ae){var Gt=arguments[0],Ln=arguments[1],Cn=arguments[2];if(Gt instanceof pr)ll.computeDistance(Gt,Ln,Cn);else if(Gt instanceof rr)ll.computeDistance(Gt,Ln,Cn);else if(Gt instanceof pn)for(var Yn=Gt,sr=0;sr<Yn.getNumGeometries();sr++){var Mi=Yn.getGeometryN(sr);ll.computeDistance(Mi,Ln,Cn)}else Cn.setMinimum(Gt.getCoordinate(),Ln)}else if(arguments[2]instanceof go&&arguments[0]instanceof Kn&&arguments[1]instanceof ae){var ko=arguments[1],Ol=arguments[2],Ta=arguments[0].closestPoint(ko);Ol.setMinimum(Ta,ko)}};var Co=function(a){this._maxPtDist=new go,this._inputGeom=a||null},Cu={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Co.prototype.computeMaxMidpointDistance=function(a){var h=new ql(this._inputGeom);a.apply(h),this._maxPtDist.setMaximum(h.getMaxPointDistance())},Co.prototype.computeMaxVertexDistance=function(a){var h=new Ya(this._inputGeom);a.apply(h),this._maxPtDist.setMaximum(h.getMaxPointDistance())},Co.prototype.findDistance=function(a){return this.computeMaxVertexDistance(a),this.computeMaxMidpointDistance(a),this._maxPtDist.getDistance()},Co.prototype.getDistancePoints=function(){return this._maxPtDist},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Cu.MaxPointDistanceFilter.get=function(){return Ya},Cu.MaxMidpointDistanceFilter.get=function(){return ql},Object.defineProperties(Co,Cu);var Ya=function(a){this._maxPtDist=new go,this._minPtDist=new go,this._geom=a||null};Ya.prototype.filter=function(a){this._minPtDist.initialize(),ll.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ya.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ya.prototype.interfaces_=function(){return[$r]},Ya.prototype.getClass=function(){return Ya};var ql=function(a){this._maxPtDist=new go,this._minPtDist=new go,this._geom=a||null};ql.prototype.filter=function(a,h){if(0===h)return null;var g=a.getCoordinate(h-1),v=a.getCoordinate(h),C=new ae((g.x+v.x)/2,(g.y+v.y)/2);this._minPtDist.initialize(),ll.computeDistance(this._geom,C,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ql.prototype.isDone=function(){return!1},ql.prototype.isGeometryChanged=function(){return!1},ql.prototype.getMaxPointDistance=function(){return this._maxPtDist},ql.prototype.interfaces_=function(){return[Un]},ql.prototype.getClass=function(){return ql};var Wl=function(a){this._comps=a||null};Wl.prototype.filter=function(a){a instanceof rr&&this._comps.add(a)},Wl.prototype.interfaces_=function(){return[nn]},Wl.prototype.getClass=function(){return Wl},Wl.getPolygons=function(){if(1===arguments.length)return Wl.getPolygons(arguments[0],new mn);if(2===arguments.length){var h=arguments[0],g=arguments[1];return h instanceof rr?g.add(h):h instanceof pn&&h.apply(new Wl(g)),g}};var To=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var g=arguments[1];this._lines=arguments[0],this._isForcedToLineString=g}};To.prototype.filter=function(a){if(this._isForcedToLineString&&a instanceof Xi){var h=a.getFactory().createLineString(a.getCoordinateSequence());return this._lines.add(h),null}a instanceof pr&&this._lines.add(a)},To.prototype.setForceToLineString=function(a){this._isForcedToLineString=a},To.prototype.interfaces_=function(){return[dr]},To.prototype.getClass=function(){return To},To.getGeometry=function(){if(1===arguments.length){var a=arguments[0];return a.getFactory().buildGeometry(To.getLines(a))}if(2===arguments.length){var h=arguments[0],g=arguments[1];return h.getFactory().buildGeometry(To.getLines(h,g))}},To.getLines=function(){if(1===arguments.length)return To.getLines(arguments[0],!1);if(2===arguments.length){if(Pt(arguments[0],wi)&&Pt(arguments[1],wi)){for(var g=arguments[1],v=arguments[0].iterator();v.hasNext();){var C=v.next();To.getLines(C,g)}return g}if(arguments[0]instanceof tn&&"boolean"==typeof arguments[1]){var V=arguments[0],X=arguments[1],ye=new mn;return V.apply(new To(ye,X)),ye}if(arguments[0]instanceof tn&&Pt(arguments[1],wi)){var Ue=arguments[0],vt=arguments[1];return Ue instanceof pr?vt.add(Ue):Ue.apply(new To(vt)),vt}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Pt(arguments[0],wi)&&Pt(arguments[1],wi)){for(var Gt=arguments[1],Ln=arguments[2],Cn=arguments[0].iterator();Cn.hasNext();){var Yn=Cn.next();To.getLines(Yn,Gt,Ln)}return Gt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof tn&&Pt(arguments[1],wi)){var Mi=arguments[1];return arguments[0].apply(new To(Mi,arguments[2])),Mi}}};var fa=function(){if(this._boundaryRule=vi.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var a=arguments[0];if(null===a)throw new xe("Rule must be non-null");this._boundaryRule=a}};fa.prototype.locateInternal=function(){if(arguments[0]instanceof ae&&arguments[1]instanceof rr){var a=arguments[0],h=arguments[1];if(h.isEmpty())return Te.EXTERIOR;var g=h.getExteriorRing(),v=this.locateInPolygonRing(a,g);if(v===Te.EXTERIOR)return Te.EXTERIOR;if(v===Te.BOUNDARY)return Te.BOUNDARY;for(var C=0;C<h.getNumInteriorRing();C++){var V=h.getInteriorRingN(C),X=this.locateInPolygonRing(a,V);if(X===Te.INTERIOR)return Te.EXTERIOR;if(X===Te.BOUNDARY)return Te.BOUNDARY}return Te.INTERIOR}if(arguments[0]instanceof ae&&arguments[1]instanceof pr){var ye=arguments[0],Ue=arguments[1];if(!Ue.getEnvelopeInternal().intersects(ye))return Te.EXTERIOR;var vt=Ue.getCoordinates();return Ue.isClosed()||!ye.equals(vt[0])&&!ye.equals(vt[vt.length-1])?Ut.isOnLine(ye,vt)?Te.INTERIOR:Te.EXTERIOR:Te.BOUNDARY}if(arguments[0]instanceof ae&&arguments[1]instanceof co){var Bt=arguments[0];return arguments[1].getCoordinate().equals2D(Bt)?Te.INTERIOR:Te.EXTERIOR}},fa.prototype.locateInPolygonRing=function(a,h){return h.getEnvelopeInternal().intersects(a)?Ut.locatePointInRing(a,h.getCoordinates()):Te.EXTERIOR},fa.prototype.intersects=function(a,h){return this.locate(a,h)!==Te.EXTERIOR},fa.prototype.updateLocationInfo=function(a){a===Te.INTERIOR&&(this._isIn=!0),a===Te.BOUNDARY&&this._numBoundaries++},fa.prototype.computeLocation=function(a,h){if(h instanceof co&&this.updateLocationInfo(this.locateInternal(a,h)),h instanceof pr)this.updateLocationInfo(this.locateInternal(a,h));else if(h instanceof rr)this.updateLocationInfo(this.locateInternal(a,h));else if(h instanceof Ct)for(var g=h,v=0;v<g.getNumGeometries();v++){var C=g.getGeometryN(v);this.updateLocationInfo(this.locateInternal(a,C))}else if(h instanceof Jo)for(var V=h,X=0;X<V.getNumGeometries();X++){var ye=V.getGeometryN(X);this.updateLocationInfo(this.locateInternal(a,ye))}else if(h instanceof pn)for(var Ue=new ol(h);Ue.hasNext();){var vt=Ue.next();vt!==h&&this.computeLocation(a,vt)}},fa.prototype.locate=function(a,h){return h.isEmpty()?Te.EXTERIOR:h instanceof pr||h instanceof rr?this.locateInternal(a,h):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(a,h),this._boundaryRule.isInBoundary(this._numBoundaries)?Te.BOUNDARY:this._numBoundaries>0||this._isIn?Te.INTERIOR:Te.EXTERIOR)},fa.prototype.interfaces_=function(){return[]},fa.prototype.getClass=function(){return fa};var pa=function a(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)a.call(this,arguments[0],a.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var C=arguments[1],V=arguments[2];this._component=arguments[0],this._segIndex=C,this._pt=V}},$a={INSIDE_AREA:{configurable:!0}};pa.prototype.isInsideArea=function(){return this._segIndex===pa.INSIDE_AREA},pa.prototype.getCoordinate=function(){return this._pt},pa.prototype.getGeometryComponent=function(){return this._component},pa.prototype.getSegmentIndex=function(){return this._segIndex},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa},$a.INSIDE_AREA.get=function(){return-1},Object.defineProperties(pa,$a);var za=function(a){this._pts=a||null};za.prototype.filter=function(a){a instanceof co&&this._pts.add(a)},za.prototype.interfaces_=function(){return[nn]},za.prototype.getClass=function(){return za},za.getPoints=function(){if(1===arguments.length){var a=arguments[0];return a instanceof co?io.singletonList(a):za.getPoints(a,new mn)}if(2===arguments.length){var h=arguments[0],g=arguments[1];return h instanceof co?g.add(h):h instanceof pn&&h.apply(new za(g)),g}};var hu=function(){this._locations=null,this._locations=arguments[0]};hu.prototype.filter=function(a){(a instanceof co||a instanceof pr||a instanceof rr)&&this._locations.add(new pa(a,0,a.getCoordinate()))},hu.prototype.interfaces_=function(){return[nn]},hu.prototype.getClass=function(){return hu},hu.getLocations=function(a){var h=new mn;return a.apply(new hu(h)),h};var Wo=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new fa,this._minDistanceLocation=null,this._minDistance=se.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var g=arguments[0],v=arguments[1],C=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=g,this._geom[1]=v,this._terminateDistance=C}};Wo.prototype.computeContainmentDistance=function(){if(0===arguments.length){var a=new Array(2).fill(null);if(this.computeContainmentDistance(0,a),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,a)}else if(2===arguments.length){var h=arguments[0],g=arguments[1],v=1-h,C=Wl.getPolygons(this._geom[h]);if(C.size()>0){var V=hu.getLocations(this._geom[v]);if(this.computeContainmentDistance(V,C,g),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[v]=g[0],this._minDistanceLocation[h]=g[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Pt(arguments[0],Ys)&&Pt(arguments[1],Ys)){for(var X=arguments[0],ye=arguments[1],Ue=arguments[2],vt=0;vt<X.size();vt++)for(var Bt=X.get(vt),Gt=0;Gt<ye.size();Gt++)if(this.computeContainmentDistance(Bt,ye.get(Gt),Ue),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof pa&&arguments[1]instanceof rr){var Ln=arguments[0],Cn=arguments[1],Yn=arguments[2],sr=Ln.getCoordinate();if(Te.EXTERIOR!==this._ptLocator.locate(sr,Cn))return this._minDistance=0,Yn[0]=Ln,Yn[1]=new pa(Cn,sr),null}},Wo.prototype.computeMinDistanceLinesPoints=function(a,h,g){for(var v=0;v<a.size();v++)for(var C=a.get(v),V=0;V<h.size();V++){var X=h.get(V);if(this.computeMinDistance(C,X,g),this._minDistance<=this._terminateDistance)return null}},Wo.prototype.computeFacetDistance=function(){var a=new Array(2).fill(null),h=To.getLines(this._geom[0]),g=To.getLines(this._geom[1]),v=za.getPoints(this._geom[0]),C=za.getPoints(this._geom[1]);return this.computeMinDistanceLines(h,g,a),this.updateMinDistance(a,!1),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(h,C,a),this.updateMinDistance(a,!1),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(g,v,a),this.updateMinDistance(a,!0),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistancePoints(v,C,a),void this.updateMinDistance(a,!1))))},Wo.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Wo.prototype.updateMinDistance=function(a,h){if(null===a[0])return null;h?(this._minDistanceLocation[0]=a[1],this._minDistanceLocation[1]=a[0]):(this._minDistanceLocation[0]=a[0],this._minDistanceLocation[1]=a[1])},Wo.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Wo.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof pr&&arguments[1]instanceof co){var a=arguments[0],h=arguments[1],g=arguments[2];if(a.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var v=a.getCoordinates(),C=h.getCoordinate(),V=0;V<v.length-1;V++){var X=Ut.distancePointLine(C,v[V],v[V+1]);if(X<this._minDistance){this._minDistance=X;var ye=new Kn(v[V],v[V+1]).closestPoint(C);g[0]=new pa(a,V,ye),g[1]=new pa(h,0,C)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof pr&&arguments[1]instanceof pr){var Ue=arguments[0],vt=arguments[1],Bt=arguments[2];if(Ue.getEnvelopeInternal().distance(vt.getEnvelopeInternal())>this._minDistance)return null;for(var Gt=Ue.getCoordinates(),Ln=vt.getCoordinates(),Cn=0;Cn<Gt.length-1;Cn++)for(var Yn=0;Yn<Ln.length-1;Yn++){var sr=Ut.distanceLineLine(Gt[Cn],Gt[Cn+1],Ln[Yn],Ln[Yn+1]);if(sr<this._minDistance){this._minDistance=sr;var Mi=new Kn(Gt[Cn],Gt[Cn+1]),so=new Kn(Ln[Yn],Ln[Yn+1]),ko=Mi.closestPoints(so);Bt[0]=new pa(Ue,Cn,ko[0]),Bt[1]=new pa(vt,Yn,ko[1])}if(this._minDistance<=this._terminateDistance)return null}}},Wo.prototype.computeMinDistancePoints=function(a,h,g){for(var v=0;v<a.size();v++)for(var C=a.get(v),V=0;V<h.size();V++){var X=h.get(V),ye=C.getCoordinate().distance(X.getCoordinate());if(ye<this._minDistance&&(this._minDistance=ye,g[0]=new pa(C,0,C.getCoordinate()),g[1]=new pa(X,0,X.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Wo.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new xe("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Wo.prototype.computeMinDistanceLines=function(a,h,g){for(var v=0;v<a.size();v++)for(var C=a.get(v),V=0;V<h.size();V++){var X=h.get(V);if(this.computeMinDistance(C,X,g),this._minDistance<=this._terminateDistance)return null}},Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo},Wo.distance=function(a,h){return new Wo(a,h).distance()},Wo.isWithinDistance=function(a,h,g){return new Wo(a,h,g).distance()<=g},Wo.nearestPoints=function(a,h){return new Wo(a,h).nearestPoints()};var ho=function(){this._pt=[new ae,new ae],this._distance=se.NaN,this._isNull=!0};ho.prototype.getCoordinates=function(){return this._pt},ho.prototype.getCoordinate=function(a){return this._pt[a]},ho.prototype.setMinimum=function(){if(1===arguments.length){var a=arguments[0];this.setMinimum(a._pt[0],a._pt[1])}else if(2===arguments.length){var h=arguments[0],g=arguments[1];if(this._isNull)return this.initialize(h,g),null;var v=h.distance(g);v<this._distance&&this.initialize(h,g,v)}},ho.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var a=arguments[0],h=arguments[1];this._pt[0].setCoordinate(a),this._pt[1].setCoordinate(h),this._distance=a.distance(h),this._isNull=!1}else if(3===arguments.length){var v=arguments[1],C=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(v),this._distance=C,this._isNull=!1}},ho.prototype.toString=function(){return Lt.toLineString(this._pt[0],this._pt[1])},ho.prototype.getDistance=function(){return this._distance},ho.prototype.setMaximum=function(){if(1===arguments.length){var a=arguments[0];this.setMaximum(a._pt[0],a._pt[1])}else if(2===arguments.length){var h=arguments[0],g=arguments[1];if(this._isNull)return this.initialize(h,g),null;var v=h.distance(g);v>this._distance&&this.initialize(h,g,v)}},ho.prototype.interfaces_=function(){return[]},ho.prototype.getClass=function(){return ho};var Ma=function(){};Ma.prototype.interfaces_=function(){return[]},Ma.prototype.getClass=function(){return Ma},Ma.computeDistance=function(){if(arguments[2]instanceof ho&&arguments[0]instanceof pr&&arguments[1]instanceof ae)for(var a=arguments[0],h=arguments[1],g=arguments[2],v=new Kn,C=a.getCoordinates(),V=0;V<C.length-1;V++){v.setCoordinates(C[V],C[V+1]);var X=v.closestPoint(h);g.setMinimum(X,h)}else if(arguments[2]instanceof ho&&arguments[0]instanceof rr&&arguments[1]instanceof ae){var ye=arguments[0],Ue=arguments[1],vt=arguments[2];Ma.computeDistance(ye.getExteriorRing(),Ue,vt);for(var Bt=0;Bt<ye.getNumInteriorRing();Bt++)Ma.computeDistance(ye.getInteriorRingN(Bt),Ue,vt)}else if(arguments[2]instanceof ho&&arguments[0]instanceof tn&&arguments[1]instanceof ae){var Gt=arguments[0],Ln=arguments[1],Cn=arguments[2];if(Gt instanceof pr)Ma.computeDistance(Gt,Ln,Cn);else if(Gt instanceof rr)Ma.computeDistance(Gt,Ln,Cn);else if(Gt instanceof pn)for(var Yn=Gt,sr=0;sr<Yn.getNumGeometries();sr++){var Mi=Yn.getGeometryN(sr);Ma.computeDistance(Mi,Ln,Cn)}else Cn.setMinimum(Gt.getCoordinate(),Ln)}else if(arguments[2]instanceof ho&&arguments[0]instanceof Kn&&arguments[1]instanceof ae){var ko=arguments[1],Ol=arguments[2],Ta=arguments[0].closestPoint(ko);Ol.setMinimum(Ta,ko)}};var xl=function(){this._g0=null,this._g1=null,this._ptDist=new ho,this._densifyFrac=0;var h=arguments[1];this._g0=arguments[0],this._g1=h},uh={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};xl.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},xl.prototype.setDensifyFraction=function(a){if(a>1||a<=0)throw new xe("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=a},xl.prototype.compute=function(a,h){this.computeOrientedDistance(a,h,this._ptDist),this.computeOrientedDistance(h,a,this._ptDist)},xl.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},xl.prototype.computeOrientedDistance=function(a,h,g){var v=new Yu(h);if(a.apply(v),g.setMaximum(v.getMaxPointDistance()),this._densifyFrac>0){var C=new du(h,this._densifyFrac);a.apply(C),g.setMaximum(C.getMaxPointDistance())}},xl.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl},xl.distance=function(){if(2===arguments.length)return new xl(arguments[0],arguments[1]).distance();if(3===arguments.length){var C=arguments[2],V=new xl(arguments[0],arguments[1]);return V.setDensifyFraction(C),V.distance()}},uh.MaxPointDistanceFilter.get=function(){return Yu},uh.MaxDensifiedByFractionDistanceFilter.get=function(){return du},Object.defineProperties(xl,uh);var Yu=function(){this._maxPtDist=new ho,this._minPtDist=new ho,this._euclideanDist=new Ma,this._geom=null,this._geom=arguments[0]};Yu.prototype.filter=function(a){this._minPtDist.initialize(),Ma.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Yu.prototype.getMaxPointDistance=function(){return this._maxPtDist},Yu.prototype.interfaces_=function(){return[$r]},Yu.prototype.getClass=function(){return Yu};var du=function(){this._maxPtDist=new ho,this._minPtDist=new ho,this._geom=null,this._numSubSegs=0;var h=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/h))};du.prototype.filter=function(a,h){if(0===h)return null;for(var g=a.getCoordinate(h-1),v=a.getCoordinate(h),C=(v.x-g.x)/this._numSubSegs,V=(v.y-g.y)/this._numSubSegs,X=0;X<this._numSubSegs;X++){var vt=new ae(g.x+X*C,g.y+X*V);this._minPtDist.initialize(),Ma.computeDistance(this._geom,vt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},du.prototype.isDone=function(){return!1},du.prototype.isGeometryChanged=function(){return!1},du.prototype.getMaxPointDistance=function(){return this._maxPtDist},du.prototype.interfaces_=function(){return[Un]},du.prototype.getClass=function(){return du};var na=function(a,h,g){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=a||null,this._bufDistance=h||null,this._result=g||null},zc={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};na.prototype.checkMaximumDistance=function(a,h,g){var v=new xl(h,a);if(v.setDensifyFraction(.25),this._maxDistanceFound=v.orientedDistance(),this._maxDistanceFound>g){this._isValid=!1;var C=v.getCoordinates();this._errorLocation=C[1],this._errorIndicator=a.getFactory().createLineString(C),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Lt.toLineString(C[0],C[1])+")"}},na.prototype.isValid=function(){var a=Math.abs(this._bufDistance),h=na.MAX_DISTANCE_DIFF_FRAC*a;return this._minValidDistance=a-h,this._maxValidDistance=a+h,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),na.VERBOSE&&Sn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},na.prototype.checkNegativeValid=function(){if(!(this._input instanceof rr||this._input instanceof Jo||this._input instanceof pn))return null;var a=this.getPolygonLines(this._input);if(this.checkMinimumDistance(a,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(a,this._result,this._maxValidDistance)},na.prototype.getErrorIndicator=function(){return this._errorIndicator},na.prototype.checkMinimumDistance=function(a,h,g){var v=new Wo(a,h,g);if(this._minDistanceFound=v.distance(),this._minDistanceFound<g){this._isValid=!1;var C=v.nearestPoints();this._errorLocation=v.nearestPoints()[1],this._errorIndicator=a.getFactory().createLineString(C),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Lt.toLineString(C[0],C[1])+" )"}},na.prototype.checkPositiveValid=function(){var a=this._result.getBoundary();if(this.checkMinimumDistance(this._input,a,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,a,this._maxValidDistance)},na.prototype.getErrorLocation=function(){return this._errorLocation},na.prototype.getPolygonLines=function(a){for(var h=new mn,g=new To(h),v=Wl.getPolygons(a).iterator();v.hasNext();)v.next().apply(g);return a.getFactory().buildGeometry(h)},na.prototype.getErrorMessage=function(){return this._errMsg},na.prototype.interfaces_=function(){return[]},na.prototype.getClass=function(){return na},zc.VERBOSE.get=function(){return!1},zc.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(na,zc);var So=function(a,h,g){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=a||null,this._distance=h||null,this._result=g||null},Bc={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};So.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},So.prototype.checkEnvelope=function(){if(this._distance<0)return null;var a=this._distance*So.MAX_ENV_DIFF_FRAC;0===a&&(a=.001);var h=new wn(this._input.getEnvelopeInternal());h.expandBy(this._distance);var g=new wn(this._result.getEnvelopeInternal());g.expandBy(a),g.contains(h)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(g)),this.report("Envelope")},So.prototype.checkDistance=function(){var a=new na(this._input,this._distance,this._result);a.isValid()||(this._isValid=!1,this._errorMsg=a.getErrorMessage(),this._errorLocation=a.getErrorLocation(),this._errorIndicator=a.getErrorIndicator()),this.report("Distance")},So.prototype.checkArea=function(){var a=this._input.getArea(),h=this._result.getArea();this._distance>0&&a>h&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&a<h&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},So.prototype.checkPolygonal=function(){this._result instanceof rr||this._result instanceof Jo||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},So.prototype.getErrorIndicator=function(){return this._errorIndicator},So.prototype.getErrorLocation=function(){return this._errorLocation},So.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},So.prototype.report=function(a){if(!So.VERBOSE)return null;Sn.out.println("Check "+a+": "+(this._isValid?"passed":"FAILED"))},So.prototype.getErrorMessage=function(){return this._errorMsg},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},So.isValidMsg=function(a,h,g){var v=new So(a,h,g);return v.isValid()?null:v.getErrorMessage()},So.isValid=function(a,h,g){return!!new So(a,h,g).isValid()},Bc.VERBOSE.get=function(){return!1},Bc.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(So,Bc);var Il=function(){this._pts=null,this._data=null;var h=arguments[1];this._pts=arguments[0],this._data=h};Il.prototype.getCoordinates=function(){return this._pts},Il.prototype.size=function(){return this._pts.length},Il.prototype.getCoordinate=function(a){return this._pts[a]},Il.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Il.prototype.getSegmentOctant=function(a){return a===this._pts.length-1?-1:Fu.octant(this.getCoordinate(a),this.getCoordinate(a+1))},Il.prototype.setData=function(a){this._data=a},Il.prototype.getData=function(){return this._data},Il.prototype.toString=function(){return Lt.toLineString(new Wn(this._pts))},Il.prototype.interfaces_=function(){return[bi]},Il.prototype.getClass=function(){return Il};var $o=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new mn,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};$o.prototype.getInteriorIntersection=function(){return this._interiorIntersection},$o.prototype.setCheckEndSegmentsOnly=function(a){this._isCheckEndSegmentsOnly=a},$o.prototype.getIntersectionSegments=function(){return this._intSegments},$o.prototype.count=function(){return this._intersectionCount},$o.prototype.getIntersections=function(){return this._intersections},$o.prototype.setFindAllIntersections=function(a){this._findAllIntersections=a},$o.prototype.setKeepIntersections=function(a){this._keepIntersections=a},$o.prototype.processIntersections=function(a,h,g,v){if(!this._findAllIntersections&&this.hasIntersection()||a===g&&h===v||this._isCheckEndSegmentsOnly&&!this.isEndSegment(a,h)&&!this.isEndSegment(g,v))return null;var C=a.getCoordinates()[h],V=a.getCoordinates()[h+1],X=g.getCoordinates()[v],ye=g.getCoordinates()[v+1];this._li.computeIntersection(C,V,X,ye),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=C,this._intSegments[1]=V,this._intSegments[2]=X,this._intSegments[3]=ye,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},$o.prototype.isEndSegment=function(a,h){return 0===h||h>=a.size()-2},$o.prototype.hasIntersection=function(){return null!==this._interiorIntersection},$o.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},$o.prototype.interfaces_=function(){return[mr]},$o.prototype.getClass=function(){return $o},$o.createAllIntersectionsFinder=function(a){var h=new $o(a);return h.setFindAllIntersections(!0),h},$o.createAnyIntersectionFinder=function(a){return new $o(a)},$o.createIntersectionCounter=function(a){var h=new $o(a);return h.setFindAllIntersections(!0),h.setKeepIntersections(!1),h};var Lo=function(){this._li=new zt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Lo.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Lo.prototype.getIntersections=function(){return this._segInt.getIntersections()},Lo.prototype.isValid=function(){return this.execute(),this._isValid},Lo.prototype.setFindAllIntersections=function(a){this._findAllIntersections=a},Lo.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new $o(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var a=new Ju;if(a.setSegmentIntersector(this._segInt),a.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Lo.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Sl(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Lo.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var a=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Lt.toLineString(a[0],a[1])+" and "+Lt.toLineString(a[2],a[3])},Lo.prototype.interfaces_=function(){return[]},Lo.prototype.getClass=function(){return Lo},Lo.computeIntersections=function(a){var h=new Lo(a);return h.setFindAllIntersections(!0),h.isValid(),h.getIntersections()};var $l=function a(){this._nv=null,this._nv=new Lo(a.toSegmentStrings(arguments[0]))};$l.prototype.checkValid=function(){this._nv.checkValid()},$l.prototype.interfaces_=function(){return[]},$l.prototype.getClass=function(){return $l},$l.toSegmentStrings=function(a){for(var h=new mn,g=a.iterator();g.hasNext();){var v=g.next();h.add(new Il(v.getCoordinates(),v))}return h},$l.checkValid=function(a){new $l(a).checkValid()};var qi=function(a){this._mapOp=a};qi.prototype.map=function(a){for(var h=new mn,g=0;g<a.getNumGeometries();g++){var v=this._mapOp.map(a.getGeometryN(g));v.isEmpty()||h.add(v)}return a.getFactory().createGeometryCollection(jr.toGeometryArray(h))},qi.prototype.interfaces_=function(){return[]},qi.prototype.getClass=function(){return qi},qi.map=function(a,h){return new qi(h).map(a)};var Ba=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new mn,this._resultLineList=new mn;var h=arguments[1],g=arguments[2];this._op=arguments[0],this._geometryFactory=h,this._ptLocator=g};Ba.prototype.collectLines=function(a){for(var h=this._op.getGraph().getEdgeEnds().iterator();h.hasNext();){var g=h.next();this.collectLineEdge(g,a,this._lineEdgesList),this.collectBoundaryTouchEdge(g,a,this._lineEdgesList)}},Ba.prototype.labelIsolatedLine=function(a,h){var g=this._ptLocator.locate(a.getCoordinate(),this._op.getArgGeometry(h));a.getLabel().setLocation(h,g)},Ba.prototype.build=function(a){return this.findCoveredLineEdges(),this.collectLines(a),this.buildLines(a),this._resultLineList},Ba.prototype.collectLineEdge=function(a,h,g){var v=a.getLabel(),C=a.getEdge();a.isLineEdge()&&(a.isVisited()||!Ar.isResultOfOp(v,h)||C.isCovered()||(g.add(C),a.setVisitedEdge(!0)))},Ba.prototype.findCoveredLineEdges=function(){for(var a=this._op.getGraph().getNodes().iterator();a.hasNext();)a.next().getEdges().findCoveredLineEdges();for(var h=this._op.getGraph().getEdgeEnds().iterator();h.hasNext();){var g=h.next(),v=g.getEdge();if(g.isLineEdge()&&!v.isCoveredSet()){var C=this._op.isCoveredByA(g.getCoordinate());v.setCovered(C)}}},Ba.prototype.labelIsolatedLines=function(a){for(var h=a.iterator();h.hasNext();){var g=h.next(),v=g.getLabel();g.isIsolated()&&(v.isNull(0)?this.labelIsolatedLine(g,0):this.labelIsolatedLine(g,1))}},Ba.prototype.buildLines=function(a){for(var h=this._lineEdgesList.iterator();h.hasNext();){var g=h.next(),v=this._geometryFactory.createLineString(g.getCoordinates());this._resultLineList.add(v),g.setInResult(!0)}},Ba.prototype.collectBoundaryTouchEdge=function(a,h,g){var v=a.getLabel();return a.isLineEdge()||a.isVisited()||a.isInteriorAreaEdge()||a.getEdge().isInResult()?null:(De.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult()),void(Ar.isResultOfOp(v,h)&&h===Ar.INTERSECTION&&(g.add(a.getEdge()),a.setVisitedEdge(!0))))},Ba.prototype.interfaces_=function(){return[]},Ba.prototype.getClass=function(){return Ba};var Zl=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new mn;var h=arguments[1];this._op=arguments[0],this._geometryFactory=h};Zl.prototype.filterCoveredNodeToPoint=function(a){var h=a.getCoordinate();if(!this._op.isCoveredByLA(h)){var g=this._geometryFactory.createPoint(h);this._resultPointList.add(g)}},Zl.prototype.extractNonCoveredResultNodes=function(a){for(var h=this._op.getGraph().getNodes().iterator();h.hasNext();){var g=h.next();if(!(g.isInResult()||g.isIncidentEdgeInResult()||0!==g.getEdges().getDegree()&&a!==Ar.INTERSECTION)){var v=g.getLabel();Ar.isResultOfOp(v,a)&&this.filterCoveredNodeToPoint(g)}}},Zl.prototype.build=function(a){return this.extractNonCoveredResultNodes(a),this._resultPointList},Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl};var Da=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Da.prototype.transformPoint=function(a,h){return this._factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))},Da.prototype.transformPolygon=function(a,h){var g=!0,v=this.transformLinearRing(a.getExteriorRing(),a);null!==v&&v instanceof Xi&&!v.isEmpty()||(g=!1);for(var C=new mn,V=0;V<a.getNumInteriorRing();V++){var X=this.transformLinearRing(a.getInteriorRingN(V),a);null===X||X.isEmpty()||(X instanceof Xi||(g=!1),C.add(X))}if(g)return this._factory.createPolygon(v,C.toArray([]));var ye=new mn;return null!==v&&ye.add(v),ye.addAll(C),this._factory.buildGeometry(ye)},Da.prototype.createCoordinateSequence=function(a){return this._factory.getCoordinateSequenceFactory().create(a)},Da.prototype.getInputGeometry=function(){return this._inputGeom},Da.prototype.transformMultiLineString=function(a,h){for(var g=new mn,v=0;v<a.getNumGeometries();v++){var C=this.transformLineString(a.getGeometryN(v),a);null!==C&&(C.isEmpty()||g.add(C))}return this._factory.buildGeometry(g)},Da.prototype.transformCoordinates=function(a,h){return this.copy(a)},Da.prototype.transformLineString=function(a,h){return this._factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))},Da.prototype.transformMultiPoint=function(a,h){for(var g=new mn,v=0;v<a.getNumGeometries();v++){var C=this.transformPoint(a.getGeometryN(v),a);null!==C&&(C.isEmpty()||g.add(C))}return this._factory.buildGeometry(g)},Da.prototype.transformMultiPolygon=function(a,h){for(var g=new mn,v=0;v<a.getNumGeometries();v++){var C=this.transformPolygon(a.getGeometryN(v),a);null!==C&&(C.isEmpty()||g.add(C))}return this._factory.buildGeometry(g)},Da.prototype.copy=function(a){return a.copy()},Da.prototype.transformGeometryCollection=function(a,h){for(var g=new mn,v=0;v<a.getNumGeometries();v++){var C=this.transform(a.getGeometryN(v));null!==C&&(this._pruneEmptyGeometry&&C.isEmpty()||g.add(C))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(jr.toGeometryArray(g)):this._factory.buildGeometry(g)},Da.prototype.transform=function(a){if(this._inputGeom=a,this._factory=a.getFactory(),a instanceof co)return this.transformPoint(a,null);if(a instanceof Fr)return this.transformMultiPoint(a,null);if(a instanceof Xi)return this.transformLinearRing(a,null);if(a instanceof pr)return this.transformLineString(a,null);if(a instanceof Ct)return this.transformMultiLineString(a,null);if(a instanceof rr)return this.transformPolygon(a,null);if(a instanceof Jo)return this.transformMultiPolygon(a,null);if(a instanceof pn)return this.transformGeometryCollection(a,null);throw new xe("Unknown Geometry subtype: "+a.getClass().getName())},Da.prototype.transformLinearRing=function(a,h){var g=this.transformCoordinates(a.getCoordinateSequence(),a);if(null===g)return this._factory.createLinearRing(null);var v=g.size();return v>0&&v<4&&!this._preserveType?this._factory.createLineString(g):this._factory.createLinearRing(g)},Da.prototype.interfaces_=function(){return[]},Da.prototype.getClass=function(){return Da};var Pl=function a(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Kn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof pr&&"number"==typeof arguments[1]){var g=arguments[1];a.call(this,arguments[0].getCoordinates(),g)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var v=arguments[0],C=arguments[1];this._srcPts=v,this._isClosed=a.isClosed(v),this._snapTolerance=C}};Pl.prototype.snapVertices=function(a,h){for(var g=this._isClosed?a.size()-1:a.size(),v=0;v<g;v++){var C=a.get(v),V=this.findSnapForVertex(C,h);null!==V&&(a.set(v,new ae(V)),0===v&&this._isClosed&&a.set(a.size()-1,new ae(V)))}},Pl.prototype.findSnapForVertex=function(a,h){for(var g=0;g<h.length;g++){if(a.equals2D(h[g]))return null;if(a.distance(h[g])<this._snapTolerance)return h[g]}return null},Pl.prototype.snapTo=function(a){var h=new oa(this._srcPts);return this.snapVertices(h,a),this.snapSegments(h,a),h.toCoordinateArray()},Pl.prototype.snapSegments=function(a,h){if(0===h.length)return null;var g=h.length;h[0].equals2D(h[h.length-1])&&(g=h.length-1);for(var v=0;v<g;v++){var C=h[v],V=this.findSegmentIndexToSnap(C,a);V>=0&&a.add(V+1,new ae(C),!1)}},Pl.prototype.findSegmentIndexToSnap=function(a,h){for(var g=se.MAX_VALUE,v=-1,C=0;C<h.size()-1;C++){if(this._seg.p0=h.get(C),this._seg.p1=h.get(C+1),this._seg.p0.equals2D(a)||this._seg.p1.equals2D(a)){if(this._allowSnappingToSourceVertices)continue;return-1}var V=this._seg.distance(a);V<this._snapTolerance&&V<g&&(g=V,v=C)}return v},Pl.prototype.setAllowSnappingToSourceVertices=function(a){this._allowSnappingToSourceVertices=a},Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl},Pl.isClosed=function(a){return!(a.length<=1)&&a[0].equals2D(a[a.length-1])};var Ps=function(a){this._srcGeom=a||null},jc={SNAP_PRECISION_FACTOR:{configurable:!0}};Ps.prototype.snapTo=function(a,h){var g=this.extractTargetCoordinates(a);return new Vc(h,g).transform(this._srcGeom)},Ps.prototype.snapToSelf=function(a,h){var g=this.extractTargetCoordinates(this._srcGeom),v=new Vc(a,g,!0).transform(this._srcGeom),C=v;return h&&Pt(C,rn)&&(C=v.buffer(0)),C},Ps.prototype.computeSnapTolerance=function(a){return this.computeMinimumSegmentLength(a)/10},Ps.prototype.extractTargetCoordinates=function(a){for(var h=new Ee,g=a.getCoordinates(),v=0;v<g.length;v++)h.add(g[v]);return h.toArray(new Array(0).fill(null))},Ps.prototype.computeMinimumSegmentLength=function(a){for(var h=se.MAX_VALUE,g=0;g<a.length-1;g++){var v=a[g].distance(a[g+1]);v<h&&(h=v)}return h},Ps.prototype.interfaces_=function(){return[]},Ps.prototype.getClass=function(){return Ps},Ps.snap=function(a,h,g){var v=new Array(2).fill(null),C=new Ps(a);v[0]=C.snapTo(h,g);var V=new Ps(h);return v[1]=V.snapTo(v[0],g),v},Ps.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],h=Ps.computeSizeBasedSnapTolerance(a),g=a.getPrecisionModel();if(g.getType()===li.FIXED){var v=1/g.getScale()*2/1.415;v>h&&(h=v)}return h}if(2===arguments.length){var V=arguments[1];return Math.min(Ps.computeOverlaySnapTolerance(arguments[0]),Ps.computeOverlaySnapTolerance(V))}},Ps.computeSizeBasedSnapTolerance=function(a){var h=a.getEnvelopeInternal();return Math.min(h.getHeight(),h.getWidth())*Ps.SNAP_PRECISION_FACTOR},Ps.snapToSelf=function(a,h,g){return new Ps(a).snapToSelf(h,g)},jc.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ps,jc);var Vc=function(a){function h(g,v,C){a.call(this),this._snapTolerance=g||null,this._snapPts=v||null,this._isSelfSnap=void 0!==C&&C}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.snapLine=function(g,v){var C=new Pl(g,this._snapTolerance);return C.setAllowSnappingToSourceVertices(this._isSelfSnap),C.snapTo(v)},h.prototype.transformCoordinates=function(g,v){var C=g.toCoordinateArray(),V=this.snapLine(C,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(V)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Da),Zo=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Zo.prototype.getCommon=function(){return se.longBitsToDouble(this._commonBits)},Zo.prototype.add=function(a){var h=se.doubleToLongBits(a);return this._isFirst?(this._commonBits=h,this._commonSignExp=Zo.signExpBits(this._commonBits),this._isFirst=!1,null):Zo.signExpBits(h)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Zo.numCommonMostSigMantissaBits(this._commonBits,h),void(this._commonBits=Zo.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Zo.prototype.toString=function(){if(1===arguments.length){var a=arguments[0],h=se.longBitsToDouble(a),g="0000000000000000000000000000000000000000000000000000000000000000"+se.toBinaryString(a),v=g.substring(g.length-64);return v.substring(0,1)+"  "+v.substring(1,12)+"(exp) "+v.substring(12)+" [ "+h+" ]"}},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo},Zo.getBit=function(a,h){return 0!=(a&1<<h)?1:0},Zo.signExpBits=function(a){return a>>52},Zo.zeroLowerBits=function(a,h){return a&~((1<<h)-1)},Zo.numCommonMostSigMantissaBits=function(a,h){for(var g=0,v=52;v>=0;v--){if(Zo.getBit(a,v)!==Zo.getBit(h,v))return g;g++}return 52};var Fi=function(){this._commonCoord=null,this._ccFilter=new Ea},ch={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Fi.prototype.addCommonBits=function(a){var h=new Xl(this._commonCoord);a.apply(h),a.geometryChanged()},Fi.prototype.removeCommonBits=function(a){if(0===this._commonCoord.x&&0===this._commonCoord.y)return a;var h=new ae(this._commonCoord);h.x=-h.x,h.y=-h.y;var g=new Xl(h);return a.apply(g),a.geometryChanged(),a},Fi.prototype.getCommonCoordinate=function(){return this._commonCoord},Fi.prototype.add=function(a){a.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi},ch.CommonCoordinateFilter.get=function(){return Ea},ch.Translater.get=function(){return Xl},Object.defineProperties(Fi,ch);var Ea=function(){this._commonBitsX=new Zo,this._commonBitsY=new Zo};Ea.prototype.filter=function(a){this._commonBitsX.add(a.x),this._commonBitsY.add(a.y)},Ea.prototype.getCommonCoordinate=function(){return new ae(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ea.prototype.interfaces_=function(){return[$r]},Ea.prototype.getClass=function(){return Ea};var Xl=function(){this.trans=null,this.trans=arguments[0]};Xl.prototype.filter=function(a,h){var g=a.getOrdinate(h,0)+this.trans.x,v=a.getOrdinate(h,1)+this.trans.y;a.setOrdinate(h,0,g),a.setOrdinate(h,1,v)},Xl.prototype.isDone=function(){return!1},Xl.prototype.isGeometryChanged=function(){return!0},Xl.prototype.interfaces_=function(){return[Un]},Xl.prototype.getClass=function(){return Xl};var js=function(a,h){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=a,this._geom[1]=h,this.computeSnapTolerance()};js.prototype.selfSnap=function(a){return new Ps(a).snapTo(a,this._snapTolerance)},js.prototype.removeCommonBits=function(a){this._cbr=new Fi,this._cbr.add(a[0]),this._cbr.add(a[1]);var h=new Array(2).fill(null);return h[0]=this._cbr.removeCommonBits(a[0].copy()),h[1]=this._cbr.removeCommonBits(a[1].copy()),h},js.prototype.prepareResult=function(a){return this._cbr.addCommonBits(a),a},js.prototype.getResultGeometry=function(a){var h=this.snap(this._geom),g=Ar.overlayOp(h[0],h[1],a);return this.prepareResult(g)},js.prototype.checkValid=function(a){a.isValid()||Sn.out.println("Snapped geometry is invalid")},js.prototype.computeSnapTolerance=function(){this._snapTolerance=Ps.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},js.prototype.snap=function(a){var h=this.removeCommonBits(a);return Ps.snap(h[0],h[1],this._snapTolerance)},js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js},js.overlayOp=function(a,h,g){return new js(a,h).getResultGeometry(g)},js.union=function(a,h){return js.overlayOp(a,h,Ar.UNION)},js.intersection=function(a,h){return js.overlayOp(a,h,Ar.INTERSECTION)},js.symDifference=function(a,h){return js.overlayOp(a,h,Ar.SYMDIFFERENCE)},js.difference=function(a,h){return js.overlayOp(a,h,Ar.DIFFERENCE)};var Qs=function(a,h){this._geom=new Array(2).fill(null),this._geom[0]=a,this._geom[1]=h};Qs.prototype.getResultGeometry=function(a){var h=null,g=!1,v=null;try{h=Ar.overlayOp(this._geom[0],this._geom[1],a),g=!0}catch(C){if(!(C instanceof Oe))throw C;v=C}if(!g)try{h=js.overlayOp(this._geom[0],this._geom[1],a)}catch(C){throw C instanceof Oe?v:C}return h},Qs.prototype.interfaces_=function(){return[]},Qs.prototype.getClass=function(){return Qs},Qs.overlayOp=function(a,h,g){return new Qs(a,h).getResultGeometry(g)},Qs.union=function(a,h){return Qs.overlayOp(a,h,Ar.UNION)},Qs.intersection=function(a,h){return Qs.overlayOp(a,h,Ar.INTERSECTION)},Qs.symDifference=function(a,h){return Qs.overlayOp(a,h,Ar.SYMDIFFERENCE)},Qs.difference=function(a,h){return Qs.overlayOp(a,h,Ar.DIFFERENCE)};var Uc=function(){this.mce=null,this.chainIndex=null;var h=arguments[1];this.mce=arguments[0],this.chainIndex=h};Uc.prototype.computeIntersections=function(a,h){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,h)},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc};var mi=function a(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var h=arguments[0],g=arguments[1];this._eventType=a.DELETE,this._xValue=h,this._insertEvent=g}else if(3===arguments.length){var v=arguments[0],C=arguments[1],V=arguments[2];this._eventType=a.INSERT,this._label=v,this._xValue=C,this._obj=V}},Tu={INSERT:{configurable:!0},DELETE:{configurable:!0}};mi.prototype.isDelete=function(){return this._eventType===mi.DELETE},mi.prototype.setDeleteEventIndex=function(a){this._deleteEventIndex=a},mi.prototype.getObject=function(){return this._obj},mi.prototype.compareTo=function(a){return this._xValue<a._xValue?-1:this._xValue>a._xValue?1:this._eventType<a._eventType?-1:this._eventType>a._eventType?1:0},mi.prototype.getInsertEvent=function(){return this._insertEvent},mi.prototype.isInsert=function(){return this._eventType===mi.INSERT},mi.prototype.isSameLabel=function(a){return null!==this._label&&this._label===a._label},mi.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},mi.prototype.interfaces_=function(){return[re]},mi.prototype.getClass=function(){return mi},Tu.INSERT.get=function(){return 1},Tu.DELETE.get=function(){return 2},Object.defineProperties(mi,Tu);var Su=function(){};Su.prototype.interfaces_=function(){return[]},Su.prototype.getClass=function(){return Su};var ri=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var h=arguments[1],g=arguments[2];this._li=arguments[0],this._includeProper=h,this._recordIsolated=g};ri.prototype.isTrivialIntersection=function(a,h,g,v){if(a===g&&1===this._li.getIntersectionNum()){if(ri.isAdjacentSegments(h,v))return!0;if(a.isClosed()){var C=a.getNumPoints()-1;if(0===h&&v===C||0===v&&h===C)return!0}}return!1},ri.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ri.prototype.setIsDoneIfProperInt=function(a){this._isDoneWhenProperInt=a},ri.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ri.prototype.isBoundaryPointInternal=function(a,h){for(var g=h.iterator();g.hasNext();){var v=g.next().getCoordinate();if(a.isIntersection(v))return!0}return!1},ri.prototype.hasProperIntersection=function(){return this._hasProper},ri.prototype.hasIntersection=function(){return this._hasIntersection},ri.prototype.isDone=function(){return this._isDone},ri.prototype.isBoundaryPoint=function(a,h){return!(null===h||!this.isBoundaryPointInternal(a,h[0])&&!this.isBoundaryPointInternal(a,h[1]))},ri.prototype.setBoundaryNodes=function(a,h){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=a,this._bdyNodes[1]=h},ri.prototype.addIntersections=function(a,h,g,v){if(a===g&&h===v)return null;this.numTests++;var C=a.getCoordinates()[h],V=a.getCoordinates()[h+1],X=g.getCoordinates()[v],ye=g.getCoordinates()[v+1];this._li.computeIntersection(C,V,X,ye),this._li.hasIntersection()&&(this._recordIsolated&&(a.setIsolated(!1),g.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(a,h,g,v)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(a.addIntersections(this._li,h,0),g.addIntersections(this._li,v,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ri.isAdjacentSegments=function(a,h){return 1===Math.abs(a-h)};var pc=function(a){function h(){a.call(this),this.events=new mn,this.nOverlaps=null}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.prepareEvents=function(){io.sort(this.events);for(var g=0;g<this.events.size();g++){var v=this.events.get(g);v.isDelete()&&v.getInsertEvent().setDeleteEventIndex(g)}},h.prototype.computeIntersections=function(){if(1===arguments.length){var g=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var v=0;v<this.events.size();v++){var C=this.events.get(v);if(C.isInsert()&&this.processOverlaps(v,C.getDeleteEventIndex(),C,g),g.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ri&&Pt(arguments[0],Ys)&&Pt(arguments[1],Ys)){var V=arguments[0],X=arguments[1],ye=arguments[2];this.addEdges(V,V),this.addEdges(X,X),this.computeIntersections(ye)}else if("boolean"==typeof arguments[2]&&Pt(arguments[0],Ys)&&arguments[1]instanceof ri){var Ue=arguments[0],vt=arguments[1];arguments[2]?this.addEdges(Ue,null):this.addEdges(Ue),this.computeIntersections(vt)}},h.prototype.addEdge=function(g,v){for(var C=g.getMonotoneChainEdge(),V=C.getStartIndexes(),X=0;X<V.length-1;X++){var ye=new Uc(C,X),Ue=new mi(v,C.getMinX(X),ye);this.events.add(Ue),this.events.add(new mi(C.getMaxX(X),Ue))}},h.prototype.processOverlaps=function(g,v,C,V){for(var X=C.getObject(),ye=g;ye<v;ye++){var Ue=this.events.get(ye);if(Ue.isInsert()){var vt=Ue.getObject();C.isSameLabel(Ue)||(X.computeIntersections(vt,V),this.nOverlaps++)}}},h.prototype.addEdges=function(){if(1===arguments.length)for(var g=arguments[0].iterator();g.hasNext();){var v=g.next();this.addEdge(v,v)}else if(2===arguments.length)for(var V=arguments[1],X=arguments[0].iterator();X.hasNext();){var ye=X.next();this.addEdge(ye,V)}},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(Su),_o=function(){this._min=se.POSITIVE_INFINITY,this._max=se.NEGATIVE_INFINITY},zu={NodeComparator:{configurable:!0}};_o.prototype.getMin=function(){return this._min},_o.prototype.intersects=function(a,h){return!(this._min>h||this._max<a)},_o.prototype.getMax=function(){return this._max},_o.prototype.toString=function(){return Lt.toLineString(new ae(this._min,0),new ae(this._max,0))},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},zu.NodeComparator.get=function(){return Ca},Object.defineProperties(_o,zu);var Ca=function(){};Ca.prototype.compare=function(a,h){var C=(a._min+a._max)/2,V=(h._min+h._max)/2;return C<V?-1:C>V?1:0},Ca.prototype.interfaces_=function(){return[we]},Ca.prototype.getClass=function(){return Ca};var Hc=function(a){function h(){a.call(this),this._item=null;var v=arguments[1],C=arguments[2];this._min=arguments[0],this._max=v,this._item=C}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.query=function(g,v,C){if(!this.intersects(g,v))return null;C.visitItem(this._item)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(_o),Gn=function(a){function h(){a.call(this),this._node1=null,this._node2=null;var v=arguments[1];this._node1=arguments[0],this._node2=v,this.buildExtent(this._node1,this._node2)}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.buildExtent=function(g,v){this._min=Math.min(g._min,v._min),this._max=Math.max(g._max,v._max)},h.prototype.query=function(g,v,C){if(!this.intersects(g,v))return null;null!==this._node1&&this._node1.query(g,v,C),null!==this._node2&&this._node2.query(g,v,C)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(_o),ja=function(){this._leaves=new mn,this._root=null,this._level=0};ja.prototype.buildTree=function(){io.sort(this._leaves,new _o.NodeComparator);for(var a=this._leaves,h=null,g=new mn;;){if(this.buildLevel(a,g),1===g.size())return g.get(0);h=a,a=g,g=h}},ja.prototype.insert=function(a,h,g){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Hc(a,h,g))},ja.prototype.query=function(a,h,g){this.init(),this._root.query(a,h,g)},ja.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},ja.prototype.printNode=function(a){Sn.out.println(Lt.toLineString(new ae(a._min,this._level),new ae(a._max,this._level)))},ja.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},ja.prototype.buildLevel=function(a,h){this._level++,h.clear();for(var g=0;g<a.size();g+=2){var v=a.get(g);if(null===(g+1<a.size()?a.get(g):null))h.add(v);else{var C=new Gn(a.get(g),a.get(g+1));h.add(C)}}},ja.prototype.interfaces_=function(){return[]},ja.prototype.getClass=function(){return ja};var ra=function(){this._items=new mn};ra.prototype.visitItem=function(a){this._items.add(a)},ra.prototype.getItems=function(){return this._items},ra.prototype.interfaces_=function(){return[au]},ra.prototype.getClass=function(){return ra};var fu=function(){this._index=null;var a=arguments[0];if(!Pt(a,rn))throw new xe("Argument must be Polygonal");this._index=new Za(a)},Bu={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};fu.prototype.locate=function(a){var h=new Kt(a),g=new mc(h);return this._index.query(a.y,a.y,g),h.getLocation()},fu.prototype.interfaces_=function(){return[kl]},fu.prototype.getClass=function(){return fu},Bu.SegmentVisitor.get=function(){return mc},Bu.IntervalIndexedGeometry.get=function(){return Za},Object.defineProperties(fu,Bu);var mc=function(){this._counter=null,this._counter=arguments[0]};mc.prototype.visitItem=function(a){var h=a;this._counter.countSegment(h.getCoordinate(0),h.getCoordinate(1))},mc.prototype.interfaces_=function(){return[au]},mc.prototype.getClass=function(){return mc};var Za=function(){this._index=new ja,this.init(arguments[0])};Za.prototype.init=function(a){for(var h=To.getLines(a).iterator();h.hasNext();){var g=h.next().getCoordinates();this.addLine(g)}},Za.prototype.addLine=function(a){for(var h=1;h<a.length;h++){var g=new Kn(a[h-1],a[h]),v=Math.min(g.p0.y,g.p1.y),C=Math.max(g.p0.y,g.p1.y);this._index.insert(v,C,g)}},Za.prototype.query=function(){if(2===arguments.length){var a=arguments[0],h=arguments[1],g=new ra;return this._index.query(a,h,g),g.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Za.prototype.interfaces_=function(){return[]},Za.prototype.getClass=function(){return Za};var gc=function(a){function h(){if(a.call(this),this._parentGeom=null,this._lineEdgeMap=new Jr,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new fa,2===arguments.length){var v=arguments[1],C=vi.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=v,this._boundaryNodeRule=C,null!==v&&this.add(v)}else if(3===arguments.length){var X=arguments[1],ye=arguments[2];this._argIndex=arguments[0],this._parentGeom=X,this._boundaryNodeRule=ye,null!==X&&this.add(X)}}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.insertBoundaryPoint=function(g,v){var C=this._nodes.addNode(v).getLabel(),V=1;C.getLocation(g,vn.ON)===Te.BOUNDARY&&V++;var X=h.determineBoundary(this._boundaryNodeRule,V);C.setLocation(g,X)},h.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var V=arguments[1],X=arguments[2],ye=new ri(arguments[0],!0,!1);return ye.setIsDoneIfProperInt(X),this.createEdgeSetIntersector().computeIntersections(this._edges,ye,V||!(this._parentGeom instanceof Xi||this._parentGeom instanceof rr||this._parentGeom instanceof Jo)),this.addSelfIntersectionNodes(this._argIndex),ye}},h.prototype.computeSplitEdges=function(g){for(var v=this._edges.iterator();v.hasNext();)v.next().eiList.addSplitEdges(g)},h.prototype.computeEdgeIntersections=function(g,v,C){var V=new ri(v,C,!0);return V.setBoundaryNodes(this.getBoundaryNodes(),g.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,g._edges,V),V},h.prototype.getGeometry=function(){return this._parentGeom},h.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},h.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},h.prototype.addPoint=function(){if(arguments[0]instanceof co){var g=arguments[0].getCoordinate();this.insertPoint(this._argIndex,g,Te.INTERIOR)}else arguments[0]instanceof ae&&this.insertPoint(this._argIndex,arguments[0],Te.INTERIOR)},h.prototype.addPolygon=function(g){this.addPolygonRing(g.getExteriorRing(),Te.EXTERIOR,Te.INTERIOR);for(var v=0;v<g.getNumInteriorRing();v++){var C=g.getInteriorRingN(v);this.addPolygonRing(C,Te.INTERIOR,Te.EXTERIOR)}},h.prototype.addEdge=function(g){this.insertEdge(g);var v=g.getCoordinates();this.insertPoint(this._argIndex,v[0],Te.BOUNDARY),this.insertPoint(this._argIndex,v[v.length-1],Te.BOUNDARY)},h.prototype.addLineString=function(g){var v=xr.removeRepeatedPoints(g.getCoordinates());if(v.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=v[0],null;var C=new Qr(v,new Ii(this._argIndex,Te.INTERIOR));this._lineEdgeMap.put(g,C),this.insertEdge(C),De.isTrue(v.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,v[0]),this.insertBoundaryPoint(this._argIndex,v[v.length-1])},h.prototype.getInvalidPoint=function(){return this._invalidPoint},h.prototype.getBoundaryPoints=function(){for(var g=this.getBoundaryNodes(),v=new Array(g.size()).fill(null),C=0,V=g.iterator();V.hasNext();){var X=V.next();v[C++]=X.getCoordinate().copy()}return v},h.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},h.prototype.addSelfIntersectionNode=function(g,v,C){if(this.isBoundaryNode(g,v))return null;C===Te.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(g,v):this.insertPoint(g,v,C)},h.prototype.addPolygonRing=function(g,v,C){if(g.isEmpty())return null;var V=xr.removeRepeatedPoints(g.getCoordinates());if(V.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=V[0],null;var X=v,ye=C;Ut.isCCW(V)&&(X=C,ye=v);var Ue=new Qr(V,new Ii(this._argIndex,Te.BOUNDARY,X,ye));this._lineEdgeMap.put(g,Ue),this.insertEdge(Ue),this.insertPoint(this._argIndex,V[0],Te.BOUNDARY)},h.prototype.insertPoint=function(g,v,C){var V=this._nodes.addNode(v),X=V.getLabel();null===X?V._label=new Ii(g,C):X.setLocation(g,C)},h.prototype.createEdgeSetIntersector=function(){return new pc},h.prototype.addSelfIntersectionNodes=function(g){for(var v=this._edges.iterator();v.hasNext();)for(var C=v.next(),V=C.getLabel().getLocation(g),X=C.eiList.iterator();X.hasNext();){var ye=X.next();this.addSelfIntersectionNode(g,ye.coord,V)}},h.prototype.add=function(){if(1!==arguments.length)return a.prototype.add.apply(this,arguments);var g=arguments[0];if(g.isEmpty())return null;if(g instanceof Jo&&(this._useBoundaryDeterminationRule=!1),g instanceof rr)this.addPolygon(g);else if(g instanceof pr)this.addLineString(g);else if(g instanceof co)this.addPoint(g);else if(g instanceof Fr)this.addCollection(g);else if(g instanceof Ct)this.addCollection(g);else if(g instanceof Jo)this.addCollection(g);else{if(!(g instanceof pn))throw new Error(g.getClass().getName());this.addCollection(g)}},h.prototype.addCollection=function(g){for(var v=0;v<g.getNumGeometries();v++){var C=g.getGeometryN(v);this.add(C)}},h.prototype.locate=function(g){return Pt(this._parentGeom,rn)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new fu(this._parentGeom)),this._areaPtLocator.locate(g)):this._ptLocator.locate(g,this._parentGeom)},h.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):a.prototype.findEdge.apply(this,arguments)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h.determineBoundary=function(g,v){return g.isInBoundary(v)?Te.BOUNDARY:Te.INTERIOR},h}(Ks),ju=function(){if(this._li=new zt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new gc(0,a)}else if(2===arguments.length){var h=arguments[0],g=arguments[1],v=vi.OGC_SFS_BOUNDARY_RULE;h.getPrecisionModel().compareTo(g.getPrecisionModel())>=0?this.setComputationPrecision(h.getPrecisionModel()):this.setComputationPrecision(g.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new gc(0,h,v),this._arg[1]=new gc(1,g,v)}else if(3===arguments.length){var C=arguments[0],V=arguments[1],X=arguments[2];C.getPrecisionModel().compareTo(V.getPrecisionModel())>=0?this.setComputationPrecision(C.getPrecisionModel()):this.setComputationPrecision(V.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new gc(0,C,X),this._arg[1]=new gc(1,V,X)}};ju.prototype.getArgGeometry=function(a){return this._arg[a].getGeometry()},ju.prototype.setComputationPrecision=function(a){this._resultPrecisionModel=a,this._li.setPrecisionModel(this._resultPrecisionModel)},ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju};var Pr=function(){};Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},Pr.map=function(){if(arguments[0]instanceof tn&&Pt(arguments[1],Pr.MapOp)){for(var a=arguments[0],h=arguments[1],g=new mn,v=0;v<a.getNumGeometries();v++){var C=h.map(a.getGeometryN(v));null!==C&&g.add(C)}return a.getFactory().buildGeometry(g)}if(Pt(arguments[0],wi)&&Pt(arguments[1],Pr.MapOp)){for(var V=arguments[0],X=arguments[1],ye=new mn,Ue=V.iterator();Ue.hasNext();){var vt=Ue.next(),Bt=X.map(vt);null!==Bt&&ye.add(Bt)}return ye}},Pr.MapOp=function(){};var Ar=function(a){function h(){var g=arguments[0];a.call(this,g,arguments[1]),this._ptLocator=new fa,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Ir,this._resultPolyList=new mn,this._resultLineList=new mn,this._resultPointList=new mn,this._graph=new Ks(new vl),this._geomFact=g.getFactory()}return a&&(h.__proto__=a),(h.prototype=Object.create(a&&a.prototype)).constructor=h,h.prototype.insertUniqueEdge=function(g){var v=this._edgeList.findEqualEdge(g);if(null!==v){var C=v.getLabel(),V=g.getLabel();v.isPointwiseEqual(g)||(V=new Ii(g.getLabel())).flip();var X=v.getDepth();X.isNull()&&X.add(C),X.add(V),C.merge(V)}else this._edgeList.add(g)},h.prototype.getGraph=function(){return this._graph},h.prototype.cancelDuplicateResultEdges=function(){for(var g=this._graph.getEdgeEnds().iterator();g.hasNext();){var v=g.next(),C=v.getSym();v.isInResult()&&C.isInResult()&&(v.setInResult(!1),C.setInResult(!1))}},h.prototype.isCoveredByLA=function(g){return!!this.isCovered(g,this._resultLineList)||!!this.isCovered(g,this._resultPolyList)},h.prototype.computeGeometry=function(g,v,C,V){var X=new mn;return X.addAll(g),X.addAll(v),X.addAll(C),X.isEmpty()?h.createEmptyResult(V,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(X)},h.prototype.mergeSymLabels=function(){for(var g=this._graph.getNodes().iterator();g.hasNext();)g.next().getEdges().mergeSymLabels()},h.prototype.isCovered=function(g,v){for(var C=v.iterator();C.hasNext();){var V=C.next();if(this._ptLocator.locate(g,V)!==Te.EXTERIOR)return!0}return!1},h.prototype.replaceCollapsedEdges=function(){for(var g=new mn,v=this._edgeList.iterator();v.hasNext();){var C=v.next();C.isCollapsed()&&(v.remove(),g.add(C.getCollapsedEdge()))}this._edgeList.addAll(g)},h.prototype.updateNodeLabelling=function(){for(var g=this._graph.getNodes().iterator();g.hasNext();){var v=g.next(),C=v.getEdges().getLabel();v.getLabel().merge(C)}},h.prototype.getResultGeometry=function(g){return this.computeOverlay(g),this._resultGeom},h.prototype.insertUniqueEdges=function(g){for(var v=g.iterator();v.hasNext();){var C=v.next();this.insertUniqueEdge(C)}},h.prototype.computeOverlay=function(g){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var v=new mn;this._arg[0].computeSplitEdges(v),this._arg[1].computeSplitEdges(v),this.insertUniqueEdges(v),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),$l.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(g),this.cancelDuplicateResultEdges();var C=new va(this._geomFact);C.add(this._graph),this._resultPolyList=C.getPolygons();var V=new Ba(this,this._geomFact,this._ptLocator);this._resultLineList=V.build(g);var X=new Zl(this,this._geomFact,this._ptLocator);this._resultPointList=X.build(g),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,g)},h.prototype.labelIncompleteNode=function(g,v){var C=this._ptLocator.locate(g.getCoordinate(),this._arg[v].getGeometry());g.getLabel().setLocation(v,C)},h.prototype.copyPoints=function(g){for(var v=this._arg[g].getNodeIterator();v.hasNext();){var C=v.next();this._graph.addNode(C.getCoordinate()).setLabel(g,C.getLabel().getLocation(g))}},h.prototype.findResultAreaEdges=function(g){for(var v=this._graph.getEdgeEnds().iterator();v.hasNext();){var C=v.next(),V=C.getLabel();V.isArea()&&!C.isInteriorAreaEdge()&&h.isResultOfOp(V.getLocation(0,vn.RIGHT),V.getLocation(1,vn.RIGHT),g)&&C.setInResult(!0)}},h.prototype.computeLabelsFromDepths=function(){for(var g=this._edgeList.iterator();g.hasNext();){var v=g.next(),C=v.getLabel(),V=v.getDepth();if(!V.isNull()){V.normalize();for(var X=0;X<2;X++)C.isNull(X)||!C.isArea()||V.isNull(X)||(0===V.getDelta(X)?C.toLine(X):(De.isTrue(!V.isNull(X,vn.LEFT),"depth of LEFT side has not been initialized"),C.setLocation(X,vn.LEFT,V.getLocation(X,vn.LEFT)),De.isTrue(!V.isNull(X,vn.RIGHT),"depth of RIGHT side has not been initialized"),C.setLocation(X,vn.RIGHT,V.getLocation(X,vn.RIGHT))))}}},h.prototype.computeLabelling=function(){for(var g=this._graph.getNodes().iterator();g.hasNext();)g.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},h.prototype.labelIncompleteNodes=function(){for(var g=this._graph.getNodes().iterator();g.hasNext();){var v=g.next(),C=v.getLabel();v.isIsolated()&&(C.isNull(0)?this.labelIncompleteNode(v,0):this.labelIncompleteNode(v,1)),v.getEdges().updateLabelling(C)}},h.prototype.isCoveredByA=function(g){return!!this.isCovered(g,this._resultPolyList)},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h}(ju);Ar.overlayOp=function(a,h,g){return new Ar(a,h).getResultGeometry(g)},Ar.intersection=function(a,h){if(a.isEmpty()||h.isEmpty())return Ar.createEmptyResult(Ar.INTERSECTION,a,h,a.getFactory());if(a.isGeometryCollection()){var g=h;return qi.map(a,{interfaces_:function(){return[Pr.MapOp]},map:function(v){return v.intersection(g)}})}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(h),Qs.overlayOp(a,h,Ar.INTERSECTION)},Ar.symDifference=function(a,h){if(a.isEmpty()||h.isEmpty()){if(a.isEmpty()&&h.isEmpty())return Ar.createEmptyResult(Ar.SYMDIFFERENCE,a,h,a.getFactory());if(a.isEmpty())return h.copy();if(h.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(h),Qs.overlayOp(a,h,Ar.SYMDIFFERENCE)},Ar.resultDimension=function(a,h,g){var v=h.getDimension(),C=g.getDimension(),V=-1;switch(a){case Ar.INTERSECTION:V=Math.min(v,C);break;case Ar.UNION:V=Math.max(v,C);break;case Ar.DIFFERENCE:V=v;break;case Ar.SYMDIFFERENCE:V=Math.max(v,C)}return V},Ar.createEmptyResult=function(a,h,g,v){var C=null;switch(Ar.resultDimension(a,h,g)){case-1:C=v.createGeometryCollection(new Array(0).fill(null));break;case 0:C=v.createPoint();break;case 1:C=v.createLineString();break;case 2:C=v.createPolygon()}return C},Ar.difference=function(a,h){return a.isEmpty()?Ar.createEmptyResult(Ar.DIFFERENCE,a,h,a.getFactory()):h.isEmpty()?a.copy():(a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(h),Qs.overlayOp(a,h,Ar.DIFFERENCE))},Ar.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],h=arguments[1],g=a.getLocation(0),v=a.getLocation(1);return Ar.isResultOfOp(g,v,h)}if(3===arguments.length){var C=arguments[0],V=arguments[1];switch(C===Te.BOUNDARY&&(C=Te.INTERIOR),V===Te.BOUNDARY&&(V=Te.INTERIOR),arguments[2]){case Ar.INTERSECTION:return C===Te.INTERIOR&&V===Te.INTERIOR;case Ar.UNION:return C===Te.INTERIOR||V===Te.INTERIOR;case Ar.DIFFERENCE:return C===Te.INTERIOR&&V!==Te.INTERIOR;case Ar.SYMDIFFERENCE:return C===Te.INTERIOR&&V!==Te.INTERIOR||C!==Te.INTERIOR&&V===Te.INTERIOR}return!1}},Ar.INTERSECTION=1,Ar.UNION=2,Ar.DIFFERENCE=3,Ar.SYMDIFFERENCE=4;var Lu=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new fa,this._seg=new Kn;var a=arguments[0],h=arguments[1];this._g=a,this._boundaryDistanceTolerance=h,this._linework=this.extractLinework(a)};Lu.prototype.isWithinToleranceOfBoundary=function(a){for(var h=0;h<this._linework.getNumGeometries();h++)for(var g=this._linework.getGeometryN(h).getCoordinateSequence(),v=0;v<g.size()-1;v++)if(g.getCoordinate(v,this._seg.p0),g.getCoordinate(v+1,this._seg.p1),this._seg.distance(a)<=this._boundaryDistanceTolerance)return!0;return!1},Lu.prototype.getLocation=function(a){return this.isWithinToleranceOfBoundary(a)?Te.BOUNDARY:this._ptLocator.locate(a,this._g)},Lu.prototype.extractLinework=function(a){var h=new Vu;a.apply(h);var g=h.getLinework(),v=jr.toLineStringArray(g);return a.getFactory().createMultiLineString(v)},Lu.prototype.interfaces_=function(){return[]},Lu.prototype.getClass=function(){return Lu};var Vu=function(){this._linework=null,this._linework=new mn};Vu.prototype.getLinework=function(){return this._linework},Vu.prototype.filter=function(a){if(a instanceof rr){var h=a;this._linework.add(h.getExteriorRing());for(var g=0;g<h.getNumInteriorRing();g++)this._linework.add(h.getInteriorRingN(g))}},Vu.prototype.interfaces_=function(){return[nn]},Vu.prototype.getClass=function(){return Vu};var Al=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};Al.prototype.extractPoints=function(a,h,g){for(var v=a.getCoordinates(),C=0;C<v.length-1;C++)this.computeOffsetPoints(v[C],v[C+1],h,g)},Al.prototype.setSidesToGenerate=function(a,h){this._doLeft=a,this._doRight=h},Al.prototype.getPoints=function(a){for(var h=new mn,g=To.getLines(this._g).iterator();g.hasNext();){var v=g.next();this.extractPoints(v,a,h)}return h},Al.prototype.computeOffsetPoints=function(a,h,g,v){var C=h.x-a.x,V=h.y-a.y,X=Math.sqrt(C*C+V*V),ye=g*C/X,Ue=g*V/X,vt=(h.x+a.x)/2,Bt=(h.y+a.y)/2;if(this._doLeft){var Gt=new ae(vt-Ue,Bt+ye);v.add(Gt)}if(this._doRight){var Ln=new ae(vt+Ue,Bt-ye);v.add(Ln)}},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al};var ma=function a(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=a.TOLERANCE,this._testCoords=new mn;var h=arguments[0],g=arguments[1],v=arguments[2];this._boundaryDistanceTolerance=a.computeBoundaryDistanceTolerance(h,g),this._geom=[h,g,v],this._locFinder=[new Lu(this._geom[0],this._boundaryDistanceTolerance),new Lu(this._geom[1],this._boundaryDistanceTolerance),new Lu(this._geom[2],this._boundaryDistanceTolerance)]},hh={TOLERANCE:{configurable:!0}};ma.prototype.reportResult=function(a,h,g){Sn.out.println("Overlay result invalid - A:"+Te.toLocationSymbol(h[0])+" B:"+Te.toLocationSymbol(h[1])+" expected:"+(g?"i":"e")+" actual:"+Te.toLocationSymbol(h[2]))},ma.prototype.isValid=function(a){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(a)},ma.prototype.checkValid=function(){if(1===arguments.length){for(var a=arguments[0],h=0;h<this._testCoords.size();h++){var g=this._testCoords.get(h);if(!this.checkValid(a,g))return this._invalidLocation=g,!1}return!0}if(2===arguments.length){var v=arguments[0],C=arguments[1];return this._location[0]=this._locFinder[0].getLocation(C),this._location[1]=this._locFinder[1].getLocation(C),this._location[2]=this._locFinder[2].getLocation(C),!!ma.hasLocation(this._location,Te.BOUNDARY)||this.isValidResult(v,this._location)}},ma.prototype.addTestPts=function(a){var h=new Al(a);this._testCoords.addAll(h.getPoints(5*this._boundaryDistanceTolerance))},ma.prototype.isValidResult=function(a,h){var g=Ar.isResultOfOp(h[0],h[1],a),v=!(g^h[2]===Te.INTERIOR);return v||this.reportResult(a,h,g),v},ma.prototype.getInvalidLocation=function(){return this._invalidLocation},ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma},ma.hasLocation=function(a,h){for(var g=0;g<3;g++)if(a[g]===h)return!0;return!1},ma.computeBoundaryDistanceTolerance=function(a,h){return Math.min(Ps.computeSizeBasedSnapTolerance(a),Ps.computeSizeBasedSnapTolerance(h))},ma.isValid=function(a,h,g,v){return new ma(a,h,v).isValid(g)},hh.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(ma,hh);var Xa=function a(h){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=a.extractFactory(h),this._inputGeoms=h};Xa.prototype.extractElements=function(a,h){if(null===a)return null;for(var g=0;g<a.getNumGeometries();g++){var v=a.getGeometryN(g);this._skipEmpty&&v.isEmpty()||h.add(v)}},Xa.prototype.combine=function(){for(var a=new mn,h=this._inputGeoms.iterator();h.hasNext();){var g=h.next();this.extractElements(g,a)}return 0===a.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(a)},Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},Xa.combine=function(){return 1===arguments.length?new Xa(arguments[0]).combine():2===arguments.length?new Xa(Xa.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Xa(Xa.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Xa.extractFactory=function(a){return a.isEmpty()?null:a.iterator().next().getFactory()},Xa.createList=function(){if(2===arguments.length){var a=arguments[0],h=arguments[1],g=new mn;return g.add(a),g.add(h),g}if(3===arguments.length){var v=arguments[0],C=arguments[1],V=arguments[2],X=new mn;return X.add(v),X.add(C),X.add(V),X}};var un=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new mn)},ki={STRTREE_NODE_CAPACITY:{configurable:!0}};un.prototype.reduceToGeometries=function(a){for(var h=new mn,g=a.iterator();g.hasNext();){var v=g.next(),C=null;Pt(v,Ys)?C=this.unionTree(v):v instanceof tn&&(C=v),h.add(C)}return h},un.prototype.extractByEnvelope=function(a,h,g){for(var v=new mn,C=0;C<h.getNumGeometries();C++){var V=h.getGeometryN(C);V.getEnvelopeInternal().intersects(a)?v.add(V):g.add(V)}return this._geomFactory.buildGeometry(v)},un.prototype.unionOptimized=function(a,h){var g=a.getEnvelopeInternal(),v=h.getEnvelopeInternal();if(!g.intersects(v))return Xa.combine(a,h);if(a.getNumGeometries()<=1&&h.getNumGeometries()<=1)return this.unionActual(a,h);var C=g.intersection(v);return this.unionUsingEnvelopeIntersection(a,h,C)},un.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var a=new Lc(un.STRTREE_NODE_CAPACITY),h=this._inputPolys.iterator();h.hasNext();){var g=h.next();a.insert(g.getEnvelopeInternal(),g)}this._inputPolys=null;var v=a.itemsTree();return this.unionTree(v)},un.prototype.binaryUnion=function(){if(1===arguments.length){var a=arguments[0];return this.binaryUnion(a,0,a.size())}if(3===arguments.length){var h=arguments[0],g=arguments[1],v=arguments[2];if(v-g<=1){var C=un.getGeometry(h,g);return this.unionSafe(C,null)}if(v-g==2)return this.unionSafe(un.getGeometry(h,g),un.getGeometry(h,g+1));var V=Math.trunc((v+g)/2),X=this.binaryUnion(h,g,V),ye=this.binaryUnion(h,V,v);return this.unionSafe(X,ye)}},un.prototype.repeatedUnion=function(a){for(var h=null,g=a.iterator();g.hasNext();){var v=g.next();h=null===h?v.copy():h.union(v)}return h},un.prototype.unionSafe=function(a,h){return null===a&&null===h?null:null===a?h.copy():null===h?a.copy():this.unionOptimized(a,h)},un.prototype.unionActual=function(a,h){return un.restrictToPolygons(a.union(h))},un.prototype.unionTree=function(a){var h=this.reduceToGeometries(a);return this.binaryUnion(h)},un.prototype.unionUsingEnvelopeIntersection=function(a,h,g){var v=new mn,C=this.extractByEnvelope(g,a,v),V=this.extractByEnvelope(g,h,v),X=this.unionActual(C,V);return v.add(X),Xa.combine(v)},un.prototype.bufferUnion=function(){if(1===arguments.length){var a=arguments[0];return a.get(0).getFactory().buildGeometry(a).buffer(0)}if(2===arguments.length){var h=arguments[0],g=arguments[1];return h.getFactory().createGeometryCollection([h,g]).buffer(0)}},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.restrictToPolygons=function(a){if(Pt(a,rn))return a;var h=Wl.getPolygons(a);return 1===h.size()?h.get(0):a.getFactory().createMultiPolygon(jr.toPolygonArray(h))},un.getGeometry=function(a,h){return h>=a.size()?null:a.get(h)},un.union=function(a){return new un(a).union()},ki.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(un,ki);var gi=function(){};gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi},gi.union=function(a,h){if(a.isEmpty()||h.isEmpty()){if(a.isEmpty()&&h.isEmpty())return Ar.createEmptyResult(Ar.UNION,a,h,a.getFactory());if(a.isEmpty())return h.copy();if(h.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(h),Qs.overlayOp(a,h,Ar.UNION)},$.GeoJSONReader=Ga,$.GeoJSONWriter=qa,$.OverlayOp=Ar,$.UnionOp=gi,$.BufferOp=Ni,Object.defineProperty($,"__esModule",{value:!0})}(Ce)},4703:Ve=>{Ve.exports=function $(){for(var B={},I=0;I<arguments.length;I++){var F=arguments[I];for(var d in F)Ce.call(F,d)&&(B[d]=F[d])}return B};var Ce=Object.prototype.hasOwnProperty},6700:(Ve,Ce,$)=>{var B={"./af":7088,"./af.js":7088,"./ar":7038,"./ar-dz":2502,"./ar-dz.js":2502,"./ar-kw":128,"./ar-kw.js":128,"./ar-ly":4519,"./ar-ly.js":4519,"./ar-ma":5443,"./ar-ma.js":5443,"./ar-sa":7642,"./ar-sa.js":7642,"./ar-tn":8592,"./ar-tn.js":8592,"./ar.js":7038,"./az":1213,"./az.js":1213,"./be":9191,"./be.js":9191,"./bg":322,"./bg.js":322,"./bm":8042,"./bm.js":8042,"./bn":9620,"./bn-bd":5903,"./bn-bd.js":5903,"./bn.js":9620,"./bo":9645,"./bo.js":9645,"./br":5020,"./br.js":5020,"./bs":4792,"./bs.js":4792,"./ca":7980,"./ca.js":7980,"./cs":7322,"./cs.js":7322,"./cv":365,"./cv.js":365,"./cy":2092,"./cy.js":2092,"./da":7387,"./da.js":7387,"./de":4307,"./de-at":9459,"./de-at.js":9459,"./de-ch":3694,"./de-ch.js":3694,"./de.js":4307,"./dv":9659,"./dv.js":9659,"./el":3460,"./el.js":3460,"./en-au":4369,"./en-au.js":4369,"./en-ca":530,"./en-ca.js":530,"./en-gb":9998,"./en-gb.js":9998,"./en-ie":3391,"./en-ie.js":3391,"./en-il":5414,"./en-il.js":5414,"./en-in":9615,"./en-in.js":9615,"./en-nz":1248,"./en-nz.js":1248,"./en-sg":3767,"./en-sg.js":3767,"./eo":4530,"./eo.js":4530,"./es":6866,"./es-do":8944,"./es-do.js":8944,"./es-mx":9116,"./es-mx.js":9116,"./es-us":3609,"./es-us.js":3609,"./es.js":6866,"./et":6725,"./et.js":6725,"./eu":7931,"./eu.js":7931,"./fa":6417,"./fa.js":6417,"./fi":944,"./fi.js":944,"./fil":323,"./fil.js":323,"./fo":5867,"./fo.js":5867,"./fr":1636,"./fr-ca":6848,"./fr-ca.js":6848,"./fr-ch":7773,"./fr-ch.js":7773,"./fr.js":1636,"./fy":4940,"./fy.js":4940,"./ga":1402,"./ga.js":1402,"./gd":6924,"./gd.js":6924,"./gl":6398,"./gl.js":6398,"./gom-deva":2457,"./gom-deva.js":2457,"./gom-latn":2545,"./gom-latn.js":2545,"./gu":2641,"./gu.js":2641,"./he":7536,"./he.js":7536,"./hi":6335,"./hi.js":6335,"./hr":7458,"./hr.js":7458,"./hu":6540,"./hu.js":6540,"./hy-am":5283,"./hy-am.js":5283,"./id":8780,"./id.js":8780,"./is":4205,"./is.js":4205,"./it":4211,"./it-ch":9985,"./it-ch.js":9985,"./it.js":4211,"./ja":1003,"./ja.js":1003,"./jv":420,"./jv.js":420,"./ka":851,"./ka.js":851,"./kk":6074,"./kk.js":6074,"./km":3343,"./km.js":3343,"./kn":4799,"./kn.js":4799,"./ko":3549,"./ko.js":3549,"./ku":1037,"./ku.js":1037,"./ky":3125,"./ky.js":3125,"./lb":9586,"./lb.js":9586,"./lo":2349,"./lo.js":2349,"./lt":2400,"./lt.js":2400,"./lv":9991,"./lv.js":9991,"./me":8477,"./me.js":8477,"./mi":5118,"./mi.js":5118,"./mk":5261,"./mk.js":5261,"./ml":3849,"./ml.js":3849,"./mn":1977,"./mn.js":1977,"./mr":6184,"./mr.js":6184,"./ms":485,"./ms-my":4524,"./ms-my.js":4524,"./ms.js":485,"./mt":6681,"./mt.js":6681,"./my":2024,"./my.js":2024,"./nb":2688,"./nb.js":2688,"./ne":8914,"./ne.js":8914,"./nl":1758,"./nl-be":2272,"./nl-be.js":2272,"./nl.js":1758,"./nn":1510,"./nn.js":1510,"./oc-lnc":2797,"./oc-lnc.js":2797,"./pa-in":7944,"./pa-in.js":7944,"./pl":1605,"./pl.js":1605,"./pt":4225,"./pt-br":3840,"./pt-br.js":3840,"./pt.js":4225,"./ro":5128,"./ro.js":5128,"./ru":5127,"./ru.js":5127,"./sd":2525,"./sd.js":2525,"./se":9893,"./se.js":9893,"./si":3123,"./si.js":3123,"./sk":9635,"./sk.js":9635,"./sl":8106,"./sl.js":8106,"./sq":8799,"./sq.js":8799,"./sr":7949,"./sr-cyrl":2872,"./sr-cyrl.js":2872,"./sr.js":7949,"./ss":6167,"./ss.js":6167,"./sv":9713,"./sv.js":9713,"./sw":1982,"./sw.js":1982,"./ta":2732,"./ta.js":2732,"./te":3636,"./te.js":3636,"./tet":2115,"./tet.js":2115,"./tg":1597,"./tg.js":1597,"./th":2868,"./th.js":2868,"./tk":1310,"./tk.js":1310,"./tl-ph":2360,"./tl-ph.js":2360,"./tlh":6645,"./tlh.js":6645,"./tr":8374,"./tr.js":8374,"./tzl":256,"./tzl.js":256,"./tzm":1595,"./tzm-latn":1631,"./tzm-latn.js":1631,"./tzm.js":1595,"./ug-cn":6050,"./ug-cn.js":6050,"./uk":5610,"./uk.js":5610,"./ur":6077,"./ur.js":6077,"./uz":2862,"./uz-latn":2207,"./uz-latn.js":2207,"./uz.js":2862,"./vi":8093,"./vi.js":8093,"./x-pseudo":5590,"./x-pseudo.js":5590,"./yo":9058,"./yo.js":9058,"./zh-cn":7908,"./zh-cn.js":7908,"./zh-hk":8867,"./zh-hk.js":8867,"./zh-mo":1133,"./zh-mo.js":1133,"./zh-tw":3291,"./zh-tw.js":3291};function I(d){var O=F(d);return $(O)}function F(d){if(!$.o(B,d)){var O=new Error("Cannot find module '"+d+"'");throw O.code="MODULE_NOT_FOUND",O}return B[d]}I.keys=function(){return Object.keys(B)},I.resolve=F,Ve.exports=I,I.id=6700},5861:(Ve,Ce,$)=>{"use strict";function B(F,d,O,H,q,W,ie){try{var Le=F[W](ie),rt=Le.value}catch(qe){return void O(qe)}Le.done?d(rt):Promise.resolve(rt).then(H,q)}function I(F){return function(){var d=this,O=arguments;return new Promise(function(H,q){var W=F.apply(d,O);function ie(rt){B(W,H,q,ie,Le,"next",rt)}function Le(rt){B(W,H,q,ie,Le,"throw",rt)}ie(void 0)})}}$.d(Ce,{Z:()=>I})}},Ve=>{Ve(Ve.s=9184)}]);